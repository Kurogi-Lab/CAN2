// can2 batch for speech processing
//
// Do "make" first 
//
########
"20210522
########
#speedtest
T0=`date +%s`;time ensrs ../tmp/speech_train_xy.dat 2:50:1.6:1 70-70 k:46 ib:0:0:0:0 y:-1:1:-1:1 x:0:0:0:1 DISP:0 nop:1 bg:/dev/null;;T1=`date +%s`;DT=$((T1 - T0));H=$((DT / 3600 ));DT=$((DT % 3600 ));M=$((DT / 60 ));S=$((DT % 60));echo "#Elapsed ${H}:${M}:${S}"

########
#20210427-20210517
########
(00) この日以前のプログラムにエラーがあり、それまでの結果は違う可能性がある。
特に、oob4speakerdigit+RX_20210426.pyで

lpcspectrumenvelope.pyの係数が[1,0,...,0]（最初だけ１、残りは０）および
これに近くなると、mkM.pyでM[]=[1,0,...,0]の係数ベクトルができ、
M2s.pyでスペクトル包絡をつくるとnanが発生する。
するとtrain_xy.datにnanが含まれ、間違った（高い）認識率になっていた
（エラーで止まることはないが、おかしいことを示すメッセージがでる）。
それらを除外する修正等をしたら、LPCの特徴ベクトルとして、
[1]LPCの極分布：        ER0.060 F0.764 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds  --- ../../12voicedata_ueki_all_k20l5R1_Ku20omp3　xxxx pP1.k20l5
[2]LPCのスペクトル包絡：ER0.070 F0.735 FDsCns120ls10N60b50a1.6R1lx0sds --- ../../12voicedata_ueki_all_k20l5R1_Ku20omp3 xxx FDsC.k20l5
について[1]の方が[2]よりも良くなり、以前と違う結果となった
（下記のxxx FDsC.k20l5とxxxx pP1.k20l5ので検索；現在この行は19行で約400行下のL426行と434行あたり）
この内容は、これまででの結果と違うので、間違いがないか念入りに検証すべき。pLPCについては、
[3] pLPCの極分布         ER0.043 F0.840 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 pP1.k8 tspomp@susanoo***!!!
[4] pLPCのスペクトル包絡 ER0.072 F0.730 FDsCns120ls10N60b50a1.6R1lx0sds ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 xxx FDsC.k8l0
について[3]は非常に良い結果が得られた。２つの特徴ベクトルを結合した結果（415行目辺り）：
[5] ER0.033 F0.876 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0***N40 why small?
は、さらに良い結果であることを示している。

(0) 以下、下の「20201210-20201225」 のところを整理
##########################
#注意1：[1.0]はインストール後、一回すればよい；その後,[a],[b]を@行う；
#[a] 極分布を求め（M2PC.py→PC2xPy）、話者識別または単語識別（oob4speakerdigit+RX_20210426.py)または
#　[1.1]-[2a.1]-[2a.2]-[2a.3]
#[b] スペクトル包絡を求め（M2s.py）、話者識別または単語識別（oob4speakerdigit+RX_20210426.py） 
#     [1.1]-[2b.1]-[2b.2]
#注意２：コピペは
#copy&paste from here for ... から
#copy&paste from to here for ... までを１かたまりとして、実行するとよい
##########################
##########################
#[1] 前処理（データ正規化）以前の処理と同じ:#20191205 ← 20191118 #20180606の再試行＋修正 の(0)ー(2)
####
#[1.0] 
#at can2m+/can2c
#ln -s /media/sf_D_DRIVE/data/12voicedata ~/sotu/2012/12voicedata_ueki #shigeta only
#ln -s /media/sf_C_DRIVE/cdata/kurolab/data/12voicedata ~/sotu/2012/12voicedata_ueki #kurogi only
####
#[1.0.1] リンク作成
####
#d0=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata
d0=~/sotu/2012/12voicedata_ueki/
dl=../../12voicedata_ueki_all; mkdir -p $dl
for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
  ln -s ${d0}/${d}/* ${dl}/
done
####
#[1.0.2]パワー正規化
####
d0=~/sotu/2012/12voicedata_ueki/
dl=../../12voicedata_ueki_all; mkdir -p $dl
dn=${dl}_n; mkdir -p $dn #save normalized speech signal
log=$dn/normalize.log
#echo "ymin=$ymin" > $log
ymin=0
for s in fhs fms mkk mko mmt mnh mym; do
  for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
    for l in 1 2 3 4 5 6 7 8 9 10; do
      cmd="python speechnormalize.py -yin ${dl}/${s}-${d}${l}.dat -yout ${dn}/${s}-${d}${l}.dat -ymin $ymin"
      echo $cmd; $cmd >> $log
    done
  done
done


####################################
#[1.1] 混合音声とM（LPC係数およびpLPC係数）の作成
# mkM.pyで すべての音声に対し、混合比Rで音声を合成し　LPC係数M(l>0)またはpLPC係数M(l=0)を求める
####################################
###上の準備後、毎回の本実験はここから 
#copy&paste from here for step1
make
###platform=SY for Shigeta and Yamochi, K for Komatsu !!!!!!!!!!!!!!!!!!!!
export platform=K　#platform=K for Komatsu 
export platform=SY #platform=SY for Shigeta and Yamochi
export platform=Su14 #platform=SY for Shigeta and u14 for ubuntu14.04
export platform=Su20 #platform=SY for Shigeta and u20 for ubuntu20.04
export platform=Ku20omp # u20 for ubuntu20.04 20210420
export platform=Ku20omp1 # u20 for ubuntu20.04 20210420
export platform=Ku14 # u14 for ubuntu14.04 20210419
export platform=Ku20omp3 # u20 for ubuntu20.04 20210507 u20@laptop
export platform=Ku20omp2 # u20 for ubuntu20.04 20210507 susanoo ->u20@laptop 20210518 
######
export d0=~/sotu/2012/12voicedata_ueki/
export dl=../../12voicedata_ueki_all; mkdir -p $dl
export dn=${dl}_n; mkdir -p $dn #save normalized speech signal
export dm=${dl}_m; mkdir -p $dm           #folder for saving mixed speech
###############
#[1.1a and 1.1b] 小松君は不足ファイルを置き換えて,fnerrを空集合にする, 矢持さん，重田君は元に戻す。
###############
#####
if [ "${platform:0:1}" = "S" ];then
## [1.1a] 矢持さん、重田君は次を実行する(Yamochi,Shigeta)
## mmt-san2とfhs-hachi5が不足したまま、L=1:2:3:4:5:6:7:8:9:10 nf=$((7*10*10-2))=698個のデータで実験する
###
export L=1:2:3:4:5:6:7:8:9:10 nf=$((7*10*10-2)) fnerr=mmt-san2:fhs-hachi5 
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
#rm $dn/mmt-san2.dat $dn/fhs-hachi5.dat #(0.3a)を行った場合。これはしなくてもよいが念のため元に戻した方が間違わない
###
else #if [ "${platform:0:1}" = "K" ];then
###
##[1.1b] 小松君は，次を実行する(Komatsu)
## mmt-san2をmmt-san10、fhs-hachi5をfhs-hachi10で置き換えて、L:1:2:3:4:5:6:7:8:9 nf=$((7*10*9))=630個のデータで実験する。
###
if [ ! -e $dn/mmt-san2.dat ]; then cp $dn/mmt-san10.dat $dn/mmt-san2.dat; fi
if [ ! -e $dn/fhs-hachi5.dat ]; then cp $dn/fhs-hachi10.dat $dn/fhs-hachi5.dat; fi
export L=1:2:3:4:5:6:7:8:9 nf=$((7*10*9)) fnerr=\'\' #
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
fi
####From here
echo -e "\n\nplatform=$platform with nf=$nf fnerr=$fnerr L=$L"
export R=1 #R=1:0.8:0.6:0.4:0.2
export k=32 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=32 l=30 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=40 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=50 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=60 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=80 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=70 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=10 l=0 N=24 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数
export k=56 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=15  l=0 N=24 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数
export k=8  l=0 N=30 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 #ElapsedTime 34993.603s(9:43:13.602)
export k=8  l=0 N=30 a=1.0 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 #
export k=8  l=0 N=24 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数
export k=8  l=0 N=40 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 laptop
export k=8  l=0 N=30 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 laptop
export k=8  l=0 N=60 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14
export k=8  l=0 N=50 a=1.0 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 laptop
export k=8  l=0 N=50 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14&u20 
export k=8  l=0 N=50 a=0.7 b=40 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14 ***
export k=15 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp ***
export k=15 l=6 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp ***
export k=20 l=5 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp ***
export k=8  l=0 N=50 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14 ***

rsa=2:${a}:${s}:${b} #a:bagratio, s:seed, b:number of bags
if [ $l -eq 0 ]; then #CAN2
export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
#export dr=${dl}_k${k}N${N}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC)
else #LPC
export dr=${dl}_k${k}l${l}R${R}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
#export dr=${dl}_k${k}l${l}p${mp_th}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC)
fi

#export dr=${dl}_k${k}l${l}R${R}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #old
#export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
######
export nfn=`ls ${dr}/*-M.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of files:$dr/*-M.dat is nfn=$nfn"
#######Exec
make data-clean
if [ "$nfn" -lt "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
cmd="python mkM.py -dn $dn -dr $dr -R $R -ow 00 -k $k -l $l -mp_th ${mp_th} -N ${N} -rsa ${rsa} -DISP 0 -nDisp ${nDisp} -S $S -D $D -L $L -fnerr $fnerr -dbgi 0"
#for check
#python lpcspectrumenvelope.py -yin ../../12voicedata_ueki_all_m/fhs-zero1-R1.dat -k 15 -l 20 -mp_th 0.0 -fout ../../12voicedata_ueki_all_k15l20R1_SY/fhs-zero1-R1-M.dat -nDisp -1
echo "#Exec $cmd";date>nohup.out;echo "$cmd">>nohup.out;nohup $cmd&
else
echo "#Number of files $nfn==$nf is sufficient. Omit making M." 
fi
############check files created
export nfn=`ls ${dr}/*-M.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of $dr/*-M.dat files nfn=$nfn"
############check files created
#echo c|python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 00 -k $k -l $l -mp_th 0.0 -nDisp 5 -dbgi 1
#echo c|python mkM20201214-.py -dr $dr -R $R -DISP 0 -ow 00 -k $k     -dbgi 1
#ElapsedTime about 567.767s(0:09:27.766) for lpc
######################################################
#copy&paste to here for step1 # nfn==$nfであることを確認後以下に進む
########
export nfn=`ls ${dr}/*-M.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of $dr/*-M.dat files nfn=$nfn=?$nf"
#wc ${dr}/*-M.dat
##############
######################################################
#ElapsedTime 17214.027s(4:46:54.026) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 laptop
#ElapsedTime 10790.725s(2:59:50.724) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 susanoo
#ElapsedTime 27488.470s(7:38:08.469) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku14omp u14@win10@laptop
#ElapsedTime 442.282s(0:07:22.281)   ../../12voicedata_ueki_all_k20l5R1_Ku20omp3 laptop
#ElapsedTime 506.122s(0:08:26.121)   ../../12voicedata_ueki_all_k20l5R1_Ku20omp2 susanoo
#before20210507
#ElapsedTime 16879.683s(4:41:19.682) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp laptop #before20210507
#ElapsedTime 17243.044s(4:47:23.044) #../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp laptop #before20210507
#ElapsedTime 372.084s(0:06:12.084)   #../../12voicedata_ueki_all_k15l20R1_Ku20-/mym-kyu9-R1-M.dat created
#ElapsedTime 374.870s(0:06:14.869)   #../../12voicedata_ueki_all_k15l20R1_Ku20/ laptop
#ElapsedTime 409.380s(0:06:49.380)   #../../12voicedata_ueki_all_k15l20R1_Ku20/ susanoo
#ElapsedTime 623.149s(0:10:23.149)   #../../12voicedata_ueki_all_k15l20R1_Su14
#ElapsedTime 31969.678s(8:52:49.677) #../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20 susanoo
#ElapsedTime 31479.091s(8:44:39.090) #../../12voicedata_ueki_all_k8l0R1N24a0.7b20_SY
#ElapsedTime 33033.020s(9:10:33.019) #../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY t1=400  in mkM.py 
#ElapsedTime 34423.572s(9:33:43.571) #p../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY t1=10000 in mkM.py 

######################################################
#[2] Mから極分布またはスペクトル包絡を求め、話者識別または単語識別
#[2a] 極分布を求め（M2PC.py→PC2xPy）、話者識別または単語識別（oob4speakerdigit+RX_20200910.py->oob4speakerdigit+RX_20210426.py)または
#[2b] スペクトル包絡を求め（M2s.py）、話者識別または単語識別（oob4speakerdigit+RX_20200910.py->oob4speakerdigit+RX_20210426.py） 
######################################################
##
######################################################
#[2b.1] スペクトル包絡を求め（M2s.py）、話者識別または単語識別（oob4speakerdigit+RX_20200910.py->oob4speakerdigit+RX_20210426.py） 
######################################################
#copy&paste from here for step2b.1
export FD=SC #With FD=SC..., S for poleweight1, s for orig; C for LPCspectrum;
export FD=sC #With FD=SC..., S for poleweight1, s for orig; C for LPCspectrum;
export ns=90 ns=120 #スペクトルの次元
export ls=10 # ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu S=fhs:fms:mkk:mko:mmt:mnh:mym 
export fn=${dr}/mym-zero9-R${R}-FD${FD}ns${ns}ls${ls}.dat
###
export nfn=`ls ${dr}/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of files $dr/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat is nfn=$nfn=?$nf"
#######Exec

if [ "$nfn" -eq "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
echo "#Number of files $nfn==$nf is sufficient. Omit making spectrum files."
else
cmd0="python M2s.py -dr $dr -R $R -ow 1 -DISP 00 -dbgi 1 -ns $ns -ls $ls -FD $FD -rap 0 -L $L -fnerr $fnerr"
#check python M2s.py -dr ../../12voicedata_ueki_all_k15l20R1_Ku20 -R 1 -ow 1 -DISP 00 -dbgi 1 -ns 120 -ls 10 -FD sC -rap 0 -fnerr '' -S mnh -D si -L 5
echo "Executing $cmd0"
echo c |$cmd0
fi
##copy&paste to here for step2b.1 
export nfn=`ls ${dr}/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of files $dr/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat is nfn=$nfn=?$nf"
export nfn=`ls ${dr}/*-R${R}-FD${FD}ns${ns}ls${ls}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo -n "#nfn=$nfn spectrum files"
##############
#[2b.2] oob4speakerdigit+RX_20210426.pyで話者照合(sd=s)または単語照合(sd=d)を行う
##############
##copy&paste to here for step2b.2 
export sd=d #word identification
export sd=s #speaker identification
export sX=-1;a=1.6;b=100;N=40; #
export sX=-1;a=1.6;b=50;N=60; #best for ../../12voicedata_ueki_all_k20l5R1_Ku20omp3 ?
export mbas=2:${b}:${a}:1
export mel=0 #1 for use mel frequency
export nlz=norm #normalize by norm, max, 1
#######Exec
#for save train_xy
#Additional Features
export AF=../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20/pP1F2x23G3x0.5m0
export AF=q #for save only= quit before learning
export AF=\'\' #export AF=q for quit just after saved Additional Features without training
#cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -mbas $mbas -N ${N} -sd $sd -sX ${sX} -FD ${FD} -ns $ns -ls $ls -mel $mel -nlz $nlz -fnerr $fnerr -AF q";$cmd #==>#saved ../../12voicedata_ueki_all_k15l20R1_Ku20/FDsCns120ls10train_xy.dat
###
cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -mbas $mbas -N ${N} -sd $sd -sX ${sX} -FD ${FD} -ns $ns -ls $ls -mel $mel -nlz $nlz -fnerr $fnerr -AF $AF"
###
date > nohup.out;nohup $cmd&  #select this line
#$cmd                         #    or this line
#cat >cmd.sh <<EOF
##!/bin/bash -x
#make
#$cmd;
##export LANG=C;export d=\`date\`
#notify-send -t 10000 -i dialog-information -u critical 'Finish'
#EOF
#rm -f nohup.out;nohup sh cmd.sh&
##copy&paste to here for step2b.2(and 2b.1)
####


######################################################
#[2a] 部分分数展開し(M2PC.py)、極分布を求め(C2xPy）,学習識別(oob4speakerdigit+RX_20210426.py,oob4speakerdigit+RX_20200910.py) 
######################################################
##############
#[2a.1] M2PC.py(Mを部分分数C_i/(1-P_i z^(-1))に展開)で*-PC.datというP-C係数ファイルを作り，各行には Px Py Cx Cy　を保存．
##############
#copy&paste from here for step2a.1
export fn=${dr}/*-R${R}*-PC.dat;nfn=`ls ${fn}>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#nfn=$nfn -PC.dat files exist"
#export fn=${dr}/*-R${R}*-PC.dat; nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
###
#######Exec
if [ "$nfn" -lt "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
cmdPC="python M2PCpara.py -dr $dr -R $R -ow 1 -DISP 0 -L $L -fnerr $fnerr"
#cmdPC="python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 -L $L -fnerr $fnerr"
echo "Executing $cmdPC"
date > nohup.out;echo $cmdPC>>nohup.out;nohup $cmdPC &
#date > nohup.out;nohup python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 &
###errorcheck
##export S=fms D=roku L=2; cmdPC="python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 -S $S -D $D -L $L"
##次元がk=10のとき、極数が９となることがあったのでM2PC.macを修正、PC2xPy.pyも修正
#nanのCi (n=402,i=8) があった。
##../../12voicedata_ueki_all_k10l0/mko-roku3-R1-PC.dat:0.6243918693768808 -0.8230316591435269 0.-nan 0.-nan 
##echo 'fnB:"../../12voicedata_ueki_all_k10l0/mko-roku3-R1";batchload("M2PC.mac");'|maxima
else
echo "#number of *-PC files $nfn==$nf is sufficient. Omit making PC fules."
fi
############check number of files created
export fn=${dr}/*-R${R}*-PC.dat;nfn=`ls ${fn}>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#nfn=$nfn $dr/*-PC.dat files exist"
############check number of files created
#copy&paste to here for step2a.1
###
export fn=${dr}/*-R${R}*-PC.dat;nfn=`ls ${fn}>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#nfn=$nfn=?$nf $dr/*-PC.dat files exist"
###
#ElapsedTime 4003.403s(1:06:43.403) m_cpu12 for ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3
#ElapsedTime 19191.897s(5:19:51.896) for ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp
#ElapsedTime 17960.237s(4:59:20.237)  for ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20/
#ElapsedTime 41990.175s(11:39:50.174) for ../../12voicedata_ueki_all_k20l5R1_Ku20omp at susanoo

##############
#[2a.2] 上記パラメタを持つxPy極分布ファイルの存在を調べ、なければ作る
##############
#copy&paste from here for step2a.2
export RX=0 #???
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb #all features made here, actual decision is done at [2a.3]
export URA=0 #1 for use real axis, 0 for negrect real axis PC2xPy.py, 
export mel=0 lx=0 #0
export nx=16 nr=4 na=26 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=14 nr=2 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
if [ "${FD:0:1}" == "p" ]; then #xPyファイルの存在確認
#fn='${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat'
#nfn=`ls ${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`
export fn=${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat; nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
else
#fn=${dr}/mym-zero9-R${R}*-${FD}F${nx}G${nG}x${sG}.dat 
#nfn=`ls ${dr}/*-R${R}*-${FD}F${nx}G${nG}x${sG}.dat >tmp.txt 2>/dev/null;cat tmp.txt|wc -l`
export fn=${dr}/*-R${R}*-${FD}F${nx}G${nG}x${sG}.dat;export nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
fi
echo "#Number of *-$FD*.dat files=$nfn"
#######Exec

if [ "$nfn" -lt "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
cmd0="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 0 -URA $URA -k $k"
echo "#Execute ${cmd0}"
${cmd0} #date > nohup.out;nohup ${cmd0}& #計算すぐ
fi
#copy&paste to here for step2a.2

##############
#[2a.3] 学習と話者識別実行 oob4speakerdigit+RX_20210426.py(oob4speakerdigit+RX_20200910.py)
##############
#copy&paste from here for step2a.3
export sX=-1;a=1.6;b=100;N=40; #
export sX=-1;a=0.7;b=20;N=40; #
export sX=-1;a=1.6;b=100;N=50; #
export sX=-1;a=1.6;b=50;N=40; #
export sX=-1;a=0.7;b=50;N=70; #
export sX=-1;a=1.6;b=50;N=80; #
export sX=-1;a=1.6;b=50;N=70; #better than for N=60,80
export nlz=norm
export nlz=1
export mbas=2:${b}:${a}:1
export ow=0 #Do not do make clean;Use previous learning 
export ow=1 #make clean
export sd=d #digit(word) verification   #new version
export sd=s #speaker verification       #new version
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
#######Exec
#Additional Features save
#cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow -AF q";$cmd
#===>#saved ../../12voicedata_ueki_all_k15l20R1_Ku20/FDsCns120ls10train_xy.dat
#Additional Features load
export AF=../../12voicedata_ueki_all_k15l20R1_Ku20/FDsCns120ls10
export AF=../../12voicedata_ueki_all_k20l5R1_Ku20omp2/pP1F2x23G3x0.5m0 #susanoo
export AF=../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0 #laptop
export AF=../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10 #laptop
export AF=q #for save only= quit before learning
export AF=\'\'
cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow -AF $AF"
#cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow"
echo "#Execute ${cmd}"
${cmd}&
#date > nohup.out;nohup ${cmd}&

#######
#copy&paste to here for step2a.3
####################################
#sd=d#####################
#sd=d#20210510 sd=d digit(word) identification
#sd=d#####################
#sd=d#[2b.2]LPC
#sd=d##TP0.787 TN0.983 FP0.017 FN0.213 ER0.037 RC0.787 PR0.834 F0.810 n6300 k120 FDsCns120ls10N70b50a1.6R1lx0sdd 2547.326s(0:42:27.326)../../12voicedata_ueki_all_k20l5R1_Ku20omp3
#sd=d##TP0.787 TN0.984 FP0.016 FN0.213 ER0.036 RC0.787 PR0.845 F0.815 n6300 k120 FDsCns120ls10N60b50a1.6R1lx0sdd 2286.950s(0:38:06.949)../../12voicedata_ueki_all_k20l5R1_Ku20omp3***N60
#sd=d##TP0.767 TN0.984 FP0.016 FN0.233 ER0.038 RC0.767 PR0.839 F0.801 n6300 k120 FDsCns120ls10N50b50a1.6R1lx0sdd 2720.622s(0:45:20.621)../../12voicedata_ueki_all_k20l5R1_Ku20omp2
#sd=d#
#sd=d#
#sd=d#[2a.3]pLPC
#sd=d##TP0.784 TN0.993 FP0.007 FN0.216 ER0.028 RC0.784 PR0.922 F0.847 n6300 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sdd 843.641s(0:14:03.640)../../12voicedata_ueki_all_k20l5R1_Ku20omp2
#sd=d##TP0.794 TN0.992 FP0.008 FN0.206 ER0.028 RC0.794 PR0.912 F0.849 n6300 k46 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sdd 743.281s(0:12:23.280)../../12voicedata_ueki_all_k20l5R1_Ku20omp2**
#sd=d##TP0.786 TN0.992 FP0.008 FN0.214 ER0.028 RC0.786 PR0.918 F0.847 n6300 k46 pP1F2x23G3x0.5m0N48b50a1.6R1lx0sdd 719.391s(0:11:59.391)../../12voicedata_ueki_all_k20l5R1_Ku20omp2
#sd=d##TP0.800 TN0.990 FP0.010 FN0.200 ER0.028 RC0.800 PR0.903 F0.848 n6300 k46 pP1F2x23G3x0.5m0N45b50a1.6R1lx0sdd 689.467s(0:11:29.466)../../12voicedata_ueki_all_k20l5R1_Ku20omp2
#sd=d##TP0.806 TN0.990 FP0.010 FN0.194 ER0.028 RC0.806 PR0.902 F0.852 n6300 k46 pP1F2x23G3x0.5m0N44b50a1.6R1lx0sdd 681.466s(0:11:21.466)../../12voicedata_ueki_all_k20l5R1_Ku20omp2**
#sd=d##TP0.805 TN0.992 FP0.008 FN0.195 ER0.027 RC0.805 PR0.915 F0.856 n6300 k46 pP1F2x23G3x0.5m0N43b50a1.6R1lx0sdd 662.702s(0:11:02.701)../../12voicedata_ueki_all_k20l5R1_Ku20omp2***N43
#sd=d##TP0.798 TN0.992 FP0.008 FN0.202 ER0.028 RC0.798 PR0.913 F0.852 n6300 k46 pP1F2x23G3x0.5m0N42b50a1.6R1lx0sdd 667.768s(0:11:07.767)../../12voicedata_ueki_all_k20l5R1_Ku20omp2**
#sd=d##TP0.800 TN0.991 FP0.009 FN0.200 ER0.028 RC0.800 PR0.905 F0.849 n6300 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sdd 794.947s(0:13:14.947)../../12voicedata_ueki_all_k20l5R1_Ku20omp2**
#sd=d##TP0.778 TN0.989 FP0.011 FN0.222 ER0.032 RC0.778 PR0.886 F0.828 n6300 k46 pP1F2x23G3x0.5m0N30b50a1.6R1lx0sdd 538.308s(0:08:58.308)../../12voicedata_ueki_all_k20l5R1_Ku20omp2
#sd=d#
#sd=d#
#sd=d##TP0.827 TN0.989 FP0.011 FN0.173 ER0.027 RC0.827 PR0.895 F0.860 n6300 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sdd 790.872s(0:13:10.871)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3
#sd=d##TP0.833 TN0.990 FP0.010 FN0.167 ER0.026 RC0.833 PR0.899 F0.865 n6300 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sdd 857.037s(0:14:17.036)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2***N60
#sd=d##TP0.829 TN0.987 FP0.013 FN0.171 ER0.029 RC0.829 PR0.877 F0.852 n6300 k46 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sdd 610.169s(0:10:10.169)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3
#sd=d##TP0.827 TN0.986 FP0.014 FN0.173 ER0.030 RC0.827 PR0.867 F0.846 n6300 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sdd 663.214s(0:11:03.213)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3


####################
20210404-20210509 useful result of tspomp for  sd=s speaker identification **************************
####################
#[2b.2]+[2a.3] #LPC+pLPC
#Do 'ls  $dr/*train_xy.dat' to check AF(additional features) saved ###laptop;--> 
#AF=../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10train_xy.dat  ../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0train_xy.dat
#AF=../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3/pP1F2x23G3x0.5m0train_xy.dat  ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3/pPcF2x23G3x0.5m0train_xy.dat

#TP0.825 TN0.989 FP0.011 FN0.175 ER0.034 RC0.825 PR0.924 F0.872 n4410 k92 pP1F2x23G3x0.5m0N80b50a1.6R1lx0sds 1387.312s(0:23:07.312)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0
#TP0.829 TN0.989 FP0.011 FN0.171 ER0.034 RC0.829 PR0.926 F0.874 n4410 k92 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 1294.032s(0:21:34.032)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0
#TP0.821 TN0.989 FP0.011 FN0.179 ER0.035 RC0.821 PR0.927 F0.870 n4410 k92 pP1F2x23G3x0.5m0N65b50a1.6R1lx0sds 1464.503s(0:24:24.503)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2+../../12voicedata_ueki_all_k20l5R1_Ku20omp2/pP1F2x23G3x0.5m0
#TP0.824 TN0.990 FP0.010 FN0.176 ER0.034 RC0.824 PR0.930 F0.874 n4410 k92 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 1366.790s(0:22:46.790)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2+../../12voicedata_ueki_all_k20l5R1_Ku20omp2/pP1F2x23G3x0.5m0
#TP0.829 TN0.988 FP0.012 FN0.171 ER0.035 RC0.829 PR0.917 F0.871 n4410 k92 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds 1257.930s(0:20:57.930)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2+../../12voicedata_ueki_all_k20l5R1_Ku20omp2/pP1F2x23G3x0.5m0
#TP0.833 TN0.989 FP0.011 FN0.167 ER0.033 RC0.833 PR0.924 F0.876 n4410 k92 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 909.191s(0:15:09.190)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0***N40 why small?
#TP0.825 TN0.988 FP0.012 FN0.175 ER0.035 RC0.825 PR0.922 F0.871 n4410 k92 pP1F2x23G3x0.5m0N30b50a1.6R1lx0sds 790.285s(0:13:10.285)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0

###
#TP0.687 TN0.980 FP0.020 FN0.313 ER0.062 RC0.687 PR0.851 F0.760 n4410 k166 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds 2449.225s(0:40:49.224)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10
#TP0.711 TN0.978 FP0.022 FN0.289 ER0.060 RC0.711 PR0.841 F0.770 n4410 k166 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 2222.213s(0:37:02.213)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10***
#TP0.738 TN0.976 FP0.024 FN0.262 ER0.057 RC0.738 PR0.839 F0.785 n4410 k166 pP1F2x23G3x0.5m0N30b50a1.6R1lx0sds 1972.308s(0:32:52.308)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10
#TP0.743 TN0.975 FP0.025 FN0.257 ER0.058 RC0.743 PR0.834 F0.786 n4410 k166 pP1F2x23G3x0.5m0N28b50a1.6R1lx0sds 1929.015s(0:32:09.014)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3+../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10
#TP0.746 TN0.975 FP0.025 FN0.254 ER0.057 RC0.746 PR0.835 F0.788 n4410 k166 pP1F2x23G3x0.5m0N26b50a1.6R1lx0sds 2340.325s(0:39:00.325)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2+../../12voicedata_ueki_all_k20l5R1_Ku20omp2/FDsCns120ls10


#[2b.2] LPC.sC (Levinson-Durbin)
#TP0.660 TN0.971 FP0.029 FN0.340 ER0.073 RC0.660 PR0.789 F0.719 n4410 k120 FDsCns120ls10N50b50a1.6R1lx0sds 1444.298s(0:24:04.298)../../12voicedata_ueki_all_k20l5R1_Ku20omp3
#TP0.679 TN0.972 FP0.028 FN0.321 ER0.070 RC0.679 PR0.801 F0.735 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1586.445s(0:26:26.444)../../12voicedata_ueki_all_k20l5R1_Ku20omp3 laptop xxx FDsC.k20l5
#TP0.665 TN0.972 FP0.028 FN0.335 ER0.071 RC0.665 PR0.801 F0.727 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1817.612s(0:30:17.612)../../12voicedata_ueki_all_k20l5R1_Ku20omp3 laptop
#TP0.665 TN0.972 FP0.028 FN0.335 ER0.071 RC0.665 PR0.801 F0.727 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2195.729s(0:36:35.728)../../12voicedata_ueki_all_k20l5R1_Ku20omp2 susanoo
#TP0.663 TN0.971 FP0.029 FN0.337 ER0.073 RC0.663 PR0.792 F0.722 n4410 k120 FDsCns120ls10N80b50a1.6R1lx0sds 2356.659s(0:39:16.659)../../12voicedata_ueki_all_k20l5R1_Ku20omp2
#saved ../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10train_xy.dat with AF=../../12voicedata_ueki_all_k20l5R1_Ku20omp3/FDsCns120ls10

#TP0.679 TN0.966 FP0.034 FN0.321 ER0.075 RC0.679 PR0.768 F0.721 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1725.132s(0:28:45.131)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2
#TP0.681 TN0.969 FP0.031 FN0.319 ER0.072 RC0.681 PR0.786 F0.730 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1575.145s(0:26:15.144)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2xxx FDsC.k8l0
#TP0.675 TN0.970 FP0.030 FN0.325 ER0.072 RC0.675 PR0.788 F0.727 n4410 k120 FDsCns120ls10N50b50a1.6R1lx0sds 1440.412s(0:24:00.411)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2
#TP0.671 TN0.964 FP0.036 FN0.329 ER0.078 RC0.671 PR0.757 F0.712 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 1298.962s(0:21:38.962)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2


#[2a.3] #LPC.pP1 best with N=70 with pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds for ../../12voicedata_ueki_all_k20l5R1_Ku20omp3
python oob4speakerdigit+RX_20210426.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 -R 1 -RX 0 -mbas 2:50:1.6:1 -sd s -N 70 -sX -1 -FD pP1 -nx 14 -nr 2 -na 23 -nG 3 -sG 0.5 -mel 0 -nlz 1 -lx 0 -ow 1 -AF ''

#TP0.692 TN0.977 FP0.023 FN0.308 ER0.063 RC0.692 PR0.834 F0.756 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 369.508s(0:06:09.507)../../12voicedata_ueki_all_k20l5R1_Ku20omp3laptop
#TP0.683 TN0.983 FP0.017 FN0.317 ER0.060 RC0.683 PR0.869 F0.764 n4410 k46 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds 418.732s(0:06:58.732)../../12voicedata_ueki_all_k20l5R1_Ku20omp3laptop xxxx pP1.k20l5
#TP0.670 TN0.983 FP0.017 FN0.330 ER0.062 RC0.670 PR0.865 F0.755 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 481.814s(0:08:01.814)../../12voicedata_ueki_all_k20l5R1_Ku20omp3laptop 

#saved ../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0train_xy.dat with AF=../../12voicedata_ueki_all_k20l5R1_Ku20omp3/pP1F2x23G3x0.5m0
#TP0.692 TN0.977 FP0.023 FN0.308 ER0.063 RC0.692 PR0.834 F0.756 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 451.517s(0:07:31.517)../../12voicedata_ueki_all_k20l5R1_Ku20omp2susanoo
#TP0.683 TN0.983 FP0.017 FN0.317 ER0.060 RC0.683 PR0.869 F0.764 n4410 k46 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds 516.382s(0:08:36.381)../../12voicedata_ueki_all_k20l5R1_Ku20omp2susanoo xxxx pP1.k20l5
#TP0.670 TN0.983 FP0.017 FN0.330 ER0.062 RC0.670 PR0.865 F0.755 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 590.509s(0:09:50.508)../../12voicedata_ueki_all_k20l5R1_Ku20omp2susanoo

#[2a.3]#pLPC #best result? N70 with pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds for ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2

#TP0.773 TN0.981 FP0.019 FN0.227 ER0.048 RC0.773 PR0.873 F0.820 n4410 k46 pP1F2x23G3x0.5m0N80b50a1.6R1lx0sds 731.058s(0:12:11.058)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@susanoo
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 663.605s(0:11:03.605)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 pP1.k8 tspomp@susanoo***!!!
#TP0.784 TN0.982 FP0.018 FN0.216 ER0.046 RC0.784 PR0.881 F0.830 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 597.568s(0:09:57.568)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@susanoo
#TP0.778 TN0.979 FP0.021 FN0.222 ER0.050 RC0.778 PR0.858 F0.816 n4410 k46 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds 530.271s(0:08:50.270)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@susanoo
#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 377.078s(0:06:17.078)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@laptop
#TP0.743 TN0.972 FP0.028 FN0.257 ER0.061 RC0.743 PR0.814 F0.777 n4410 k46 pP1F2x23G3x0.5m0N30b50a1.6R1lx0sds 315.215s(0:05:15.214)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@laptop
ｗｓｌ
#####result of speed-compare from here performancce check for [2a.3]
##python oob4speakerdigit+RX_20210426.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 -R 1 -RX 0 -mbas 2:50:1.6:1 -sd s -N 70 -sX -1 -FD pP1 -nx 14 -nr 2 -na 23 -nG 3 -sG 0.5 -mel 0 -nlz 1 -lx 0 -ow 1 -AF ''
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 112.912s(0:01:52.911)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@km1(laptop) 12cpu CC=icc 20210527 with modified ensrs.c
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 181.137s(0:03:01.137)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@km1(laptop) 12cpu CC=icc
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 101.919s(0:01:41.919)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@susanoo 8cpu CC=icc !!!!!!!!
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 230.951s(0:03:50.951)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u12@win10@laptop 6cpu CC=icc
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 291.941s(0:04:51.941)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@u12@u20@laptop 6cpu CC=icc
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 386.288s(0:06:26.288)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u12@u20@susanoo***!!! 4cpu CC=icc 
#
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 646.106s(0:10:46.105)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u12@win10@laptop 6cpu (make CC=gcc)
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 697.178s(0:11:37.178)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@u12@u20@laptop 6cpu (make CC=gcc)
###
pacd#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 667.272s(0:11:07.271)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u14@win10@laptop 6cpu (make CC=gcc)
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 672.547s(0:11:12.547)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@u14@u20@laptop 6cpu (make CC=gcc)
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 937.347s(0:15:37.346)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u14@u20@susanoo***!!! 4cpu CC=gcc
##
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 552.354s(0:09:12.353)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@u20@laptop***!!! 12cpu CC=gcc 
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 660.718s(0:11:00.718)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@susanoo***!!! 8cpu CC=gcc 
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 644.140s(0:10:44.140)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@susanoo***!!! 8cpu CC=gcc 20210526
###


#####result of speed-compare to here

#TP0.784 TN0.982 FP0.018 FN0.216 ER0.046 RC0.784 PR0.881 F0.830 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 2040.521s(0:34:00.521)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tsp@susanoo

#TP0.632 TN0.973 FP0.027 FN0.368 ER0.076 RC0.632 PR0.794 F0.704 n4410 k46 pPcF2x23G3x0.5m0N110b50a1.6R1lx0sds 762.992s(0:12:42.992)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@u20@laptop***!!!-
#TP0.624 TN0.974 FP0.026 FN0.376 ER0.076 RC0.624 PR0.799 F0.701 n4410 k46 pPcF2x23G3x0.5m0N100b50a1.6R1lx0sds 881.060s(0:14:41.060)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@susanoo***!!!-
#TP0.646 TN0.975 FP0.025 FN0.354 ER0.072 RC0.646 PR0.809 F0.718 n4410 k46 pPcF2x23G3x0.5m0N90b50a1.6R1lx0sds 809.931s(0:13:29.931) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@u20@susanoo***!!!-**
#TP0.646 TN0.972 FP0.028 FN0.354 ER0.074 RC0.646 PR0.796 F0.713 n4410 k46 pPcF2x23G3x0.5m0N80b50a1.6R1lx0sds 611.495s(0:10:11.494) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@laptop***!!!-
#TP0.644 TN0.973 FP0.027 FN0.356 ER0.074 RC0.644 PR0.798 F0.713 n4410 k46 pPcF2x23G3x0.5m0N70b50a1.6R1lx0sds 550.398s(0:09:10.397) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@laptop***!!!-
#TP0.644 TN0.973 FP0.027 FN0.356 ER0.074 RC0.644 PR0.798 F0.713 n4410 k46 pPcF2x23G3x0.5m0N70b50a1.6R1lx0sds 676.183s(0:11:16.183) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2 tspomp@susanoo***!!!-
#TP0.629 TN0.974 FP0.026 FN0.371 ER0.075 RC0.629 PR0.802 F0.705 n4410 k46 pPcF2x23G3x0.5m0N60b50a1.6R1lx0sds 482.383s(0:08:02.382) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp3 tspomp@laptop***!!!-




#####################
900     8100   114300 ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp/mkk-ni3-R1-M.dat ??? 900 is NG made by 
python mkM.py -dn ../../12voicedata_ueki_all_n -dr ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp1 -R 1 -ow 00 -k 8 -l 0 -mp_th 0 -N 50 -rsa 2:0.7:1:20 -DISP 0 -nDisp 5 -S mkk -D ni -L 3 -fnerr '' -dbgi 0
#####################

#TP0.773 TN0.981 FP0.019 FN0.227 ER0.048 RC0.773 PR0.873 F0.820 n4410 k46 pP1F2x23G3x0.5m0N80b50a1.6R1lx0sds 2630.504s(0:43:50.504) k8l0R1N50a0.7b20_Ku20 susanoo 20210505
#TP0.800 TN0.983 FP0.017 FN0.200 ER0.043 RC0.800 PR0.884 F0.840 n4410 k46 pP1F2x23G3x0.5m0N70b50a1.6R1lx0sds 2369.859s(0:39:29.859) k8l0R1N50a0.7b20_Ku20 susanoo 20210505***!!!1
#TP0.784 TN0.982 FP0.018 FN0.216 ER0.046 RC0.784 PR0.881 F0.830 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 2149.739s(0:35:49.739) k8l0R1N50a0.7b20_Ku20 susanoo 20210505

#TP0.644 TN0.973 FP0.027 FN0.356 ER0.074 RC0.644 PR0.798 F0.713 n4410 k46 pPcF2x23G3x0.5m0N70b50a1.6R1lx0sds 2389.554s(0:39:49.554) k8l0R1N50a0.7b20_Ku20 susanoo 20210505
#TP0.773 TN0.981 FP0.019 FN0.227 ER0.048 RC0.773 PR0.873 F0.820 n4410 k46 pP1F2x23G3x0.5m0N80b50a1.6R1lx0sds 2661.231s(0:44:21.230) k8l0R1N50a0.7b20_Ku20 susanoo 20210505***!!2
#TP0.778 TN0.979 FP0.021 FN0.222 ER0.050 RC0.778 PR0.860 F0.817 n4410 k46 pP1F2x23G3x0.5m0N90b50a1.6R1lx0sds 2819.165s(0:46:59.164) k8l0R1N50a0.7b20_Ku20 susanoo 20210505


#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1628.030s(0:27:08.030) k8l0R1N50a0.7b20_Ku20 susanoo 20210505??
#TP0.646 TN0.971 FP0.029 FN0.354 ER0.076 RC0.646 PR0.786 F0.709 n4410 k46 pPcF2x23G3x0.5m0N40b50a1.6R1lx0sds 1607.632s(0:26:47.631) k8l0R1N50a0.7b20_Ku20 susanoo 20210505??
#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1575.760s(0:26:15.760) k8l0R1N50a0.7b20_Ku20 laptop
                                                                                                          ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp
#TP0.808 TN0.988 FP0.012 FN0.192 ER0.037 RC0.808 PR0.920 F0.861 n4410 k166 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 9267.110s(2:34:27.110) k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10


#20210427
result at ../tspomp/
#[2b.2]
#TP0.673 TN0.973 FP0.027 FN0.327 ER0.069 RC0.673 PR0.808 F0.734 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1710.200s(0:28:30.199) ../../12voicedata_ueki_all_k20l5R1_Ku20omp
#TP0.678 TN0.974 FP0.026 FN0.322 ER0.068 RC0.678 PR0.813 F0.739 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1578.471s(0:26:18.471) ../../12voicedata_ueki_all_k20l5R1_Ku20omp*********!!!1
#TP0.665 TN0.972 FP0.028 FN0.335 ER0.072 RC0.665 PR0.798 F0.726 n4410 k120 FDsCns120ls10N50b50a1.6R1lx0sds 22374.751s(?:??:54.750)../../12voicedata_ueki_all_k20l5R1_Ku20omp

#TP0.667 TN0.969 FP0.031 FN0.333 ER0.074 RC0.667 PR0.784 F0.720 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1646.487s(0:27:26.486) ../../12voicedata_ueki_all_k20l4R1_Ku20omp log|p|=-580
#TP0.678 TN0.974 FP0.026 FN0.322 ER0.068 RC0.678 PR0.813 F0.739 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1578.471s(0:26:18.471) ../../12voicedata_ueki_all_k20l5R1_Ku20omp*********!!!1
#TP0.671 TN0.967 FP0.033 FN0.329 ER0.075 RC0.671 PR0.773 F0.719 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1591.000s(0:26:30.999) ../../12voicedata_ueki_all_k20l4R1_Ku20omp moified lpcspectrum
#TP0.643 TN0.974 FP0.026 FN0.357 ER0.073 RC0.643 PR0.804 F0.714 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1562.783s(0:26:02.782) ../../12voicedata_ueki_all_k20l6R1_Ku20omp log|p|=-578....

#TP0.675 TN0.970 FP0.030 FN0.325 ER0.072 RC0.675 PR0.791 F0.728 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1608.871s(0:26:48.870) ../../12voicedata_ueki_all_k21l5R1_Ku20omp
#TP0.678 TN0.974 FP0.026 FN0.322 ER0.068 RC0.678 PR0.813 F0.739 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1578.471s(0:26:18.471) ../../12voicedata_ueki_all_k20l5R1_Ku20omp*********
#TP0.683 TN0.971 FP0.029 FN0.317 ER0.070 RC0.683 PR0.799 F0.736 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1562.129s(0:26:02.128) ../../12voicedata_ueki_all_k19l5R1_Ku20omp********

#TP0.662 TN0.971 FP0.029 FN0.338 ER0.073 RC0.662 PR0.794 F0.722 n4410 k120 FDsCns120ls10N80b50a1.6R1lx0sds 1923.482s(0:32:03.481) ../../12voicedata_ueki_all_k19l5R1_Ku20omp
#TP0.686 TN0.970 FP0.030 FN0.314 ER0.070 RC0.686 PR0.793 F0.735 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2160.057s(0:36:00.056) ../../12voicedata_ueki_all_k19l5R1_Ku20omp ******
#TP0.683 TN0.971 FP0.029 FN0.317 ER0.070 RC0.683 PR0.799 F0.736 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 1562.129s(0:26:02.128) ../../12voicedata_ueki_all_k19l5R1_Ku20omp********
#TP0.670 TN0.968 FP0.032 FN0.330 ER0.075 RC0.670 PR0.776 F0.719 n4410 k120 FDsCns120ls10N50b50a1.6R1lx0sds 1465.707s(0:24:25.706) ../../12voicedata_ueki_all_k19l5R1_Ku20omp

#TP0.657 TN0.972 FP0.028 FN0.343 ER0.073 RC0.657 PR0.796 F0.720 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1725.941s(0:28:45.941) ../../12voicedata_ueki_all_k21l5R1_Ku20omp
#TP0.673 TN0.973 FP0.027 FN0.327 ER0.069 RC0.673 PR0.808 F0.734 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2169.067s(0:36:09.067) ../../12voicedata_ueki_all_k20l5R1_Ku20omp
#TP0.686 TN0.970 FP0.030 FN0.314 ER0.070 RC0.686 PR0.793 F0.735 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2160.057s(0:36:00.056) ../../12voicedata_ueki_all_k19l5R1_Ku20omp ******
#TP0.652 TN0.972 FP0.028 FN0.348 ER0.073 RC0.652 PR0.797 F0.717 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2158.821s(0:35:58.821) ../../12voicedata_ueki_all_k18l5R1_Ku20omp

#TP0.665 TN0.969 FP0.031 FN0.335 ER0.074 RC0.665 PR0.782 F0.719 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1726.696s(0:28:46.695) ../../12voicedata_ueki_all_k19l4R1_Ku20omp
#TP0.686 TN0.970 FP0.030 FN0.314 ER0.070 RC0.686 PR0.793 F0.735 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2160.057s(0:36:00.056) ../../12voicedata_ueki_all_k19l5R1_Ku20omp ******
#TP0.668 TN0.973 FP0.027 FN0.332 ER0.070 RC0.668 PR0.807 F0.731 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2148.451s(0:35:48.450) ../../12voicedata_ueki_all_k19l6R1_Ku20omp *****
#TP0.656 TN0.971 FP0.029 FN0.344 ER0.074 RC0.656 PR0.790 F0.716 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1725.841s(0:28:45.840) ../../12voicedata_ueki_all_k19l7R1_Ku20omp

#TP0.657 TN0.972 FP0.028 FN0.343 ER0.073 RC0.657 PR0.796 F0.720 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1708.405s(0:28:28.404) ../../12voicedata_ueki_all_k21l6R1_Ku20omp
#TP0.663 TN0.974 FP0.026 FN0.337 ER0.070 RC0.663 PR0.809 F0.729 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2156.793s(0:35:56.792) ../../12voicedata_ueki_all_k20l6R1_Ku20omp
#TP0.668 TN0.973 FP0.027 FN0.332 ER0.070 RC0.668 PR0.807 F0.731 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2148.451s(0:35:48.450) ../../12voicedata_ueki_all_k19l6R1_Ku20omp *****
#TP0.646 TN0.973 FP0.027 FN0.354 ER0.073 RC0.646 PR0.800 F0.715 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1722.666s(0:28:42.666) ../../12voicedata_ueki_all_k18l6R1_Ku20omp
#TP0.671 TN0.972 FP0.028 FN0.329 ER0.071 RC0.671 PR0.798 F0.729 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2163.405s(0:36:03.405) ../../12voicedata_ueki_all_k17l6R1_Ku20omp susanoo
#TP0.649 TN0.970 FP0.030 FN0.351 ER0.076 RC0.649 PR0.781 F0.709 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2135.411s(0:35:35.411) ../../12voicedata_ueki_all_k16l6R1_Ku20omp/susanoo****
#TP0.651 TN0.967 FP0.033 FN0.349 ER0.078 RC0.651 PR0.768 F0.704 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1693.000s(0:28:12.999) ../../12voicedata_ueki_all_k15l6R1_Ku20omp laptop***
#TP0.654 TN0.966 FP0.034 FN0.346 ER0.078 RC0.654 PR0.762 F0.704 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1696.719s(0:28:16.719) ../../12voicedata_ueki_all_k14l6R1_Ku20omp laptop 
#TP0.624 TN0.971 FP0.029 FN0.376 ER0.079 RC0.624 PR0.780 F0.693 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1712.478s(0:28:32.477) ../../12voicedata_ueki_all_k13l6R1_Ku20omp

#TP0.648 TN0.966 FP0.034 FN0.352 ER0.079 RC0.648 PR0.763 F0.700 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1706.942s(0:28:26.941) ../../12voicedata_ueki_all_k15l5R1_Ku20omp/susanoo
#TP0.651 TN0.967 FP0.033 FN0.349 ER0.078 RC0.651 PR0.768 F0.704 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1693.000s(0:28:12.999) ../../12voicedata_ueki_all_k15l6R1_Ku20omp laptop***
#TP0.610 TN0.967 FP0.033 FN0.390 ER0.084 RC0.610 PR0.754 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2174.144s(0:36:14.144) ../../12voicedata_ueki_all_k15l7R1_Ku20omp
#TP0.633 TN0.969 FP0.031 FN0.367 ER0.079 RC0.633 PR0.773 F0.696 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 2134.185s(0:35:34.184) ../../12voicedata_ueki_all_k15l8R1_Ku20omp

#################
#[2a.3]
#best result? N40 for k8l0R1N50a0.7b20
#TP0.808 TN0.988 FP0.012 FN0.192 ER0.037 RC0.808 PR0.920 F0.861 n4410 k166 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 9267.110s(2:34:27.110)            k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10***
#TP0.786 TN0.988 FP0.012 FN0.214 ER0.040 RC0.786 PR0.918 F0.847 n4410 k166 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds -20549.172s(-1 day, 18:17:30.828) k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10
#TP0.795 TN0.989 FP0.011 FN0.205 ER0.038 RC0.795 PR0.924 F0.855 n4410 k166 pP1F2x23G3x0.5m0N50b50a1.6R1lx0sds 10092.462s(2:48:12.462) k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10 
#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1575.760s(0:26:15.760)  k8l0R1N50a0.7b20_Ku20 laptop
#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1527.639s(0:25:27.638)  k8l0R1N50a0.7b20_Ku20 susanoo 

#TP0.740 TN0.991 FP0.009 FN0.260 ER0.045 RC0.740 PR0.930 F0.824 n4410 k166 pP1F2x23G3x0.5m0N80b50a0.7R1lx0sds 6458.962s(1:47:38.962) k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10
#TP0.741 TN0.993 FP0.007 FN0.259 ER0.043 RC0.741 PR0.943 F0.830 n4410 k166 pP1F2x23G3x0.5m0N40b50a0.7R1lx0sds 4486.347s(1:14:46.346) k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10 


#TP0.727 TN0.987 FP0.013 FN0.273 ER0.050 RC0.727 PR0.900 F0.804 n4410 k46 pP1F2x23G3x0.5m0N40b50a0.7R1lx0sds 833.822s(0:13:53.822)  k8l0R1N50a0.7b20_Ku20 laptop
#TP0.773 TN0.984 FP0.016 FN0.227 ER0.046 RC0.773 PR0.889 F0.827 n4410 k46 pP1F2x23G3x0.5m0N60b100a1.0R1lx0sds 2935.397s(0:48:55.397) k8l0R1N50a0.7b20_Ku20 susanoo 

#[2b.2]

#TP0.611 TN0.967 FP0.033 FN0.389 ER0.083 RC0.611 PR0.758 F0.677 n4410 k120 FDsCns120ls10N80b50a1.6R1lx0sds 8034.855s(2:13:54.855) ../../12voicedata_ueki_all_k15l20R1_Ku20/***+-
#Exp.2
#TP0.613 TN0.963 FP0.037 FN0.387 ER0.087 RC0.613 PR0.732 F0.667 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7362.603s(2:02:42.603) ../../12voicedata_ueki_all_k14l20R1_Ku20 laptop
#TP0.608 TN0.967 FP0.033 FN0.392 ER0.084 RC0.608 PR0.757 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7318.858s(2:01:58.857) ../../12voicedata_ueki_all_k15l20R1_Ku20 ***?
#TP0.608 TN0.967 FP0.033 FN0.392 ER0.084 RC0.608 PR0.755 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7263.458s(2:01:03.457) ../../12voicedata_ueki_all_k16l20R1_Ku20 susanoo

#TP0.654 TN0.966 FP0.034 FN0.346 ER0.078 RC0.654 PR0.762 F0.704 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 1698.940s(0:28:18.939) ../../12voicedata_ueki_all_k14l6R1_Ku20/ tspomp1
#Exp.1
#TP0.625 TN0.966 FP0.034 FN0.375 ER0.083 RC0.625 PR0.753 F0.683 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7283.494s(2:01:23.493) ../../12voicedata_ueki_all_k15l4R1_Ku20 
#TP0.648 TN0.966 FP0.034 FN0.352 ER0.079 RC0.648 PR0.763 F0.700 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7341.872s(2:02:21.872) ../../12voicedata_ueki_all_k15l5R1_Ku20
#TP0.651 TN0.967 FP0.033 FN0.349 ER0.078 RC0.651 PR0.768 F0.704 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7380.096s(2:03:00.095) ../../12voicedata_ueki_all_k15l6R1_Ku20 **************
#TP0.610 TN0.967 FP0.033 FN0.390 ER0.084 RC0.610 PR0.754 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7331.694s(2:02:11.693) ../../12voicedata_ueki_all_k15l7R1_Ku20
#TP0.633 TN0.969 FP0.031 FN0.367 ER0.079 RC0.633 PR0.773 F0.696 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7282.548s(2:01:22.548) ../../12voicedata_ueki_all_k15l8R1_Ku20
#TP0.629 TN0.967 FP0.033 FN0.371 ER0.081 RC0.629 PR0.763 F0.689 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7280.187s(2:01:20.187) ../../12voicedata_ueki_all_k15l10R1_Ku20 ********
#TP0.608 TN0.967 FP0.033 FN0.392 ER0.084 RC0.608 PR0.757 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7318.858s(2:01:58.857) ../../12voicedata_ueki_all_k15l20R1_Ku20 ***?ER&F
#TP0.595 TN0.961 FP0.039 FN0.405 ER0.091 RC0.595 PR0.716 F0.650 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7386.353s(2:03:06.352) ../../12voicedata_ueki_all_k15l25R1_Ku20
#TP0.614 TN0.965 FP0.035 FN0.386 ER0.085 RC0.614 PR0.746 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7336.309s(2:02:16.309) ../../12voicedata_ueki_all_k15l30R1_Ku20 ***?
#TP0.576 TN0.967 FP0.033 FN0.424 ER0.089 RC0.576 PR0.742 F0.649 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7257.713s(2:00:57.712) ../../12voicedata_ueki_all_k15l40R1_Ku20/ susanoo

#TP0.594 TN0.963 FP0.037 FN0.406 ER0.090 RC0.594 PR0.726 F0.653 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 6756.294s(1:52:36.294) ../../12voicedata_ueki_all_k15l20R1_Ku20

#TP0.613 TN0.963 FP0.037 FN0.387 ER0.087 RC0.613 PR0.732 F0.667 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7362.603s(2:02:42.603) ../../12voicedata_ueki_all_k14l20R1_Ku20/ laptop


#TP0.611 TN0.967 FP0.033 FN0.389 ER0.083 RC0.611 PR0.758 F0.677 n4410 k120 FDsCns120ls10N80b50a1.6R1lx0sds 8034.855s(2:13:54.855) ../../12voicedata_ueki_all_k15l20R1_Ku20/***

#TP0.576 TN0.962 FP0.038 FN0.424 ER0.093 RC0.576 PR0.715 F0.638 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5529.830s(1:32:09.829) ../../12voicedata_ueki_all_k15l20R1_Ku20/
#TP0.594 TN0.963 FP0.037 FN0.406 ER0.090 RC0.594 PR0.726 F0.653 n4410 k120 FDsCns120ls10N60b50a1.6R1lx0sds 6673.019s(1:51:13.019) ../../12voicedata_ueki_all_k15l20R1_Ku20/
#TP0.608 TN0.967 FP0.033 FN0.392 ER0.084 RC0.608 PR0.757 F0.674 n4410 k120 FDsCns120ls10N70b50a1.6R1lx0sds 7318.858s(2:01:58.857) ../../12voicedata_ueki_all_k15l20R1_Ku20/



#TP0.543 TN0.976 FP0.024 FN0.457 ER0.086 RC0.543 PR0.788 F0.643 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 3911.969s(1:05:11.969) ../../12voicedata_ueki_all_k15l30R1_Ku20
#TP0.544 TN0.979 FP0.021 FN0.456 ER0.083 RC0.544 PR0.813 F0.652 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 3792.326s(1:03:12.325) ../../12voicedata_ueki_all_k15l40R1_Ku20
#TP0.557 TN0.979 FP0.021 FN0.443 ER0.081 RC0.557 PR0.812 F0.661 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 3912.850s(1:05:12.849) ../../12voicedata_ueki_all_k15l50R1_Ku20 ***
#TP0.549 TN0.977 FP0.023 FN0.451 ER0.084 RC0.549 PR0.801 F0.652 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 3920.442s(1:05:20.441) ../../12voicedata_ueki_all_k15l60R1_Ku20
#TP0.549 TN0.979 FP0.021 FN0.451 ER0.082 RC0.549 PR0.812 F0.655 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 3782.130s(1:03:02.130) ../../12voicedata_ueki_all_k15l70R1_Ku20


#TP0.544 TN0.975 FP0.025 FN0.456 ER0.086 RC0.544 PR0.785 F0.643 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 3782.384s(1:03:02.384) ../../12voicedata_ueki_all_k14l40R1_Ku20/


#TP0.579 TN0.979 FP0.021 FN0.421 ER0.078 RC0.579 PR0.818 F0.678 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 4048.685s(1:07:28.684) ../../12voicedata_ueki_all_k15l20R1_Ku20/***



#TP0.573 TN0.980 FP0.020 FN0.427 ER0.078 RC0.573 PR0.828 F0.677 n4410 k120 FDsCns120ls10N60b50a0.7R1lx0sds 3458.408s(0:57:38.408) ../../12voicedata_ueki_all_k15l20R1_Ku20/
#TP0.579 TN0.979 FP0.021 FN0.421 ER0.078 RC0.579 PR0.818 F0.678 n4410 k120 FDsCns120ls10N70b50a0.7R1lx0sds 4048.685s(1:07:28.684) ../../12voicedata_ueki_all_k15l20R1_Ku20/***
#TP0.579 TN0.977 FP0.023 FN0.421 ER0.079 RC0.579 PR0.809 F0.675 n4410 k120 FDsCns120ls10N80b50a0.7R1lx0sds 4328.433s(1:12:08.433) ../../12voicedata_ueki_all_k15l20R1_Ku20/

#TP0.741 TN0.993 FP0.007 FN0.259 ER0.043 RC0.741 PR0.943 F0.830 n4410 k166 FDsCns120ls10N40b50a0.7R1lx0sds 4477.302s(1:14:37.302) k15l20R1_Ku20+k8l0R1N50a0.7b20_Ku20/pP1F2x23G3x0.5m0
#TP0.743 TN0.993 FP0.007 FN0.257 ER0.042 RC0.743 PR0.949 F0.833 n4410 k166 pP1F2x23G3x0.5m0N60b50a0.7R1lx0sds 5414.366s(1:30:14.366) k8l0R1N50a0.7b20_Ku20+k15l20R1_Ku20/FDsCns120ls10





########
#20210208
########
#ケプストラム分析によるスペクトル包絡の極は大きさが１以下になるが、
#LPC分析によるスペクトル包絡は大きさが１より大きい極がでる？ k=18 in [Cf3] 極分布
#[Cf3] https://ahcweb01.naist.jp/lecture/2016/sp/material/sp-v2.pdf
#check 20210208
export dl=../../12voicedata_ueki_all; 
export dr=${dl}_k8; 
export dn=${dl}_n; 
export R=1 S=mmt L=8 D=ichi k=56 k=15 t=0 t=0-1000 #check 20210208  OK with k<=43, NG with k>=44
#python lpcspectrumenvelope.py -k $k -l 20 -yin $dn/${S}-${D}${L}.dat -nDisp -1
#python lpcspectrumenvelope.py -k $k -l 20 -yin $dn/${S}-${D}${L}.dat -nDisp 0 -HW 0 -t 600-760 #'i'-part of 'ichi'
#python lpcspectrumenvelope.py -k $k -l 20 -yin $dn/${S}-${D}${L}.dat -nDisp -1 -HW 0 -t 2500-  #'chi'-part  of 'ichi'
#python lpcspectrumenvelope.py -k $k -l 20 -yin $dn/${S}-${D}${L}.dat -nDisp 37 -HW 0 #for disp envelope without Hamming-Window
#python lpcspectrumenvelope.py -k $k -l 20 -yin $dn/${S}-${D}${L}.dat -nDisp 37 -HW 1 #for disp envelope with Hamming-Window
python mkM.py -dr $dr -R $R -DISP 01 -ow 01 -dbgi 0 -S $S -L $L -D $D -k $k 
#python mkM.py -dr $dr -R $R -DISP 01 -ow 01 -dbgi 0 -S $S -L $L -D $D -k $k -t 600-760 #'i'-part of 'ichi'
#python mkM.py -dr $dr -R $R -DISP 01 -ow 01 -dbgi 0 -S $S -L $L -D $D -k $k -t 680-760 #'i'-part of 'ichi'
#python mkM.py -dr $dr -R $R -DISP 01 -ow 01 -dbgi 0 -S $S -L $L -D $D -k $k -t 0-1000 #'i'-part of 'ichi'
#python mkM.py -dr $dr -R $R -DISP 01 -ow 01 -dbgi 0 -S $S -L $L -D $D -k $k -t 2500-  #'chi'-part  of 'ichi'
python M2PC.py -dr $dr -R $R -ow 1 -DISP 10 -dbgi 0 -S $S -L $L -D $D -k $k
#with k=20,17 errors
##
cat > tmp/tmp.plt <<EOF
set size square ; set parametric; set grid
set term postscript eps enhanced color; set output "tmp/tmp.eps";
#plot [0:2*pi][-3:3][-3:3] "$dr/${S}-${D}${L}-R${R}-PC.dat" using 1:2 w p pt 6 ps 1.0 lc rgb "black", "" using 1:(-\$2) w p pt 6 ps 1.0 lc rgb "black", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "2.0" w l ls 1 lw 5 lc rgb "red"
#
plot [0:2*pi][-3:3][-3:3] "$dr/${S}-${D}${L}-R${R}-PC.dat" using 1:2 w p pt 6 ps 1.0 lc rgb "black", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "2.0" w l ls 1 lw 5 lc rgb "red"
#
#plot [0:2*pi] "$dr/${S}-${D}${L}-R${R}-PC.dat" using 1:2 w p pt 6 ps 1.0 lc rgb "black", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "2.0" w l ls 1 lw 5 lc rgb "red"
quit
EOF
gnuplot tmp/tmp.plt
gv tmp/tmp.eps&
#
#chech with k=17
gnuplot 
plot "../../12voicedata_ueki_all_n/mmt-ichi8.dat" using 0:1 w l
plot [2960:3120] "../../12voicedata_ueki_all_n/mmt-ichi8.dat" using 0:1 w lp pt 6
plot [400:560]"../../12voicedata_ueki_all_n/mmt-ichi8.dat" using 0:1 w lp pt 6
print (513-440)/8000.,0.009125 #sec
print 8000./(513-440), 109.58904109589 #110Hz
plot "../../12voicedata_ueki_all_k8/mmt-ichi8-R1-PC.dat" using 0:(sqrt($1**2+$2**2)) w l
#
set parametric;set grid;set size square;
plot [0:2*pi][-3:3][-3:3] "../../12voicedata_ueki_all_k8/mmt-ichi8-R1-PC.dat" using 1:2 w p pt 6 ps 1.0 lc rgb "black", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "2.0" w l ls 1 lw 5 lc rgb "red"
#a=0.17;f=a*4000.;T=1./f;n=T*8000.;print "n=",n
###
#
#print 1/18.944,0.0527871621621622 #msec
#[0.17*pi:2*pi] 0.17*pi--> print 0.17*4000,680.0 #Hz
#print 1./680, 0.00147058823529412 #sec
#print 1/(0.17*4000)/(1/8000.), 11.7647058823529 #step
#
#print 74/1024.,0.072265625 #see tmp/lpcenv.txt
#print 4000*74/1024,289.0625 #Hz see tmp/lpcenv.txt
#print 1./289.0625, 0.00345945945945946 #sec
#print 0.00345945945945946/(1/8000.),27.6756756756757 #step
#
set parametric;set grid;set size square;
plot [0:2*pi][-3:3][-3:3] "../../12voicedata_ueki_all_k8/mmt-ichi8-R1-PC.dat" using 1:2 w p pt 6 ps 1.0 lc rgb "black","" using 1:(-$2) w p pt 6 ps 1.0 lc rgb "black", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "2.0" w l ls 1 lw 5 lc rgb "red"
#

set grid;set size square;set parametric;plot [0:2*pi] "../../12voicedata_ueki_all_k8/mmt-ichi8-R1-PC.dat" using 1:2 w p pt 6 ps 1.0 lc rgb "black", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "2.0" w l ls 1 lw 5 lc rgb "red"

############################################
20201210-20201225
############################################
#以下、[0.1] は背景、[0.2]と[0.3]は動作確認実験、
#本格実験の繰り返しは、[1.1]以降．
############################################
[0]　代表的な、LPC次数とフレーム長は？ levinson-durbun
[0.1]　代表的な、LPC次数とフレーム長は？
[Cf1] http://www.ieice-hbkb.org/files/02/02gun_08hen_01.pdf
   振幅スペクトルの包絡を 10~20 次の線形予測モデルで近似することにより，
   パラメータを減らす方法が提案されている．この方法によれば，フレーム長を 30 msec，

[Cf2] https://patents.google.com/patent/JP4971351B2/ja
  1つの代表的なフレーム長は、８ｋＨｚの代表的なサンプリングレートでの１６０のサンプルに対応する２０ミリ秒であるが、(160/8000Hz=20ms
  https://nitech.repo.nii.ac.jp/?action=repository_action_common_download&item_id=1724&item_no=1&attribute_id=12&file_no=1

--> まず、分析次数k=32, フレーム長l=20ms を使って実験し,よりよい結果がでるkとlを後で探索

[Cf3] https://ahcweb01.naist.jp/lecture/2016/sp/material/sp-v2.pdf
ケプストラム分析とLPC分析によるスペクトル包絡
################
[0.2] LPCスペクトル包絡を求めるプログラム
#次数k 32 フレーム長l 20[ms], 平均パワーのしきい値mp_th 0.4 (これ以上のパワーをもつフレームだけ係数を求める) 表示フレーム番号 -nDisp 5 
python lpcspectrumenvelope.py -yin ../../12voicedata_ueki_all_n/mym-ku10.dat -k 32 -l 20 -mp_th 0.0 -fout tmp/LPC.dat -nDisp 5 
#read signal -yin and write tmp/LPC.dat
################
[0.3] mkM20201214.py: すべての音声に対し、混合比Rで音声を合成し、(1)を使ってLPCスペクトルを求めるプログラム
[0.3.1] 実行コマンド
dl=~/sotu/2020/12voicedata_ueki_all; 
R=1 #R=1:0.8:0.6:0.4:0.2
export dl=../../12voicedata_ueki_all; 
export R=1 #R=1:0.8:0.6:0.4:0.2
export k=32 l=20 mp_th=0.0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
dr=${dl}_LPCk${k}l${l}; mkdir -p $dr  #folder for LPC
dm=${dl}_m; mkdir -p $dr              #folder for mixed speech
python mkM.py -dr $dr -R $R -DISP 0 -ow 00 -k $k -l $l -mp_th 0.0 -nDisp 5 -dbgi 1 
#continue #comment out this line if you do not want to see and manipulate the picture
###
#python mkM20201214.py -dr $dr -R $R -DISP 0 -ow 00 -k $k -l $l -mp_th 0.0  -nDisp 5 -dbgi 1 
####echo c|python mkM20201214.py -dr $dr -R $R -DISP 0 -ow 00 -k $k -l $l -mp_th 0.0 -nDisp 5 -dbgi 1
####python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 00 -k $k -l $l -mp_th 0.0 -nDisp 5 -dbgi 1
####../../12voicedata_ueki_all_Ck60l20/fhs-zero1-R1-C.dat created
####rm -f nohup.out;nohup python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 1 -k 32 -l 20 -mp_th 0.0 -nDisp 0 -dbgi 1& 
[0.3.2] 結果確認
ls -l $dr/*-M.dat|wc #    698    6282   64494 #ファイルの個数確認　全部揃えば 698=700-2個
wc $dr/*-M.dat       #1列目に各音声で抽出された係数の個数
      29      957    14696 ../../12voicedata_ueki_all_k8/fhs-go1-R1-M.dat
・LPC係数の確認：行と列を入れ替えて、各列が各LPC係数になるようにして、各列をプロット
transpose.sh ../../12voicedata_ueki_all_k8/fhs-go1-R1-M.dat > tmp.dat
gnuplot
plot "tmp.dat" using 0:1 w l, "" using 0:10 w l, "" using 0:20 w l, "" using 0:29 w l

############################################
#[1] 前処理（データ正規化）以前の処理と同じ:#20191205 ← 20191118 #20180606の再試行＋修正 の(0)ー(2)
####
#[1.0]
#at can2m+/can2c
#ln -s /media/sf_D_DRIVE/data/12voicedata ~/sotu/2012/12voicedata_ueki #shigeta only
#ln -s /media/sf_C_DRIVE/cdata/kurolab/data/12voicedata ~/sotu/2012/12voicedata_ueki #kurogi only
####
#[1.0.1] リンク作成
####
#d0=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata
d0=~/sotu/2012/12voicedata_ueki/
dl=../../12voicedata_ueki_all; mkdir -p $dl
for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
  ln -s ${d0}/${d}/* ${dl}/
done
####
#[1.0.2]パワー正規化
####
d0=~/sotu/2012/12voicedata_ueki/
dl=../../12voicedata_ueki_all; mkdir -p $dl
dn=${dl}_n; mkdir -p $dn #save normalized speech signal
log=$dn/normalize.log
#echo "ymin=$ymin" > $log
ymin=0
for s in fhs fms mkk mko mmt mnh mym; do
  for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
    for l in 1 2 3 4 5 6 7 8 9 10; do
      cmd="python speechnormalize.py -yin ${dl}/${s}-${d}${l}.dat -yout ${dn}/${s}-${d}${l}.dat -ymin $ymin"
      echo $cmd; $cmd >> $log
    done
  done
done


####################################
#[1.1] 混合音声とM（LPC係数およびpLPC係数）の作成
# mkM.pyで すべての音声に対し、混合比Rで音声を合成し　LPC係数M(l>0)またはpLPC係数M(l=0)を求める
####################################
###上の準備後、毎回の本実験はここから 
#copy&paste from here for step1
make
###platform=SY for Shigeta and Yamochi, K for Komatsu !!!!!!!!!!!!!!!!!!!!
export platform=K　#platform=K for Komatsu 
export platform=SY #platform=SY for Shigeta and Yamochi
export platform=Su14 #platform=SY for Shigeta and u14 for ubuntu14.04
export platform=Su20 #platform=SY for Shigeta and u20 for ubuntu20.04
export platform=Ku14 # u14 for ubuntu14.04 20210419
export platform=Ku20 # u20 for ubuntu20.04 20210420
#export platform=Ku20- # u20 for ubuntu20.04 20210420
######
export d0=~/sotu/2012/12voicedata_ueki/
export dl=../../12voicedata_ueki_all; mkdir -p $dl
export dn=${dl}_n; mkdir -p $dn #save normalized speech signal
export dm=${dl}_m; mkdir -p $dm           #folder for saving mixed speech
###############
#[1.1a and 1.1b] 小松君は不足ファイルを置き換えて,fnerrを空集合にする, 矢持さん，重田君は元に戻す。
###############
#####
export OnlyEnvSet=1 #これを1にして以下を実行すると、データは処理しないで、環境変数だけ設定する
export OnlyEnvSet=0 #これを1にして以下を実行すると、データは処理しないで、環境変数だけ設定する
#####
if [ "${platform:0:1}" = "S" ];then
## [1.1a] 矢持さん、重田君は次を実行する(Yamochi,Shigeta)
## mmt-san2とfhs-hachi5が不足したまま、L=1:2:3:4:5:6:7:8:9:10 nf=$((7*10*10-2))=698個のデータで実験する
###
export L=1:2:3:4:5:6:7:8:9:10 nf=$((7*10*10-2)) fnerr=mmt-san2:fhs-hachi5 
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
#rm $dn/mmt-san2.dat $dn/fhs-hachi5.dat #(0.3a)を行った場合。これはしなくてもよいが念のため元に戻した方が間違わない
###
else #if [ "${platform:0:1}" = "K" ];then
###
##[1.1b] 小松君は，次を実行する(Komatsu)
## mmt-san2をmmt-san10、fhs-hachi5をfhs-hachi10で置き換えて、L:1:2:3:4:5:6:7:8:9 nf=$((7*10*9))=630個のデータで実験する。
###
if [ ! -e $dn/mmt-san2.dat ]; then cp $dn/mmt-san10.dat $dn/mmt-san2.dat; fi
if [ ! -e $dn/fhs-hachi5.dat ]; then cp $dn/fhs-hachi10.dat $dn/fhs-hachi5.dat; fi
export L=1:2:3:4:5:6:7:8:9 nf=$((7*10*9)) fnerr=\'\' #
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
fi
####From here
echo -e "\n\nplatform=$platform with nf=$nf fnerr=$fnerr L=$L"
export R=1 #R=1:0.8:0.6:0.4:0.2
export k=32 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=32 l=30 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=40 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=50 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=60 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=80 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=70 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=10 l=0 N=24 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数
export k=56 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp
export k=15  l=0 N=24 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数
export k=8  l=0 N=30 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 #ElapsedTime 34993.603s(9:43:13.602)
export k=8  l=0 N=30 a=1.0 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 #
export k=8  l=0 N=24 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数
export k=8  l=0 N=40 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 laptop
export k=8  l=0 N=30 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 laptop
export k=8  l=0 N=60 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14
export k=8  l=0 N=50 a=1.0 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 laptop
export k=8  l=0 N=50 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14&u20 
export k=8  l=0 N=50 a=0.7 b=40 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14 ***
export k=8  l=0 N=50 a=0.7 b=20 s=1 #l=0 for CAN2, l>0 for conventional LPC #pLPC次数=CAN2の入力ベクトルの次数 susanoo u14 ***
export k=15 l=20 mp_th=0 nDisp=5 #LPC次数k フレーム長l[ms], 平均パワーmp_th, フレーム番号 nDisp ***

rsa=2:${a}:${s}:${b} #a:bagratio, s:seed, b:number of bags
if [ $l -eq 0 ]; then #CAN2
export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
#export dr=${dl}_k${k}N${N}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC)
else #LPC
export dr=${dl}_k${k}l${l}R${R}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
#export dr=${dl}_k${k}l${l}p${mp_th}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC)
fi

#export dr=${dl}_k${k}l${l}R${R}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #old
#export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
######
export nfn=`ls ${dr}/*-M.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of files:$dr/*-M.dat is nfn=$nfn"
#######Exec
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
make data-clean
if [ "$nfn" -lt "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
cmd="python mkM.py -dn $dn -dr $dr -R $R -ow 00 -k $k -l $l -mp_th ${mp_th} -N ${N} -rsa ${rsa} -DISP 0 -nDisp ${nDisp} -S $S -D $D -L $L -fnerr $fnerr -dbgi 0"
#for check
#python lpcspectrumenvelope.py -yin ../../12voicedata_ueki_all_m/fhs-zero1-R1.dat -k 15 -l 20 -mp_th 0.0 -fout ../../12voicedata_ueki_all_k15l20R1_SY/fhs-zero1-R1-M.dat -nDisp -1
echo "#Exec $cmd";date>nohup.out;echo "$cmd">>nohup.out;nohup $cmd&
else
echo "#Number of files $nfn==$nf is sufficient. Omit making M." 
fi
############check files created
export nfn=`ls ${dr}/*-M.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of $dr/*-M.dat files nfn=$nfn"
############check files created
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
############
#echo c|python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 00 -k $k -l $l -mp_th 0.0 -nDisp 5 -dbgi 1
#echo c|python mkM20201214-.py -dr $dr -R $R -DISP 0 -ow 00 -k $k     -dbgi 1
#ElapsedTime about 567.767s(0:09:27.766) for lpc
######################################################
#copy&paste to here for step1 # nfn==$nfであることを確認後以下に進む
########
export nfn=`ls ${dr}/*-M.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of $dr/*-M.dat files nfn=$nfn=?$nf"
#wc ${dr}/*-M.dat
######################################################
#wc ../../12voicedata_ueki_all_k8l0R1_SY/fhs-go1-R1-M.dat $dr/fhs-go1-R1-M.dat
#ElapsedTime 372.084s(0:06:12.084)   #../../12voicedata_ueki_all_k15l20R1_Ku20-/mym-kyu9-R1-M.dat created
#ElapsedTime 31969.678s(8:52:49.677) #../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20 susanoo
#ElapsedTime 374.870s(0:06:14.869)   #../../12voicedata_ueki_all_k15l20R1_Ku20/ laptop
#ElapsedTime 409.380s(0:06:49.380)   #../../12voicedata_ueki_all_k15l20R1_Ku20/ susanoo
#ElapsedTime 623.149s(0:10:23.149)   #../../12voicedata_ueki_all_k15l20R1_Su14
#ElapsedTime 31479.091s(8:44:39.090) #../../12voicedata_ueki_all_k8l0R1N24a0.7b20_SY/mym-kyu10-R1-M.dat created
#ElapsedTime 33033.020s(9:10:33.019) #../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY t1=400  in mkM.py 
#ElapsedTime 34423.572s(9:33:43.571) #p../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY t1=10000 in mkM.py 

######################################################
#[2] Mから極分布またはスペクトル包絡を求め、話者識別または単語識別
#[2a] 極分布を求め（M2PC.py→PC2xPy）、話者識別または単語識別（oob4speakerdigit+RX_20200910.py->oob4speakerdigit+RX_20210426.py)または
#[2b] スペクトル包絡を求め（M2s.py）、話者識別または単語識別（oob4speakerdigit+RX_20200910.py->oob4speakerdigit+RX_20210426.py） 
######################################################
##
######################################################
#[2b.1] スペクトル包絡を求め（M2s.py）、話者識別または単語識別（oob4speakerdigit+RX_20200910.py->oob4speakerdigit+RX_20210426.py） 
######################################################
#copy&paste from here for step2b.1
export FD=SC #With FD=SC..., S for poleweight1, s for orig; C for LPCspectrum;
export FD=sC #With FD=SC..., S for poleweight1, s for orig; C for LPCspectrum;
export ns=90 ns=120 #スペクトルの次元
export ls=10 # ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu S=fhs:fms:mkk:mko:mmt:mnh:mym 
export fn=${dr}/mym-zero9-R${R}-FD${FD}ns${ns}ls${ls}.dat
###
export nfn=`ls ${dr}/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of files $dr/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat is nfn=$nfn=?$nf"
#######Exec
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
if [ "$nfn" -eq "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
echo "#Number of files $nfn==$nf is sufficient. Omit making spectrum files."
else
cmd0="python M2s.py -dr $dr -R $R -ow 1 -DISP 00 -dbgi 1 -ns $ns -ls $ls -FD $FD -rap 0 -fnerr $fnerr"
#check python M2s.py -dr ../../12voicedata_ueki_all_k15l20R1_Ku20 -R 1 -ow 1 -DISP 00 -dbgi 1 -ns 120 -ls 10 -FD sC -rap 0 -fnerr '' -S mnh -D si -L 5
echo "Executing $cmd0"
echo c |$cmd0
fi
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute
export nfn=`ls ${dr}/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#Number of files $dr/*-*-R${R}-FD${FD}ns${ns}ls${ls}.dat is nfn=$nfn=?$nf"
export nfn=`ls ${dr}/*-R${R}-FD${FD}ns${ns}ls${ls}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo -n "#nfn=$nfn spectrum files"
##############
#[2b.2] oob4speakerdigit+RX_20210426.pyで話者照合(sd=s)または単語照合(sd=d)を行う
##############
export sd=d #word identification
export sd=s #speaker identification
export sX=-1;a=1.6;b=100;N=40; #
export sX=-1;a=1.6;b=50;N=40; #
export mbas=2:${b}:${a}:1
export mel=0 #1 for use mel frequency
export nlz=norm #normalize by norm, max, 1
#######Exec
#for save train_xy
#cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -mbas $mbas -N ${N} -sd $sd -sX ${sX} -FD ${FD} -ns $ns -ls $ls -mel $mel -nlz $nlz -fnerr $fnerr -AF q";$cmd
#===>#saved ../../12voicedata_ueki_all_k15l20R1_Ku20/FDsCns120ls10train_xy.dat
#
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
export AF=../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20/pP1F2x23G3x0.5m0
export AF=\'\' #export AF=q
cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -mbas $mbas -N ${N} -sd $sd -sX ${sX} -FD ${FD} -ns $ns -ls $ls -mel $mel -nlz $nlz -fnerr $fnerr -AF $AF"
#cmd="python oob4speakerdigit+RX_20200910.py -sp $S -tx $D -L $L -dr $dr -R $R -mbas $mbas -N ${N} -sd $sd -sX ${sX} -FD ${FD} -ns $ns -ls $ls -mel $mel -nlz $nlz -fnerr $fnerr"
#cmd="python oob4speakerdigit+RX_20200910.py -sp $S -tx $D -L $L -dr $dr -R 1 -RX 0 -mbas 2:50:1.6:1 -s -1 -N 40 -sd $sd -FD $FD -ns $ns -ls $ls -mel $mel -nlz norm";#"-s 1" old version
#[2b.2]python oob4speakerdigit+RX_20200910.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k15l20R1_Ku20 -R 1 -mbas 2:100:1.6:1 -N 40 -sd s -sX -1 -FD sC -ns 120 -ls 10 -mel 0 -nlz norm -fnerr ''
date > nohup.out;nohup $cmd&  #select this line
#$cmd                         #    or this line
#cat >cmd.sh <<EOF
##!/bin/bash -x
#make
#$cmd;
##export LANG=C;export d=\`date\`
#notify-send -t 10000 -i dialog-information -u critical 'Finish'
#EOF
#rm -f nohup.out;nohup sh cmd.sh&
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
##copy&paste to here for step2b.1-2
#20210420
#TP0.916 TN0.987 FP0.013 FN0.084 ER0.024 RC0.916 PR0.919 F0.917 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5426.838s(1:30:26.837)../../12voicedata_ueki_all_k15l20R1_Ku20 susanoo***!!
#TP0.916 TN0.987 FP0.013 FN0.084 ER0.024 RC0.916 PR0.919 F0.917 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5321.212s(1:28:41.211)../../12voicedata_ueki_all_k15l20R1_Ku20 laptop
#TP0.883 TN0.986 FP0.014 FN0.117 ER0.029 RC0.883 PR0.913 F0.897 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5378.008s(1:29:38.008)../../12voicedata_ueki_all_k15l20R1_Ku20-/
#TP0.683 TN0.971 FP0.029 FN0.317 ER0.071 RC0.683 PR0.795 F0.734 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5895.582s(1:38:15.581)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20 susanoo
#TP0.686 TN0.970 FP0.030 FN0.314 ER0.071 RC0.686 PR0.791 F0.735 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5363.892s(1:29:23.892)../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku14/
#TP0.871 TN0.984 FP0.016 FN0.129 ER0.032 RC0.871 PR0.903 F0.887 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 4984.862s(1:23:04.861) ../../12voicedata_ueki_all_k15l20R1_Ku14
###
#TP0.914 TN0.985 FP0.015 FN0.086 ER0.025 RC0.914 PR0.910 F0.912 n4886 k120 FDsCns120ls10N40b50a1.6R1lx0sds 6581.584s(1:49:41.584)../../12voicedata_ueki_all_k15l20R1_Su20
#TP0.915 TN0.986 FP0.014 FN0.085 ER0.024 RC0.915 PR0.917 F0.916 n4886 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5574.968s(1:32:54.967)../../12voicedata_ueki_all_k15l20R1_Su14***!!!!F0.916
#20210314-20210401 by kuro saved in e.g. ../../12voicedata_ueki_all_k${k}l20R1_SY/ and
#TP0.897 TN0.984 FP0.016 FN0.103 ER0.029 RC0.897 PR0.902 F0.899 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 5414.701s(1:30:14.700)k8l20R1_SY 
#TP0.901 TN0.983 FP0.017 FN0.099 ER0.028 RC0.901 PR0.900 F0.901 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 5021.808s(1:23:41.808)k9l20R1_SY
#TP0.903 TN0.984 FP0.016 FN0.097 ER0.028 RC0.903 PR0.903 F0.903 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 3522.957s(0:58:42.957)k10l20R1_SY
#TP0.904 TN0.985 FP0.015 FN0.096 ER0.026 RC0.904 PR0.912 F0.908 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 3825.599s(1:03:45.598)k15l20R1_SY ******
#TP0.903 TN0.985 FP0.015 FN0.097 ER0.027 RC0.903 PR0.908 F0.905 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 3616.897s(1:00:16.896)k16l20R1_SY
#TP0.903 TN0.985 FP0.015 FN0.097 ER0.027 RC0.903 PR0.910 F0.906 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 3624.875s(1:00:24.875)k17l20R1_SY
#TP0.903 TN0.985 FP0.015 FN0.097 ER0.027 RC0.903 PR0.909 F0.906 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 3609.647s(1:00:09.646)k18l20R1_SY
#TP0.904 TN0.985 FP0.015 FN0.096 ER0.027 RC0.904 PR0.909 F0.907 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 3522.756s(0:58:42.756)k20l20R1_SY

#TP0.907 TN0.985 FP0.015 FN0.093 ER0.026 RC0.907 PR0.912 F0.909 n4886 k100 FDsCns100ls10N40b50a1.6R1lx0sds 4555.852s(1:15:55.852)k15l20R1_SY***
#TP0.914 TN0.986 FP0.014 FN0.086 ER0.025 RC0.914 PR0.914 F0.914 n4886 k110 FDsCns110ls10N40b50a1.6R1lx0sds 4864.129s(1:21:04.128)k15l20R1_SY*****
#TP0.915 TN0.986 FP0.014 FN0.085 ER0.024 RC0.915 PR0.917 F0.916 n4886 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5574.968s(1:32:54.967)k15l20R1_SY******!!!!F0.916
#TP0.911 TN0.986 FP0.014 FN0.089 ER0.025 RC0.911 PR0.915 F0.913 n4886 k130 FDsCns130ls10N40b50a1.6R1lx0sds 6278.891s(1:44:38.890)k15l20R1_SY****

#TP0.910 TN0.985 FP0.015 FN0.090 ER0.025 RC0.910 PR0.912 F0.911 n4886 k120 FDsCns120ls10N40b50a1.6R1lx0sds 7148.077s(1:59:08.077)k15l20R1_SY u1404@susanoo

#20210305 by kuro 
n4886=7*698
../../12voicedata_ueki_all_k56l20R1_SY
#TP0.904 TN0.984 FP0.016 FN0.096 ER0.027 RC0.904 PR0.907 F0.905 n4886 k90 FDsCns90ls10N40b50a1.6R1lx0sds 4024.419s(1:07:04.419)k56l20R1_SY
#TP0.907 TN0.986 FP0.014 FN0.093 ER0.025 RC0.907 PR0.915 F0.911 n4886 k100 FDsCns100ls10N40b50a1.6R1lx0sds 4546.716s(1:15:46.716)k56l20R1_SY
#TP0.915 TN0.986 FP0.014 FN0.085 ER0.024 RC0.915 PR0.917 F0.916 n4886 k110 FDsCns110ls10N40b50a1.6R1lx0sds 5264.897s(1:27:44.897)k56l20R1_SY
#TP0.915 TN0.986 FP0.014 FN0.085 ER0.024 RC0.915 PR0.918 F0.917 n4886 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5377.330s(1:29:37.330)k56l20R1_SY best F
#TP0.908 TN0.986 FP0.014 FN0.092 ER0.025 RC0.908 PR0.914 F0.911 n4886 k130 FDsCns130ls10N40b50a1.6R1lx0sds 6040.623s(1:40:40.623)k56l20R1_SY
#TP0.908 TN0.986 FP0.014 FN0.092 ER0.025 RC0.908 PR0.915 F0.912 n4886 k140 FDsCns140ls10N40b50a1.6R1lx0sds 6775.040s(1:52:55.039)k56l20R1_SY
#TP0.915 TN0.986 FP0.014 FN0.085 ER0.024 RC0.915 PR0.917 F0.916 n4886 k150 FDsCns150ls10N40b50a1.6R1lx0sds 8016.669s(2:13:36.669)k56l20R1_SY
#TP0.908 TN0.985 FP0.015 FN0.092 ER0.026 RC0.908 PR0.912 F0.910 n4886 k160 FDsCns160ls10N40b50a1.6R1lx0sds 8346.611s(2:19:06.611)k56l20R1_SY
#TP0.904 TN0.986 FP0.014 FN0.096 ER0.026 RC0.904 PR0.914 F0.909 n4886 k200 FDsCns200ls10N40b50a1.6R1lx0sds 11913.626s(3:18:33.625)k56l20R1_SY


######################################################
#[2a] 部分分数展開し(M2PC.py)、極分布を求め(C2xPy）,学習識別(oob4speakerdigit+RX_20210426.py,oob4speakerdigit+RX_20200910.py) 
######################################################
##############
#[2a.1] M2PC.py(Mを部分分数C_i/(1-P_i z^(-1))に展開)で*-PC.datというP-C係数ファイルを作り，各行には Px Py Cx Cy　を保存．
##############
#copy&paste from here for step2a.1
export fn=${dr}/*-R${R}*-PC.dat;nfn=`ls ${fn}>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#nfn=$nfn -PC.dat files exist"
#export fn=${dr}/*-R${R}*-PC.dat; nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
###
#######Exec
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
if [ "$nfn" -lt "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
cmdPC="python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 -L $L -fnerr $fnerr"
echo "Executing $cmdPC"
date > nohup.out;echo $cmdPC>>nohup.out;nohup $cmdPC &
#date > nohup.out;nohup python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 &
###errorcheck
##export S=fms D=roku L=2; cmdPC="python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 -S $S -D $D -L $L"
##次元がk=10のとき、極数が９となることがあったのでM2PC.macを修正、PC2xPy.pyも修正
#nanのCi (n=402,i=8) があった。
##../../12voicedata_ueki_all_k10l0/mko-roku3-R1-PC.dat:0.6243918693768808 -0.8230316591435269 0.-nan 0.-nan 
##echo 'fnB:"../../12voicedata_ueki_all_k10l0/mko-roku3-R1";batchload("M2PC.mac");'|maxima
else
echo "#number of *-PC files $nfn==$nf is sufficient. Omit making PC fules."
fi
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
############check number of files created
export fn=${dr}/*-R${R}*-PC.dat;nfn=`ls ${fn}>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#nfn=$nfn *-PC.dat files exist"
############check number of files created
#copy&paste to here for step2a.1
###
export fn=${dr}/*-R${R}*-PC.dat;nfn=`ls ${fn}>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`;echo "#nfn=$nfn=?$nf $dr/*-PC.dat files exist"
###
#ElapsedTime 15137.643s(4:12:17.643) m_cpu8  ../../12voicedata_ueki_all_k20l5R1_Ku20omp2 susanoo
#ElapsedTime 33228.978s(9:13:48.977) m_cpu12 ../../12voicedata_ueki_all_k20l5R1_Ku20omp3 laptop
#ElapsedTime 17817.844s(4:56:57.844) ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20/ su
#ElapsedTime 4457.709s(1:14:17.709)  ../../12voicedata_ueki_all_k15l20R1_Ku20/ susanoo
#ElapsedTime 19522.251s(5:25:22.251) ../../12voicedata_ueki_all_k8l0R1N24a0.7b20_SY
#ElapsedTime 125423.999s(1 day, 10:50:23.999) k=15 l=0 
#ElapsedTime 19111.233s(5:18:31.233) for k=8 N=24
#ElapsedTime 23188.977s(6:26:28.977) for k=8 N=30
#ElapsedTime 23277.325s(6:27:57.324) for ../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY
#ElapsedTime 22902.855s(6:21:42.855) for ../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY t1=1000

##############
#[2a.2] 上記パラメタを持つxPy極分布ファイルの存在を調べ、なければ作る
##############
#copy&paste from here for step2a.2
export RX=0 #???
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export FD=rP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pPc #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export URA=0 #1 for use real axis, 0 for negrect real axis PC2xPy.py, 
export mel=0 lx=0 #0
export nx=16 nr=4 na=26 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=14 nr=2 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
if [ "${FD:0:1}" == "p" ]; then #xPyファイルの存在確認
#fn='${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat'
#nfn=`ls ${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat>tmp.txt 2>/dev/null;cat tmp.txt|wc -l`
export fn=${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat; nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
else
#fn=${dr}/mym-zero9-R${R}*-${FD}F${nx}G${nG}x${sG}.dat 
#nfn=`ls ${dr}/*-R${R}*-${FD}F${nx}G${nG}x${sG}.dat >tmp.txt 2>/dev/null;cat tmp.txt|wc -l`
export fn=${dr}/*-R${R}*-${FD}F${nx}G${nG}x${sG}.dat;export nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
fi
echo "#Number of *-$FD*.dat files=$nfn"
#######Exec
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
if [ "$nfn" -lt "$nf" ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
cmd0="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 0 -URA $URA -k $k"
echo "#Execute ${cmd0}"
${cmd0} #date > nohup.out;nohup ${cmd0}& #計算すぐ
fi
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
#copy&paste to here for step2a.2

##############
#[2a.3] 学習と話者識別実行 oob4speakerdigit+RX_20210426.py(oob4speakerdigit+RX_20200910.py)
##############
#copy&paste from here for step2a.3
export sX=-1;a=1.6;b=100;N=40; #
export sX=-1;a=0.7;b=20;N=40; #
export sX=-1;a=1.6;b=100;N=50; #
export sX=-1;a=1.6;b=50;N=50; #best for ../../12voicedata_ueki_all_k20l5R1_Ku20omp3
export sX=-1;a=1.6;b=50;N=70; #best for ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20omp2
export nlz=norm
export nlz=1
export mbas=2:${b}:${a}:1
export ow=0 #Do not do make clean;Use previous learning 
export ow=1 #make clean
export sd=d #digit (word) verification   #new version
export sd=s #speaker verification       #new version
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
#######Exec
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
export AF=../../12voicedata_ueki_all_k15l20R1_Ku20/FDsCns120ls10
export AF=\'\'
cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow -AF $AF"
#cmd="python oob4speakerdigit+RX_20210426.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow"
#cmd="python oob4speakerdigit+RX_20200910.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow"
echo "#Execute ${cmd}"
${cmd}&
#[2b.2] python oob4speakerdigit+RX_20210426.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k15l20R1_Ku20 -R 1 -mbas 2:100:1.6:1 -N 40 -sd s -sX -1 -FD sC -ns 120 -ls 10 -mel 0 -nlz norm -fnerr ''
#[2a.3] python oob4speakerdigit+RX_20210426.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20 -R 1 -RX 0 -mbas 2:200:1.6:1 -sd s -N 50 -sX -1 -FD pP1 -nx 14 -nr 2 -na 23 -nG 3 -sG 0.5 -mel 0 -nlz 1 -lx 0 -ow 1 
#date > nohup.out;nohup ${cmd}&
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute 
#######
#copy&paste to here for step2a.3
####################################
###############################################################
#Some Results via ubuntu14.04 
###############################################################
##LPC
#TP0.681 TN0.976 FP0.024 FN0.319 ER0.066 RC0.681 PR0.828 F0.747 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 354.391s(0:05:54.391) ../../12voicedata_ueki_all_k20l5R1_Ku20omp
#TP0.681 TN0.976 FP0.024 FN0.319 ER0.066 RC0.681 PR0.828 F0.747 n4410 k46 pPcF2x23G3x0.5m0N40b50a1.6R1lx0sds 361.414s(0:06:01.414) ../../12voicedata_ueki_all_k20l5R1_Ku20omp

#TP0.886 TN0.984 FP0.016 FN0.114 ER0.030 RC0.886 PR0.900 F0.893 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5678.452s(1:34:38.451) k15l20R1_Ku20/result-R1FDsCns120ls10N40b50a1.6R1.dat susanoo
#TP0.886 TN0.984 FP0.016 FN0.114 ER0.030 RC0.886 PR0.900 F0.893 n4410 k120 FDsCns120ls10N40b50a1.6R1lx0sds 5382.564s(1:29:42.563) k15l20R1_Ku20/result-R1FDsCns120ls10N40b50a1.6R1.dat laptop

#TP0.794 TN0.973 FP0.027 FN0.206 ER0.052 RC0.794 PR0.832 F0.812 n4410 k166 pP1F2x23G3x0.5m0N80b50a1.6R1lx0sds 12823.763s(3:33:43.762)  k8l0R1N50a0.7b20_Ku20-AF_k15l20R1_Ku20/FDsCns120ls10
 ../../12voicedata_ueki_all_XXXX (e.g. ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat)      
xxx#TP0.784 TN0.982 FP0.018 FN0.216 ER0.046 RC0.784 PR0.881 F0.830 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 2012.223s(0:33:32.222) k8l0R1N50a0.7b20_Ku20-AFk15l20R1_Ku20/FDsCns120ls10
xxx#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1529.561s(0:25:29.560) k8l0R1N50a0.7b20_Ku20-AFk15l20R1_Ku20/FDsCns120ls10
#TP0.781 TN0.987 FP0.013 FN0.219 ER0.042 RC0.781 PR0.911 F0.841 n4410 k166 FDsCns120ls10N40b50a1.6R1lx0sds 9164.853s(2:32:44.852)   k15l20R1_Ku20-AFk8l0R1N50a0.7b20_Ku20/pP1F2x23G3x0.5m0
#TP0.784 TN0.982 FP0.018 FN0.216 ER0.046 RC0.784 PR0.881 F0.830 n4410 k46 pP1F2x23G3x0.5m0N60b50a1.6R1lx0sds 2012.223s(0:33:32.222) k8l0R1N50a0.7b20_Ku20-AFk15l20R1_Ku20/FDsCns120ls10
#TP0.781 TN0.979 FP0.021 FN0.219 ER0.049 RC0.781 PR0.862 F0.819 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1529.561s(0:25:29.560) k8l0R1N50a0.7b20_Ku20-AFk15l20R1_Ku20/FDsCns120ls10
#TP0.781 TN0.984 FP0.016 FN0.219 ER0.045 RC0.781 PR0.888 F0.831 n4410 k46 pP1F2x23G3x0.5m0N50b100a1.6R1lx0sds 3519.217s(0:58:39.217) k8l0R1N50a0.7b20_Ku20 susanoo nlz=norm
#TP0.790 TN0.983 FP0.017 FN0.210 ER0.045 RC0.790 PR0.883 F0.834 n4410 k46 pP1F2x23G3x0.5m0N50b100a1.6R1lx0sds 3711.284s(1:01:51.283) k8l0R1N50a0.7b20_Ku20 susanoo  ***!!
#TP0.808 TN0.986 FP0.014 FN0.192 ER0.039 RC0.808 PR0.906 F0.854 n4410 k46 pP1F2x23G3x0.5m0N50b200a1.6R1lx0sds 6987.019s(1:56:27.018) k8l0R1N50a0.7b20_Ku20 susanoo *slow
#TP0.786 TN0.987 FP0.013 FN0.214 ER0.042 RC0.786 PR0.907 F0.842 n4410 k46 pP1F2x23G3x0.5m0N50b200a1.0R1lx0sds 5163.200s(1:26:03.200) k8l0R1N50a0.7b20_Ku20 susanoo *****
#TP0.784 TN0.983 FP0.017 FN0.216 ER0.045 RC0.784 PR0.885 F0.832 n4410 k46 pP1F2x23G3x0.5m0N40b100a1.6R1lx0sds 3043.575s(0:50:43.574) k8l0R1N50a0.7b20_Ku20 susanoo ****
#TP0.760 TN0.986 FP0.014 FN0.240 ER0.046 RC0.760 PR0.902 F0.825 n4410 k46 pP1F2x23G3x0.5m0N50b200a0.7R1lx0sds 4003.936s(1:06:43.936) k8l0R1N50a0.7b20_Ku20 susanoo 
#TP0.783 TN0.976 FP0.024 FN0.217 ER0.052 RC0.783 PR0.844 F0.812 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1526.307s(0:25:26.306) k8l0R1N50a0.7b20_Ku20 susanoo 
#TP0.668 TN0.971 FP0.029 FN0.332 ER0.073 RC0.668 PR0.791 F0.725 n4410 k46 pPcF2x23G3x0.5m0N40b50a1.6R1lx0sds 1513.883s(0:25:13.883)  k8l0R1N50a0.7b20_Ku20/ nlz=norm
#TP0.735 TN0.960 FP0.040 FN0.265 ER0.072 RC0.735 PR0.754 F0.744 n4410 k46 pP1F2x23G3x0.5m0N40b20a1.6R1lx0sds 618.999s(0:10:18.998) k8l0R1N50a0.7b20_Ku20 susanoo 
#TP0.776 TN0.979 FP0.021 FN0.224 ER0.050 RC0.776 PR0.861 F0.816 n4410 k46 pP1F2x23G3x0.5m0N50b100a2.3R1lx0sds 4896.020s(1:21:36.019) k8l0R1N50a0.7b20_Ku20 susanoo 
#TP0.775 TN0.986 FP0.014 FN0.225 ER0.044 RC0.775 PR0.900 F0.833 n4410 k46 pP1F2x23G3x0.5m0N50b100a1.0R1lx0sds 2598.505s(0:43:18.505) k8l0R1N50a0.7b20_Ku20 susanoo ***
#TP0.773 TN0.984 FP0.016 FN0.227 ER0.046 RC0.773 PR0.889 F0.827 n4410 k46 pP1F2x23G3x0.5m0N60b100a1.0R1lx0sds 2935.397s(0:48:55.397) k8l0R1N50a0.7b20_Ku20 susanoo 

#TP0.629 TN0.971 FP0.029 FN0.371 ER0.078 RC0.629 PR0.786 F0.698 n4410 k46 pPcF2x23G3x0.5m0N40b50a1.6R1lx0sds 1516.188s(0:25:16.188) k8l0R1N50a0.7b20_Ku20/ susanoo
#TP0.616 TN0.976 FP0.024 FN0.384 ER0.076 RC0.616 PR0.808 F0.699 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1509.011s(0:25:09.011) k15l20R1_Ku20 susanoo
#TP0.624 TN0.973 FP0.027 FN0.376 ER0.077 RC0.624 PR0.796 F0.699 n4410 k46 pPcF2x23G3x0.5m0N40b50a1.6R1lx0sds 1483.201s(0:24:43.201) k15l20R1_Ku20 susanoo

#TP0.449 TN0.945 FP0.055 FN0.551 ER0.126 RC0.449 PR0.576 F0.505 n4410 k46 pPcF2x23G3x0.5m0N40b50a1.6R1lx0sds 1451.438s(0:24:11.437) k15l20R1_Ku14 laptop
#TP0.457 TN0.941 FP0.059 FN0.543 ER0.128 RC0.457 PR0.562 F0.504 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1443.003s(0:24:03.002) k15l20R1_Ku14 laptop
#TP0.781 TN0.981 FP0.019 FN0.219 ER0.048 RC0.781 PR0.871 F0.823 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1465.855s(0:24:25.855) k8l0R1N50a0.7b20_Ku14 laptop
#TP0.791 TN0.976 FP0.024 FN0.209 ER0.050 RC0.791 PR0.847 F0.818 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1627.245s(0:27:07.244) k8l0R1N50a1.0b20_Su14 laptop xx
#TP0.789 TN0.981 FP0.019 FN0.211 ER0.046 RC0.789 PR0.876 F0.830 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1592.973s(0:26:32.972) k8l0R1N50a0.7b40_Su14 laptop**

#TP0.784 TN0.982 FP0.018 FN0.216 ER0.046 RC0.784 PR0.878 F0.828 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1625.881s(0:27:05.880) k8l0R1N60a0.7b20_Su14 laptop
#TP0.805 TN0.980 FP0.020 FN0.195 ER0.045 RC0.805 PR0.869 F0.836 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 2245.238s(0:37:25.237) k8l0R1N50a0.7b20_Su14 susanoo***F0.836 
#TP0.782 TN0.978 FP0.022 FN0.218 ER0.050 RC0.782 PR0.853 F0.816 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1817.405s(0:30:17.404) k8l0R1N50a0.7b20_Su20 susanoo
#TP0.779 TN0.979 FP0.021 FN0.221 ER0.049 RC0.779 PR0.862 F0.819 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1784.790s(0:29:44.789) k8l0R1N40a0.7b20_Su14　laptop
#TP0.777 TN0.979 FP0.021 FN0.223 ER0.050 RC0.+777 PR0.858 F0.815 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1785.805s(0:29:45.804)k8l0R1N30a0.7b20_Su14 laptop
20210401
../../12voicedata_ueki_all_k8l0R1N24a0.7b20_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat f1=1000
#TP0.787 TN0.975 FP0.025 FN0.213 ER0.052 RC0.787 PR0.842 F0.813 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1595.101s(0:26:35.101)

#copy&paste from here for step2a.3
python oob4speakerdigit+RX_20210426.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k15l20R1_Ku20 -R 1 -mbas 2:100:1.6:1 -N 40 -sd s -sX -1 -FD sC -ns 120 -ls 10 -mel 0 -nlz norm -fnerr '' -fn4AF ../../12voicedata_ueki_all_k8l0R1N50a0.7b20_Ku20/pP1F2x23G3x0.5m0train_xy.dat






20210401
cat ../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat f1=1000
#TP0.784 TN0.977 FP0.023 FN0.216 ER0.051 RC0.784 PR0.849 F0.815 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1584.218s(0:26:24.218)
"cat ../../12voicedata_ueki_all_k8l0R1N30a1.0b20_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat
#TP0.768 TN0.982 FP0.018 FN0.232 ER0.048 RC0.768 PR0.879 F0.820 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1595.119s(0:26:35.119)
cat ../../12voicedata_ueki_all_k8l0R1N30a0.7b20_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat #new
#TP0.768 TN0.982 FP0.018 FN0.232 ER0.048 RC0.768 PR0.879 F0.820 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1609.206s(0:26:49.205)
cat ../../12voicedata_ueki_all_k8l0R1N24a0.7b20_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat #original
#TP0.758 TN0.978 FP0.022 FN0.242 ER0.053 RC0.758 PR0.853 F0.803 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1579.273s(0:26:19.272) k8N30



#Do "cat ../../12voicedata_ueki_all_k8l0R1_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat" to see the result
#TP0.758 TN0.978 FP0.022 FN0.242 ER0.053 RC0.758 PR0.853 F0.803 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1590.806s(0:26:30.805) k8N24
#TP0.782 TN0.982 FP0.018 FN0.218 ER0.047 RC0.782 PR0.876 F0.827 n4886 k46 pP1F2x23G3x0.5m0N40b100a1.6R1lx0sds 3210.860s(0:53:30.860)
../../12voicedata_ueki_all_k15l20R1_SY/result-R1pP1F2x23G3x0.5m0N40b50a1.6R1.dat
#TP0.646 TN0.970 FP0.030 FN0.354 ER0.076 RC0.646 PR0.784 F0.709 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1686.607s(0:28:06.607)
#TP0.638 TN0.978 FP0.022 FN0.362 ER0.071 RC0.638 PR0.829 F0.721 n4886 k104 pP1F4x26G3x0.5m0N40b50a1.6R1lx0sds 5186.063s(1:26:26.063)
#TP0.619 TN0.969 FP0.031 FN0.381 ER0.081 RC0.619 PR0.769 F0.686 n4886 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 1574.752s(0:26:14.752)k15l0R1_SY


###platform K (Komatsu) 混合比 R=1 と0.8
export R=1 #0.8
python oob4speakerdigit+RX_20200910.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9 -dr ../../12voicedata_ueki_all_k8l0R1_K -R $R -RX 0 -mbas 2:50:1.6:1 -sd s -N 40 -sX -1 -FD pP1 -nx 14 -nr 2 -na 23 -nG 3 -sG 0.5 -mel 0 -nlz 1 -lx 0 -ow 1
#TP0.775 TN0.978 FP0.022 FN0.225 ER0.051 RC0.775 PR0.855 F0.813 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 2118.327s(0:35:18.327)
#TP0.462 TN0.965 FP0.035 FN0.538 ER0.107 RC0.462 PR0.688 F0.553 n4410 k46 pP1F2x23G3x0.5m0N40b100a1.6R0.8lx0sds 4437.380s(1:13:57.380)###platform K (Komatsu) 混合比 R=0.8
0.456 0.983 0.017 0.544 0.092 = 41 531 9 49 58 # 630 fhs 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.411 0.978 0.022 0.589 0.103 = 37 528 12 53 65 # 630 fms 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.589 0.965 0.035 0.411 0.089 = 53 521 19 37 56 # 630 mkk 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.500 0.954 0.046 0.500 0.111 = 45 515 25 45 70 # 630 mko 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.511 0.970 0.030 0.489 0.095 = 46 524 16 44 60 # 630 mmt 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.389 0.959 0.041 0.611 0.122 = 35 518 22 55 77 # 630 mnh 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.378 0.946 0.054 0.622 0.135 = 34 511 29 56 85 # 630 mym 0.8 0 2:100:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#TP0.462 TN0.965 FP0.035 FN0.538 ER0.107 RC0.462 PR0.688 F0.553 n4410 k46 pP1F2x23G3x0.5m0N40b100a1.6R0.8lx0sds 4437.380s(1:13:57.380)

#old?## platform SY
#old?#speaker identification (sd=s) via [2a] with CAN2 pole distribution and spectral envelope 
#old?#pole distribution 
#old?#TP0.834 TN0.990 FP0.010 FN0.166 ER0.026 RC0.834 PR0.904 F0.867 n6980 k104 pP1F4x26G3x0.5m0N40b50a1.6R1lx0 8583.745s(2:23:03.745)cat ../../12voicedata_ueki_all_k8N24/ sd=s
#old?#result with k10b100 worse than k8b50 above 
#old?#TP0.802 TN0.987 FP0.013 FN0.198 ER0.040 RC0.802 PR0.911 F0.853 n6980 k104 pP1F4x26G3x0.5m0N40b100a1.6R1lx0 11685.256s(3:14:45.255)cat ../../12voicedata_ueki_all_k10N24/
#old?#spectral envelope via pLPC(CAN2)
#old?#TP0.691 TN0.969 FP0.031 FN0.309 ER0.071 RC0.691 PR0.786 F0.735 n6980 k90 FDsCns90ls10N40b50a1.6R1lx0 4861.562s(1:21:01.561) cat ../../12voicedata_ueki_all_k10N24/ sd=s
#old?#TP0.784 TN0.979 FP0.021 FN0.216 ER0.049 RC0.784 PR0.863 F0.821 n6980 k90 FDSCns90ls10N40b50a1.6R1lx0 4836.769s(1:20:36.769)cat ../../12voicedata_ueki_all_k10N24/ sd=s
#old?#spectral envelope via LPC
#old?#TP0.736 TN0.984 FP0.016 FN0.264 ER0.052 RC0.736 PR0.883 F0.803 n6980 k90 FDsCns90ls10N40b50a1.6R1lx0 4180.309s(1:09:40.309)cat ../../12voicedata_ueki_all_k70l20 sd=s
#old?#TP0.490 TN0.948 FP0.052 FN0.510 ER0.117 RC0.490 PR0.612 F0.544 n6980 k90 FDSCns90ls10N40b50a1.6R1lx0 3862.580s(1:04:22.580)cat ../../12voicedata_ueki_all_k70l20/ sd=s
#old?
#old?#sd=d
#old?#TP0.841 TN0.992 FP0.008 FN0.159 ER0.023 RC0.841 PR0.922 F0.879 k104 pP1F4x26G3x0.5m0N40b100a1.6R1lx0 14270.964s(3:57:50.963)cat ../../12voicedata_ueki_all_k8l0 sd=d
#old?#TP0.822 TN0.986 FP0.014 FN0.178 ER0.030 RC0.822 PR0.871 F0.846 n6980 k90 FDSCns90ls10N40b50a1.6R1lx0sdd 5695.346s(1:34:55.346) cat ../../12voicedata_ueki_all_k8l0sd=d
#old?#TP0.709 TN0.974 FP0.026 FN0.291 ER0.053 RC0.709 PR0.751 F0.730 n6980 k90 FDsCns90ls10N40b50a1.6R1lx0sdd 5660.896s(1:34:20.895) cat ../../12voicedata_ueki_all_k8l0sd=d

#TP0.759 TN0.984 FP0.016 FN0.241 ER0.038 RC0.759 PR0.844 F0.799 k90 FDsCns90ls10N40b50a1.6R1lx0 6015.656s(1:40:15.655) cat ../../12voicedata_ueki_all_k70l20/ sd=d
#TP0.504 TN0.975 FP0.025 FN0.496 ER0.072 RC0.504 PR0.693 F0.584 k90 FDSCns90ls10N40b50a1.6R1lx0 5671.541s(1:34:31.540)cat ../../12voicedata_ueki_all_k70l20/ sd=d


############################################
#[3] Experiments for speaker retrieval for Komatsu (小松君)
############################################
##
#[3.1] 特徴ベクトルファイル　$dr/[s]-[d][l]-[Fext].dat　を
#  　　　　　　　　　　　    $dr/[Fext]/[s]-[d][l]-p.dat　の形式のファイルにコピー
#######
export R=1 #0.8
#export dr=~/sotu/2020/12voicedata_ueki_all_k8l0R${R}N$Na$ab$b_K
export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
export Fext=pP1F2x23G3x0.5m0 Fext2=p nlz=1 #nlz=norm,max,or 1
#######Exec
if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute
python cpF2D.py -dr $dr -S $S -D $D -L $L -Fext $Fext -Fext2 $Fext2 -fnerr $fnerr -nlz $nlz
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute
#######

####
#[3.2] [3.1]等で作った*-p.dat(on Kurogi's NotePC) から　[].yと [].ystat を作る
make data-clean
#(1) *-p.dat から[].yと [].ystat を作る
export platform=K
export R=1 #0.8
#export dr=~/sotu/2020/12voicedata_ueki_all_k8l0R${R}_${platform}
#export dr=~/sotu/2020/12voicedata_ueki_all_k8l0R${R}N$Na$ab$b_K
#export dr=${dl}_k${k}l${l}R${R}N${N}a$ab$b_${platform}; 
export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
export nL=9 a=0.7 b=100 N=40 IDR="_can2m" 
export nL=9 a=1.6 b=300 N=40 IDR="_can2m" #IDR to discriminate the Result for real exec
export nL=9 a=1.6 b=50 N=40 IDR="_can2m" #IDR to discriminate the Result for test exec
export nL=9 a=0.7 b=50 N=40 IDR="_can2m" #IDR to discriminate the Result for test exec
export dirp=$dr/pP1F2x23G3x0.5m0
export fn1=`ls $dirp/*-p.dat|head -1`
export k=`cols.sh $fn1`
export S=fhs:fms:mkk:mko:mmt:mnh:mym
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export nL=9
export OnlyEnvSet=0
###
for sX in -1 0 1 2 3 4 5 6; do #for sX in -1 ; do # sX=-1 for all OOB, sX>0 for Identification involving unregistered Speaker
cmd="oob4speakerdigit+sX_20201204komatsu_can2m sp:$S tx:$D nL:$nL k:$k mbas:2:${b}:${a}:1 dir:$dirp s:-1 N:${N} sX:${sX} IDR:$IDR"
echo -n "#Exec $cmd \n";
if [ "$OnlyEnvSet" != 1 ];then $cmd ;fi
##
#obtain Recall, Precesion, F-value of the above ystat
##
export f=$dirp/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}${IDR}.ystat
cmd1="cat $f";echo $cmd1;
if [ "$OnlyEnvSet" != 1 ];then 
$cmd1
cat $f|awk 'BEGIN{nsum=0;TP=TN=FP=FN=ERR=0}{if(NR>1){TP+=$7;TN+=$8;FP+=$9;FN+=$10;ERR+=$11;n=$12;nsum+=n}}END{RC=TP/(TP+FN);PR=TP/(TP+FP);F=2*RC*PR/(RC+PR);printf("%.3f %.3f %.3f %.3f %.3g %.3f %.3f %.3f %d ##### Mean TPR TNR FPR FNR ERR RC PR F n",TP/(TP+FN),TN/(TN+FP),FP/(TN+FP),FN/(TP+FN),ERR/nsum,RC,PR,F,nsum)}'
echo " R${R} sX${sX}"
fi #for if [ "$OnlyEnvSet" != 1 ];then ######### Do Execute
done #for for sX in -1 ; 
###########

###oob4speakerdigit+sX_20201204komatsu_can2m sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:si:go:roku:nana:hachi:kyu nL:9 k:46 mbas:2:50:1.6:1 dir:/home/kuro/sotu/2020/12voicedata_ueki_all_k8l0R0.8_K/pP1F2x23G3x0.5m0 s:-1 N:40 sX:-1 IDR:_K

###########
#結果とコメント
#(a) can2m（上）とcan2b (~/sotu/2020/can2b)のoob4speakerdigit+sX... 結果は少し違うが，アルゴリズムが少し違うため？
#(b) oob4speakerdigit+sX..とoob4speakerdigit+RX...は正解判定基準も少し違う。
#例えば，fhsとfmsを0.8:0.2の比率で混合した音声を，fmsを学習したCAN2で正の値(>0)出力した場合、
oob4speakerdigit+sX...は不正解とするがoob4speakerdigit+RX...は正解とする．
#結果1
## oob4speakerdigit+sX_20201204komatsu_can2m (in ~/sotu/2020/can2m/tsp/) with nL=9 a=1.6 b=50 N=40 
0.767 0.980 0.020 0.233 0.0508 0.767 0.863 0.812 4410 ##### Mean TP TN FP FN ERR RC PR F n R1 sX-1 #can2m(~/sotu/2020/can2m/tsp)
0.463 0.954 0.046 0.537 0.116 0.463 0.625 0.532 4410 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX-1#can2m(~/sotu/2020/can2m/tsp)
## oob4speakerdigit+sX_20201204komatsu       (in ~/sotu/2020/can2b/) with nL=9 a=1.6 b=50 N=40
0.781 0.977 0.023 0.219 0.0508 0.781 0.851 0.815 4410 ##### Mean TP TN FP FN ERR RC PR F n R1 sX-1#can2b(~/sotu/2020/can2b/)
0.444 0.956 0.044 0.556 0.117 0.444 0.629 0.521 4410 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX-1 #can2b(~/sotu/2020/can2b/)
## oob4speakerdigit+RX_20200910.py (上の[2a.3];(in ~/sotu/2020/can2m/tsp/))
TP0.775 TN0.978 FP0.022 FN0.225 ER0.051 RC0.775 PR0.855 F0.813 n4410 k46 pP1F2x23G3x0.5m0N40b50a1.6R1lx0sds 2118.327s(0:35:18.327)
TP0.462 TN0.965 FP0.035 FN0.538 ER0.107 RC0.462 PR0.688 F0.553 n4410 k46 pP1F2x23G3x0.5m0N40b100a1.6R0.8lx0sds 4437.380s(1:13:57.380)

#結果2
## oob4speakerdigit+sX_20201204komatsu_can2m (in ~/sotu/2020/can2m/tsp/) with R=1 a=0.7 b=50 N=40 for sX in -1 0 1 2 3 4 5 6
0.767 0.986 0.014 0.233 0.0454 0.767 0.901 0.828 4410 ##### Mean TP TN FP FN ERR RC PR F n R1 sX-1
0.756 0.981 0.019 0.244 0.0568 0.756 0.887 0.816 3240 ##### Mean TPR TNR FPR FNR ERR RC PR F n R1 sX0
0.750 0.980 0.020 0.250 0.0586 0.750 0.880 0.810 3240 ##### Mean TPR TNR FPR FNR ERR RC PR F n R1 sX1
0.783 0.984 0.016 0.217 0.0491 0.783 0.910 0.842 3240 ##### Mean TPR TNR FPR FNR ERR RC PR F n R1 sX2
0.815 0.985 0.015 0.185 0.0432 0.815 0.917 0.863 3240 ##### Mean TPR TNR FPR FNR ERR RC PR F n R1 sX3


0.770 0.983 0.017 0.230 0.0525 0.770 0.900 0.830 3240 ##### Mean TP TN FP FN ERR RC PR F n R1 sX4
0.802 0.988 0.012 0.198 0.0432 0.802 0.929 0.861 3240 ##### Mean TP TN FP FN ERR RC PR F n R1 sX5
0.815 0.987 0.013 0.185 0.042 0.815 0.924 0.866 3240 ##### Mean TP TN FP FN ERR RC PR F n R1 sX6

## oob4speakerdigit+sX_20201204komatsu_can2m (in ~/sotu/2020/can2m/tsp/) with R=0.8 a=0.7 b=50 N=40 for sX in -1 0 1 2 3 4 5 6
0.397 0.976 0.024 0.603 0.107 0.397 0.733 0.515 4410 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX-1
0.396 0.967 0.033 0.604 0.128 0.396 0.709 0.508 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX0
0.426 0.969 0.031 0.574 0.122 0.426 0.730 0.538 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX1
0.413 0.969 0.031 0.587 0.124 0.413 0.726 0.527 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX2
0.437 0.969 0.031 0.563 0.12 0.437 0.735 0.548 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX3
0.424 0.973 0.027 0.576 0.119 0.424 0.758 0.544 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX4
0.476 0.970 0.030 0.524 0.112 0.476 0.760 0.585 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX5
0.441 0.975 0.025 0.559 0.114 0.441 0.778 0.563 3240 ##### Mean TP TN FP FN ERR RC PR F n R0.8 sX6

## oob4speakerdigit+sX_20201204komatsu (in ~/sotu/2020/can2b/) with R=1 a=0.7 b=50 N=40 for sX in -1 0 1 2 3 4 5 6
0.730 0.986 0.014 0.270 0.0503 0.730 0.898 0.806 4410 ##### Mean TP TN FP FN ERR RC PR F n R1 sX-1
0.754 0.969 0.031 0.246 0.0622 0.754 0.800 0.776 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX0
0.731 0.965 0.035 0.269 0.0685 0.731 0.776 0.753 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX1
0.791 0.970 0.030 0.209 0.0556 0.791 0.815 0.803 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX2
0.800 0.972 0.028 0.200 0.0524 0.800 0.828 0.814 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX3
0.791 0.968 0.032 0.209 0.0571 0.791 0.806 0.798 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX4
0.789 0.966 0.034 0.211 0.0595 0.789 0.793 0.791 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX5
0.809 0.978 0.022 0.191 0.0463 0.809 0.859 0.833 3780 ##### Mean TP TN FP FN ERR RC PR F n R1 sX6

############
##R=0.8
## oob4speakerdigit+sX_20201204komatsu_can2m (in ~/sotu/2020/can2m/tsp/)
#0.464 0.954 0.046 0.536 0.001 0.909 0.464 0.614 4410 ##### Mean TP TN FP FN ERR RC PR F n sX-1 #can2m(~/sotu/2020/can2m/tsp/)
## oob4speakerdigit+sX_20201204komatsu       (in ~/sotu/2020/can2b/)
#0.444 0.957 0.043 0.556 0.001 0.911 0.444 0.597 4410 ##### Mean TP TN FP FN ERR RC PR F n sX-1 #can2b(~/sotu/2020/can2b/)
## oob4speakerdigit+RX_20200910.py (上の[2a.3];(in ~/sotu/2020/can2m/tsp/))
#TP0.462 TN0.965 FP0.035 FN0.538 ER0.107 RC0.462 PR0.688 F0.553 n4410 k46 pP1F2x23G3x0.5m0N40b100a1.6R0.8lx0sds 4437.380s(1:13:57.380)
############

############
for sX in -1 ; do #for sX in -1 0 1 2 3 4 5 6; do #
wc ../../12voicedata_ueki_all_k8l0R0.8_K/pP1F2x23G3x0.5m0/oob4s:-1N40mbas2:50:1.6:1sX${sX}${IDR}.y
done
########################
#move to ~/sotu/2020/can2b/readme.can2bonsei
########################


#export SL=( `echo $S | tr -s ':' ' '`)


wc ../../../2012/12voicedata/allpole/oob4s:-1N40mbas2:50:1.6:1sX-1_K.y
cat ../../../2012/12voicedata/allpole/oob4s:-1N40mbas2:50:1.6:1sX-1_K.ystat|awk

#cmd='cat {}'.format(fnrX)+'|awk \'BEGIN{n=0;TP=TN=FP=FN=ERR=0}{n++;TP+=$1;TN+=$2;FP+=$3;FN+=$4;ERR+=$5}END{printf("%.3f %.3f %.3f %.3f %.3f %d #mean TP TN FP FN ERR n'+' k{}sd{} {}\\n"'.format(k,FDextr,args.sd,etime)+',TP/n,TN/n,FP/n,FN/n,ERR/n,n)}\''+ '>>{}'.format(fnrX)

oob4speakerdigit+sX_20201204komatsu_can2m sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:si:go:roku:nana:hachi:kyu nL:9 k:46 mbas:2:50:1.6:1 dir:/home/kuro/sotu/2020/12voicedata_ueki_all_k8l0R1_K/pP1F2x23G3x0.5m0 s:-1 N:40 sX:-1 IDR:_can2m 
0.889 0.991 0.009 0.111 0.0238 = 80 535 5 10 15 630 #TP,TN,FP,FN,ER=...#n,sm0 
0.878 1.000 0.000 0.122 0.0175 = 79 540 0 11 11 630 #TP,TN,FP,FN,ER=...#n,sm1 
0.756 0.972 0.028 0.244 0.0587 = 68 525 15 22 37 630 #TP,TN,FP,FN,ER=...#n,sm2 
0.689 0.967 0.033 0.311 0.073 = 62 522 18 28 46 630 #TP,TN,FP,FN,ER=...#n,sm3 
0.744 0.978 0.022 0.256 0.0556 = 67 528 12 23 35 630 #TP,TN,FP,FN,ER=...#n,sm4 
0.778 0.974 0.026 0.222 0.054 = 70 526 14 20 34 630 #TP,TN,FP,FN,ER=...#n,sm5 
0.633 0.976 0.024 0.367 0.073 = 57 527 13 33 46 630 #TP,TN,FP,FN,ER=...#n,sm6 
0.110 0.840 0.017 0.033 0.0508 0.863 0.767 0.812 4410 ##### Mean TP TN FP FN ERR RC PR F n sX-1

#oob4speakerdigit+sX_201204komatsu sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu:rei:si:sichi:ku ntxi:10 k:36 mbas:2:50:1.6:1 dir:../../../2012/12voicedata/allpole s:-1 N:40 sX:-1 IDR:_K nL:9 
0.952 0.976 0.024 0.048 8.098e-05 0.976 0.952 0.964 882 0 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm0
0.937 0.983 0.017 0.063 9.148e-05 0.982 0.937 0.959 882 1 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm1
0.968 0.971 0.029 0.032 6.899e-05 0.971 0.968 0.970 882 2 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm2
0.976 0.963 0.037 0.024 6.899e-05 0.963 0.976 0.970 882 3 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm3
0.889 0.976 0.024 0.111 1.530e-04 0.974 0.889 0.929 882 4 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm4
0.929 0.954 0.046 0.071 1.335e-04 0.953 0.929 0.940 882 5 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm5
0.873 0.968 0.032 0.127 1.800e-04 0.965 0.873 0.917 882 6 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm6

#oob4speakerdigit+sX_201204komatsu sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu:rei:si:sichi:ku ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../../2012/12voicedata/allpole s:-1 N:40 sX:-1 IDR:_A nL:9 
0.984 0.984 0.016 0.016 3.599e-05 0.984 0.984 0.984 882 0 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm0
0.968 0.985 0.015 0.032 5.249e-05 0.985 0.968 0.977 882 1 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm1
0.944 0.978 0.022 0.056 8.848e-05 0.977 0.944 0.960 882 2 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm2
0.937 0.974 0.026 0.063 1.020e-04 0.973 0.937 0.954 882 3 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm3
0.937 0.988 0.012 0.063 8.548e-05 0.987 0.937 0.961 882 4 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm4
0.944 0.967 0.033 0.056 1.005e-04 0.966 0.944 0.955 882 5 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm5
0.921 0.981 0.019 0.079 1.110e-04 0.980 0.921 0.950 882 6 #TP,TN,FP,FN,ERR,RC,PR,F,n,sm6















#???old
#word identification (sd=d) with python mkM_lpc.py, M2s.py, oob4speakerdigit+RX_20200910.py 
#TP0.759 TN0.984 FP0.016 FN0.241 ER0.038 RC0.759 PR0.844 F0.799 k90 FDsCns90ls10N40b50a1.6R1lx0 5375.163s(1:29:35.163) cat ../../12voicedata_ueki_all_LPCk70l20p0
#TP0.749 TN0.985 FP0.015 FN0.251 ER0.039 RC0.749 PR0.846 F0.795 k90 FDsCns90ls10N40b50a1.6R1lx0 5681.304s(1:34:41.303) cat ../../12voicedata_ueki_all_LPCk80l20p0
#TP0.504 TN0.975 FP0.025 FN0.496 ER0.072 RC0.504 PR0.693 F0.584 k90 FDSCns90ls10N40b50a1.6R1lx0 5057.572s(1:24:17.572) cat ../../12voicedata_ueki_all_LPCk70l20p0

#TP0.768 TN0.974 FP0.026 FN0.232 ER0.056 RC0.768 PR0.830 F0.798 k100 FDSCns100ls10N40b50a1.6R1lx0 4511.661s(1:15:11.661)cat ../../12voicedata_ueki_all_k8N24/
#???
#TP0.736 TN0.984 FP0.016 FN0.264 ER0.052 RC0.736 PR0.883 F0.803 k90 FDsCns90ls10N40b50a1.6R1lx0 3693.874s(1:01:33.873) ./../12voicedata_ueki_all_LPCk70l20p0
#TP0.726 TN0.985 FP0.015 FN0.274 ER0.052 RC0.726 PR0.889 F0.800 k90 FDsCns90ls10N40b50a1.6R1lx0 3694.639s(1:01:34.638) ../../12voicedata_ueki_all_LPCk80l20p0
#TP0.728 TN0.982 FP0.018 FN0.272 ER0.054 RC0.728 PR0.873 F0.794 k90 FDsCns90ls10N40b50a1.6R1lx0 3718.594s(1:01:58.594) ../../12voicedata_ueki_all_LPCk60l20N40
#TP0.519 TN0.955 FP0.045 FN0.481 ER0.107 RC0.519 PR0.658 F0.580 k90 FDSCns90ls10N40b50a1.6R1lx0 3398.064s(0:56:38.064) cat ../../12voicedata_ueki_all_LPCk80l20

python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 1 -k 40 -l 20 -mp_th 0.0 -nDisp 5 -dbgi 2
#TP0.722 TN0.979 FP0.021 FN0.278 ER0.058 RC0.722 PR0.850 F0.781 k90 FDsCns90ls10N40b50a1.6R1lx0 3694.296s(1:01:34.295)
python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 1 -k 20 -l 20 -mp_th 0.0 -nDisp 5 -dbgi 2
#TP0.678 TN0.967 FP0.033 FN0.322 ER0.074 RC0.678 PR0.774 F0.723 k90 FDsCns90ls10N40b50a1.6R1lx0 3637.420s(1:00:37.420) k20l20mp_th0
python mkM_lpc.py -dr $dr -R $R -DISP 0 -ow 1 -k 32 -l 30 -mp_th 0.0 -nDisp 5 -dbgi 2
#TP0.689 TN0.976 FP0.024 FN0.311 ER0.065 RC0.689 PR0.828 F0.752 k90 FDsCns90ls10N40b50a1.6R1lx0 3660.214s(1:01:00.214) k32l30mp_th0

python oob4speakerdigit+RX_20200910.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9:10 -dr ../../12voicedata_ueki_all_k8 -R 1 -RX 0 -mbas 2:50:1.6:1 -s -1 -N 40 -sd s -kl k50l20 -FD sC -ns 90 -ls 10 -mel 0 -nlz norm

#TP0.722 TN0.977 FP0.023 FN0.278 ER0.060 RC0.722 PR0.837 F0.775 k90 FDsCns90ls10N40b50a1.6R1lx0 3672.884s(1:01:12.884)

#TP0.709 TN0.976 FP0.024 FN0.291 ER0.062 RC0.709 PR0.831 F0.765 k90 FDsCns90ls10N40b50a1.6R1lx0 3651.893s(1:00:51.893) k32l20mp_th0
#TP0.706 TN0.975 FP0.025 FN0.294 ER0.063 RC0.706 PR0.826 F0.761 k80 FDsCns80ls10N40b50a1.6R1lx0 3107.235s(0:51:47.234)
#TP0.701 TN0.977 FP0.023 FN0.299 ER0.063 RC0.701 PR0.833 F0.761 k100 FDsCns100ls10N40b50a1.6R1lx0 4459.871s(1:14:19.871)
#TP0.703 TN0.975 FP0.025 FN0.297 ER0.064 RC0.703 PR0.825 F0.759 k120 FDsCns120ls10N40b50a1.6R1lx0 5552.545s(1:32:32.545)
#TP0.699 TN0.976 FP0.024 FN0.301 ER0.063 RC0.699 PR0.830 F0.759 k90 FDsCns90ls10N50b50a1.6R1lx0 4137.625s(1:08:57.624)
#TP0.702 TN0.971 FP0.029 FN0.298 ER0.067 RC0.702 PR0.803 F0.749 k90 FDsCns90ls10N30b50a1.6R1lx0 3214.673s(0:53:34.672)

#elapsed time:3651.893s(1:00:51.893)@2020-12-12 00:19:15.671440 for m6:mym
0.727 0.977 0.023 0.273 0.059 = 72 585 14 27 41 # 698 fhs 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.760 0.985 0.015 0.240 0.047 = 76 589 9 24 33 # 698 fms 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.860 0.970 0.030 0.140 0.046 = 86 580 18 14 32 # 698 mkk 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.630 0.985 0.015 0.370 0.066 = 63 589 9 37 46 # 698 mko 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.667 0.972 0.028 0.333 0.072 = 66 582 17 33 50 # 698 mmt 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.680 0.960 0.040 0.320 0.080 = 68 574 24 32 56 # 698 mnh 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
0.640 0.983 0.017 0.360 0.066 = 64 588 10 36 46 # 698 mym 1 0 2:50:1.6:1 40 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#TP0.709 TN0.976 FP0.024 FN0.291 ER0.062 RC0.709 PR0.831 F0.765 k90 FDsCns90ls10N40b50a1.6R1lx0 3651.893s(1:00:51.893)

#下述の「20191205 ← 20191118 #20180606の再試行＋修正」の(1)~
(3-2a-1) M2PC.py　で*-PC.datというファイルを作り，各行には Px Py Cx Cy　を保存．
# Mを部分分数 C_i/(1-P_i z^(-1)) に展開し，
# 極：P_i を　P = Px + j Py = exp(a+jw) = r exp(jw)
# 零：C_i を  C = Cx + j Cy = c exp(jb)  
rm -f nohup.out;nohup python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 &

export dl=../../12voicedata_ueki_all; 
#export dr=${dl}_k8; #mkdir -p $dq  #pole new
#export dr=${dl}_k${k}l${l}R${R}N${N}a$ab$b_${platform}; 
export dr=${dl}_k${k}l${l}R${R}N${N}a${a}b${b}_${platform}; mkdir -p $dr  #l>0 for LPC, l=0 for CAN2(pLPC) #new
export sX=-1;a=1.6;b=10;N=40;# for short time check
export sX=-1;a=1.6;b=40;N=100; #??
export sX=-1;a=1.6;b=40;N=400; #????
export sX=-1;a=1.6;b=400;N=40; #?best 18aihc!
export sX=-1;a=1.6;b=300;N=40; #?
export sX=-1;a=1.6;b=100;N=50; #?
export sX=-1;a=0.7;b=100;N=30; #
export sX=-1;a=1.6;b=100;N=40; #
export mbas=2:${b}:${a}:1
#
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
export R=0.8; RX=0 #R=1
nlz=norm
###
# set Feature size nx for (nx)*(nx/2)-recutangular image , and nr and na for (nr)*(na)-polar image 
###
export nx=10 nr=4 na=26 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=2 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
#
export FD=rP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pPc #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export mel=0 lx=0 #0
#
rm -f nohup.out;
#(2-0) 上記パラメタを持つxPyファイルの存在を調べ、なければ作る←(1-3-2)

#nfn=`ls ${dr}/*-R${R}-FD${FD}ns${ns}ls${ls}.dat|wc -l`;echo -n "#$nfn spectrum files"
export fn=${dr}/*-R${R}-FD${FD}ns${ns}ls${ls}.dat;export nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
if [ "${FD:0:1}" == "p" ]; then #xPyファイルの存在確認
#nfn=`ls ${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat|wc -l`
export fn=${dr}/*-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat;export nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
#fn=${dr}/mym-zero9-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat 
else
export fn=${dr}/${dr}/*-R${R}*-${FD}F${nx}G${nG}x${sG}.dat;export nfn=`ls $fn|wc -l`;echo "#nfn=$nfn files exist"
#nfn=`ls ${dr}/*-R${R}*-${FD}F${nx}G${nG}x${sG}.dat|wc -l`
#fn=${dr}/mym-zero9-R${R}*-${FD}F${nx}G${nG}x${sG}.dat 
fi
if [ "$nfn" -eq 698 ]; then # if [ ! -e $fn ]; then #ファイルがなければ作る
#if [ ! -e $fn ]; then #xPyファイルがなければ作る(1-3-2)
cmd0="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 0"
echo "#Execute ${cmd0}"
${cmd0} > nohup.out
fi
#(2-1) 学習と話者識別実行(時間がかかる）
cmd="python oob4speakerdigit+RX_20191113.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -s -1 -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr=$nr -na=$na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx"
echo "#Execute ${cmd}"
nohup ${cmd}&




#20200919 for levinson_durbun.py for lpc-spectrum envelope spokenword verification
############################################
(0) See 20191205 for #(0) 前処理（データ正規化）（以前の処理と同じ）
(1) LPC係数を求める
python levinson_durbin.py -yin ../../12voicedata_ueki_all_n/mym-ku10.dat
python lpcspectrumenvelope.py -k 34 -yin ../../12voicedata_ueki_all_n/mym-ku10.dat
#check 20210208
export S=mmt L=8 D=ichi k=56 #check 20210208
#python levinson_durbin.py -yin ../../12voicedata_ueki_all_n/${S}-${D}${L}.dat 
python lpcspectrumenvelope.py -k $k -l 20 -yin ../../12voicedata_ueki_all_n/${S}-${D}${L}.dat -nDisp -1

(2) 極を計算
############################################
#20200909 for spokenword verification
############################################
See [2] after #20200521 for ICONIP2020
oob4speakerdigit+RX_20200910.py
##################
[2] 学習と識別実験
##################
#連想行列１つ毎にストップ
make all-clean;make
dl=../../12voicedata_ueki_all; 
dr=${dl}_k8; #mkdir -p $dr  #
df=${dl}_f
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
export R=1; RX=0 #R=1
export nlz=norm
export R=1 #R=1:0.8:0.6:0.4:0.2
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export FD=rP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export URA=0 #1 for use real axis, 0 for negrect real axis PC2xPy.py, 
export mel=0 lx=0 #0
export sX=-1;a=1.6;b=100;N=40; #
export sX=-1;a=1.6;b=50;N=40; #
export mbas=2:${b}:${a}:1
export nx=14 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=16 nr=4 na=26 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10

rm -f nohup.out;
#(2-0) 上記パラメタを持つxPyファイルの存在を調べ、なければ作る←(1-3-2)
if [ "${FD:0:1}" == "p" ]; then #xPyファイルの存在確認
fn=${dr}/mym-zero9-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat 
else
fn=${dr}/mym-zero9-R${R}*-${FD}F${nx}G${nG}x${sG}.dat 
fi
if [ ! -e "$fn" ]; then #xPyファイルがなければ作る(1-3-2) #URAは特別処理 ？？
cmd0="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 0 -URA $URA"
echo "#Execute ${cmd0}"
${cmd0} > nohup.out
fi
#(2-1) 学習と話者識別実行(時間がかかる）
make
#(1) tune a,b,N via checking error for sX of speaker-CAN2 with "-s -1"
#(2) tune a,b,N via checking error for sX of digit-CAN2   with "-d -1"
export ow=0 #Do not do make clean;Use previous learning 
export ow=1 #make clean
#export sd=-d #digit(word) verification #old version
#export sd=-s #speaker verification     #old version
export sd=s #speaker verification       #new version
export sd=d #digit(word) verification   #new version
cmd="python oob4speakerdigit+RX_20200910.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -sd $sd -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr=$nr -na=$na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx -ow $ow"
#python oob4speakerdigit+RX_20200910.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9:10 -dr ../../12voicedata_ueki_all_k8 -R 1 -RX 0 -mbas 2:100:1.6:1 -sd d -N 40 -sX -1 -FD pP1 -nx 16 -nr=4 -na=24 -nG 3 -sG 0.5 -mel 0 -nlz norm -lx 0 
echo "#Execute ${cmd}"
nohup ${cmd}&


#(2-2)実行状況確認
grep "time\|start" nohup.out
###result ../tspomp sd=d digit(word) verification
#sd=d
#TP0.841 TN0.991 FP0.009 FN0.159 ER0.024 RC0.841 PR0.909 F0.874 k104 pP1F4x26G3x0.5m0N40b50a1.6R1lx0 1842.005s(0:30:42.004) 0:30:42
#TP0.835 TN0.989 FP0.011 FN0.165 ER0.027 RC0.835 PR0.890 F0.862 k52 pP1F2x26G3x0.5m0N40b50a1.6R1lx0 738.505s(0:12:18.505) 0:12:18

#TP0.825 TN0.990 FP0.010 FN0.175 ER0.027 RC0.825 PR0.899 F0.860 k108 pP1F4x27G3x0.5m0N40b50a1.6R1lx0 1945.910s(0:32:25.910) 0:32:25
#TP0.840 TN0.991 FP0.009 FN0.160 ER0.024 RC0.840 PR0.909 F0.873 k100 pP1F4x25G3x0.5m0N40b50a1.6R1lx0 1740.657s(0:29:00.656) 0:29:00
#TP0.831 TN0.990 FP0.010 FN0.169 ER0.026 RC0.831 PR0.902 F0.865 k112 pP1F4x28G3x0.5m0N40b50a1.6R1lx0 2048.936s(0:34:08.935) 0:34:08
#TP0.840 TN0.990 FP0.010 FN0.160 ER0.025 RC0.840 PR0.903 F0.870 k96 pP1F4x24G3x0.5m0N40b50a1.6R1lx0 1638.738s(0:27:18.738) 0:29:32
#TP0.842 TN0.988 FP0.012 FN0.158 ER0.026 RC0.842 PR0.890 F0.865 k48 pP1F2x24G3x0.5m0N40b50a1.6R1lx0 661.394s(0:11:01.394)  0:11:01
#TP0.775 TN0.990 FP0.010 FN0.225 ER0.032 RC0.775 PR0.894 F0.830 k156 pP1F6x26G3x0.5m0N40b50a1.6R1lx0 3375.438s(0:56:15.438) 0:56:15

###result ../tspomp sd=s speaker verification
#TP0.784 TN0.984 FP0.016 FN0.216 ER0.044 RC0.784 PR0.894 F0.835 k104 pP1F4x26G3x0.5m0N40b50a1.6R1lx0 1302.863s(0:21:42.863)0:21:42
#TP0.779 TN0.983 FP0.017 FN0.221 ER0.046 RC0.779 PR0.882 F0.827 k52 pP1F2x26G3x0.5m0N40b50a1.6R1lx0 508.526s(0:08:28.525)

#TP0.787 TN0.984 FP0.016 FN0.213 ER0.044 RC0.787 PR0.890 F0.835 k100 pP1F4x25G3x0.5m0N40b50a1.6R1lx0 1264.300s(0:21:04.300)0:21:04
#TP0.782 TN0.983 FP0.017 FN0.218 ER0.046 RC0.782 PR0.882 F0.829 k96 pP1F4x24G3x0.5m0N40b50a1.6R1lx0 1150.206s(0:19:10.206)0:19:10
#TP0.781 TN0.984 FP0.016 FN0.219 ER0.045 RC0.781 PR0.888 F0.831 k108 pP1F4x27G3x0.5m0N40b50a1.6R1lx0 1357.162s(0:22:37.162)0:22:37

###
#b=50 #elapsed time:8152.494s(2:15:52.494)@2020-09-11 11:48:34.854241 for m9:kyu
#TP0.840 TN0.990 FP0.010 FN0.160 ER0.279 RC0.840 PR0.903 F0.870 k96 pP1F4x24G3x0.5m0N40b50a1.6R1lx0 8152.494s(2:15:52.494)
#b=100
#TP0.854 TN0.992 FP0.008 FN0.146 ER0.021 RC0.854 PR0.925 F0.888 k96 pP1F4x24G3x0.5m0N40b100a1.6R1lx0 14623.871s(4:03:43.871)

###spectrum envelope? #see #20200211
##################################
#(SE2)　学習と話者識別
##################################
export dr=../../12voicedata_ueki_all_k8
#final used 20iconip
#export S=mmt D=ichi L=8  #for figures in 18aihc, 20iconip
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
export L=1:2:3:4:5:6:7:8:9:10
export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    FD=s for original spectrum
export FD=S ns=100 ls=10 #ls[0]=1 for log after sum    FD=S for log|sum_m 1/(1-Pm exp(-jw n))|
export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export FD=S ns=110 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))| compare
export FD=S ns=90 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))| compare
export FD=S ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    original spectrum

#make all-clean;make
export sd=d
export sd=s
export fn=${dr}/mym-zero9-R1*FD${FD}ns${ns}ls${ls}.dat
#../../12voicedata_ueki_all_k8/fhs-san6-R1-FDsns90ls10.dat created
if [ ! -e $fn ]; then #ファイルがなければ作る
python M2s.py -dr $dr -R 1 -ow 1 -DISP 00 -dbgi 1 -ns $ns -ls $ls -FD $FD -rap 0
fi
cmd="python oob4speakerdigit+RX_20200910.py -sp $S -tx $D -L $L -dr $dr -R 1 -RX 0 -mbas 2:50:1.6:1 -s -1 -N 40 -sd $sd -FD $FD -ns $ns -ls $ls -mel 0 -nlz norm";
#rm -f nohup.out;nohup ${cmd}&
cat >cmd.sh <<EOF
#!/bin/bash -x
$cmd;
#export LANG=C;export d=\`date\`
notify-send -t 10000 -i dialog-information -u critical 'Finish'
EOF
rm -f nohup.out;nohup sh cmd.sh&

#(2-2)実行状況確認 grep "time\|start" nohup.out
#(2-3)最終結果確認 tail -15 nohup.out
#sd=s FD=s original spectrum b=100
#TP0.692 TN0.971 FP0.029 FN0.308 ER0.069 RC0.692 PR0.797 F0.741 k90 FDsns90ls10N40b100a1.6R1lx0 1766.639s(0:29:26.639)

#sd=s FD=s original spectrum
#TP0.679 TN0.964 FP0.036 FN0.321 ER0.076 RC0.679 PR0.761 F0.718 k90 FDsns90ls10N40b50a1.6R1lx0 1017.449s(0:16:57.449)
#TP0.676 TN0.963 FP0.037 FN0.324 ER0.078 RC0.676 PR0.755 F0.714 k100 FDsns100ls10N40b50a1.6R1lx0 1236.589s(0:20:36.588)
#TP0.650 TN0.961 FP0.039 FN0.350 ER0.083 RC0.650 PR0.737 F0.691 k80 FDsns80ls10N40b50a1.6R1lx0 876.168s(0:14:36.168)
#TP0.668 TN0.967 FP0.033 FN0.332 ER0.076 RC0.668 PR0.772 F0.716 k110 FDsns110ls10N40b50a1.6R1lx0 1371.620s(0:22:51.620)

#sd=d FD=s original spectrum
#TP0.722 TN0.975 FP0.025 FN0.278 ER0.050 RC0.722 PR0.761 F0.741 k90 FDsns90ls10N40b50a1.6R1lx0 1523.209s(0:25:23.208)?
#TP0.715 TN0.974 FP0.026 FN0.285 ER0.052 RC0.715 PR0.752 F0.733 k100 FDsns100ls10N40b50a1.6R1lx0 1709.331s(0:28:29.330)
#TP0.699 TN0.976 FP0.024 FN0.301 ER0.052 RC0.699 PR0.762 F0.729 k110 FDsns110ls10N40b50a1.6R1lx0 1991.089s(0:33:11.088)
#TP0.695 TN0.973 FP0.027 FN0.305 ER0.055 RC0.695 PR0.739 F0.716 k80 FDsns80ls10N40b50a1.6R1lx0 1260.345s(0:21:00.344)
######################
#sd=s FD=S
#TP0.769 TN0.977 FP0.023 FN0.231 ER0.053 RC0.769 PR0.848 F0.807 k100 FDSns100ls10N40b50a1.6R1lx0 1197.556s(0:19:57.556)
#TP0.768 TN0.976 FP0.024 FN0.232 ER0.054 RC0.768 PR0.843 F0.804 k90 FDSns90ls10N40b50a1.6R1lx0 1021.283s(0:17:01.282)
#TP0.754 TN0.978 FP0.022 FN0.246 ER0.054 RC0.754 PR0.853 F0.800 k110 FDSns110ls10N40b50a1.6R1lx0 1379.070s(0:22:59.069)
#sd=d FD=S pole spectrum
#TP0.828 TN0.989 FP0.011 FN0.172 ER0.028 RC0.828 PR0.889 F0.858 k100 FDSns100ls10N40b50a1.6R1lx0 1709.691s(0:28:29.690)
#TP0.821 TN0.987 FP0.013 FN0.179 ER0.030 RC0.821 PR0.876 F0.848 k95 FDSns95ls10N40b50a1.6R1lx0 1585.425s(0:26:25.424)
#TP0.819 TN0.985 FP0.015 FN0.181 ER0.031 RC0.819 PR0.861 F0.840 k105 FDSns105ls10N40b50a1.6R1lx0 1847.486s(0:30:47.485)
#TP0.663 TN0.970 FP0.030 FN0.337 ER0.061 RC0.663 PR0.708 F0.685 k110 FDSns110ls10N40b50a1.6R1lx0 1821.215s(0:30:21.214)
#TP0.799 TN0.982 FP0.018 FN0.201 ER0.036 RC0.799 PR0.835 F0.817 k90 FDSns90ls10N40b50a1.6R1lx0 1477.823s(0:24:37.822)




############################################
#20200521 for ICONIP2020
############################################
[1]グラフ出力 for iconip2020
#連想行列１つ毎にストップ
dl=../../12voicedata_ueki_all; 
dr=${dl}_k8; #mkdir -p $dr  #
df=${dl}_f
R=1 #R=1:0.8:0.6:0.4:0.2
export nx=16 nr=4 na=24 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export mel=0 dbgi=1
export S=mmt D=ichi L=2  #for aihc 
export S=mmt D=ichi L=8  #for aihc 
export URA=0 #1 for use real axis, 0 for negrect real axis PC2xPy.py, 
cmd="python PC2xPy1.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 1 -S $S -D $D -L $L -dbgi $dbgi";echo $cmd
$cmd
#
fig=plt.figure(figsize=(5,5),dpi=300)
gs=gridspec.GridSpec(1,1)
plt.subplots_adjust(wspace=0.5, hspace=0.5)
Ytlq=[j/2. for j in range(2*int(rmax)+1)] #0.5刻み
Ytq =[nr-(j/2.)*(nr/rmax) for j in range(2*int(rmax)+1)]
Xtlq=['{}pi/4'.format(4-j) for j in range(5)]
Xtq=[(j/4)*(na/pi) for j in range(4)]
Xtq=[j for j in range(0,na,9)]
Xtlq=['{:.0f}pi/{}'.format(j,na) for j in range(0,na,9)]
Xtq.append(na-1)
Xtlq.append('pi')
Xtq=[0,na/2,na-1]
Xtlq=[0,'pi/2','pi']
Ytq=[0,(nr)/2.,nr]
Ytlq=['{:.1g}'.format(rmax),'{:.1g}'.format(rmax/2.),0]
Ytbq=[0,nr/2,nr,nr*3/2,2*nr-1]
Ytlbq=['{:.1g}'.format(rmax),'{:.1g}'.format(rmax/2.),0,'{:.1g}'.format(rmax/2.),'{:.1g}'.format(rmax)]
fig.add_subplot(gs[0,0],xticks=Xtq,xticklabels=Xtlq,yticks=Ytq,yticklabels=Ytlq)
mx=qcDisp.max()

plt.imshow(qcDisp/mx,cmap=cmap,interpolation='none');
plt.colorbar(fraction=0.05,pad=0.04);
plt.clim(0,1)
fn='pPc-{}-{}-{}.eps'.format(s,d,l)
plt.savefig(fn)
#
myshell('gv {}&'.format(fn))

mx=q1Disp.max()
plt.imshow(q1Disp/mx,cmap=cmap,interpolation='none');
plt.colorbar(fraction=0.05,pad=0.04);
plt.clim(0,1)
fn='pP1-{}-{}-{}.eps'.format(s,d,l)
plt.savefig(fn)
myshell('gv {}&'.format(fn))
print '#qcmax={} q1max={}'.format(qcDisp.max(),q1Disp.max())
#qcmax=4.80209740024 q1max=138.297056041

#plt.title('pPcG=P.c*G (/{:.2g})'.format(mx));
#plt.show() 
#plt.savefig('pPc-{}-{}-{}.eps'.format(s,d,l))
#plt.close()


#
fnb=$dr/poles-${S}-${D}-${L}
cat > tmp.plt <<EOF
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
set terminal tgif; set output "${fnb}.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square ;
set key font "Arial,50"
unset key #hanrei-hihyouji
plot [0:2*pi][-2:2][-2:2] "${fnb}.txt" using 1:2 w p pt 6 ps 0.2 lc rgb "black" t "${S}-${D}-${L}", cos(t),sin(t) t "1.0" w l ls 1 lw 5 lc rgb "green", 2*cos(t),2*sin(t) t "1.0" w l ls 1 lw 5 lc rgb "red"
EOF
gnuplot tmp.plt
tgif ${fnb}.obj&

cp $dr/poles-${S}-${D}-${L}.* /media/sf_C_DRIVE/cdata/20iconip/figs/
cp ~/Downloads/mmt-ichi8-R1.png /media/sf_C_DRIVE/cdata/20iconip/figs/
cp *.eps /media/sf_C_DRIVE/cdata/20iconip/figs/

##################
[2] 学習と識別実験
##################
#連想行列１つ毎にストップ
make all-clean;make
dl=../../12voicedata_ueki_all; 
dr=${dl}_k8; #mkdir -p $dr  #
df=${dl}_f
export L=1:2:3:4:5:6:7:8:9:10
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
export R=1; RX=0 #R=1
export nlz=norm
export R=1 #R=1:0.8:0.6:0.4:0.2
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export FD=rP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export URA=0 #1 for use real axis, 0 for negrect real axis PC2xPy.py, 
export mel=0 lx=0 #0
export sX=-1;a=1.6;b=100;N=40; #
export mbas=2:${b}:${a}:1
export nx=14 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=16 nr=4 na=24 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10

rm -f nohup.out;
#(2-0) 上記パラメタを持つxPyファイルの存在を調べ、なければ作る←(1-3-2)
if [ "${FD:0:1}" == "p" ]; then #xPyファイルの存在確認
fn=${dr}/mym-zero9-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat 
else
fn=${dr}/mym-zero9-R${R}*-${FD}F${nx}G${nG}x${sG}.dat 
fi
if [ ! -e $fn ]; then #xPyファイルがなければ作る(1-3-2) #URAは特別処理 ？？
cmd0="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 0 -URA $URA"
echo "#Execute ${cmd0}"
${cmd0} > nohup.out
fi
#(2-1) 学習と話者識別実行(時間がかかる）
make
cmd="python oob4speakerdigit+RX_20191113.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -s -1 -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr=$nr -na=$na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx"
echo "#Execute ${cmd}"
nohup ${cmd}&

#(2-2)実行状況確認
grep "time\|start" nohup.out

###Ubuntu12.04
#TP0.784 TN0.984 FP0.016 FN0.216 ER0.045 RC0.784 PR0.891 F0.834 k92  pP1F4x23G3x0.5m0N40b100a1.6R1lx0 2309.476s(0:38:29.475)
#TP0.797 TN0.986 FP0.014 FN0.203 ER0.041 RC0.797 PR0.903 F0.846 k96  pP1F4x24G3x0.5m0N40b100a1.6R1lx0 2326.076s(0:38:46.076) ***
#TP0.791 TN0.986 FP0.014 FN0.209 ER0.042 RC0.791 PR0.903 F0.843 k100 pP1F4x25G3x0.5m0N40b100a1.6R1lx0 2487.679s(0:41:27.678)
#TP0.771 TN0.981 FP0.019 FN0.229 ER0.049 RC0.771 PR0.872 F0.818 k72  pP1F3x24G3x0.5m0N40b100a1.6R1lx0 2053.208s(0:34:13.208)
#TP0.758 TN0.987 FP0.013 FN0.242 ER0.045 RC0.758 PR0.909 F0.827 k120 pP1F5x24G3x0.5m0N40b100a1.6R1lx0 3844.337s(1:04:04.337)

#4x23
#TP0.691 TN0.982 FP0.018 FN0.309 ER0.060 RC0.691 PR0.864 F0.768 k92  pPcF4x23G3x0.5m0N40b100a1.6R1lx0 3167.288s(0:52:47.287) +++
#TP0.676 TN0.981 FP0.019 FN0.324 ER0.063 RC0.676 PR0.854 F0.755 k96  pPcF4x24G3x0.5m0N40b100a1.6R1lx0 2561.761s(0:42:41.760)
#TP0.679 TN0.982 FP0.018 FN0.321 ER0.061 RC0.679 PR0.865 F0.761 k100 pPcF4x25G3x0.5m0N40b100a1.6R1lx0 3254.192s(0:54:14.191)
#TP0.646 TN0.978 FP0.022 FN0.354 ER0.070 RC0.646 PR0.829 F0.726 k72  pPcF3x24G3x0.5m0N40b100a1.6R1lx0 2558.519s(0:42:38.518)
#TP0.609 TN0.984 FP0.016 FN0.391 ER0.070 RC0.609 PR0.862 F0.714 k120 pPcF5x24G3x0.5m0N40b100a1.6R1lx0 3874.549s(1:04:34.548)
#executing 

#export nx=16 nr=4 na=22 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
#export nx=16 nr=3 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
#export nx=16 nr=5 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10


############
#TP0.788 TN0.985 FP0.015 FN0.212 ER0.043 RC0.788 PR0.896 F0.838 k96  pP1F4x24G3x0.5m0N40b100a1.6R1lx0 2365.241s(0:39:25.241)with real axis-worse

#TP0.679 TN0.985 FP0.015 FN0.321 ER0.059 RC0.679 PR0.884 F0.768 k153 rP1F17G3x0.5N40b100a1.6R1lx0 4006.921s(1:06:46.920)U12.04 
#TP0.696 TN0.984 FP0.016 FN0.304 ER0.057 RC0.696 PR0.879 F0.777 k144 rP1F16G3x0.5N40b100a1.6R1lx0 3658.338s(1:00:58.338)      ***
#TP0.693 TN0.978 FP0.022 FN0.307 ER0.062 RC0.693 PR0.842 F0.760 k120 rP1F15G3x0.5N40b100a1.6R1lx0 2901.829s(0:48:21.828) 
#TP0.685 TN0.979 FP0.021 FN0.315 ER0.063 RC0.685 PR0.848 F0.758 k112 rP1F14G3x0.5N40b100a1.6R1lx0 2675.630s(0:44:35.629)

#TP0.689 TN0.984 FP0.016 FN0.311 ER0.058 RC0.689 PR0.881 F0.773 k144 rP1F16G3x0.5N40b100a1.6R1lx0 18385.860s(5:06:25.860)
#TP0.670 TN0.980 FP0.020 FN0.330 ER0.064 RC0.670 PR0.849 F0.749 k112 rP1F14G3x0.5N40b100a1.6R1lx0 12473.463s(3:27:53.463) U14.04


export S=mmt D=ichi L=1 dbgi=1
cmd="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 1 -S $S -D $D -L $L -dbgi $dbgi";echo $cmd

#???
############################################
#20200211
############################################
LPCspectrum envelope
##########################
#(SE1)' 連想行列Mからスペクトル包絡(SE:spectrum envelope)を計算(動作チェック)。結果は$dr/*-PC.dat 
http://sdmwww.ssi.ist.hokudai.ac.jp/lecture/signal/presen12.pdf ?
http://aidiary.hatenablog.com/entry/20120415/1334458954 ?
LPC係数をフィルタ係数とみなして周波数応答を求める
##########################
export dr=../../12voicedata_ueki_all_k8
#FD=s for standard spectrum envelope,  FD=S for spectrum with pole weight=1
export FD=SR ns=100 ls=10 #FD=s for standard spectrum envelope,  FD=S for spectrum with pole weight=1
                    #ls[0]='1' for log10 before the mean, ls[1]='1' for log10 after the mean
                    #FD=SR for use real-axis, S for without real-axis
#export FD=s ns=100 ls=00 #ls[0]=0 for no-log  Hm
#export FD=s ns=100 ls=10 #ls[0]=1 for log     log |Hm()|
#export FD=S ns=100 ls=20 #ls[0]=2 for log befre sum    sum_m(log |1/(1-Pm exp(-jw n))|
#export FD=S ns=100 ls=00 #ls[0]=0 for no-log           sum_m 1/(1-Pm exp(-jw n))
#final used 20iconip
export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export FD=S ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export S=mmt D=ichi L=8  #for figures in 18aihc, 20iconip
python M2s.py -dr $dr -R 1 -ow 1 -DISP 10 -dbgi 1 -ns $ns -ls $ls -FD $FD -S $S -D $D -L $L 
#
fn='qHc-{}-{}-{}.eps'.format(s,d,l)
plt.savefig(fn)
myshell('gv {}&'.format(fn))
#
fn='qH1-{}-{}-{}.eps'.format(s,d,l)
plt.savefig(fn)
myshell('gv {}&'.format(fn))

##############
#for all
############
#final used 20iconip
export dr=../../12voicedata_ueki_all_k8
#final used 20iconip
export S=mmt D=ichi L=8  #for figures in 18aihc, 20iconip
export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export FD=S ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|
export FD=S ns=110 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))| compare
export FD=S ns=90 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))| compare
export FD=S ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))|

export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu S=fhs:fms:mkk:mko:mmt:mnh:mym L=1:2:3:4:5:6:7:8:9:10 
python M2s.py -dr $dr -R 1 -ow 1 -DISP 10 -dbgi 1 -ns $ns -ls $ls -FD $FD 
c
#python M2s.py -dr $dr -R 1 -ow 1 -DISP 10 -dbgi 1 -ns $ns -ls 00 -FD $FD
#python M2s.py -dr $dr -R 1 -ow 1 -DISP 10 -dbgi 1 -ns $ns -ls 10 -FD $FD
#python M2s.py -dr $dr -R 0.8 -ow 1 -DISP 10 -dbgi 1 -ns $ns -ls 00 -FD $FD
##################################
#(SE2)　学習と話者識別
##################################
#make all-clean;make
cmd="python oob4speakerdigit+RX_20191113.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9:10 -dr ../../12voicedata_ueki_all_k8 -R 1 -RX 0 -mbas 2:100:1.6:1 -s -1 -N 40 -sX -1 -FD $FD -ns $ns -ls $ls -mel 0 -nlz norm";rm -f nohup.out;nohup ${cmd}&
#(2-2)実行状況確認 grep "time\|start" nohup.out
#(2-3)最終結果確認 tail -15 nohup.out
##
###result with new M2s.py below
#TP0.777 TN0.980 FP0.020 FN0.223 ER0.049 RC0.777 PR0.866 F0.819 k90 FDSns90ls10N40b100a1.6R1lx0 2148.844s(0:35:48.844)without activepoles(-rap 1)

#TP0.784 TN0.981 FP0.019 FN0.216 ER0.047 RC0.784 PR0.874 F0.826 k80 FDSns80ls10N40b100a1.6R1lx0 2738.650s(0:45:38.649)
#TP0.797 TN0.981 FP0.019 FN0.203 ER0.045 RC0.797 PR0.874 F0.834 k90  FDSns90ls10N40b100a1.6R1lx0 2957.551s(0:49:17.551) **best
#TP0.777 TN0.978 FP0.022 FN0.223 ER0.051 RC0.777 PR0.856 F0.814 k100 FDSns100ls10N40b100a1.6R1lx0 3224.820s(0:53:44.819)

#TP0.678 TN0.970 FP0.030 FN0.322 ER0.072 RC0.678 PR0.791 F0.730 k80  FDsns80ls10N40b100a1.6R1lx0 2731.242s(0:45:31.241)
#TP0.695 TN0.974 FP0.026 FN0.305 ER0.066 RC0.695 PR0.816 F0.751 k90  FDsns90ls10N40b100a1.6R1lx0 3052.753s(0:50:52.753)
#TP0.695 TN0.971 FP0.029 FN0.305 ER0.068 RC0.695 PR0.800 F0.744 k100 FDsns100ls10N40b100a1.6R1lx0 3236.581s(0:53:56.581)

#executing 
#export FD=s ns=100 ls=10 #ls[0]=1 for log after sum    log|sum_m 1/(1-Pm exp(-jw n))| compare




###result with old M2s.py with bag below
#TP0.759 TN0.983 FP0.017 FN0.241 ER0.049 RC0.759 PR0.882 F0.816 k100 FDSns100ls10N40b100a1.6R1lx0 2454.381s(0:40:54.381) without real axis,weight=1 ***
#TP0.758 TN0.982 FP0.018 FN0.242 ER0.050 RC0.758 PR0.877 F0.813 k110 FDSns110ls10N40b100a1.6R1lx0 2745.612s(0:45:45.611)
#TP0.755 TN0.984 FP0.016 FN0.245 ER0.049 RC0.755 PR0.886 F0.815 k90 FDSns90ls10N40b100a1.6R1lx0 2186.532s(0:36:26.532)
#TP0.670 TN0.971 FP0.029 FN0.330 ER0.072 RC0.670 PR0.792 F0.726 k80 SR80l01N40b100a1.6R1lx0 1839.973s(0:30:39.972) Ubuntu12.04mesaho 20200523

#TP0.751 TN0.981 FP0.019 FN0.249 ER0.052 RC0.751 PR0.866 F0.804 k100 FDSRns100ls10N40b100a1.6R1lx0 2443.930s(0:40:43.930) with real axis
#TP0.552 TN0.953 FP0.047 FN0.448 ER0.104 RC0.552 PR0.664 F0.603 k100 FDsns100ls10N40b100a1.6R1lx0 2434.109s(0:40:34.108) weight=c log q^[H,a]
#TP0.477 TN0.958 FP0.042 FN0.523 ER0.111 RC0.477 PR0.656 F0.552 k100 FDsns100ls00N40b100a1.6R1lx0 2403.377s(0:40:03.377) nolog

#TP0.754 TN0.980 FP0.020 FN0.246 ER0.052 RC0.754 PR0.865 F0.806 k80 SR80l10N40b100a1.6R1lx0 8040.056s(2:14:00.055) Ubuntu14.04
#TP0.755 TN0.985 FP0.015 FN0.245 ER0.048 RC0.755 PR0.892 F0.818 k100 SR100l10N40b100a1.6R1lx0 11006.777s(3:03:26.777) ***
#TP0.755 TN0.981 FP0.019 FN0.245 ER0.051 RC0.755 PR0.868 F0.808 k110 SR110l10N40b100a1.6R1lx0 12610.470s(3:30:10.470)

#TP0.670 TN0.971 FP0.029 FN0.330 ER0.072 RC0.670 PR0.792 F0.726 k80 SR80l01N40b100a1.6R1lx0 1839.973s(0:30:39.972) Ubuntu12.04mesaho 20200523
#TP0.666 TN0.969 FP0.031 FN0.334 ER0.074 RC0.666 PR0.783 F0.720 k80 S80l00N40b100a1.6R1lx0 1843.986s(0:30:43.986) 
#TP0.739 TN0.983 FP0.017 FN0.261 ER0.052 RC0.739 PR0.881 F0.804 k80 S80l10N40b100a1.6R1lx0 1918.639s(0:31:58.638) ***
#TP0.755 TN0.981 FP0.019 FN0.245 ER0.051 RC0.755 PR0.871 F0.809 k80 S80l11N40b100a1.6R1lx0 1922.859s(0:32:02.859) *****

#elapsed time:2784.449s(0:46:24.448)@2020-02-12 14:11:47.384590 for m6:mym #with 20log10
#TP0.682 TN0.973 FP0.027 FN0.318 ER0.069 RC0.682 PR0.807 F0.739 k100 S100l01N40b100a1.6R1 10451.431s(2:54:11.431) !!!spectrum envelope with pole weight=1 
#TP0.688 TN0.968 FP0.032 FN0.312 ER0.072 RC0.688 PR0.784 F0.733 k90 S90l01N40b100a1.6R1lx0 8867.387s(2:27:47.387)
#TP0.679 TN0.970 FP0.030 FN0.321 ER0.072 RC0.679 PR0.790 F0.730 k82 S82l01N40b100a1.6R1lx0 7872.956s(2:11:12.956)
#TP0.695 TN0.970 FP0.030 FN0.305 ER0.069 RC0.695 PR0.795 F0.742 k81 S81l01N40b100a1.6R1lx0 7795.418s(2:09:55.417)
#TP0.703 TN0.972 FP0.028 FN0.297 ER0.067 RC0.703 PR0.806 F0.751 k80 S80l01N40b100a1.6R1    7634.533s(2:07:14.532) !!!spectrum envelope with pole weight=1  ***********
#TP0.686 TN0.970 FP0.030 FN0.314 ER0.070 RC0.686 PR0.793 F0.736 k79 S79l01N40b100a1.6R1lx0 7574.295s(2:06:14.295)
#TP0.683 TN0.970 FP0.030 FN0.317 ER0.071 RC0.683 PR0.790 F0.733 k78 S78l01N40b100a1.6R1lx0 7405.566s(2:03:25.565)
#TP0.681 TN0.967 FP0.033 FN0.319 ER0.074 RC0.681 PR0.775 F0.725 k70 S70l01N40b100a1.6R1lx0 6317.912s(1:45:17.912)

#TP0.699 TN0.965 FP0.035 FN0.301 ER0.073 RC0.699 PR0.771 F0.733 k80 S80l01N30b100a1.6R1lx0 6629.787s(1:50:29.787)

#TP0.703 TN0.972 FP0.028 FN0.297 ER0.067 RC0.703 PR0.806 F0.751 k80 S80l01N40b100a1.6R1 7634.533s(2:07:14.532) !!!spectrum envelope with pole weight=1  ***********
#TP0.689 TN0.973 FP0.027 FN0.311 ER0.067 RC0.689 PR0.812 F0.746 k80 S80l01N50b100a1.6R1lx0 8613.893s(2:23:33.893)
#TP0.673 TN0.973 FP0.027 FN0.327 ER0.070 RC0.673 PR0.806 F0.734 k80 S80l01N60b100a1.6R1lx0 9673.217s(2:41:13.216)
#TP0.662 TN0.966 FP0.034 FN0.338 ER0.078 RC0.662 PR0.764 F0.709 k60 S60l01N40b100a1.6R1 5224.909s(1:27:04.909) !!!spectrum envelope with pole weight=1 

#TP0.506 TN0.960 FP0.040 FN0.494 ER0.105 RC0.506 PR0.680 F0.580 k100 s100l01N40b100a1.6R1 10728.438s(2:58:48.437) l01: !!spectrum envelope with pole weight=c 
#TP0.165 TN0.861 FP0.139 FN0.835 ER0.239 RC0.165 PR0.165 F0.165 k100 s100l10N40b100a1.6R1 2784.449s(0:46:24.448)  l10:log before mean
#TP0.506 TN0.960 FP0.040 FN0.494 ER0.105 RC0.506 PR0.680 F0.580 k100 s100l01N40b100a1.6R1 11329.005s(3:08:49.004) l01:log after mean **minER
#TP0.413 TN0.953 FP0.047 FN0.587 ER0.124 RC0.413 PR0.595 F0.487 k100 s100l00N40b100a1.6R1 11462.139s(3:11:02.139) l00:

python PC2xPy.py -dr ../../12voicedata_ueki_all_k8 -R 0.8 -rmax 2 -ow 1 -nx 10 -nr 2 -na 25 -nG 3 -sG 0.5 -mel 0 -DISP 0
cmd="python oob4speakerdigit+RX_20191113.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9:10 -dr ../../12voicedata_ueki_all_k8 -R 1 -RX 0 -mbas 2:100:1.6:1 -s -1 -N 40 -sX -1 -FD pP1 -nx 10 -nr=2 -na=23 -nG 3 -sG 0.5 -mel 0 -nlz norm -lx 0"
rm -f nohup.out; 
nohup ${cmd}&
#TP0.835 TN0.985 FP0.015 FN0.165 ER0.036 RC0.835 PR0.905 F0.868 k50 pP1F2x25G3x0.5m0N40b100a1.6R1lx0 3982.961s(1:06:22.960) Ubuntu14.04   ****
#TP0.769 TN0.984 FP0.016 FN0.231 ER0.047 RC0.769 PR0.889 F0.825 k50 pP1F2x25G3x0.5m0N40b100a1.6R1lx1 3949.433s(1:05:49.432) 
#TP0.493 TN0.962 FP0.038 FN0.507 ER0.116 RC0.493 PR0.724 F0.587 k48 pPcF2x24G3x0.5m0N40b100a1.6R0.8lx0 3556.669s(0:59:16.668)
#TP0.497 TN0.958 FP0.042 FN0.503 ER0.119 RC0.497 PR0.702 F0.582 k75 pPcF3x25G3x0.5m0N40b100a1.6R0.8lx0 6220.496s(1:43:40.496)
#TP0.811 TN0.981 FP0.019 FN0.189 ER0.043 RC0.811 PR0.878 F0.843 k46 pP1F2x23G3x0.5m0N40b100a1.6R1 4163.672s(1:09:23.671) lx=0 Ubuntu14.04 
#TP0.746 TN0.983 FP0.017 FN0.254 ER0.051 RC0.746 PR0.880 F0.808 k46 pP1F2x23G3x0.5m0N40b100a1.6R1 4094.919s(1:08:14.919) lx=1 np.log1p(x) pP1
#TP0.673 TN0.977 FP0.023 FN0.327 ER0.067 RC0.673 PR0.827 F0.742 k46 pPcF2x23G3x0.5m0N40b100a1.6R1 4102.741s(1:08:22.740) lx=1 np.log1p(x) pPc
#TP0.590 TN0.970 FP0.030 FN0.410 ER0.084 RC0.590 PR0.767 F0.667 k46 pPcF2x23G3x0.5m0N40b100a1.6R1 4085.206s(1:08:05.206) lx=1 np.log10(0.01+x) pPc

#TP0.474 TN0.961 FP0.039 FN0.526 ER0.120 RC0.474 PR0.709 F0.568 k50 pPcF2x25G3x0.5m0N40b100a1.6R0.8 3873.845s(1:04:33.844) lx=0
#TP0.520 TN0.968 FP0.032 FN0.480 ER0.106 RC0.520 PR0.766 F0.619 k50 pP1F2x25G3x0.5m0N40b100a1.6R0.8 3931.494s(1:05:31.494) lx=0

#TP0.816 TN0.984 FP0.016 FN0.184 ER0.040 RC0.816 PR0.896 F0.854 k50 pP1F2x25G3x0.5m0N40b100a1.6R1 1278.299s(0:21:18.298) lx=0 Ubuntu12.04 ***************
#TP0.804 TN0.984 FP0.016 FN0.196 ER0.042 RC0.804 PR0.892 F0.846 k46 pP1F2x23G3x0.5m0N40b100a1.6R1 1396.525s(0:23:16.524) lx=0 Ubuntu12.04
#TP0.768 TN0.982 FP0.018 FN0.232 ER0.049 RC0.768 PR0.874 F0.818 k36 pP1F2x18G3x0.5m0N40b100a1.6R1 1224.421s(0:20:24.420) lx=0 Ubuntu12.04
#TP0.728 TN0.984 FP0.016 FN0.272 ER0.053 RC0.728 PR0.883 F0.798 k50 pPcF2x25G3x0.5m0N40b100a1.6R1 1271.199s(0:21:11.199) lx=1 np.log1p(x) pPc Ubuntu12.04
#TP0.675 TN0.976 FP0.024 FN0.325 ER0.067 RC0.675 PR0.825 F0.742 k50 pPcF2x25G5x0.5m0N40b100a1.6R1 1420.427s(0:23:40.427) lx=1 np.log1p(x) pPc Ubuntu12.04


############################################
#20191205 ← 20191118 #20180606の再試行＋修正
############################################
#(0) 前処理（データ正規化）（以前の処理と同じ）
####
#at can2m+/can2c
#ln -s /media/sf_D_DRIVE/data/12voicedata ~/sotu/2012/12voicedata_ueki #shigeta only
#ln -s /media/sf_C_DRIVE/cdata/kurolab/data/12voicedata ~/sotu/2012/12voicedata_ueki #kurogi only
####
(0.1)リンク作成
####
#d0=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata
d0=~/sotu/2012/12voicedata_ueki/
dl=../../12voicedata_ueki_all; mkdir -p $dl
for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
  ln -s ${d0}/${d}/* ${dl}/
done
####
#(0.2)パワー正規化
####
dn=${dl}_n; mkdir -p $dn #save normalized speech signal
log=$dn/normalize.log
#echo "ymin=$ymin" > $log
ymin=0
for s in fhs fms mkk mko mmt mnh mym; do
  for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
    for l in 1 2 3 4 5 6 7 8 9 10; do
      cmd="python speechnormalize.py -yin ${dl}/${s}-${d}${l}.dat -yout ${dn}/${s}-${d}${l}.dat -ymin $ymin"
      echo $cmd; $cmd >> $log
    done
  done
done
#err with 
#python speechnormalize.py -yin ../12voicedata_ueki_all/fhs-hachi5.dat -yout ../12voicedata_ueki_all_n/fhs-hachi5.dat -ymin 0
#python speechnormalize.py -yin ../12voicedata_ueki_all/mmt-san2.dat -yout ../12voicedata_ueki_all_n/mmt-san2.dat -ymin 0

####################################
#(1) 混合音声作成と重み付き極の作成(新しい処理） 
####################################
#概要： 時間がかかるのでまず動作チェックする。
#       下のオプション -dbg 1 で"１数字"処理後デバッグモードに入る。
#       変数のchck (print 変数名）、次の数字の処理（cont）等のデバッグを行う。
#　動作チェック後、全処理（時間がかかるのでnohup(非表示でバッチ処理)）
#研究効率のため、まず、
# (1-0),(1-1-1),(1-2-1),(1-3-1),(1-4-1)の順に動作チェックを一通り行う（並列では行わない）
# 次に
# (1-0),(1-1-2),(1-2-2),(1-3-2),(1-4-2)の順に全処理を行う（並列では行わない）
#ように行うとよい。
#結果はすべて dr=../../12voicedata_ueki_all_k8 の下にできる
####################################
#(1-0) 環境変数設定
####################################
dl=../../12voicedata_ueki_all; 
dr=${dl}_k8; #mkdir -p $dr  #
df=${dl}_f
R=0.8 #R=1:0.8:0.6:0.4:0.2

####################################
#(1-1) 混合音声作成＋学習＋連想行列Mの保存
##########################
#(1-1-1) 混合音声作成＋学習＋連想行列Mの保存(動作チェック)。結果は $dr/*-M.dat 
##########################
python mkM.py -dr $dr -R $R -DISP 10 -ow 11 -dbgi 1
#check 20210208
export dl=../../12voicedata_ueki_all; 
export dr=${dl}_k8; export df=${dl}_f R=1
export S=mmt L=8 D=ichi
python mkM.py -dr $dr -R $R -DISP 01 -ow 01 -dbgi 1 -S $S -L $L -D $D -k $k

##########################
#(1-1-2) 混合音声作成＋学習＋連想行列Mの保存(全処理)
##########################
rm -f nohup.out;nohup python mkM.py -dr $dr -R $R -DISP 0 -ow 1 & 
#or nohup .. >/dev/log 2>&1 </dev/null &     #rows.sh 
#処理状況の確認
jobs
tail nohup.out
wc $dr/*R${R}*-M.dat         #ファイルのsize 確認
ls -l $dr/*R${R}*-M.dat|wc #M.datファイルの個数確認　全部揃えば 698=700-2個

##########################
#(1-2) 連想行列Mから極と係数を計算
##########################
#(1-2-0) 連想行列Mから極と係数を計算(理論)
##########################
# Mを部分分数 C_i/(1-P_i z^(-1)) に展開。以下、簡単のため
# 極  ：P_i を　P = Px + j Py = exp(a+jw) = r exp(jw)
# 係数：C_i を  C = Cx + j Cy = c exp(jb)  
# と表す．M2PC.py　は、*-PC.datというファイルを作り，各行には Px Py Cx Cy　を保存．
#結果は $dr/*-PC.dat 
##########################
#(1-2-1) 連想行列Mから極と係数を計算(動作チェック)。結果は$dr/*-PC.dat 
##########################
python M2PC.py -dr $dr -R $R -ow 1 -DISP 10 -dbgi 1
#
export S=mmt L=8 D=ichi #check 20210208
python M2PC.py -dr $dr -R $R -ow 1 -DISP 10 -dbgi 1 -S $S -L $L -D $D -k $k

##########################
#(1-2-2) 連想行列Mから極と係数を計算(全処理)
##########################
rm -f nohup.out;nohup python M2PC.py -dr $dr -R $R -ow 1 -DISP 0 &
#処理状況の確認
jobs
tail nohup.out
grep created nohup.out | wc #ファイルの個数確認　全部揃えば 698=700-2個

plot "tmp.dat" using 0:1 w l, "" using 0:2 w l, "" using 0:3 w l
##########################
#(1-3) (Px,Py,Cx,Xy)から極(Px,Py)をCで重み付けした特徴ベクトルを作成
##########################
#(1-3-0) (Px,Py,Cx,Xy)から極(Px,Py)をCで重み付けした特徴ベクトルを作成(理論）
##########################
# Y_i = Y= C /(1-P z^(-1))= c exp(jb)/(1- exp(a+jw)z^(-1)) とし
# Y_iの逆Z変換をIZ(Y)=y(t)とする．
#(I)  w = 0 のとき, b=0になり， IZ(Y)=IZ(c /(1- exp(a)z^(-1))) =  c exp(a*t) = y(t) (t=0, 1,2,...)
#(II) w !=0 のとき，YとYの共役 Y^*= C^* /(1-P^* z^(-1))= c exp(-jb)/(1- exp(a-jw)z^(-1))が得られるので
#     IZ(Y+Y^*)=IZ(Y)            + IZ(Y^*)
#             =c exp((a+jw)t+b) + c exp((a-jw)t-b)
#             =2 c exp(at) cos(wt+b) 
#実軸上の点に対応する(I)は用いず、(II)のデータで特徴ベクトル作成．
#複素平面上の極の直交座標表示を(Px,Py)、極座標表示を(r,w)とする。
#(i) 直交座標(Px,Py)空間を離散化し、極P=(Px,Py)を
# 1および c= sqrt(Cx^2+Cy^2)で重み付けした画像を作成し、
#後者はGaussianBlurで平滑化した後，$dr/*-rP1.datおよび$dr/*-rPc.dat に保存。
#さらに、極(Px,Py)をCx=c*cos(b)およびCy=c*sin(b)で重み付けした２つの画像を上下に配置して連結し、
#ガウスフィルタで平滑化した後、$dr/*-rPcb.datに保存
#（以下では、上記の1, c, (Cx,Cy)での重み付けをそれぞれ、rP1, rPc, rPcbと表記する）
#
#(ii) また、極座標(r,w)空間を離散化し、極P=(r,w)が存在する領域を
# 1, および c= sqrt(Cx^2+Cy^2)で重み付けした画像を作成し、
#後者はGaussianBlurで平滑化した後，$dr/*-pP1.datおよび$dr/*-pPc.dat に保存。
#さらに、極 (r,w)をCx=c*cos(b)およびCy=c*sin(b)で重み付けした２つの画像を上下に配置して連結し、
#ガウスフィルタで平滑化した後、$dr/*-pPcb.datに保存
#（以下では、上記の1, c, (Cx,Cy)での重み付けをそれぞれ、pP1, pPc, pPcb と表記する）
##########################
#(1-3-1) (Px,Py,Cx,Xy)から極(Px,Py)をCで重み付けした特徴ベクトルを作成（動作チェック）
#mel(=0,1,2)はメル尺度（プログラムPC2xPy.py参照；下記の実験結果としてはmel=0(メル尺度を使わない）が良い結果）
##########################
#連想行列１つ毎にストップ
dl=../../12voicedata_ueki_all; 
dr=${dl}_k8; #mkdir -p $dr  #
df=${dl}_f
R=0.8 #R=1:0.8:0.6:0.4:0.2
export nx=6 nr=1 na=18  #nr=1;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=10 nr=3 na=18 #nr=3;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=13 nr=5 na=18 #nr=5;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=15 nr=6 na=18 #nr=6;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=12 nr=4 na=18 #nr=4;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=8 nr=2 na=18  #nr=2;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=9 nr=2 na=19  #nr=2;na=19;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=9 nr=2 na=20  #nr=2;na=19;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=9 nr=2 na=21  #nr=2;na=21;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)
export nx=9 nr=2 na=22  #nr=2;na=21;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)
#export nx=10 nr=2 na=24 #nr=2;na=24;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
#export nx=11 #12 13 14 15
export nx=10 nr=2 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
#
export nG=1 sG=1.0 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export mel=1
#1連想行列毎にストップ
python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -DISP 11 -dbgi 1 -mel $mel
#１数字(複数の連想行列）毎にストップ
python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx 11 -nr 2 -na 18 -nG 3 -sG 1 -DISP 10 -dbgi 1 -mel $mel

#python PC2xPy.py -dr $dr -ow 1 -Ksize 3 -sK 1 -rmax 2 -R $R -ow 1 -nx 11 -nr 5 -na 18 -DISP 10 -dbgi 1 
##########################
#(1-3-2) (Px,Py,Cx,Xy)から極(Px,Py)をCで重み付けした特徴ベクトルを作成（全処理）（実際は下の(2-0)で行うのでここではやらなくてよい）
##########################時間はそれほどかからない
dl=../../12voicedata_ueki_all; 
dr=${dl}_k8; #mkdir -p $dr  #
df=${dl}_f
R=0.8 #R=1:0.8:0.6:0.4:0.2
export nx=6 nr=1 na=18  #nr=1;na=18;nx=((nr*na)*2)**(0.5);print nx # nx is set so that nx * nx/2 == nr * na
export nx=10 nr=3 na=18 #nr=3;na=18;nx=((nr*na)*2)**(0.5);print nx
export nx=12 nr=4 na=18 #nr=4;na=18;nx=((nr*na)*2)**(0.5);print nx
export nx=13 nr=5 na=18 #nr=5;na=18;nx=((nr*na)*2)**(0.5);print nx
export nx=15 nr=6 na=18 #nr=6;na=18;nx=((nr*na)*2)**(0.5);print nx 
export nx=8 nr=2 na=18  #nr=2;na=18;nx=((nr*na)*2)**(0.5);print nx
export nx=9 nr=2 na=19  #nr=2;na=19;nx=((nr*na)*2)**(0.5);print nx
export nx=9 nr=2 na=20  #nr=2;na=19;nx=((nr*na)*2)**(0.5);print nx
export nx=9 nr=2 na=21  #nr=2;na=21;nx=((nr*na)*2)**(0.5);print nx
export nx=9 nr=2 na=22  #nr=2;na=21;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)
export nx=10 nr=2 na=24 #nr=2;na=24;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=2 na=25 #nr=2;na=24;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=6 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=8 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=11 #12 13 14 15 16 17 18 19 20
export nx=10 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=2 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
#
export nG=1 sG=1 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export nG=3 sG=1 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export mel=1
#
rm -f nohup.out;nohup python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -DISP 0 -mel $mel&

#処理状況の確認
jobs
tail nohup.out
grep created nohup.out | wc　#ファイルの個数 確認
for F in rPc rPcb rP1 pPc pPcb pP1 ;do
echo -n $F;ls -l $dr/*R${R}*-${F}*.dat|wc;#ファイルの個数 確認　全部揃えば 698=700-2個
done
for F in rPc rPcb rP1 pPc pPcb pP1 ;do
echo -n $F;wc $dr/*R${R}*-${F}.dat         #ファイルのsize 確認
done

##########################
#(1-4) (x,y,C)から極(x,y)の分布を作成（以前の極分布ベクトルq_nと同じ）（今回は、確認のみで詳しく行わない）
##########################
#(1-4-1) (x,y,C)から極(x,y)の分布を作成（以前の極分布ベクトルq_nと同じ）(動作チェック）結果は $dr/*-q.dat 
##########################
python PC2q.py -dr $dr -ow 1 -nK 11 -sG 3 -nF 1001 -rmax 2 -R $R -ow 1 -DISP 10 -dbgi 1
##########################
#(1-4-2) (x,y,C)から極(x,y)の分布を作成（以前の極分布ベクトルq_nと同じ）(動作チェック）
##########################
nohup python PC2q.py -dr $dr -ow 1 -nF 1001 -rmax 2 -R $R -nG 11 -sG 3 -ow 1 -DISP 0 >nohup.out&
grep created nohup.out | wc

##################################
#(2)　学習と話者識別
##################################
#(2-1)
#sudo apt-get install libopencv-dev;sudo apt-get install python-opencv; #for install cv2 for Ubuntu12.04 
#pip install opencv-python for Ubuntu14.04
#
#################cut and paste from here (No.2-1)
export dl=../../12voicedata_ueki_all; 
export dr=${dl}_k8; #mkdir -p $dq  #pole new
export sX=-1;a=1.6;b=10;N=40;# for short time check
export sX=-1;a=1.6;b=40;N=100; #??
export sX=-1;a=1.6;b=40;N=400; #????
export sX=-1;a=1.6;b=400;N=40; #?best 18aihc!
export sX=-1;a=1.6;b=300;N=40; #?
export sX=-1;a=1.6;b=100;N=50; #?
export sX=-1;a=0.7;b=100;N=30; #
export sX=-1;a=1.6;b=100;N=40; #
export mbas=2:${b}:${a}:1
#
export L=1:2:3:4:5:6:7:8:9:10
export D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
export S=fhs:fms:mkk:mko:mmt:mnh:mym
export R=0.8; RX=0 #R=1
nlz=norm
#
###
# set Feature size nx for (nx)*(nx/2)-recutangular image , and nr and na for (nr)*(na)-polar image 
###
export nx=6 nr=1 na=18  #nr=1;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=10 nr=3 na=18 #nr=3;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=13 nr=5 na=18 #nr=5;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=15 nr=6 na=18 #nr=6;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=12 nr=4 na=18 #nr=4;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=8 nr=2 na=18  #nr=2;na=18;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=9 nr=2 na=19  #nr=2;na=19;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=9 nr=2 na=20  #nr=2;na=19;nx=((nr*na)*2)**(0.5);print int(nx+0.5)
export nx=9 nr=2 na=21  #nr=2;na=21;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)
export nx=9 nr=2 na=22  #nr=2;na=21;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)
#export nx=10 nr=2 na=24 #nr=2;na=24;nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=6 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=8 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=11 #12 13 14 15 16 17 18 19 20
export nx=10 nr=4 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=2 na=23 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
export nx=10 nr=2 na=25 #nx=((nr*na)*2)**(0.5);print 'nx=',int(nx+0.5)nx= 10
###
# set nG (Gaussian filter's Kernel-size) and sG (sigma)
###
export nG=3 sG=1.0 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export nG=3 sG=0.7 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export nG=1 sG=1.0 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
export nG=3 sG=0.5 #nG: size of Gaussian Kernel, sG:sigma of Gaussian Kernel
###
#choose rectangular or polar
###
export FD=rP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pP1 #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export FD=pPc #pP1 #pP1 pPc pPcb rP1 rPc rPcb 
export mel=0 lx=0 #0
#
rm -f nohup.out;
#(2-0) 上記パラメタを持つxPyファイルの存在を調べ、なければ作る←(1-3-2)
if [ "${FD:0:1}" == "p" ]; then #xPyファイルの存在確認
fn=${dr}/mym-zero9-R${R}*-${FD}F${nr}x${na}G${nG}x${sG}m${mel}.dat 
else
fn=${dr}/mym-zero9-R${R}*-${FD}F${nx}G${nG}x${sG}.dat 
fi
if [ ! -e $fn ]; then #xPyファイルがなければ作る(1-3-2)
cmd0="python PC2xPy.py -dr $dr -R $R -rmax 2 -ow 1 -nx $nx -nr $nr -na $na -nG $nG -sG $sG -mel $mel -DISP 0"
echo "#Execute ${cmd0}"
${cmd0} > nohup.out
fi
#(2-1) 学習と話者識別実行(時間がかかる）
cmd="python oob4speakerdigit+RX_20191113.py -sp $S -tx $D -L $L -dr $dr -R $R -RX $RX -mbas $mbas -s -1 -N ${N} -sX ${sX} -FD ${FD} -nx $nx -nr=$nr -na=$na -nG $nG -sG $sG -mel $mel -nlz $nlz -lx $lx"
echo "#Execute ${cmd}"
nohup ${cmd}&
#################cut and paste to here (No.2-1)

#(2-2)実行状況確認
grep "time\|start" nohup.out
#最終結果確認
tail -15 nohup.out
#########
#(2-3)結果と課題:
#  今回の課題は、話者識別に適した極分布（特徴ベクトル）は何かを調査すること
#  黒木の実験結果によると、
#  [0] バギングCAN2のユニット数N, バグ数b, バグサイズ率a は、N=40,b=100,a=1.6および
#　　　　N=30,b=100,a=0.7による結果を比較したが、より妥当性がある
#     （nr,na,nG等のパラメータのなめらかな変動に対して、誤差ERがなめらかに変化するとともに
#       ER自体も小さい値になる）のはN=40,b=100,a=1.6ではないかと考える。
#      ほんとはこれらのチューニングも課題であるが、…、以下のパラメータのチューニングを行い検討する
#  [1] 極分布は、直交座標系（rP1、rPc、rPcb）と極座標系(pP1 pPc pPcb)
#　　　の合計6種類の内、pP1が良いのではないか
#  [2] 極分布pP1を区分する次元はnr=4,na=23が良いのではないか
#
#########
###Without mel-scale (mel==0) with N40b100a1.6 optimize nr,na,(nx),nG,sG,
##==> Best result with nr=4 na=23  nG=3 sG=0.5 ???
#########
#R=0.8 F2x23 Ubuntu12.04
#TP0.530 TN0.974 FP0.026 FN0.470 ER0.100 RC0.530 PR0.803 F0.638 k46 pP1F2x23G1x1.0m0N40b100a1.6R0.8 2451.081s(0:40:51.080)
#TP0.443 TN0.980 FP0.020 FN0.557 ER0.109 RC0.443 PR0.817 F0.574 k92 pP1F4x23G1x1.0m0N40b100a1.6R0.8 4314.420s(1:11:54.419)
#TP0.521 TN0.972 FP0.028 FN0.479 ER0.103 RC0.521 PR0.786 F0.627 k92 pP1F4x23G3x0.5m0N40b100a1.6R0.8 4285.148s(1:11:25.147)
#TP0.520 TN0.963 FP0.037 FN0.480 ER0.111 RC0.520 PR0.736 F0.610 k92 pP1F4x23G3x1.0m0N40b100a1.6R0.8 4375.198s(1:12:55.197)

#R=0.8 F2x23
#TP0.527 TN0.970 FP0.030 FN0.473 ER0.104 RC0.527 PR0.778 F0.629 k46 pP1F2x23G1x1.0m0N40b100a1.6R0.8 3445.891s(0:57:25.890)
#TP0.533 TN0.967 FP0.033 FN0.467 ER0.105 RC0.533 PR0.764 F0.628 k46 pP1F2x23G3x0.5m0N40b100a1.6R0.8 3506.210s(0:58:26.209)
#R=0.8  F4x23
#TP0.426 TN0.976 FP0.024 FN0.574 ER0.116 RC0.426 PR0.777 F0.550 k92 pP1F4x23G1x1.0m0N40b100a1.6R0.8 8370.371s(2:19:30.370)
#TP0.530 TN0.972 FP0.028 FN0.470 ER0.102 RC0.530 PR0.789 F0.634 k92 pP1F4x23G3x0.5m0N40b100a1.6R0.8 8463.674s(2:21:03.674)ER*PR*F*
#TP0.552 TN0.962 FP0.038 FN0.448 ER0.106 RC0.552 PR0.745 F0.634 k92 pP1F4x23G3x1.0m0N40b100a1.6R0.8 8496.331s(2:21:36.330)RC*
###doing                                                            pP1F4x23G3x0.5m0N40b100a1.6R0.8 in can2m with new mel==0
#TP0.460 TN0.952 FP0.048 FN0.540 ER0.130 RC0.460 PR0.655 F0.540 k92 pP1F4x23G3x0.5m0N40b100a1.6R0.8 8430.108s(2:20:30.107)??20191205

#R=1 F2x23
#TP0.778 TN0.982 FP0.018 FN0.222 ER0.047 RC0.778 PR0.879 F0.825 k46 pP1F2x23G1x1.0m0N40b100a1.6R1 4030.252s(1:07:10.252)
#TP0.811 TN0.981 FP0.019 FN0.189 ER0.043 RC0.811 PR0.878 F0.843 k46 pP1F2x23G3x0.5m0N40b100a1.6R1 4095.362s(1:08:15.362)
#TP0.787 TN0.979 FP0.021 FN0.213 ER0.048 RC0.787 PR0.863 F0.823 k46 pP1F2x23G3x1.0m0N40b100a1.6R1 4090.410s(1:08:10.409)
#R=1 F4x23
#TP0.668 TN0.989 FP0.011 FN0.332 ER0.057 RC0.668 PR0.907 F0.769 k92 pP1F4x23G1x1.0m0N40b100a1.6R1 9798.331s(2:43:18.331)PR*
#TP0.791 TN0.986 FP0.014 FN0.209 ER0.042 RC0.791 PR0.903 F0.843 k92 pP1F4x23G3x0.5m0N40b100a1.6R1 9940.809s(2:45:40.808)ER*RC*F*
#TP0.798 TN0.981 FP0.019 FN0.202 ER0.045 RC0.798 PR0.876 F0.835 k92 pP1F4x23G3x1.0m0N40b100a1.6R1 9875.346s(2:44:35.346)


#TP0.523 TN0.969 FP0.031 FN0.477 ER0.105 RC0.523 PR0.774 F0.624 k92 pP1F4x23G3x0.5m1N40b100a1.6R0.8 8329.435s(2:18:49.435)xxxmel=1?
#TP0.795 TN0.986 FP0.014 FN0.205 ER0.041 RC0.795 PR0.905 F0.847 k92 pP1F4x23G3x0.5m1N40b100a1.6R1 9704.249s(2:41:44.249) m=1

#################### Examination that mel==0 (without mel-scale) is best.
#TP0.476 TN0.984 FP0.016 FN0.524 ER0.101 RC0.476 PR0.858 F0.612 k92 pP1F4x23G3x0.5m0N30b100a0.7R0.8 3756.055s(1:02:36.054)
#TP0.464 TN0.979 FP0.021 FN0.536 ER0.107 RC0.464 PR0.816 F0.592 k92 pP1F4x23G3x0.5m1N30b100a0.7R0.8 3815.816s(1:03:35.816)
#TP0.457 TN0.980 FP0.020 FN0.543 ER0.107 RC0.457 PR0.820 F0.587 k92 pP1F4x23G3x0.5m2N30b100a0.7R0.8 3839.833s(1:03:59.833)
#TP0.476 TN0.983 FP0.017 FN0.524 ER0.102 RC0.476 PR0.847 F0.609 k92 pP1F4x23G3x0.5m0N30b100a0.7R0.8 3768.561s(1:02:48.560) ER*F*??old

#TP0.530 TN0.972 FP0.028 FN0.470 ER0.102 RC0.530 PR0.789 F0.634 k92 pP1F4x23G3x0.5m0N40b100a1.6R0.8 8471.898s(2:21:11.898)
#TP0.507 TN0.968 FP0.032 FN0.493 ER0.109 RC0.507 PR0.761 F0.609 k92 pP1F4x23G3x0.5m1N40b100a1.6R0.8 8525.436s(2:22:05.435)
#TP0.520 TN0.968 FP0.032 FN0.480 ER0.107 RC0.520 PR0.763 F0.618 k92 pP1F4x23G3x0.5m2N40b100a1.6R0.8 8535.444s(2:22:15.444)
#TP0.532 TN0.974 FP0.026 FN0.468 ER0.099 RC0.532 PR0.807 F0.641 k92 pP1F4x23G3x0.5m0N40b100a1.6R0.8 8279.216s(2:17:59.216) ER***PR**F**???old

#TP0.537 TN0.969 FP0.031 FN0.463 ER0.103 RC0.537 PR0.775 F0.635 k46 pP1F2x23G1x1.0m0N40b100a1.6R0.8 3447.047s(0:57:27.046) ER*RC*F*
#TP0.497 TN0.964 FP0.036 FN0.503 ER0.114 RC0.497 PR0.735 F0.593 k46 pP1F2x23G1x1.0m1N40b100a1.6R0.8 3453.604s(0:57:33.604)
#TP0.510 TN0.968 FP0.032 FN0.490 ER0.108 RC0.510 PR0.764 F0.612 k46 pP1F2x23G1x1.0m2N40b100a1.6R0.8 3460.884s(0:57:40.883)

#TP0.470 TN0.984 FP0.016 FN0.530 ER0.102 RC0.470 PR0.852 F0.606 k46 pP1F2x23G1x1.0m0N30b100a0.7R0.8 1608.903s(0:26:48.903) m0*
#TP0.458 TN0.982 FP0.018 FN0.542 ER0.105 RC0.458 PR0.838 F0.593 k46 pP1F2x23G1x1.0m1N30b100a0.7R0.8 1623.034s(0:27:03.034)
#TP0.430 TN0.980 FP0.020 FN0.570 ER0.112 RC0.430 PR0.809 F0.561 k46 pP1F2x23G1x1.0m2N30b100a0.7R0.8 1625.297s(0:27:05.296)

#TP0.742 TN0.987 FP0.013 FN0.258 ER0.048 RC0.742 PR0.906 F0.816 k46 pP1F2x23G1x1.0m0N30b100a0.7R1 1865.180s(0:31:05.180) ***

#################### Examination that N40b100a1.6 is better than N30b100a1.6
#TP0.532 TN0.966 FP0.034 FN0.468 ER0.106 RC0.532 PR0.757 F0.625 k46 pP1F2x23G1x1.0m0N30b100a1.6R0.8 2880.487s(0:48:00.487) N30worsethanN40
#TP0.527 TN0.970 FP0.030 FN0.473 ER0.104 RC0.527 PR0.778 F0.629 k46 pP1F2x23G1x1.0m0N40b100a1.6R0.8 3445.891s(0:57:25.890)
#################### 

#####result for R=1,0.8 a=0.7(fast;low precesion?)
##parameter tuning --> decide to use N30,b100,a0.7, (reject b=300 with smallest ER0.046, because it is slow)
##[1] N30,b100,a0.7, b100? R=1
#TP0.748 TN0.988 FP0.012 FN0.252 ER0.046 RC0.748 PR0.914 F0.823 k46 pP1F2x23G1x1.0N30b300a0.7R1 5558.675s(1:32:38.675) b300*ER*RC*F*
#TP0.746 TN0.988 FP0.012 FN0.254 ER0.046 RC0.746 PR0.914 F0.822 k46 pP1F2x23G1x1.0N30b200a0.7R1 3690.229s(1:01:30.229) b200*ER*
#TP0.742 TN0.987 FP0.013 FN0.258 ER0.048 RC0.742 PR0.906 F0.816 k46 pP1F2x23G1x1.0N30b100a0.7R1 1865.180s(0:31:05.180) ***
#TP0.736 TN0.987 FP0.013 FN0.264 ER0.049 RC0.736 PR0.903 F0.811 k46 pP1F2x23G1x1.0N40b200a0.7R1 4431.979s(1:13:51.978)
#TP0.741 TN0.986 FP0.014 FN0.259 ER0.049 RC0.741 PR0.901 F0.813 k46 pP1F2x23G1x1.0N35b100a0.7R1 2048.546s(0:34:08.546)
#TP0.738 TN0.986 FP0.014 FN0.262 ER0.050 RC0.738 PR0.896 F0.809 k46 pP1F2x23G1x1.0N25b100a0.7R1 1672.582s(0:27:52.582)
#TP0.729 TN0.987 FP0.013 FN0.271 ER0.050 RC0.729 PR0.902 F0.807 k46 pP1F2x23G1x1.0N20b100a0.7R1 1500.343s(0:25:00.343)
#TP0.741 TN0.985 FP0.015 FN0.259 ER0.050 RC0.741 PR0.893 F0.810 k46 pP1F2x23G1x1.0N40b100a0.7R1 2210.672s(0:36:50.671) **
#TP0.725 TN0.986 FP0.014 FN0.275 ER0.052 RC0.725 PR0.894 F0.801 k46 pP1F2x23G1x1.0N50b100a0.7R1  2586.258s(0:43:06.257) N=50Worse
#
##[2] F4x23 R1
#TP0.683 TN0.988 FP0.012 FN0.317 ER0.055 RC0.683 PR0.907 F0.779 k92 pP1F4x23G1x1.0N40b100a1.6R1 9929.533s(2:45:29.533)
#TP0.607 TN0.992 FP0.008 FN0.393 ER0.063 RC0.607 PR0.928 F0.734 k92 pP1F4x23G1x1.0N30b100a0.7R1 4419.859s(1:13:39.859) PR*
#TP0.752 TN0.988 FP0.012 FN0.248 ER0.045 RC0.752 PR0.915 F0.825 k92 pP1F4x23G3x0.5N30b100a0.7R1 4491.461s(1:14:51.460) ER*
#TP0.766 TN0.986 FP0.014 FN0.234 ER0.045 RC0.766 PR0.904 F0.829 k92 pP1F4x23G3x1.0N30b100a0.7R1 4404.924s(1:13:24.924) ER*RC*F*

##[3] F4x23 R0.8
#TP0.368 TN0.989 FP0.011 FN0.632 ER0.114 RC0.368 PR0.871 F0.518 k92 pP1F4x23G1x1.0N30b100a0.7R0.8 3862.550s(1:04:22.549) PR*
#TP0.476 TN0.983 FP0.017 FN0.524 ER0.102 RC0.476 PR0.847 F0.609 k92 pP1F4x23G3x0.5N30b100a0.7R0.8 3768.561s(1:02:48.560) ER*F*
#TP0.497 TN0.972 FP0.028 FN0.503 ER0.107 RC0.497 PR0.783 F0.608 k92 pP1F4x23G3x1.0N30b100a0.7R0.8 3844.216s(1:04:04.216) RC*

#TP0.474 TN0.982 FP0.018 FN0.526 ER0.102 RC0.474 PR0.842 F0.607 k92 pP1F4x23G3x0.5N30b200a0.7R0.8 7523.951s(2:05:23.951)?
#TP0.532 TN0.974 FP0.026 FN0.468 ER0.099 RC0.532 PR0.807 F0.641 k92 pP1F4x23G3x0.5N40b100a1.6R0.8 8279.216s(2:17:59.216) ER***PR**F**

#######
#TP0.607 TN0.993 FP0.007 FN0.393 ER0.062 RC0.607 PR0.936 F0.737 k92 pP1F4x23G1x1.0N40b200a0.7R1 10281.267s(2:51:21.267) ERb200=ERb100
#TP0.615 TN0.992 FP0.008 FN0.385 ER0.062 RC0.615 PR0.931 F0.740 k92 pP1F4x23G1x1.0N50b100a0.7R1 5815.295s(1:36:55.294) 
#
#TP0.470 TN0.981 FP0.019 FN0.530 ER0.105 RC0.470 PR0.828 F0.600 k92 pP1F4x23G3x0.5N40b100 4336.124s(1:12:16.123) a=0.7 R=0.8
#TP0.330 TN0.990 FP0.010 FN0.670 ER0.120 RC0.330 PR0.868 F0.478 k92 pP1F4x23G1x1.0N50b100 4880.124s(1:21:20.124) N=50bad
#TP0.460 TN0.983 FP0.017 FN0.540 ER0.104 RC0.460 PR0.843 F0.595 k92 pP1F4x23G3x0.5N50b100 4883.923s(1:21:23.923) a=0.7 R=0.8

#[0]
######result for R=1 a=1.6 slow
#TP0.764 TN0.982 FP0.018 FN0.236 ER0.049 RC0.764 PR0.875 F0.816 k46 pP1F2x23G1x1.0N40b100 3992.138s(1:06:32.137) a=1.6 R=1
#TP0.787 TN0.985 FP0.015 FN0.213 ER0.044 RC0.787 PR0.896 F0.838 k92 pP1F4x23G3x0.5N40b100 9682.246s(2:41:22.245) a=1.6 R=1

#[0]
#Result for R0.8  a=1.6=slow
#TP0.537 TN0.969 FP0.031 FN0.463 ER0.103 RC0.537 PR0.775 F0.635 k46 pP1F2x23G1x1N40b100 3447.047s(0:57:27.046) ER*RC*F*
#TP0.523 TN0.970 FP0.030 FN0.477 ER0.105 RC0.523 PR0.777 F0.625 k46 pP1F2x23G3x0.2N40b100 3497.300s(0:58:17.300)
#TP0.516 TN0.975 FP0.025 FN0.484 ER0.101 RC0.516 PR0.807 F0.629 k46 pP1F2x23G3x0.3N40b100 3452.820s(0:57:32.820)ER**
#TP0.516 TN0.969 FP0.031 FN0.484 ER0.106 RC0.516 PR0.769 F0.617 k46 pP1F2x23G3x0.4N40b100 3500.132s(0:58:20.132)
#TP0.537 TN0.967 FP0.033 FN0.463 ER0.105 RC0.537 PR0.764 F0.631 k46 pP1F2x23G3x0.5N40b100 3518.382s(0:58:38.382)
#TP0.509 TN0.962 FP0.038 FN0.491 ER0.114 RC0.509 PR0.726 F0.598 k46 pP1F2x23G3x0.7N40b100 3515.321s(0:58:35.320)

#TP0.420 TN0.978 FP0.022 FN0.580 ER0.115 RC0.420 PR0.794 F0.549 k92 pP1F4x23G1x1.0N40b100 8392.447s(2:19:52.447)
#TP0.437 TN0.978 FP0.022 FN0.563 ER0.112 RC0.437 PR0.798 F0.565 k92 pP1F4x23G3x0.3N40b100 8429.563s(2:20:29.563)
#TP0.532 TN0.974 FP0.026 FN0.468 ER0.099 RC0.532 PR0.807 F0.641 k92 pP1F4x23G3x0.5N40b100 8279.216s(2:17:59.216) ER***PR**F**
#TP0.517 TN0.966 FP0.034 FN0.483 ER0.109 RC0.517 PR0.754 F0.613 k92 pP1F4x23G3x0.7N40b100 8418.224s(2:20:18.223)
#TP0.537 TN0.964 FP0.036 FN0.463 ER0.107 RC0.537 PR0.747 F0.625 k92 pP1F4x23G3x1.0N40b100 8516.602s(2:21:56.602) RC*

#TP0.397 TN0.983 FP0.017 FN0.603 ER0.115 RC0.397 PR0.824 F0.536 k138 pP1F6x23G1x1.0N40b100 14622.620s(4:03:42.619)
#TP0.473 TN0.975 FP0.025 FN0.527 ER0.108 RC0.473 PR0.793 F0.592 k138 pP1F6x23G3x0.5N40b100 15023.247s(4:10:23.247)
#TP0.519 TN0.971 FP0.029 FN0.481 ER0.104 RC0.519 PR0.784 F0.624 k138 pP1F6x23G3x0.7N40b100 14785.650s(4:06:25.649)
#TP0.526 TN0.971 FP0.029 FN0.474 ER0.103 RC0.526 PR0.786 F0.630 k138 pP1F6x23G3x0.8N40b100 14774.535s(4:06:14.534)
#TP0.526 TN0.970 FP0.030 FN0.474 ER0.104 RC0.526 PR0.781 F0.628 k138 pP1F6x23G3x0.9N40b100 15313.228s(4:15:13.227)
#TP0.513 TN0.967 FP0.033 FN0.487 ER0.109 RC0.513 PR0.757 F0.611 k138 pP1F6x23G3x1.0N40b100 15263.163s(4:14:23.162)

#TP0.483 TN0.967 FP0.033 FN0.517 ER0.113 RC0.483 PR0.747 F0.587 k184 pP1F8x23G3x1.0N40b100 23445.095s(6:30:45.094)
#TP0.487 TN0.971 FP0.029 FN0.513 ER0.110 RC0.487 PR0.769 F0.596 k184 pP1F8x23G3x0.9N40b100 23566.317s(6:32:46.316)

#TP0.468 TN0.942 FP0.058 FN0.532 ER0.137 RC0.468 PR0.617 F0.533 k60 rP1F10G3x0.5N40b100 4634.812s(1:17:14.811)


#optimize nX for rP1
#TP0.388 TN0.937 FP0.063 FN0.612 ER0.154 RC0.388 PR0.553 F0.456 k32 rP1F8G1x1N40b100 2278.208s(0:37:58.207)
#TP0.394 TN0.938 FP0.062 FN0.606 ER0.153 RC0.394 PR0.558 F0.462 k36 rP1F9G1x1N40b100 2594.752s(0:43:14.751)
#TP0.437 TN0.947 FP0.053 FN0.563 ER0.138 RC0.437 PR0.621 F0.513 k50 rP1F10G1x1N40b100 3701.592s(1:01:41.592)
#TP0.431 TN0.940 FP0.060 FN0.569 ER0.144 RC0.431 PR0.591 F0.499 k55 rP1F11G1x1N40b100 4164.025s(1:09:24.025)
#TP0.404 TN0.952 FP0.048 FN0.596 ER0.139 RC0.404 PR0.629 F0.492 k72 rP1F12G1x1N40b100 5744.459s(1:35:44.458) 
#TP0.405 TN0.953 FP0.047 FN0.595 ER0.138 RC0.405 PR0.635 F0.495 k78 rP1F13G1x1N40b100 6489.820s(1:48:09.819)
#TP0.448 TN0.970 FP0.030 FN0.552 ER0.117 RC0.448 PR0.752 F0.562 k98 rP1F14G1x1N40b100 9087.862s(2:31:27.862) ER*F* for rp1
#TP0.427 TN0.968 FP0.032 FN0.573 ER0.122 RC0.427 PR0.729 F0.538 k105 rP1F15G1x1N40b100 9682.354s(2:41:22.354)
#TP0.423 TN0.972 FP0.028 FN0.577 ER0.119 RC0.423 PR0.754 F0.542 k128 rP1F16G1x1N40b100 13337.664s(3:42:17.664)
#TP0.418 TN0.983 FP0.017 FN0.582 ER0.111 RC0.418 PR0.834 F0.557 k200 rP1F20G1x1N40b100 26475.142s(7:21:15.142) ER*
#???

#Optimize na for pP1
#TP0.521 TN0.962 FP0.038 FN0.479 ER0.111 RC0.521 PR0.734 F0.610 k36 pP1F2x18G1x1N40b100 2570.162s(0:42:50.162) 
#TP0.533 TN0.970 FP0.030 FN0.467 ER0.103 RC0.533 PR0.780 F0.633 k38 pP1F2x19G1x1N40b100 2807.666s(0:46:47.666) ER*PR*
#TP0.519 TN0.966 FP0.034 FN0.481 ER0.108 RC0.519 PR0.754 F0.615 k40 pP1F2x20G1x1N40b100 2956.958s(0:49:16.958)
#TP0.514 TN0.970 FP0.030 FN0.486 ER0.106 RC0.514 PR0.774 F0.618 k42 pP1F2x21G1x1N40b100 3113.306s(0:51:53.305)
#TP0.517 TN0.967 FP0.033 FN0.483 ER0.108 RC0.517 PR0.757 F0.614 k44 pP1F2x22G1x1N40b100 3289.598s(0:54:49.598)
#TP0.537 TN0.969 FP0.031 FN0.463 ER0.103 RC0.537 PR0.775 F0.635 k46 pP1F2x23G1x1N40b100 3447.047s(0:57:27.046) ER*RC*F*
#TP0.526 TN0.963 FP0.037 FN0.474 ER0.110 RC0.526 PR0.738 F0.614 k48 pP1F2x24G1x1N40b100 3626.286s(1:00:26.286)
#TP0.514 TN0.969 FP0.031 FN0.486 ER0.106 RC0.514 PR0.770 F0.617 k50 pP1F2x25G1x1N40b100 3826.842s(1:03:46.841)


#TP0.533 TN0.970 FP0.030 FN0.467 ER0.103 RC0.533 PR0.780 F0.633 k38 pP1F2x19G1x1N40b100 2807.666s(0:46:47.666) *****
#TP0.487 TN0.958 FP0.042 FN0.513 ER0.120 RC0.487 PR0.701 F0.575 k38 pPcF2x19G1x1N40b100 2757.566s(0:45:57.565)
#TP0.506 TN0.970 FP0.030 FN0.494 ER0.107 RC0.506 PR0.774 F0.612 k76 pPcbF2x19G1x1N40b100 6500.894s(1:48:20.893)
#
#TP0.537 TN0.969 FP0.031 FN0.463 ER0.103 RC0.537 PR0.775 F0.635 k46 pP1F2x23G1x1N40b100 3447.047s(0:57:27.046) ****
#TP0.501 TN0.972 FP0.028 FN0.499 ER0.106 RC0.501 PR0.785 F0.612 k92 pPcbF2x23G1x1N40b100 8396.233s(2:19:56.232)

#
#TP0.437 TN0.947 FP0.053 FN0.563 ER0.138 RC0.437 PR0.621 F0.513 k50 rP1F10G1x1N40b100 3701.592s(1:01:41.592)
#
#TP0.431 TN0.950 FP0.050 FN0.569 ER0.137 RC0.431 PR0.632 F0.513 k100 rPcbF10G1x1N40b100 9191.813s(2:33:11.812)

#TP0.533 TN0.970 FP0.030 FN0.467 ER0.103 RC0.533 PR0.780 F0.633 k38 pP1F2x19G1x1N40b100 2807.666s(0:46:47.666) ***

#TP0.438 TN0.973 FP0.027 FN0.562 ER0.116 RC0.438 PR0.767 F0.558 k72 pP1F4x18G1x1N40b100 5981.384s(1:39:41.383) 
#TP0.420 TN0.970 FP0.030 FN0.580 ER0.122 RC0.420 PR0.734 F0.534 k72 pPcF4x18G1x1N40b100 6110.470s(1:41:50.469)
#TP0.431 TN0.975 FP0.025 FN0.569 ER0.116 RC0.431 PR0.774 F0.554 k144 pPcbF4x18G1x1N40b100 16032.424s(4:27:12.424)
#
#TP0.404 TN0.952 FP0.048 FN0.596 ER0.139 RC0.404 PR0.629 F0.492 k72 rP1F12G1x1N40b100 5744.459s(1:35:44.458) 
#TP0.420 TN0.951 FP0.049 FN0.580 ER0.137 RC0.420 PR0.633 F0.505 k72 rPcF12G1x1N40b100 5968.307s(1:39:28.306)
#TP0.438 TN0.961 FP0.039 FN0.562 ER0.126 RC0.438 PR0.694 F0.537 k144 rPcbF12G1x1N40b100 15860.458s(4:24:20.458)
#TP0.415 TN0.947 FP0.053 FN0.585 ER0.142 RC0.415 PR0.609 F0.494 k168 rPcbF12G3x1N40b100 20114.665s(5:35:14.664)

#TP0.519 TN0.955 FP0.045 FN0.481 ER0.118 RC0.519 PR0.696 F0.594 k72 pP1F4x18G3x1N40b100 6189.662s(1:43:09.661) pP1bF4x18G3x1 in can2m/speech

#TP0.403 TN0.965 FP0.035 FN0.597 ER0.129 RC0.403 PR0.697 F0.510 k54 pP1F3x18G1x1N40b100 4068.466s(1:07:48.465) ??

#TP0.521 TN0.962 FP0.038 FN0.479 ER0.111 RC0.521 PR0.734 F0.610 k36 pP1F2x18G1x1N40b100 2570.162s(0:42:50.162) nlznorm
#TP0.473 TN0.960 FP0.040 FN0.527 ER0.121 RC0.473 PR0.704 F0.566 k36 pPcF2x18G1x1N40b100 2574.733s(0:42:54.732) nlznorm
#TP0.486 TN0.971 FP0.029 FN0.514 ER0.110 RC0.486 PR0.772 F0.596 k72 pPcbF2x18G1x1N40b100 5946.615s(1:39:06.615) nlznorm&|sin(c)|***minER
#TP0.388 TN0.937 FP0.063 FN0.612 ER0.154 RC0.388 PR0.553 F0.456 k32 rP1F8G1x1N40b100 2278.208s(0:37:58.207)
#TP0.362 TN0.914 FP0.086 FN0.638 ER0.178 RC0.362 PR0.458 F0.404 k32 rPcF8G1x1N40b100 2283.179s(0:38:03.178)
#TP0.351 TN0.926 FP0.074 FN0.649 ER0.170 RC0.351 PR0.488 F0.408 k64 rPcbF8G1x1N40b100 5000.816s(1:23:20.815) 


#??
#??#TP0.473 TN0.960 FP0.040 FN0.527 ER0.122 RC0.473 PR0.701 F0.565 k36 pP1F2x18G1x1N40b100 2613.952s(0:43:33.952) nlzmax
#??
#??#TP0.526 TN0.964 FP0.036 FN0.474 ER0.109 RC0.526 PR0.743 F0.616 k36 pP1F2x18G1x1N40b100 2550.840s(0:42:30.840) nlz1 ***ER is min,but ...
#??#TP0.467 TN0.955 FP0.045 FN0.533 ER0.127 RC0.467 PR0.674 F0.552 k36 pPcF2x18G1x1N40b100 2525.975s(0:42:05.975) nlz1
#??#TP0.371 TN0.906 FP0.094 FN0.629 ER0.183 RC0.371 PR0.440 F0.403 k72 pPcbF2x18G1x1N40b100 5842.319s(1:37:22.318) nlz1 
#??
#??#TP0.521 TN0.962 FP0.038 FN0.479 ER0.111 RC0.521 PR0.734 F0.610 k36 pP1F2x18G1x1N40b100 2583.206s(0:43:03.205) nlznorm
#??#TP0.473 TN0.960 FP0.040 FN0.527 ER0.121 RC0.473 PR0.704 F0.566 k36 pPcF2x18G1x1N40b100 2574.733s(0:42:54.732)
#??#TP0.331 TN0.948 FP0.052 FN0.669 ER0.155 RC0.331 PR0.561 F0.416 k72 pPcbF2x18G1x1N40b100 5557.163s(1:32:37.163)
#??
#??
#??#TP0.514 TN0.965 FP0.035 FN0.486 ER0.110 RC0.514 PR0.748 F0.610 k36 pP1_2x18N40b100 2578.463s(0:42:58.463) 
#??#TP0.344 TN0.936 FP0.064 FN0.656 ER0.162 RC0.344 PR0.519 F0.414 k72 pPcb_2x18N40b100 5835.279s(1:37:15.278)
#??#TP0.504 TN0.934 FP0.066 FN0.496 ER0.137 RC0.504 PR0.606 F0.550 k36 pPc_2x18N40b100 2624.876s(0:43:44.876)
#??
#??
#??
#??#TP0.510 TN0.967 FP0.033 FN0.490 ER0.109 RC0.510 PR0.757 F0.610 k36 pP1_2x18N40b400 10424.659s(2:53:44.658) b400N40 ***
#??
#??#TP0.491 TN0.949 FP0.051 FN0.509 ER0.127 RC0.491 PR0.658 F0.563 k18 pP1_1x18N40b100 1309.965s(0:21:49.965)b100N40
#??#TP0.514 TN0.965 FP0.035 FN0.486 ER0.110 RC0.514 PR0.748 F0.610 k36 pP1_2x18N40b100 2578.463s(0:42:58.463) b100N40
#??#TP0.507 TN0.964 FP0.036 FN0.493 ER0.112 RC0.507 PR0.738 F0.601 k36 pP1_2x18N50b100 3066.879s(0:51:06.878) b100N50 rP1_2x18 in can2m191122
#??
#??#TP0.434 TN0.973 FP0.027 FN0.566 ER0.117 RC0.434 PR0.761 F0.553 k72 pP1_4x18N40b100 5943.480s(1:39:03.479) 
#??#TP0.408 TN0.976 FP0.024 FN0.592 ER0.119 RC0.408 PR0.770 F0.534 k108 pP1_6x18N40b100 10127.507s(2:48:47.507)  
#??
#??#TP0.408 TN0.976 FP0.024 FN0.592 ER0.119 RC0.408 PR0.770 F0.534 k108 pP1_6x18 10127.507s(2:48:47.507) b100N40
#??
#??R=0.8 b40 N100 
#??#TP0.474 TN0.941 FP0.059 FN0.526 ER0.137 RC0.474 PR0.618 F0.536 k18 pP1_1x18 1119.838s(0:18:39.838)
#??#TP0.493 TN0.959 FP0.041 FN0.507 ER0.118 RC0.493 PR0.708 F0.581 k36 pP1_2x18 6094.982s(1:41:34.981) 
#??#TP0.375 TN0.958 FP0.042 FN0.625 ER0.139 RC0.375 PR0.641 F0.473 k54 pP1_3x18 3222.493s(0:53:42.492)
#??#TP0.427 TN0.974 FP0.026 FN0.573 ER0.117 RC0.427 PR0.768 F0.549 k72 pP1_4x18 4390.628s(1:13:10.628)
#??#TP0.375 TN0.971 FP0.029 FN0.625 ER0.128 RC0.375 PR0.724 F0.494 k90 pP1_5x18 5237.775s(1:27:17.774) nr5 na18
#??
#??#TP0.448 TN0.927 FP0.073 FN0.552 ER0.153 RC0.448 PR0.551 F0.494 k36 pPc_2x18 6677.294s(1:51:17.293)
#??
#??#TP0.321 TN0.936 FP0.064 FN0.679 ER0.167 RC0.321 PR0.499 F0.391 k72 pPcb_2x18 Time12569.152s(3:29:29.152)
#??#TP0.381 TN0.983 FP0.017 FN0.619 ER0.118 RC0.381 PR0.813 F0.519 k496 rP1_?x? Time62833.130s(17:27:13.129)
#??
#??
#??
#??#TP0.468 TN0.949 FP0.051 FN0.532 ER0.131 RC0.468 PR0.648 F0.544 k90 pPc_5x18 Time5451.207s(1:30:51.206) nr5 na18
#??#TP0.375 TN0.950 FP0.050 FN0.625 ER0.146 RC0.375 PR0.600 F0.462 k180 pPcb_5x18 Time13435.993s(3:43:55.993) nr5 na18
#??
#??
#??
#??#TP0.375 TN0.971 FP0.029 FN0.625 ER0.128 RC0.375 PR0.724 F0.494 k90 FD:pP1 Time5237.775s(1:27:17.774) nr5 na18
#??0.444 0.955 0.045 0.556 0.130 = 44 472 22 55 77 # 593 fhs 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??0.420 0.963 0.037 0.580 0.126 = 42 491 19 58 77 # 610 fms 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??0.550 0.976 0.024 0.450 0.093 = 55 498 12 45 57 # 610 mkk 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??0.330 0.982 0.018 0.670 0.125 = 33 497 9 67 76 # 606 mko 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??0.323 0.988 0.012 0.677 0.124 = 32 484 6 67 73 # 589 mmt 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??0.340 0.953 0.047 0.660 0.149 = 34 482 24 66 90 # 606 mnh 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??0.220 0.983 0.017 0.780 0.150 = 22 466 8 78 86 # 574 mym 0.8 0 2:40:1.6:1 100 #TP,TN,FP,FN,ER=...#n,m,R,RX,mbas,N
#??#TP0.375 TN0.971 FP0.029 FN0.625 ER0.128 RC0.375 PR0.724 F0.494 k90 FD:pP1 Time5237.775s(1:27:17.774)
#??
#??
#??NG #result includes weight0.2-self-speakers
#??0.481 0.956 0.044 0.519 0.123 #mean TP TN FP FN ERR k36 FD:pP1 Time2014.950s(0:33:34.949) nr2na18
#??
#??#result includes weight0.2-self-speakers
#??0.444 0.967 0.033 0.556 0.107 #mean TP TN FP FN ERR pP1
#??0.420 0.940 0.060 0.580 0.134 #mean TP TN FP FN ERR pPc
#??0.302 0.949 0.051 0.698 0.143 #mean TP TN FP FN ERR pPcb
#??
#??#result for nr=2 na=18 #same as old feature vector q
#??cat ../../12voicedata_ueki_all_k8/speaker-verif-result-pPc.dat #oob prediction of training data FD:pPc
#??0.465 0.957 0.043 0.535 0.113 = 46 573 26 53 79 #TP,TN,FP,FN,ERR n698 m=fhs R0.8 RX0 mbas2:40:1.6:1 N100
#??0.580 0.958 0.042 0.420 0.096 = 58 573 25 42 67 #TP,TN,FP,FN,ERR n698 m=fms R0.8 RX0 mbas2:40:1.6:1 N100
#??0.620 0.945 0.055 0.380 0.102 = 62 565 33 38 71 #TP,TN,FP,FN,ERR n698 m=mkk R0.8 RX0 mbas2:40:1.6:1 N100
#??0.420 0.928 0.072 0.580 0.145 = 42 555 43 58 101 #TP,TN,FP,FN,ERR n698 m=mko R0.8 RX0 mbas2:40:1.6:1 N100
#??0.222 0.935 0.065 0.778 0.166 = 22 560 39 77 116 #TP,TN,FP,FN,ERR n698 m=mmt R0.8 RX0 mbas2:40:1.6:1 N100
#??0.370 0.935 0.065 0.630 0.146 = 37 559 39 63 102 #TP,TN,FP,FN,ERR n698 m=mnh R0.8 RX0 mbas2:40:1.6:1 N100
#??0.260 0.923 0.077 0.740 0.172 = 26 552 46 74 120 #TP,TN,FP,FN,ERR n698 m=mym R0.8 RX0 mbas2:40:1.6:1 N100
#??0.420 0.940 0.060 0.580 0.134 #mean TP TN FP FN ERR
#??
#??cat ../../12voicedata_ueki_all_k8/speaker-verif-result-pP1.dat #oob prediction of training data FD:pPc
#??0.455 0.970 0.030 0.545 0.103 = 45 581 18 54 72 #TP,TN,FP,FN,ERR n698 m=fhs R0.8 RX0 mbas2:40:1.6:1 N100
#??0.390 0.972 0.028 0.610 0.112 = 39 581 17 61 78 #TP,TN,FP,FN,ERR n698 m=fms R0.8 RX0 mbas2:40:1.6:1 N100
#??0.550 0.965 0.035 0.450 0.095 = 55 577 21 45 66 #TP,TN,FP,FN,ERR n698 m=mkk R0.8 RX0 mbas2:40:1.6:1 N100
#??0.550 0.963 0.037 0.450 0.096 = 55 576 22 45 67 #TP,TN,FP,FN,ERR n698 m=mko R0.8 RX0 mbas2:40:1.6:1 N100
#??0.444 0.978 0.022 0.556 0.097 = 44 586 13 55 68 #TP,TN,FP,FN,ERR n698 m=mmt R0.8 RX0 mbas2:40:1.6:1 N100
#??0.380 0.952 0.048 0.620 0.130 = 38 569 29 62 91 #TP,TN,FP,FN,ERR n698 m=mnh R0.8 RX0 mbas2:40:1.6:1 N100
#??0.340 0.972 0.028 0.660 0.119 = 34 581 17 66 83 #TP,TN,FP,FN,ERR n698 m=mym R0.8 RX0 mbas2:40:1.6:1 N100
#??0.444 0.967 0.033 0.556 0.107 #mean TP TN FP FN ERR
#??
#??cat ../../12voicedata_ueki_all_k8/speaker-verif-result-pPcb.dat
#??0.313 0.977 0.023 0.687 0.117 = 31 585 14 68 82 #TP,TN,FP,FN,ERR n698 m=fhs R0.8 RX0 mbas2:40:1.6:1 N100
#??0.510 0.931 0.069 0.490 0.129 = 51 557 41 49 90 #TP,TN,FP,FN,ERR n698 m=fms R0.8 RX0 mbas2:40:1.6:1 N100
#??0.630 0.933 0.067 0.370 0.110 = 63 558 40 37 77 #TP,TN,FP,FN,ERR n698 m=mkk R0.8 RX0 mbas2:40:1.6:1 N100
#??0.140 0.948 0.052 0.860 0.168 = 14 567 31 86 117 #TP,TN,FP,FN,ERR n698 m=mko R0.8 RX0 mbas2:40:1.6:1 N100
#??0.111 0.960 0.040 0.889 0.160 = 11 575 24 88 112 #TP,TN,FP,FN,ERR n698 m=mmt R0.8 RX0 mbas2:40:1.6:1 N100
#??0.350 0.946 0.054 0.650 0.139 = 35 566 32 65 97 #TP,TN,FP,FN,ERR n698 m=mnh R0.8 RX0 mbas2:40:1.6:1 N100
#??0.060 0.946 0.054 0.940 0.181 = 6 566 32 94 126 #TP,TN,FP,FN,ERR n698 m=mym R0.8 RX0 mbas2:40:1.6:1 N100
#??0.302 0.949 0.051 0.698 0.143 #mean TP TN FP FN ERR pPcb





##################################################################
#20180905 #20180606の再試行＋修正
(0.1)リンク作成
d0=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata
d0=~/sotu/2012/12voicedata_ueki/
dl=../12voicedata_ueki_all; mkdir -p $dl
for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
  ln -s ${d0}/${d}/* ${dl}/
done
#(0.2)パワー正規化
dn=${dl}_n; mkdir -p $dn #save normalized speech signal
log=$dn/normalize.log
#echo "ymin=$ymin" > $log
ymin=0
for s in fhs fms mkk mko mmt mnh mym; do
  for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
    for l in 1 2 3 4 5 6 7 8 9 10; do
      cmd="python speechnormalize.py -yin ${dl}/${s}-${d}${l}.dat -yout ${dn}/${s}-${d}${l}.dat -ymin $ymin"
      echo $cmd; $cmd >> $log
    done
  done
done
#err with 
#python speechnormalize.py -yin ../12voicedata_ueki_all/fhs-hachi5.dat -yout ../12voicedata_ueki_all_n/fhs-hachi5.dat -ymin 0
#python speechnormalize.py -yin ../12voicedata_ueki_all/mmt-san2.dat -yout ../12voicedata_ueki_all_n/mmt-san2.dat -ymin 0
###
#(1) 混合音声作成 by mkq.py 
dl=../../12voicedata_ueki_all; 
#dn=${dl}_n;mkdir -p $dn  #normalized
#dm=${dl}_m;mkdir -p $dm  #mixed signal
#dp=${dl}_p;mkdir -p $dm  #poles
#dq=${dl}_q;mkdir -p $dq  #pole new
#df=${dl}_f; mkdir -p $df  #figs
#nohup python mkq.py -DISP 10&

#python mkq.py -R 0.8 -S fms -D zero -L 9 -DISP 10 #fms-zero9.dat とランダムに選んだ異話者のデータを作成
#cd ../12voicedata_ueki_all_q/
#mkdir tmp;mv *-p.dat tmp/cd tmp;
#for f in *-p.dat ; do
#  echo $f
#  cat $f |awk '{printf("%s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s %s\n",$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36)}' > ../$f
#done

#python mkq.py -R 0.4 -S fms -D zero -L 9 -DISP 10 #fms-zero9.dat とランダムに選んだ異話者のデータを作成
ls $dq/*-p.dat        #feature vector q
ls $dp/*-poles0.dat   #
ls $df/*-q2.eps*
ls $df/*-pples0-*.eps

#(2) check whether necessary files exist or not.
python mkq.py -sql 1
#no fhs-hachi5 for R1
#no mmt-san2 for R1
#no fhs-hachi5 for R0.8
#no mmt-san2 for R0.8
#no fhs-hachi5 for R0.6
#no mmt-san2 for R0.6
#no fhs-hachi5 for R0.4
#no mmt-san2 for R0.4
#no fhs-hachi5 for R0.2
#no mmt-san2 for R0.2
#no fhs-hachi5 for R0.1
#no mmt-san2 for R0.1

#(3)
dl=../12voicedata_ueki_all; 
dn=${dl}_n; mkdir -p $dn  #normalized
dm=${dl}_m; mkdir -p $dm  #mixed signal
dq=${dl}_q; mkdir -p $dq  #pole new
sX=-1;a=1.6;b=10;N=40;# for short time check
sX=-1;a=1.6;b=40;N=100; #
mbas=2:${b}:${a}:1
L=1:2:3:4:5:6:7:8:9:10
D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
S=fhs:fms:mkk:mko:mmt:mnh:mym
R=1; RX=0
cmd="python oob4speakerdigit+RX_20180602.py -sp $S -tx $D -L $L -R $R -RX $RX -k 36 -mbas $mbas -dir $dq -s -1 -N ${N} -sX ${sX}"
make data-clean
$cmd
######
cat ../12voicedata_ueki_all_q/speaker-verif-result.dat
0.938 0.987 0.013 0.062 0.020 #mean TP TN FP FN
f=tmp/SV-R10
f=tmp/SV-R8
cp ../12voicedata_ueki_all_q/speaker-verif-result.dat $f.dat
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&

## Recall and precision
Rs=(10 8 6 4 2 1)
for R in ${Rs[@]} ;do
  f=tmp/SV-R${R}
  head -7 $f.dat |awk 'BEGIN{aR=aP=0;}{TP=$7;TN=$8;FP=$9;FN=$10;R=TP/(TP+FN);P=TP/(TP+FP);aR+=R;aP+=P;printf("%.3f %.3f %.3f #recall precision\n",TP/(TP+FN),TP/(TP+FP),(TP+TN)/(TP+TN+FP+FN));}END{printf("#%.3f %.3f #mean for NR=%d\n",aR/NR,aP/NR,NR)}' > ${f}-RP.dat;
  cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f-RP.eps";
plot [][0.3:1] "$f-RP.dat" using 0:2 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "P", "" using 0:1 w lp lt 1 lw 2 pt 10 lc rgb "green" t "R"
set term tgif; set output "$f-RP.obj";replot
set term postscript eps enhanced color; set output "$f-RPA.eps";
plot [][0.3:1] "$f-RP.dat" using 0:2 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "P", "" using 0:1 w lp lt 1 lw 2 pt 10 lc rgb "green" t "R", "" using 0:3 w lp lt 1 lw 2 pt 6 lc rgb "red" t "A"
set term tgif; set output "$f-RPA.obj";replot
quit
EOF
#
gnuplot tmp/tmp.plt
gv $f-RP.eps&
cp $f-RP.* ~/18iconip/iconip18speech/draft
gv $f-RPA.eps&
cp $f-RPA.* ~/18iconip/iconip18speech/draft
done
#
for R in ${Rs[@]} ;do
  f=tmp/SV-R${R}
  echo -n "$f "; tail -1 $f-RP.dat
done
tmp/SV-R10 #0.938 0.926 #mean for NR=7 Rs=(10)0.938 0.987 0.013 0.062 0.020 #mean TP TN FP FN ERR f=tmp/SV-R10
tmp/SV-R8 #0.483 0.899 #mean for NR=7  Rs=(8) 0.483 0.980 0.020 0.517 0.152 #mean TP TN FP FN ERR f=tmp/SV-R8
tmp/SV-R6 #0.468 0.885 #mean for NR=7  Rs=(6) 0.468 0.977 0.023 0.532 0.160 #mean TP TN FP FN ERRkuro@kurolab-VB:~/sotu/2018/can2b12$ f=tmp/SV-R6
tmp/SV-R4 #0.480 0.833 #mean for NR=7 Rs=(4)  0.480 0.965 0.035 0.520 0.162 #mean TP TN FP FN ERRkuro@kurolab-VB:~/sotu/2018/can2b12$ f=tmp/SV-R4
tmp/SV-R2 #0.466 0.825 #mean for NR=7 Rs=(2)  0.466 0.964 0.036 0.534 0.169 #mean TP TN FP FN ERRkuro@kurolab-VB:~/sotu/2018/can2b12$ f=tmp/SV-R2
tmp/SV-R1 #0.454 0.823 #mean for NR=7 Rs=(1)  0.454 0.965 0.035 0.546 0.172 #mean TP TN FP FN ERR f=tmp/SV-R1

#####################
#20180606 まとめ
(0.1)リンク作成
d0=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata
dl=../12voicedata_ueki_all; mkdir -p $dl
for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
  ln -s ${d0}/${d}/* ${dl}/
done
#(0.2)パワー正規化
dn=${dl}_n; mkdir -p $dn #save normalized speech signal
log=$dn/normalize.log
#echo "ymin=$ymin" > $log
ymin=0
for s in fhs fms mkk mko mmt mnh mym; do
  for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
    for l in 1 2 3 4 5 6 7 8 9 10; do
      cmd="python speechnormalize.py -yin ${dl}/${s}-${d}${l}.dat -yout ${dn}/${s}-${d}${l}.dat -ymin $ymin"
      echo $cmd; $cmd >> $log
    done
  done
done
#err with python speechnormalize.py -yin ../12voicedata_ueki_all/mmt-san2.dat -yout ../12voicedata_ueki_all_n/mmt-san2.dat -ymin 100
gnuplot 
plot "../12voicedata_ueki_all_n/normalize.log" using 0:1 w l
quit

#(1) 混合音声作成 by sh/mkqrnd1.sh 
#(1) nohup sh/mkqrnd1.sh -DISP 0
dl=../12voicedata_ueki_all; 
dn=${dl}_n; mkdir -p $dn  #normalized
dm=${dl}_m; mkdir -p $dm  #mixed signal
dp=${dl}_p;mkdir -p $dm  #poles
dq=${dl}_q; mkdir -p $dq  #pole new
(1-1) ymix=r*y0+(1-r)*y1 
python speechmix.py -y0 $dn/${s}-${d}${l}.dat -y1 $dn/${s2}-${d2}${l2}.dat -r $r >$dm/${sm}.dat  
$dn/fhs-go1.dat => $dm/fhs-go1-R1.dat
$dn/fhs-go1.dat & fms-ni7 & r=0.6 => $dm/fhs-go1-fms-ni7-R0.6.dat
(1-2) 極を求めてtmp下のファイルに保存
poledistribv2+ st:${sm} N:24 k:8 m:poles4 dir:${dm} rsa:2:0.7:1:20 DiffMode:0 tt:0:400 T:100 DISP:0    #
sm0=fhs-go1
sm=${sm0}-R1
poledistribv2+ st:${sm} N:24 k:8 m:poles4 dir:${dm} rsa:2:0.7:1:20 DiffMode:0 tt:0:400 T:100 DISP:0
$dm/$sm.dat => tmp/${sm}-poles0.dat
(1-3) 
mkpoleptv2+ st:$sm k:8 Np:24 dir:tmp dir2:${dm} dout:${dq} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2 DISP:0 #
->tmp/*-poles0.dat
nohup sh/mkqrnd1.sh #一括して作成：いくつか作成漏れがあるバグ->mkq.pyで追加作成
####
python mkq.py -R 0.4 -S fms -D zero -L 9 #fms-zero9.dat とランダムに選んだ異話者のデータを作成
(1-4) search good p and q data for iconip18
#(1-4-1) not effective now(20180910)
#S=(fhs fms mkk mko mmt mnh mym)
#L=(1 2 3 4 5 6 7 8 9 10)
#D=(zero ichi ni san si go roku nana hachi kyu)
#S=(fhs mkk)
#S=(fms mko)
#L=(1)
#df=${dl}_f; mkdir -p $df  #figs
#for s in ${S[@]}; do
#  for d in ${D[@]}; do
#    for l in ${L[@]}; do #for l in `seq 1 9` ; do #    for l in 1 2 3 4 5 6 7 8 9; do
#      sm=${s}-${d}${l}-R1
#      cmd="poledistribv2+ st:${sm} N:24 k:8 m:poles4 dir:${dm} rsa:2:0.7:1:20 DiffMode:0 tt:0:400 T:100 DISP:1"
#      echo "$cmd"; $cmd
#      cmd="mkpoleptv2+ st:$sm k:8 Np:24 dir:tmp dir2:${dm} dout:${dq} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2 DISP:1"
#      echo $cmd;$cmd
#      cmd="cp tmp/*-poles0.dat ${dp}/";
#      echo $cmd;$cmd
#      sleep 3
#      cmd="mv tmp/q.obj ${df}/${sm}-q.obj";echo $cmd;$cmd  #not effective any more ->q2
#      cmd="mv tmp/q.eps ${df}/${sm}-q.eps";echo $cmd;$cmd
#      cmd="mv tmp/_sprecog-${sm}-poles0-N${N}.obj ${df}/sprecog-${sm}-poles0-N${N}.obj";echo $cmd;$cmd
#      cmd="mv tmp/_sprecog-${sm}-poles0-N${N}.eps ${df}/sprecog-${sm}-poles0-N${N}.eps";echo $cmd;$cmd
#done;done;done;
#for s in ${S[@]}; do
#  for d in ${D[@]}; do
#    for l in ${L[@]}; do #for l in `seq 1 9` ; do #    for l in 1 2 3 4 5 6 7 8 9; do
#      sm=${s}-${d}${l}-R1
#      echo "\ko{_sprecog-${sm}-poles0-N24.eps}{${sm}-q.eps}"
#done;done;done;
#==> fhs-san mkk-san 
(1-4-2) 
df=${dl}_f; mkdir -p $df  #figs
S=(fhs mkk)
R=(0.8 0.6 0.4 0.2)
N=24
S1=(mkk);S2=(fhs)
S1=(fhs);S2=(mkk)
D=(ni)
D=(zero ichi si roku nana hachi kyu)
#
D=(go)
R=(1);S1=(fhs mkk)
D=(san)
S1=(fhs);S2=(mkk)
R=(1 0.8 0.6 0.4 0.2)
L=(1)
for s in ${S1[@]}; do
  for d in ${D[@]}; do
    for l in ${L[@]}; do #for l in `seq 1 9` ; do #    for l in 1 2 3 4 5 6 7 8 9; do
      for r in ${R[@]}; do
        if [ "$r" = "1" ]; then
          sm=${s}-${d}${l}-R1
        else
          s2=${S2[0]}
          d2=$d
          l2=1
          sm=${s}-${d}${l}-${s2}-${d2}${l2}-R${r}
        fi
        cmd="python speechmix.py -y0 $dn/${s}-${d}${l}.dat -y1 $dn/${s2}-${d2}${l2}.dat -r $r"
        echo "$cmd>$dm/${sm}.dat"; $cmd > $dm/${sm}.dat
        cmd="poledistribv2+ st:${sm} N:${N} k:8 m:poles4 dir:${dm} rsa:2:0.7:1:20 DiffMode:0 tt:0:400 T:100 DISP:1"
        echo "$cmd"; $cmd
        cmd="mkpoleptv2+ st:$sm k:8 Np:${N} dir:tmp dir2:${dm} dout:${dq} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2 DISP:1"
        echo $cmd;$cmd
        cmd="cp tmp/*-poles0.dat ${dp}/";
        echo $cmd;$cmd
        sleep 3
        cmd="mv tmp/q2.obj ${df}/${sm}-q2.obj";echo $cmd;$cmd
        cmd="mv tmp/q2.eps ${df}/${sm}-q2.eps";echo $cmd;$cmd
        cmd="mv tmp/q2.dat ${df}/${sm}-q2.dat";echo $cmd;$cmd
        cmd="mv tmp/_sprecog-${sm}-poles0-N${N}.obj ${df}/sprecog-${sm}-poles0-N${N}.obj";echo $cmd;$cmd
        cmd="mv tmp/_sprecog-${sm}-poles0-N${N}.eps ${df}/sprecog-${sm}-poles0-N${N}.eps";echo $cmd;$cmd
done;done;done;done;

cd ??
for f in *-q.dat; do
  fb2=${f%.dat}2
  cat $f|awk '{q[NR]=$1;}END{for(n=0;n<NR;n+=2) printf("%d %d\n",q[n],q[n+1]);}'>${fb2}.dat
cat > tmp.plt << EOF
set style fill solid border lc rgb "black"
set boxwidth 1
set term postscript eps enhanced color; set output "${fb2}.eps"
plot [0:36][0:300]"${fb2}.dat" using (\$0*2-0.5):1 with boxes lw 2 lc rgb "light-red", \
"${fb2}.dat" using (\$0*2+0.5):2 with boxes lw 2 lc rgb "light-green"
set term tgif; set output "${fb2}.obj";replot
EOF
gnuplot tmp.plt
gv ${fb2}.eps&
done

for f in sprecog-fhs-san1-R1-poles0-N24 \
 sprecog-fhs-san1-mkk-san1-R0.8-poles0-N24\

 sprecog-fhs-san1-mkk-san1-R0.6-poles0-N24\
 sprecog-fhs-san1-mkk-san1-R0.4-poles0-N24\
 sprecog-fhs-san1-mkk-san1-R0.2-poles0-N24\
 sprecog-mkk-san1-R1-poles0-N24\
 fhs-san1-R1-q2\
 fhs-san1-mkk-san1-R0.8-q2\
 fhs-san1-mkk-san1-R0.6-q2\
 fhs-san1-mkk-san1-R0.4-q2\
 fhs-san1-mkk-san1-R0.2-q2\
 mkk-san1-R1-q2 ;do
cp $df/$f.obj ~/18iconip/iconip18speech/draft
done

for f in `ls  $dm/*.dat` ; do #for f in `ls $dm/fhs-go1-R1*` ; do
 make data-clean
 sm=${f%.dat}
 cmd="poledistribv2+ st:${sm} N:24 k:8 m:poles4 dir:${dm} rsa:2:0.7:1:20 DiffMode:0 tt:0:400 T:100 DISP:0"
 echo "$cmd"; $cmd
 cmd="mkpoleptv2+ st:$sm k:8 Np:24 dir:tmp dir2:${dm} dout:${dq} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2 DISP:0"
 echo $cmd;$cmd
 cmd1="cp tmp/*-poles0.dat ${dp}/";
 echo $cmd1;$cmd1
done 

#(2)

20180226+20180209
0180209: oob4speakerdigit+sX_2018（0206版）はtest_xy.datの学習・予測が行われていなかったので．修正．
#######################
#(1) コメント from Tagomori from here
#######################
#20180531
#(0)
d0=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata
dl=../12voicedata_ueki_all; mkdir -p $dl
for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
  ln -s ${d0}/${d}/* ${dl}/
done

#(0) power normalization of speech; see the log to see the original difference of the power
dn=${dl}_n; mkdir -p $dn #save normalized speech signal
log=$dn/normalize.log
#echo "ymin=$ymin" > $log
ymin=0
for s in fhs fms mkk mko mmt mnh mym; do
  for d in zero ichi ni san si go roku nana hachi kyu rei yon sichi ku; do
#    for l in 10; do
    for l in 1 2 3 4 5 6 7 8 9 10; do
      cmd="python speechnormalize.py -yin ${dl}/${s}-${d}${l}.dat -yout ${dn}/${s}-${d}${l}.dat -ymin $ymin"
      echo $cmd; $cmd >> $log
    done
  done
done
#error with python speechnormalize.py -yin ../12voicedata_ueki_all/mmt-san2.dat -yout ../12voicedata_ueki_all_n/mmt-san2.dat -ymin 100
gnuplot 
plot "../12voicedata_ueki_all_n/normalize.log" using 0:1 w l
quit
#python speechnormalize.py -yin ${dl}/${s1}-${d1}${l1}.dat -yout ${dn}/${s1}-${d1}${l1}.dat -ymin 5
#python speechnormalize.py -yin ${dl}/${s2}-${d2}${l2}.dat -yout ${dn}/${s2}-${d2}${l2}.dat -ymin 5
#plot "../12voicedata_ueki_all_n/fhs-kyu9.dat" using 0:1 w l, "../12voicedata_ueki_all_n/mkk-san5.dat" using 0:1 w l

#(1) make mixed speech and its pole distribution
s1=fhs;d1=san;l1=1
s2=mkk;d2=san;l2=1
s1=fhs;d1=kyu;l1=9
s2=mkk;d2=san;l2=5 #big power
sdl1=${s1}-${d1}${l1}
sdl2=${s2}-${d2}${l2}
r=0.5
r=0.9
sm=${s1}-${d1}${l1}-${s2}-${d2}${l2}-R${r}
dn=${dl}_n; mkdir -p $dn
python speechmix.py -y0 $dn/${s1}-${d1}${l1}.dat -y1 $dn/${s2}-${d2}${l2}.dat -r $r > $dn/${sm}.dat
mkdir -p tmp
cat > tmp/tmp.plt <<EOF
set term postscript eps enhanced color; set output "tmp/tmp.eps";
plot "$dn/${s1}-${d1}${l1}.dat" using 0:1 w l, "$dn/${s2}-${d2}${l2}.dat" using 0:1 w lp, "$dn/${sm}.dat" using 0:1 w l
quit
EOF
gnuplot tmp/tmp.plt
gv tmp/tmp.eps&

poledistribv2 sp:${s1} tx:${d1}${l1} N:24 k:8 m:poles4 dir:$dn rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100
poledistribv2 sp:${s2} tx:${d2}${l2} N:24 k:8 m:poles4 dir:$dn rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100
poledistribv2+ st:${sm} N:24 k:8 m:poles4 dir:$dn rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100

#(2) 
dp=${dn}p; mkdir -p $dp
mkpoleptv2+ st:$sm k:8 Np:24 dir:tmp dir2:${dn} dout:${dp} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2 DISP:1


#(1) and (2) make all q with 0.5 #check non-exsisting fles 
for s in fhs fms mkk mko mmt mnh mym; do echo -n $s;ls -l ${dn}/${s}* >../wc.txt;wc ../wc.txt ;done
fhs  139  1251 11589 ../wc.txt no fhs-hachi5
fms  140  1260 11674 ../wc.txt
mkk  140  1260 11674 ../wc.txt 
mko  140  1260 11674 ../wc.txt
mmt  139  1251 11591 ../wc.txt no mmt-san2
mnh  140  1260 11674 ../wc.txt
mym  140  1260 11674 ../wc.txt
for ((n=10;n<700;n+=100)); do
  echo -n "L$n "; cat ../wc.txt|head -$n |tail -1
done

nohup sh/mkqrnd1.sh
wc ${dq}/*R1*|tail -1   #  698 25128 69546 合計
wc ${dq}/*R0.8*|tail -1 #  698 25128 70861 合計
wc ${dq}/*R0.6*|tail -1 #  697 25092 70960 合計 ->add1 no L198 ../12voicedata_ueki_all_q/fms-zero8*R0.6*
wc ${dq}/*R0.4*|tail -1 #  694 24984 70735 合計 ->add4
wc ${dq}/*R0.2*|tail -1 #  698 25128 70734 合計
python mkq.py -sql 1
#no fhs-hachi5 for R0.2
#no mmt-san2 for R0.2
#no fhs-hachi5 for R0.4 -
#no fms-zero9 for R0.4  +  python mkq.py -R 0.4 -S fms -D zero -L 9
#no fms-san6 for R0.4   +  python mkq.py -R 0.4 -S fms -D san  -L 6
#no fms-roku6 for R0.4  +  python mkq.py -R 0.4 -S fms -D roku -L 6
#no mmt-san2 for R0.4   -
#no mym-kyu10 for R0.4  +  python mkq.py -R 0.4 -S mym -D kyu  -L 10
#no fhs-hachi5 for R0.6 -
#no fms-zero8 for R0.6 +   python mkq.py -R 0.6 -S fms -D zero  -L 8
#no mmt-san2 for R0.6  -
#no fhs-hachi5 for R0.8 -
#no mmt-san2 for R0.8   -
#(3)
dl=../12voicedata_ueki_all; 
dn=${dl}_n; mkdir -p $dn  #normalized
dm=${dl}_m; mkdir -p $dm  #mixed signal
dq=${dl}_q; mkdir -p $dq  #pole new
sX=-1;a=1.6;b=10;N=40;# for short time check
sX=-1;a=1.6;b=40;N=100; #
mbas=2:${b}:${a}:1
L=1:2:3:4:5:6:7:8:9:10
D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
S=fhs:fms:mkk:mko:mmt:mnh:mym
R=1; RX=0
cmd="python oob4speakerdigit+RX_20180602.py -sp $S -tx $D -L $L -R $R -RX $RX -k 36 -mbas $mbas -dir $dq -s -1 -N ${N} -sX ${sX}"
make data-clean
$cmd
#
f=tmp/SV-R10
cat > $f.dat <<EOF
0.980 0.988 0.012 0.020 0.013 = 97 592 7 2 9 #TP,TN,FP,FN,ERR n698 m=fhs R1 RX0 mbas2:40:1.6:1 N100
0.930 0.992 0.008 0.070 0.017 = 93 593 5 7 12 #TP,TN,FP,FN,ERR n698 m=fms R1 RX0 mbas2:40:1.6:1 N100
0.940 0.988 0.012 0.060 0.019 = 94 591 7 6 13 #TP,TN,FP,FN,ERR n698 m=mkk R1 RX0 mbas2:40:1.6:1 N100
0.950 0.980 0.020 0.050 0.024 = 95 586 12 5 17 #TP,TN,FP,FN,ERR n698 m=mko R1 RX0 mbas2:40:1.6:1 N100
0.929 0.992 0.008 0.071 0.017 = 92 594 5 7 12 #TP,TN,FP,FN,ERR n698 m=mmt R1 RX0 mbas2:40:1.6:1 N100
0.900 0.995 0.005 0.100 0.019 = 90 595 3 10 13 #TP,TN,FP,FN,ERR n698 m=mnh R1 RX0 mbas2:40:1.6:1 N100
0.940 0.975 0.025 0.060 0.030 = 94 583 15 6 21 #TP,TN,FP,FN,ERR n698 m=mym R1 RX0 mbas2:40:1.6:1 N100
0.938 0.987 0.013 0.062 0.020 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&


##
f=tmp/SV-R108
cat > $f.dat <<EOF
0.659 0.977 0.023 0.341 0.089 = 191 1081 25 99 124 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.6:1 N100
0.653 0.983 0.017 0.347 0.085 = 188 1089 19 100 119 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.6:1 N100
0.622 0.989 0.011 0.378 0.091 = 189 1080 12 115 127 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.6:1 N100
0.631 0.980 0.020 0.369 0.095 = 190 1073 22 111 133 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.6:1 N100
0.616 0.986 0.014 0.384 0.094 = 186 1079 15 116 131 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.6:1 N100
0.623 0.968 0.032 0.377 0.108 = 192 1053 35 116 151 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.6:1 N100
0.601 0.978 0.022 0.399 0.103 = 181 1071 24 120 144 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.6:1 N100
0.629 0.980 0.020 0.371 0.095 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
##
f=tmp/SV-R1086
cat > $f.dat <<EOF
0.549 0.969 0.031 0.451 0.129 = 269 1555 49 221 270 #TP,TN,FP,FN,ERR n2094 m=fhs R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.569 0.961 0.039 0.431 0.130 = 278 1543 62 211 273 #TP,TN,FP,FN,ERR n2094 m=fms R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.548 0.983 0.017 0.452 0.123 = 279 1558 27 230 257 #TP,TN,FP,FN,ERR n2094 m=mkk R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.576 0.968 0.032 0.424 0.128 = 295 1532 50 217 267 #TP,TN,FP,FN,ERR n2094 m=mko R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.575 0.970 0.030 0.425 0.122 = 279 1560 49 206 255 #TP,TN,FP,FN,ERR n2094 m=mmt R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.543 0.970 0.030 0.457 0.132 = 272 1546 47 229 276 #TP,TN,FP,FN,ERR n2094 m=mnh R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.575 0.964 0.036 0.425 0.129 = 290 1533 57 214 271 #TP,TN,FP,FN,ERR n2094 m=mym R1:0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.562 0.969 0.031 0.438 0.128 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
#
f=tmp/SV-R10864
cat > $f.dat <<EOF
0.496 0.964 0.036 0.504 0.152 = 343 2024 76 349 425 #TP,TN,FP,FN,ERR n2792 m=fhs R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.547 0.948 0.052 0.453 0.151 = 378 1992 109 313 422 #TP,TN,FP,FN,ERR n2792 m=fms R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.533 0.963 0.037 0.467 0.146 = 380 2003 76 333 409 #TP,TN,FP,FN,ERR n2792 m=mkk R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.523 0.949 0.051 0.477 0.163 = 383 1954 106 349 455 #TP,TN,FP,FN,ERR n2792 m=mko R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.545 0.950 0.050 0.455 0.148 = 367 2013 106 306 412 #TP,TN,FP,FN,ERR n2792 m=mmt R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.540 0.950 0.050 0.460 0.152 = 373 1996 105 318 423 #TP,TN,FP,FN,ERR n2792 m=mnh R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.530 0.963 0.037 0.470 0.144 = 368 2021 77 326 403 #TP,TN,FP,FN,ERR n2792 m=mym R1:0.8:0.6:0.4 RX0 mbas2:40:1.6:1 N100
0.531 0.955 0.045 0.469 0.151 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
#
f=tmp/SV-R108642
cat > $f.dat <<EOF
0.502 0.962 0.038 0.498 0.155 = 448 2500 98 444 542 #TP,TN,FP,FN,ERR n3490 m=fhs R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.519 0.961 0.039 0.481 0.153 = 467 2489 101 433 534 #TP,TN,FP,FN,ERR n3490 m=fms R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.507 0.960 0.040 0.493 0.159 = 464 2471 104 451 555 #TP,TN,FP,FN,ERR n3490 m=mkk R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.470 0.964 0.036 0.530 0.168 = 440 2463 91 496 587 #TP,TN,FP,FN,ERR n3490 m=mko R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.481 0.965 0.035 0.519 0.155 = 416 2533 92 449 541 #TP,TN,FP,FN,ERR n3490 m=mmt R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.486 0.957 0.043 0.514 0.162 = 429 2495 113 453 566 #TP,TN,FP,FN,ERR n3490 m=mnh R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.497 0.960 0.040 0.503 0.158 = 443 2495 103 449 552 #TP,TN,FP,FN,ERR n3490 m=mym R1:0.8:0.6:0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.495 0.961 0.039 0.505 0.159 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
########################## single R
f=tmp/SV-R8
cat > $f.dat <<EOF
0.455 0.976 0.024 0.545 0.166 = 87 495 12 104 116 #TP,TN,FP,FN,ERR n698 m=fhs R0.8 RX0 mbas2:40:1.6:1 N100
0.468 0.982 0.018 0.532 0.156 = 88 501 9 100 109 #TP,TN,FP,FN,ERR n698 m=fms R0.8 RX0 mbas2:40:1.6:1 N100
0.446 0.984 0.016 0.554 0.173 = 91 486 8 113 121 #TP,TN,FP,FN,ERR n698 m=mkk R0.8 RX0 mbas2:40:1.6:1 N100
0.458 0.960 0.040 0.542 0.185 = 92 477 20 109 129 #TP,TN,FP,FN,ERR n698 m=mko R0.8 RX0 mbas2:40:1.6:1 N100
0.438 0.986 0.014 0.562 0.173 = 89 488 7 114 121 #TP,TN,FP,FN,ERR n698 m=mmt R0.8 RX0 mbas2:40:1.6:1 N100
0.428 0.978 0.022 0.572 0.186 = 89 479 11 119 130 #TP,TN,FP,FN,ERR n698 m=mnh R0.8 RX0 mbas2:40:1.6:1 N100
0.463 0.986 0.014 0.537 0.165 = 93 490 7 108 115 #TP,TN,FP,FN,ERR n698 m=mym R0.8 RX0 mbas2:40:1.6:1 N100
0.451 0.979 0.021 0.549 0.172 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
f=tmp/SV-R6
cat > $f.dat <<EOF
0.415 0.972 0.028 0.585 0.188 = 83 484 14 117 131 #TP,TN,FP,FN,ERR n698 m=fhs R0.6 RX0 mbas2:40:1.6:1 N100
0.433 0.984 0.016 0.567 0.175 = 87 489 8 114 122 #TP,TN,FP,FN,ERR n698 m=fms R0.6 RX0 mbas2:40:1.6:1 N100
0.473 0.982 0.018 0.527 0.168 = 97 484 9 108 117 #TP,TN,FP,FN,ERR n698 m=mkk R0.6 RX0 mbas2:40:1.6:1 N100
0.441 0.979 0.021 0.559 0.183 = 93 477 10 118 128 #TP,TN,FP,FN,ERR n698 m=mko R0.6 RX0 mbas2:40:1.6:1 N100
0.497 0.975 0.025 0.503 0.150 = 91 502 13 92 105 #TP,TN,FP,FN,ERR n698 m=mmt R0.6 RX0 mbas2:40:1.6:1 N100
0.461 0.978 0.022 0.539 0.165 = 89 494 11 104 115 #TP,TN,FP,FN,ERR n698 m=mnh R0.6 RX0 mbas2:40:1.6:1 N100
0.433 0.974 0.026 0.567 0.183 = 88 482 13 115 128 #TP,TN,FP,FN,ERR n698 m=mym R0.6 RX0 mbas2:40:1.6:1 N100
0.450 0.978 0.022 0.550 0.173 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
f=tmp/SV-R4
cat > $f.dat <<EOF
0.426 0.980 0.020 0.574 0.181 = 86 486 10 116 126 #TP,TN,FP,FN,ERR n698 m=fhs R0.4 RX0 mbas2:40:1.6:1 N100
0.401 0.968 0.032 0.599 0.196 = 81 480 16 121 137 #TP,TN,FP,FN,ERR n698 m=fms R0.4 RX0 mbas2:40:1.6:1 N100
0.451 0.972 0.028 0.549 0.181 = 92 480 14 112 126 #TP,TN,FP,FN,ERR n698 m=mkk R0.4 RX0 mbas2:40:1.6:1 N100
0.436 0.973 0.027 0.564 0.196 = 96 465 13 124 137 #TP,TN,FP,FN,ERR n698 m=mko R0.4 RX0 mbas2:40:1.6:1 N100
0.426 0.978 0.022 0.574 0.170 = 80 499 11 108 119 #TP,TN,FP,FN,ERR n698 m=mmt R0.4 RX0 mbas2:40:1.6:1 N100
0.463 0.947 0.053 0.537 0.185 = 88 481 27 102 129 #TP,TN,FP,FN,ERR n698 m=mnh R0.4 RX0 mbas2:40:1.6:1 N100
0.468 0.963 0.037 0.532 0.172 = 89 489 19 101 120 #TP,TN,FP,FN,ERR n698 m=mym R0.4 RX0 mbas2:40:1.6:1 N100
0.439 0.969 0.031 0.561 0.183 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&
f=tmp/SV-R2
cat > $f.dat <<EOF
0.390 0.972 0.028 0.610 0.195 = 78 484 14 122 136 #TP,TN,FP,FN,ERR n698 m=fhs R0.2 RX0 mbas2:40:1.6:1 N100
0.435 0.971 0.029 0.565 0.189 = 91 475 14 118 132 #TP,TN,FP,FN,ERR n698 m=fms R0.2 RX0 mbas2:40:1.6:1 N100
0.431 0.966 0.034 0.569 0.189 = 87 479 17 115 132 #TP,TN,FP,FN,ERR n698 m=mkk R0.2 RX0 mbas2:40:1.6:1 N100
0.397 0.972 0.028 0.603 0.196 = 81 480 14 123 137 #TP,TN,FP,FN,ERR n698 m=mko R0.2 RX0 mbas2:40:1.6:1 N100
0.422 0.964 0.036 0.578 0.185 = 81 488 18 111 129 #TP,TN,FP,FN,ERR n698 m=mmt R0.2 RX0 mbas2:40:1.6:1 N100
0.435 0.961 0.039 0.565 0.183 = 83 487 20 108 128 #TP,TN,FP,FN,ERR n698 m=mnh R0.2 RX0 mbas2:40:1.6:1 N100
0.460 0.954 0.046 0.540 0.186 = 91 477 23 107 130 #TP,TN,FP,FN,ERR n698 m=mym R0.2 RX0 mbas2:40:1.6:1 N100
0.424 0.966 0.034 0.576 0.189 #mean TP TN FP FN ERR
EOF
cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f.eps";
plot [][:0.7] "$f.dat" using 0:3 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "FP", "" using 0:4 w lp lt 1 lw 2 pt 10 lc rgb "green" t "FN", "" using 0:5 w lp lt 1 lw 2 pt 6 lc rgb "red" t "ERR"
set term tgif; set output "$f.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f.eps&

####Recall and precision
for R in 10 8 6 4 2 ;do
  f=tmp/SV-R${R}
  head -7 $f.dat |awk 'BEGIN{aR=aP=0;}{TP=$7;TN=$8;FP=$9;FN=$10;R=TP/(TP+FN);P=TP/(TP+FP);aR+=R;aP+=P;printf("%.3f %.3f %.3f #recall precision\n",TP/(TP+FN),TP/(TP+FP),(TP+TN)/(TP+TN+FP+FN));}END{printf("#%.3f %.3f #mean for NR=%d\n",aR/NR,aP/NR,NR)}' > ${f}-RP.dat;
  cat > tmp/tmp.plt <<EOF
set xtics ('fHS' 0, 'fMS' 1, 'mKK' 2, 'mKO' 3, 'mMT' 4, 'mNH' 5, 'mYM' 6, 'mean' 7)
set term postscript eps enhanced color; set output "$f-RP.eps";
plot [][0.3:1] "$f-RP.dat" using 0:2 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "P", "" using 0:1 w lp lt 1 lw 2 pt 10 lc rgb "green" t "R"
set term tgif; set output "$f-RP.obj";replot
set term postscript eps enhanced color; set output "$f-RPA.eps";
plot [][0.3:1] "$f-RP.dat" using 0:2 w lp lt 1 lw 2 pt 8 lc rgb "blue" t "P", "" using 0:1 w lp lt 1 lw 2 pt 10 lc rgb "green" t "R", "" using 0:3 w lp lt 1 lw 2 pt 6 lc rgb "red" t "A"
set term tgif; set output "$f-RPA.obj";replot
quit
EOF
gnuplot tmp/tmp.plt
gv $f-RP.eps&
cp $f-RP.* ~/18iconip/iconip18speech/draft
gv $f-RPA.eps&
cp $f-RPA.* ~/18iconip/iconip18speech/draft
done
#
for R in 10 8 6 4 2 ;do
  f=tmp/SV-R${R}
  echo -n "$f "; tail -1 $f-RP.dat
done
tmp/SV-R10 0.938 0.936 #mean for NR=6
tmp/SV-R8 0.449 0.891 #mean for NR=6
tmp/SV-R6 0.453 0.892 #mean for NR=6
tmp/SV-R4 0.434 0.854 #mean for NR=6
tmp/SV-R2 0.418 0.838 #mean for NR=6
#
####
cat > tmp/SV-R86.dat <<EOF
0.504 0.966 0.034 0.496 0.172 = 215 971 34 212 246 #TP,TN,FP,FN,ERR n1432 m=fhs R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.463 0.953 0.047 0.537 0.183 = 184 986 49 213 262 #TP,TN,FP,FN,ERR n1432 m=fms R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.443 0.958 0.042 0.557 0.201 = 196 948 42 246 288 #TP,TN,FP,FN,ERR n1432 m=mkk R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.474 0.955 0.045 0.526 0.181 = 192 981 46 213 259 #TP,TN,FP,FN,ERR n1432 m=mko R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.471 0.951 0.049 0.529 0.182 = 186 986 51 209 260 #TP,TN,FP,FN,ERR n1432 m=mmt R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.446 0.972 0.028 0.554 0.175 = 178 1004 29 221 250 #TP,TN,FP,FN,ERR n1432 m=mnh R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.431 0.966 0.034 0.569 0.183 = 172 998 35 227 262 #TP,TN,FP,FN,ERR n1432 m=mym R0.8:0.6@0.4:0.2 RX0 mbas2:40:1.6:1 N100
0.462 0.960 0.040 0.538 0.182 #mean TP TN FP FN ERRkuro@kurolab-VB:~/sotu/2017/can2b$ 
EOF
cat > tmp/SV-R86.dat <<EOF
0.480 0.956 0.044 0.520 0.186 = 205 961 44 222 266 #TP,TN,FP,FN,ERR n1432 m=fhs R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.460 0.969 0.031 0.540 0.169 = 179 1011 32 210 242 #TP,TN,FP,FN,ERR n1432 m=fms R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.434 0.972 0.028 0.566 0.196 = 193 959 28 252 280 #TP,TN,FP,FN,ERR n1432 m=mkk R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.466 0.961 0.039 0.534 0.182 = 192 980 40 220 260 #TP,TN,FP,FN,ERR n1432 m=mko R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.479 0.962 0.038 0.521 0.168 = 185 1006 40 201 241 #TP,TN,FP,FN,ERR n1432 m=mmt R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.459 0.952 0.048 0.541 0.186 = 184 981 50 217 267 #TP,TN,FP,FN,ERR n1432 m=mnh R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.408 0.971 0.029 0.592 0.188 = 165 998 30 239 269 #TP,TN,FP,FN,ERR n1432 m=mym R0.8:0.6 RX0 mbas2:40:1.6:1 N100
0.455 0.963 0.037 0.545 0.182 #mean TP TN FP FN ERRkuro@kurolab-VB:~/sotu/2017/can2b$ kuro@kurolab-VB:~/sotu/2017/can2b$ 

dl=../12voicedata_ueki_all; 
dn=${dl}_n; mkdir -p $dn  #normalized
dm=${dl}_m; mkdir -p $dm  #mixed signal
dq=${dl}_q; mkdir -p $dq  #pole new
sX=-1;a=1.6;b=300;N=30;
sX=-1;a=1.6;b=300;N=40;
sX=-1;a=1.6;b=40;N=40; #for short time check
mbas=2:${b}:${a}:1
L=1:2:3:4:5:6:7:8:9:10
D=zero:ichi:ni:san:si:go:roku:nana:hachi:kyu
S=fhs:fms:mkk:mko:mmt:mnh:mym
R=1:0.8 #1:0.8:0.6 #1:0.8:0.6:0.4
cmd="python oob4speakerdigit+sX_20180602.py -sp $S -tx $D -L $L -R $R -k 36 -mbas $mbas -dir $dq -s -1 -N ${N} -sX ${sX}";$cmd
sX=-1;a=1.6;b=300;N=30;
cat ../12voicedata_ueki_all_q/oob4sd-result.dat
0.631 0.967 0.033 0.369 0.102 = 183 1070 36 107 143 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.639 0.977 0.023 0.361 0.093 = 184 1082 26 104 130 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.625 0.976 0.024 0.375 0.100 = 190 1066 26 114 140 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.591 0.971 0.029 0.409 0.111 = 178 1063 32 123 155 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.626 0.963 0.037 0.374 0.110 = 189 1053 41 113 154 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.568 0.964 0.036 0.432 0.123 = 175 1049 39 133 172 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.608 0.970 0.030 0.392 0.108 = 183 1062 33 118 151 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.613 0.970 0.030 0.387 0.107 #mean TP TN FP FN ERR
#cat ../12voicedata_ueki_all_q/oob4sd-result.dat|awk 'BEGIN{n=0;TP=TN=FP=FN=ERR=0}{n++;TP+=$1;TN+=$2;FP+=$3;FN+=$4;ERR+=$5}END{printf("%.3f %.3f %.3f %.3f %.3f #mean TP TN FP FN ERR\n",TP/n,TN/n,FP/n,FN/n,ERR/n)}'


cat ../12voicedata_ueki_all_q/oob4sd-result.dat
0.970 0.982 0.018 0.030 0.020 = 96 588 11 3 14 #TP,TN,FP,FN,ERR n698 m=fhs R1 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.950 0.983 0.017 0.050 0.021 = 95 588 10 5 15 #TP,TN,FP,FN,ERR n698 m=fms R1 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.920 0.973 0.027 0.080 0.034 = 92 582 16 8 24 #TP,TN,FP,FN,ERR n698 m=mkk R1 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.950 0.977 0.023 0.050 0.027 = 95 584 14 5 19 #TP,TN,FP,FN,ERR n698 m=mko R1 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.980 0.973 0.027 0.020 0.026 = 97 583 16 2 18 #TP,TN,FP,FN,ERR n698 m=mmt R1 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.940 0.975 0.025 0.060 0.030 = 94 583 15 6 21 #TP,TN,FP,FN,ERR n698 m=mnh R1 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.950 0.957 0.043 0.050 0.044 = 95 572 26 5 31 #TP,TN,FP,FN,ERR n698 m=mym R1 S:fhs:fms:mkk:mko:mmt:mnh:mym

0.497 0.976 0.024 0.503 0.155 = 95 495 12 96 108 #TP,TN,FP,FN,ERR n698 m=fhs R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.479 0.969 0.031 0.521 0.163 = 90 494 16 98 114 #TP,TN,FP,FN,ERR n698 m=fms R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.461 0.980 0.020 0.539 0.172 = 94 484 10 110 120 #TP,TN,FP,FN,ERR n698 m=mkk R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.463 0.958 0.042 0.537 0.185 = 93 476 21 108 129 #TP,TN,FP,FN,ERR n698 m=mko R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.443 0.982 0.018 0.557 0.175 = 90 486 9 113 122 #TP,TN,FP,FN,ERR n698 m=mmt R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.433 0.945 0.055 0.567 0.208 = 90 463 27 118 145 #TP,TN,FP,FN,ERR n698 m=mnh R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.488 0.948 0.052 0.512 0.185 = 98 471 26 103 129 #TP,TN,FP,FN,ERR n698 m=mym R0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym

0.480 0.968 0.032 0.520 0.172 = 96 482 16 104 120 #TP,TN,FP,FN,ERR n698 m=fhs R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.483 0.958 0.042 0.517 0.179 = 97 476 21 104 125 #TP,TN,FP,FN,ERR n698 m=fms R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.420 0.951 0.049 0.580 0.205 = 86 469 24 119 143 #TP,TN,FP,FN,ERR n698 m=mkk R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.488 0.949 0.051 0.512 0.191 = 103 462 25 108 133 #TP,TN,FP,FN,ERR n698 m=mko R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.514 0.940 0.060 0.486 0.172 = 94 484 31 89 120 #TP,TN,FP,FN,ERR n698 m=mmt R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.477 0.954 0.046 0.523 0.178 = 92 482 23 101 124 #TP,TN,FP,FN,ERR n698 m=mnh R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.414 0.935 0.065 0.586 0.216 = 84 463 32 119 151 #TP,TN,FP,FN,ERR n698 m=mym R0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym

0.455 0.944 0.056 0.545 0.198 = 92 468 28 110 138 #TP,TN,FP,FN,ERR n698 m=fhs R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.411 0.946 0.054 0.589 0.209 = 83 469 27 119 146 #TP,TN,FP,FN,ERR n698 m=fms R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.426 0.962 0.038 0.574 0.195 = 87 475 19 117 136 #TP,TN,FP,FN,ERR n698 m=mkk R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.382 0.946 0.054 0.618 0.232 = 84 452 26 136 162 #TP,TN,FP,FN,ERR n698 m=mko R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.468 0.951 0.049 0.532 0.179 = 88 485 25 100 125 #TP,TN,FP,FN,ERR n698 m=mmt R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.411 0.967 0.033 0.589 0.185 = 78 491 17 112 129 #TP,TN,FP,FN,ERR n698 m=mnh R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.411 0.955 0.045 0.589 0.193 = 78 485 23 112 135 #TP,TN,FP,FN,ERR n698 m=mym R0.4 S:fhs:fms:mkk:mko:mmt:mnh:mym

0.460 0.942 0.058 0.540 0.196 = 92 469 29 108 137 #TP,TN,FP,FN,ERR n698 m=fhs R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.411 0.928 0.072 0.589 0.226 = 86 454 35 123 158 #TP,TN,FP,FN,ERR n698 m=fms R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.416 0.948 0.052 0.584 0.206 = 84 470 26 118 144 #TP,TN,FP,FN,ERR n698 m=mkk R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.441 0.935 0.065 0.559 0.209 = 90 462 32 114 146 #TP,TN,FP,FN,ERR n698 m=mko R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.516 0.931 0.069 0.484 0.183 = 99 471 35 93 128 #TP,TN,FP,FN,ERR n698 m=mmt R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.455 0.945 0.055 0.545 0.189 = 87 479 28 104 132 #TP,TN,FP,FN,ERR n698 m=mnh R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.460 0.936 0.064 0.540 0.199 = 91 468 32 107 139 #TP,TN,FP,FN,ERR n698 m=mym R0.2 S:fhs:fms:mkk:mko:mmt:mnh:mym

0.628 0.988 0.012 0.372 0.087 = 182 1093 13 108 121 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.639 0.980 0.020 0.361 0.090 = 184 1086 22 104 126 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.599 0.985 0.015 0.401 0.099 = 182 1076 16 122 138 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.598 0.966 0.034 0.402 0.113 = 180 1058 37 121 158 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.606 0.985 0.015 0.394 0.097 = 183 1078 16 119 135 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.568 0.969 0.031 0.432 0.120 = 175 1054 34 133 167 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.618 0.982 0.018 0.382 0.097 = 186 1075 20 115 135 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 S:fhs:fms:mkk:mko:mmt:mnh:mym
python oob4speakerdigit+sX_20180602.py -sp fhs:fms:mkk:mko:mmt:mnh:mym -tx zero:ichi:ni:san:si:go:roku:nana:hachi:kyu -L 1:2:3:4:5:6:7:8:9:10 -R 1:0.8:0.6 -k 36 -mbas 2:300:1.6:1 -dir ../12voicedata_ueki_all_q -s -1 -N 30 -sX -1 
0.516 0.979 0.021 0.484 0.129 = 253 1571 33 237 270 #TP,TN,FP,FN,ERR n2094 m=fhs R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.495 0.982 0.018 0.505 0.132 = 242 1576 29 247 276 #TP,TN,FP,FN,ERR n2094 m=fms R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.499 0.982 0.018 0.501 0.136 = 254 1556 29 255 284 #TP,TN,FP,FN,ERR n2094 m=mkk R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.475 0.979 0.021 0.525 0.145 = 243 1548 34 269 303 #TP,TN,FP,FN,ERR n2094 m=mko R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.499 0.988 0.012 0.501 0.125 = 242 1590 19 243 262 #TP,TN,FP,FN,ERR n2094 m=mmt R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.467 0.976 0.024 0.533 0.146 = 234 1554 39 267 306 #TP,TN,FP,FN,ERR n2094 m=mnh R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym
0.472 0.976 0.024 0.528 0.145 = 238 1552 38 266 304 #TP,TN,FP,FN,ERR n2094 m=mym R1:0.8:0.6 S:fhs:fms:mkk:mko:mmt:mnh:mym

##########################
##########################
0.607 0.981 0.019 0.393 0.097 = 176 1085 21 114 135 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.0:1 N100
0.594 0.978 0.022 0.406 0.101 = 171 1084 24 117 141 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.0:1 N100
0.582 0.973 0.027 0.418 0.112 = 177 1063 29 127 156 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.0:1 N100
0.591 0.972 0.028 0.409 0.110 = 178 1064 31 123 154 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.0:1 N100
0.596 0.969 0.031 0.404 0.112 = 180 1060 34 122 156 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.0:1 N100
0.532 0.965 0.035 0.468 0.130 = 164 1050 38 144 182 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.0:1 N100
0.591 0.969 0.031 0.409 0.112 = 178 1061 34 123 157 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.0:1 N100
0.585 0.972 0.028 0.415 0.111 #mean TP TN FP FN ERR

0.631 0.976 0.024 0.369 0.095 = 183 1080 26 107 133 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:60:1.6:1 N100
0.628 0.985 0.015 0.372 0.089 = 181 1091 17 107 124 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:60:1.6:1 N100
0.648 0.989 0.011 0.352 0.085 = 197 1080 12 107 119 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:60:1.6:1 N100
0.618 0.978 0.022 0.382 0.100 = 186 1071 24 115 139 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:60:1.6:1 N100
0.636 0.979 0.021 0.364 0.095 = 192 1071 23 110 133 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:60:1.6:1 N100
0.597 0.980 0.020 0.403 0.105 = 184 1066 22 124 146 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:60:1.6:1 N100
0.641 0.974 0.026 0.359 0.097 = 193 1067 28 108 136 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:60:1.6:1 N100
0.628 0.980 0.020 0.372 0.095 #mean TP TN FP FN ERR

0.590 0.969 0.031 0.410 0.110 = 171 1072 34 119 153 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:0.7:1 N100
0.556 0.977 0.023 0.444 0.110 = 160 1082 26 128 154 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:0.7:1 N100
0.569 0.963 0.037 0.431 0.122 = 173 1052 40 131 171 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:0.7:1 N100
0.581 0.957 0.043 0.419 0.124 = 175 1048 47 126 173 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:0.7:1 N100
0.576 0.962 0.038 0.424 0.122 = 174 1052 42 128 170 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:0.7:1 N100
0.500 0.946 0.054 0.500 0.153 = 154 1029 59 154 213 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:0.7:1 N100
0.585 0.940 0.060 0.415 0.137 = 176 1029 66 125 191 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:0.7:1 N100
0.565 0.959 0.041 0.435 0.125 #mean TP TN FP FN ERR

0.555 0.971 0.029 0.445 0.127 = 272 1557 47 218 265 #TP,TN,FP,FN,ERR n2094 m=fhs R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.577 0.970 0.030 0.423 0.122 = 282 1557 48 207 255 #TP,TN,FP,FN,ERR n2094 m=fms R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.558 0.974 0.026 0.442 0.127 = 284 1544 41 225 266 #TP,TN,FP,FN,ERR n2094 m=mkk R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.588 0.962 0.038 0.412 0.129 = 301 1522 60 211 271 #TP,TN,FP,FN,ERR n2094 m=mko R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.577 0.970 0.030 0.423 0.121 = 280 1561 48 205 253 #TP,TN,FP,FN,ERR n2094 m=mmt R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.545 0.970 0.030 0.455 0.132 = 273 1545 48 228 276 #TP,TN,FP,FN,ERR n2094 m=mnh R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.563 0.974 0.026 0.437 0.125 = 284 1549 41 220 261 #TP,TN,FP,FN,ERR n2094 m=mym R1:0.8:0.6 RX0 mbas2:60:1.6:1 N100
0.566 0.970 0.030 0.434 0.126 #mean TP TN FP FN ERR

0.652 0.984 0.016 0.348 0.085 = 189 1088 18 101 119 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.6:1 N200
0.642 0.991 0.009 0.358 0.081 = 185 1098 10 103 113 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.6:1 N200
0.622 0.989 0.011 0.378 0.091 = 189 1080 12 115 127 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.6:1 N200
0.638 0.981 0.019 0.362 0.093 = 192 1074 21 109 130 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.6:1 N200
0.609 0.992 0.008 0.391 0.091 = 184 1085 9 118 127 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.6:1 N200
0.627 0.991 0.009 0.373 0.090 = 193 1078 10 115 125 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.6:1 N200
0.615 0.989 0.011 0.385 0.092 = 185 1083 12 116 128 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.6:1 N200
0.629 0.988 0.012 0.371 0.089 #mean TP TN FP FN ERR0
0.652 0.976 0.024 0.348 0.091 = 189 1080 26 101 127 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.6:1 N80
0.642 0.977 0.023 0.358 0.092 = 185 1083 25 103 128 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.6:1 N80
0.609 0.970 0.030 0.391 0.109 = 185 1059 33 119 152 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.6:1 N80
0.628 0.974 0.026 0.372 0.101 = 189 1066 29 112 141 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.6:1 N80
0.616 0.984 0.016 0.384 0.096 = 186 1076 18 116 134 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.6:1 N80
0.620 0.972 0.028 0.380 0.105 = 191 1058 30 117 147 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.6:1 N80
0.605 0.958 0.042 0.395 0.118 = 182 1049 46 119 165 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.6:1 N80
0.625 0.973 0.027 0.375 0.102 #mean TP TN FP FN ERR
0.655 0.982 0.018 0.345 0.086 = 190 1086 20 100 120 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.6:1 N40
0.635 0.986 0.014 0.365 0.086 = 183 1093 15 105 120 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.6:1 N40
0.625 0.984 0.016 0.375 0.095 = 190 1074 18 114 132 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.6:1 N40
0.571 0.975 0.025 0.429 0.112 = 172 1068 27 129 156 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.6:1 N40
0.596 0.990 0.010 0.404 0.095 = 180 1083 11 122 133 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.6:1 N40
0.584 0.967 0.033 0.416 0.117 = 180 1052 36 128 164 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.6:1 N40
0.568 0.980 0.020 0.432 0.109 = 171 1073 22 130 152 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.6:1 N40
0.605 0.981 0.019 0.395 0.100 #mean TP TN FP FN ERR

0.652 0.976 0.024 0.348 0.091 = 189 1080 26 101 127 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.6:1
0.642 0.977 0.023 0.358 0.092 = 185 1083 25 103 128 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.6:1
0.609 0.970 0.030 0.391 0.109 = 185 1059 33 119 152 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.6:1
0.628 0.974 0.026 0.372 0.101 = 189 1066 29 112 141 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.6:1
0.616 0.984 0.016 0.384 0.096 = 186 1076 18 116 134 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.6:1
0.620 0.972 0.028 0.380 0.105 = 191 1058 30 117 147 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.6:1
0.605 0.958 0.042 0.395 0.118 = 182 1049 46 119 165 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.6:1
0.625 0.973 0.027 0.375 0.102 #mean TP TN FP FN ERR
cat ../12voicedata_ueki_all_q/speaker-verif-result.dat|awk 'BEGIN{n=0;TP=TN=FP=FN=ERR=0}{n++;TP+=$1;TN+=$2;FP+=$3;FN+=$4;ERR+=$5}END{printf("%.3f %.3f %.3f %.3f %.3f #mean TP TN FP FN ERR\n",TP/n,TN/n,FP/n,FN/n,ERR/n)}'

0.648 0.985 0.015 0.352 0.085 = 188 1089 17 102 119 #TP,TN,FP,FN,ERR n1396 m=fhs R1:0.8 RX0 mbas2:40:1.6:1 N300
0.639 0.990 0.010 0.361 0.082 = 184 1097 11 104 115 #TP,TN,FP,FN,ERR n1396 m=fms R1:0.8 RX0 mbas2:40:1.6:1 N300
0.628 0.993 0.007 0.372 0.087 = 191 1084 8 113 121 #TP,TN,FP,FN,ERR n1396 m=mkk R1:0.8 RX0 mbas2:40:1.6:1 N300
0.635 0.987 0.013 0.365 0.089 = 191 1081 14 110 124 #TP,TN,FP,FN,ERR n1396 m=mko R1:0.8 RX0 mbas2:40:1.6:1 N300
0.626 0.990 0.010 0.374 0.089 = 189 1083 11 113 124 #TP,TN,FP,FN,ERR n1396 m=mmt R1:0.8 RX0 mbas2:40:1.6:1 N300
0.604 0.989 0.011 0.396 0.096 = 186 1076 12 122 134 #TP,TN,FP,FN,ERR n1396 m=mnh R1:0.8 RX0 mbas2:40:1.6:1 N300
0.618 0.991 0.009 0.382 0.090 = 186 1085 10 115 125 #TP,TN,FP,FN,ERR n1396 m=mym R1:0.8 RX0 mbas2:40:1.6:1 N300
0.628 0.989 0.011 0.372 0.088 #mean TP TN FP FN ERR

sX=-1;a=1.6;b=300;N=40;
cat ../12voicedata_ueki_all_q/speaker-verif-result.dat #oob prediction of training data 
0.939 0.987 0.013 0.061 0.020 = 46 295 4 3 7 #TP,TN,FP,FN,ERR n348 m=fhs R1 RX1
0.940 0.977 0.023 0.060 0.029 = 47 291 7 3 10 #TP,TN,FP,FN,ERR n348 m=fms R1 RX1
0.860 0.983 0.017 0.140 0.034 = 43 293 5 7 12 #TP,TN,FP,FN,ERR n348 m=mkk R1 RX1
0.960 0.977 0.023 0.040 0.026 = 48 291 7 2 9 #TP,TN,FP,FN,ERR n348 m=mko R1 RX1
0.878 0.987 0.013 0.122 0.029 = 43 295 4 6 10 #TP,TN,FP,FN,ERR n348 m=mmt R1 RX1
0.860 0.990 0.010 0.140 0.029 = 43 295 3 7 10 #TP,TN,FP,FN,ERR n348 m=mnh R1 RX1
0.880 0.970 0.030 0.120 0.043 = 44 289 9 6 15 #TP,TN,FP,FN,ERR n348 m=mym R1 RX1
cat ../12voicedata_ueki_all_q/speaker-verif-result-X.dat #prediction of test data
0.760 0.990 0.010 0.240 0.043 = 38 297 3 12 15 #TP,TN,FP,FN,ERR n350 m=fhs R1 RX1
0.760 0.990 0.010 0.240 0.043 = 38 297 3 12 15 #TP,TN,FP,FN,ERR n350 m=fms R1 RX1
0.680 0.960 0.040 0.320 0.080 = 34 288 12 16 28 #TP,TN,FP,FN,ERR n350 m=mkk R1 RX1
0.560 0.953 0.047 0.440 0.103 = 28 286 14 22 36 #TP,TN,FP,FN,ERR n350 m=mko R1 RX1
0.640 0.997 0.003 0.360 0.054 = 32 299 1 18 19 #TP,TN,FP,FN,ERR n350 m=mmt R1 RX1
0.580 0.980 0.020 0.420 0.077 = 29 294 6 21 27 #TP,TN,FP,FN,ERR n350 m=mnh R1 RX1
0.560 0.960 0.040 0.440 0.097 = 28 288 12 22 34 #TP,TN,FP,FN,ERR n350 m=mym R1 RX1
sX=-1;a=1.6;b=300;N=40;
cat ../12voicedata_ueki_all_q/speaker-verif-result.dat #oob prediction of training data 
0.939 0.987 0.013 0.061 0.020 = 46 295 4 3 7 #TP,TN,FP,FN,ERR n348 m=fhs R1 RX0.8
0.940 0.977 0.023 0.060 0.029 = 47 291 7 3 10 #TP,TN,FP,FN,ERR n348 m=fms R1 RX0.8
0.860 0.983 0.017 0.140 0.034 = 43 293 5 7 12 #TP,TN,FP,FN,ERR n348 m=mkk R1 RX0.8
0.960 0.977 0.023 0.040 0.026 = 48 291 7 2 9 #TP,TN,FP,FN,ERR n348 m=mko R1 RX0.8
0.878 0.987 0.013 0.122 0.029 = 43 295 4 6 10 #TP,TN,FP,FN,ERR n348 m=mmt R1 RX0.8
0.860 0.990 0.010 0.140 0.029 = 43 295 3 7 10 #TP,TN,FP,FN,ERR n348 m=mnh R1 RX0.8
0.880 0.970 0.030 0.120 0.043 = 44 289 9 6 15 #TP,TN,FP,FN,ERR n348 m=mym R1 RX0.8
cat ../12voicedata_ueki_all_q/speaker-verif-result-X.dat #prediction of test data
0.327 0.984 0.016 0.673 0.200 = 32 248 4 66 70 #TP,TN,FP,FN,ERR n350 m=fhs R1 RX0.8
0.080 0.989 0.011 0.920 0.240 = 7 259 3 81 84 #TP,TN,FP,FN,ERR n350 m=fms R1 RX0.8
0.309 0.996 0.004 0.691 0.220 = 34 239 1 76 77 #TP,TN,FP,FN,ERR n350 m=mkk R1 RX0.8
0.324 0.938 0.062 0.676 0.251 = 35 227 15 73 88 #TP,TN,FP,FN,ERR n350 m=mko R1 RX0.8
0.232 0.984 0.016 0.768 0.229 = 23 247 4 76 80 #TP,TN,FP,FN,ERR n350 m=mmt R1 RX0.8
0.097 0.988 0.012 0.903 0.274 = 10 244 3 93 96 #TP,TN,FP,FN,ERR n350 m=mnh R1 RX0.8
0.351 0.973 0.027 0.649 0.194 = 33 249 7 61 68 #TP,TN,FP,FN,ERR n350 m=mym R1 RX0.8
sX=-1;a=1.6;b=40;N=40;
cat ../12voicedata_ueki_all_q/speaker-verif-result.dat #oob prediction of training data 
0.939 0.993 0.007 0.061 0.014 = 46 297 2 3 5 #TP,TN,FP,FN,ERR n348 m=fhs R1 RX0.8
0.900 1.000 0.000 0.100 0.014 = 45 298 0 5 5 #TP,TN,FP,FN,ERR n348 m=fms R1 RX0.8
0.920 0.990 0.010 0.080 0.020 = 46 295 3 4 7 #TP,TN,FP,FN,ERR n348 m=mkk R1 RX0.8
0.900 0.990 0.010 0.100 0.023 = 45 295 3 5 8 #TP,TN,FP,FN,ERR n348 m=mko R1 RX0.8
0.939 0.980 0.020 0.061 0.026 = 46 293 6 3 9 #TP,TN,FP,FN,ERR n348 m=mmt R1 RX0.8
0.960 0.973 0.027 0.040 0.029 = 48 290 8 2 10 #TP,TN,FP,FN,ERR n348 m=mnh R1 RX0.8
0.880 0.990 0.010 0.120 0.026 = 44 295 3 6 9 #TP,TN,FP,FN,ERR n348 m=mym R1 RX0.8
cat ../12voicedata_ueki_all_q/speaker-verif-result-X.dat #prediction of test data
0.357 0.988 0.012 0.643 0.189 = 35 249 3 63 66 #TP,TN,FP,FN,ERR n350 m=fhs R1 RX0.8
0.091 0.992 0.008 0.909 0.234 = 8 260 2 80 82 #TP,TN,FP,FN,ERR n350 m=fms R1 RX0.8
0.300 0.992 0.008 0.700 0.226 = 33 238 2 77 79 #TP,TN,FP,FN,ERR n350 m=mkk R1 RX0.8
0.333 0.930 0.070 0.667 0.254 = 36 225 17 72 89 #TP,TN,FP,FN,ERR n350 m=mko R1 RX0.8
0.242 0.988 0.012 0.758 0.223 = 24 248 3 75 78 #TP,TN,FP,FN,ERR n350 m=mmt R1 RX0.8
0.107 0.984 0.016 0.893 0.274 = 11 243 4 92 96 #TP,TN,FP,FN,ERR n350 m=mnh R1 RX0.8
0.309 0.957 0.043 0.691 0.217 = 29 245 11 65 76 #TP,TN,FP,FN,ERR n350 m=mym R1 RX0.8
sX=-1;a=1.6;b=40;N=40;
cat ../12voicedata_ueki_all_q/speaker-verif-result.dat #oob prediction of training data 
0.527 0.961 0.039 0.473 0.155 = 49 245 10 44 54 #TP,TN,FP,FN,ERR n348 m=fhs R0.8 RX0.8
0.480 0.988 0.012 0.520 0.158 = 48 245 3 52 55 #TP,TN,FP,FN,ERR n348 m=fms R0.8 RX0.8
0.500 0.969 0.031 0.500 0.158 = 47 246 8 47 55 #TP,TN,FP,FN,ERR n348 m=mkk R0.8 RX0.8
0.484 0.949 0.051 0.516 0.175 = 45 242 13 48 61 #TP,TN,FP,FN,ERR n348 m=mko R0.8 RX0.8
0.433 0.992 0.008 0.567 0.175 = 45 242 2 59 61 #TP,TN,FP,FN,ERR n348 m=mmt R0.8 RX0.8
0.410 0.975 0.025 0.590 0.195 = 43 237 6 62 68 #TP,TN,FP,FN,ERR n348 m=mnh R0.8 RX0.8
0.374 0.979 0.021 0.626 0.207 = 40 236 5 67 72 #TP,TN,FP,FN,ERR n348 m=mym R0.8 RX0.8
0.458 0.973 0.027 0.542 0.175 #mean TP TN FP FN ERR
cat ../12voicedata_ueki_all_q/speaker-verif-result-X.dat #prediction of test data
0.245 0.960 0.040 0.755 0.240 = 24 242 10 74 84 #TP,TN,FP,FN,ERR n350 m=fhs R0.8 RX0.8
0.193 0.973 0.027 0.807 0.223 = 17 255 7 71 78 #TP,TN,FP,FN,ERR n350 m=fms R0.8 RX0.8
0.218 0.975 0.025 0.782 0.263 = 24 234 6 86 92 #TP,TN,FP,FN,ERR n350 m=mkk R0.8 RX0.8
0.241 0.963 0.037 0.759 0.260 = 26 233 9 82 91 #TP,TN,FP,FN,ERR n350 m=mko R0.8 RX0.8
0.212 0.984 0.016 0.788 0.234 = 21 247 4 78 82 #TP,TN,FP,FN,ERR n350 m=mmt R0.8 RX0.8
0.107 0.984 0.016 0.893 0.274 = 11 243 4 92 96 #TP,TN,FP,FN,ERR n350 m=mnh R0.8 RX0.8
0.191 0.965 0.035 0.809 0.243 = 18 247 9 76 85 #TP,TN,FP,FN,ERR n350 m=mym R0.8 RX0.8
0.201 0.972 0.028 0.799 0.248 #mean TP TN FP FN ERR

cat ../12voicedata_ueki_all_q/speaker-verif-result.dat #oob prediction of training data 
0.641 0.971 0.029 0.359 0.096 = 91 538 16 51 67 #TP,TN,FP,FN,ERR n696 m=fhs R1:0.8 RX1:0.8
0.593 0.980 0.020 0.407 0.103 = 89 535 11 61 72 #TP,TN,FP,FN,ERR n696 m=fms R1:0.8 RX1:0.8
0.639 0.984 0.016 0.361 0.088 = 92 543 9 52 61 #TP,TN,FP,FN,ERR n696 m=mkk R1:0.8 RX1:0.8
0.678 0.960 0.040 0.322 0.098 = 97 531 22 46 68 #TP,TN,FP,FN,ERR n696 m=mko R1:0.8 RX1:0.8
0.608 0.972 0.028 0.392 0.108 = 93 528 15 60 75 #TP,TN,FP,FN,ERR n696 m=mmt R1:0.8 RX1:0.8
0.523 0.974 0.026 0.477 0.126 = 81 527 14 74 88 #TP,TN,FP,FN,ERR n696 m=mnh R1:0.8 RX1:0.8
0.592 0.963 0.037 0.408 0.121 = 93 519 20 64 84 #TP,TN,FP,FN,ERR n696 m=mym R1:0.8 RX1:0.8
0.611 0.972 0.028 0.389 0.106 #mean TP TN FP FN ERR

0.439 0.980 0.020 0.561 0.134 = 65 541 11 83 94 #TP,TN,FP,FN,ERR n700 m=fhs R1:0.8 RX1:0.8
0.428 0.975 0.025 0.572 0.133 = 59 548 14 79 93 #TP,TN,FP,FN,ERR n700 m=fms R1:0.8 RX1:0.8
0.425 0.985 0.015 0.575 0.143 = 68 532 8 92 100 #TP,TN,FP,FN,ERR n700 m=mkk R1:0.8 RX1:0.8
0.418 0.941 0.059 0.582 0.177 = 66 510 32 92 124 #TP,TN,FP,FN,ERR n700 m=mko R1:0.8 RX1:0.8
0.416 0.989 0.011 0.584 0.133 = 62 545 6 87 93 #TP,TN,FP,FN,ERR n700 m=mmt R1:0.8 RX1:0.8
0.281 0.980 0.020 0.719 0.173 = 43 536 11 110 121 #TP,TN,FP,FN,ERR n700 m=mnh R1:0.8 RX1:0.8
0.410 0.971 0.029 0.590 0.144 = 59 540 16 85 101 #TP,TN,FP,FN,ERR n700 m=mym R1:0.8 RX1:0.8
0.402 0.974 0.026 0.598 0.148 #mean TP TN FP FN ERR


#search lack 
#ls ${dq}/*R0.6* > ../wc.txt
#for ((n=10;n<700;n+=100)); do
#  echo -n "L$n "; cat ../wc.txt|head -$n |tail -1
#done
#
#
#wc ${dq}/*R0.8* > ../wc.txt
#for ((n=10;n<700;n+=100)); do
#  echo -n "L$n "; cat ../wc.txt|head -$n |tail -1
#done
#rm ../wc.txt
#L10     1    36   101 ../12voicedata_ueki_all_q/fhs-go9-mko-kyu10-R0.8-p.dat
#L110     1    36   102 ../12voicedata_ueki_all_q/fms-hachi1-mmt-zero10-R0.8-p.dat no ../12voicedata_ueki_all_q/fhs-hachi5
#L210     1    36   100 ../12voicedata_ueki_all_q/mkk-hachi1-fms-kyu4-R0.8-p.dat    
#L310     1    36   101 ../12voicedata_ueki_all_q/mko-hachi1-mnh-kyu3-R0.8-p.dat
#L410     1    36   100 ../12voicedata_ueki_all_q/mmt-hachi1-mym-go5-R0.8-p.dat
#L510     1    36    98 ../12voicedata_ueki_all_q/mnh-hachi10-mkk-san10-R0.8-p.dat
#L610     1    36   105 ../12voicedata_ueki_all_q/mym-hachi10-mkk-si3-R0.8-p.dat
#
#L10     1    36   102 ../12voicedata_ueki_all_q/fhs-go9-fms-si3-R0.6-p.dat
#L110     1    36   101 ../12voicedata_ueki_all_q/fms-hachi1-fhs-kyu10-R0.6-p.dat
#L210     1    36    99 ../12voicedata_ueki_all_q/mkk-hachi10-fhs-si1-R0.6-p.dat  no ../12voicedata_ueki_all_q/fms-zero9 at L198 
#L310     1    36   102 ../12voicedata_ueki_all_q/mko-hachi10-mmt-go10-R0.6-p.dat
#L410     1    36   104 ../12voicedata_ueki_all_q/mmt-hachi10-mkk-ni3-R0.6-p.dat
#L510     1    36   104 ../12voicedata_ueki_all_q/mnh-hachi2-mko-si8-R0.6-p.dat
#L610     1    36   102 ../12voicedata_ueki_all_q/mym-hachi2-mnh-san9-R0.6-p.dat
#
#wc ${dq}/fhs*R0.6* ${dq}/fhs*R0.8*
##nohup sh/mkq.sh &
##nohup sh/mkq2.sh &
#( ( (RANDOM % n) + 1 ))#0-32767
##
#export LANG=C
#dl=../12voicedata_ueki_all; 
#dn=${dl}_n; mkdir -p $dn  #normalized
#dm=${dl}_m; mkdir -p $dm  #mixed signal
#dp=${dl}_p; mkdir -p $dp  #pole
#S=(fhs fms mkk mko mmt mnh mym)
#L=(1 2 3 4 5 6 7 8 9)
#D=(zero ichi ni san si go roku nana hachi kyu)
#R=(0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9)
#
##S=(fhs mkk)
##L=(9 5)
##D=(zero)
#date
#for s in fhs; do
#  for d in kyu; do
#    for l in 9; do #for l in `seq 1 9` ; do #    for l in 1 2 3 4 5 6 7 8 9; do
#      for r in 0.5; do
#        for s2 in mkk; do
#          if [ "$s2" != "$s" ]; then
#            for d in san; do
#              for l2 in 5; do
#                sm=${s}-${d}${l}-${s2}-${d2}${l2}-R${r}
#     cmd="python speechmix.py -y0 $dn/${s}-${d}${l}.dat -y1 $dn/${s2}-${d2}${l2}.dat -r $r"
#     echo "$cmd>$dm/${sm}.dat"; $cmd > $dm/${sm}.dat
#     cmd1="poledistribv2+ st:${sm} N:24 k:8 m:poles4 dir:${dm} rsa:2:0.7:1:20 DiffMode:0 tt:0:400 T:100 DISP:1"
#     echo "$cmd1"; $cmd1
#     cmd2="mkpoleptv2+ st:$sm k:8 Np:24 dir:tmp dir2:${dm} dout:${dp} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2 DISP:1"
#     echo "$cmd2"; $cmd2
#     cmd="cp tmp/q.dat "
#     make data-clean
#              done;
#            done;
#          fi
#        done;
#      done;
#    done;
#  done;
#done;
#date

#20140502 at mesaho
pair.datに基準となるデータとランダムに選んだデータの
ペアを書き込んでいる。
0.5~0.9のフォルダには基準となるデータをa=0.5~0.9倍したデータと
ランダムに選んだデータを1-a倍して足し合わせたデータをそれぞれ入れている。
#######################
#(2)実行コマンド　from Tagomori, modified by Kurogi
#############################################Execute from here
make
make data-clean
sX=-1;a=1.6;b=300;N=40;
sX=-1;a=1.6;b=300;N=30;
mbas=2:${b}:${a}:1
############tagomori's PC
dir1=../12voicedata/allpole
dir2=../0.9/allpole
############kurogi's PC
dir1=../../2012/12voicedata/allpole                                         
dir2=/media/sf_D_DRIVE/cdata/kurolab/data/20180206onsei/0.9/allpole         
#dir2=../../2012/12voicedata/allpole_fake                                
############for simply check the program with two speakers
cmd="oob4speakerdigit+sX_2018 sp:fhs:fms tx:zero:ichi ntxi:9 k:36 mbas:$mbas dir:$dir1 dir2:$dir2 s:-1 N:${N} sX:${sX}"
############for final check of all speakers
cmd="oob4speakerdigit+sX_2018 sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:si:go:roku:nana:hachi:kyu ntxi:9 k:36 mbas:2:${b}:${a}:1 dir:$dir1 dir2:$dir2 s:-1 N:${N} sX:${sX}"
echo $cmd;$cmd
cmd1="cat ${dir1}/oob4s:-1N${N}mbas${mbas}sX${sX}.ystat" ##cmd1="cat ${dir1}/oob4s:-1N${N}mbas2:300:1.6:1sX-1.ystat 
echo $cmd1;$cmd1
#############################################Execute from here
#######################
#(3) 結果例 executed by Kurogi from here
#######################



20171124
#(0) 12voicedataの音声ファイルはkurolab2の植木君のディレクトリにあった
#     http://home/kuro/sotu/2012/12voicedata_ueki.7zに保存した
#(1) 1,2,3,...の極を抽出する
make
sp=fhs:mkk:mko:mmt:mnh:mym
tx=zero:ichi:ni:san:si:go:roku:sichi:hachi:kyu:rei:yon:nana:ku
dir=../../2012/12voicedata/zero ##←自分のPCのフォルダの構造に合わせて設定すべし!
dir=/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata/zero
cmd="poledistribv2 sp:${sp} tx:${tx} N:24 k:8 m:poles4 dir:${dir} rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100"
$cmd
#20180531 short exp
#poledistribv2 sp:fhs tx:zero1 N:24 k:8 m:poles4 dir:/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata/zero rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100


#(2) この極配置をベクトル化する
dirp=${dir}p
cmd="mkpoleptv2 sp:${sp} tx:${tx} k:8 Np:24 dir:tmp dir2:${dir} data:${dirp} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2"
$cmd
#short exp
#mkpoleptv2 sp:fhs tx:zero1 k:8 Np:24 dir:tmp dir2:/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata/zero data:/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata/zerop rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2
#mkpoleptv2 calles
#mkpoleptv1 sp:fhs tx:zero1 k:8 N:24 dir:tmp data:/media/sf_C_DRIVE/cdata/kurolab/data/12voicedata_ueki/12voicedata/zerop rsa:2:20 tt:0:3170 nt:18 nr:2 r_max:2.000000 > /dev/null


(4) dirpの -p.datファイルをallpoleディレクトリに保存
cp ${dirp}/*-p.dat ../2012/12voicedata/allpole/

#####new(5),(6)
(5) oob4speakerdigit+sX:
        各話者の zero,...,kyuの 特徴ベクトルvec{q} (極配置ベクトル)を入力し、
        CAN2^{S}の出力ベクトルv[S]を求めるプログラム
　　　　この出力ファイル(?)には入力と出力のペアが保存されてるはず
#see 「20140502 at mesaho」 for oob4speakerdigit+sX to make ../../2012/12voicedata/iconip14data/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y 
出力ファイル名: ../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}nS${nS}nD${nD}.ystat

(6) 
#20160515 ICONIP2016の整理
#[0] sh/iconip16exp1.sh（speakerdigit_v8.cを使用） のオプションの説明


#old(5)
(5) 話者認識・数字認識実験をする
cmd="loo4sprecogv1 sp:${sp} tx:${tx} k:36 N:20 dir:${dirp} rsa:2:0.7:1:20"
$cmd
#話者CAN2
dira=../../2012/12voicedata/allpole
cmd="oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:$dira s:-1 N:40";$cmd
数字CAN2
cmd="oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:$dira d:-1 N:40";$cmd

#see 「20140502 at mesaho」 for oob4speakerdigit+sX to make ../../2012/12voicedata/iconip14data/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y 
a=1.6;b=300;N=40;sX=-1
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole s:-1 N:${N} sX:${sX}"
echo $cmd;time $cmd
0.920 0.967 0.033 0.080 1.619e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 for check.
#result in '../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX-1.y' and '../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX-1.ystat'. real151m17.810s user147m4.488s gcc
0.920 0.967 0.033 0.080 1.619e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 for check.
#result in '../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX-1.y' and '../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX-1.ystat'. real42m54.198s user30m44.935s icc



20171122
#(0) 極配置ベクトルを作るプログラムの詳細は、readme-mineishi.txtを参照のこと
#(1) 極を抽出する
sp=fns:mhk            #09voicedata involves fns:mhk:mhy:mkh:mmo:msm:mss:mtn:mwk:mym
tx=daigaku1:daigaku2  #daigaku involves daigaku1:daigaku2:daigaku3:daigaku4:daigaku5  #
dir=../can2_voicedata/09voicedata/daigaku ##←自分のPCのフォルダの構造に合わせて設定すべし!
# フォルダ../can2_voicedataは
# http://kurolab.cntl.kyutech.ac.jp/~kuro/sotu/2012/can2_voicedata.7zを解凍したもの
#  元々はkurolab2サーバの/home/mineishi/can2dataを圧縮したもの(can2bの中身は少し変えてる）
cmd="poledistribv2 sp:${sp} tx:${tx} N:24 k:8 m:poles4 dir:${dir} rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100"
#cmd="poledistribv2 sp:${sp} tx:${tx} N:24 k:8 m:poles4 dir:${dir} rsa:2:0.7:1:20 DISP:1 DiffMode:0 tt:0:400 T:100 DISP:0"
$cmd

#(2) この極配置をベクトル化する
sp=fns:mhk   #09voicedata has fns:mhk:mhy:mkh:mmo:msm:mss:mtn:mwk:mym
tx=daigaku1:daigaku2  #daigaku     has daigaku1:daigaku2:daigaku3:daigaku4:daigaku5  #
dir=../can2_voicedata/09voicedata/daigaku
dirp=${dir}p
cmd="mkpoleptv2 sp:${sp} tx:${tx} k:8 Np:24 dir:tmp dir2:${dir} data:${dirp} rsa:2:20 tt:0:400 nt:18 nr:2 r_max:2"
$cmd

(3) 話者認識実験をする
cmd="loo4sprecogv1 sp:${sp} tx:${tx} k:36 N:20 dir:${dirp} rsa:2:0.7:1:20"
$cmd


######################
20161104
####
(1) speakerdigit_v8.cのバグを修正した．
   主なバグは、訓練およびテストの時系列の長さを変えると、エラーがでることであり、次の２つの変数：
  #define MAX_nDTCoCp 200 ////#define MAX_nDTCoCp 500
  #define MAX_nT 3000
　の導入と関連する箇所の修正を行った。
(2) 指定話者の出現パターン(DTCoCp)を訓練時とテスト時で異なる設定ができるスクリプト
　　　sh/iconip16post.shを作成した。
　以下に示す実験例では、
　手順2-1（訓練）：指定話者の出現パターンをL50(非指定話者100の後、20:50,15:50,10:50,5:50を繰り返す)とし、
                  g-GEBI(gibbs:1:1:0.3:500)とg-BI(gibbs:1:0.25:0)をそれぞれ行う．
　手順2-2（テスト）：指定話者の出現パターンをL11(10:30の繰返),L12(20:30の繰返)、L13(30:30),L14(5:30),
                  L15(15:30の繰返)としg-GEBI(gibbs:1:1:0.3:500)とg-BI(gibbs:1:0.25:0)で行い、その
 結果を示している
(3) 上の例では、g-GEBI(gibbs:1:1:0.3:500)とし、g-GEBIの初期化の時刻は500となっているが、これを
　違う値300,400,500,600などに対し、500が良いことも確かめられる（？いくつかの実験例で確かめただけで、
　これが上の各例で言えるかどうか追加実験して下さい）

#ハードディスクの容量オーバーのため訓練データを残して再実験のときは以下の２行を行う
#chmod 555 ../result-speakerdetect/*L50*
#rm -rf ../result-speakerdetect/*
############L50 original
###手順2-1(訓練)g-GEBI(gibbs:1:1:0.3:500)&L50 （L50に対するテストも行われる)
export fpg="";rm -f nohup.out;nohup sh sh/iconip16post.sh gibbs:1:1:0.3:500 L50 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.810 0.130 0.057 0.003 798000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.296 0.418 0.279 0.007 252000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.012 0.248 0.567 0.174 259000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.001 0.004 0.086 0.909 4277000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all= 725130/1050000=0.691
0.002 0.998 #pC23C0 pC23C3 nC23Detected/nC23all=3940244/4536000=0.869
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L50tr3Su2td4
###手順2-1(訓練)g-BI(gibbs:1:0.25:0)& L50 （L50に対するテストも行われる)
export fpg="";rm -f nohup.out;nohup sh ./sh/iconip16post.sh gibbs:1:0.25:0 L50 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.750 0.199 0.048 0.003 798000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.446 0.464 0.085 0.005 252000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.032 0.022 0.713 0.234 259000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.004 0.009 0.055 0.933 4277000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.995 0.005 #pC01C0 pC01C3 nC01Detected/nC01all= 714546/1050000=0.681
0.006 0.994 #pC23C0 pC23C3 nC23Detected/nC23all=4076443/4536000=0.899
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L50tr3Su2td4
############L11
#手順2-2（テスト）g-GEBI&L11 better than g-BI below
export fpg=../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L11 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.740 0.205 0.053 0.002 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.346 0.392 0.257 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.011 0.266 0.604 0.119 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.002 0.007 0.140 0.851 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.995 0.005 #pC01C0 pC01C3 nC01Detected/nC01all= 655935/1050000=0.625
0.004 0.996 #pC23C0 pC23C3 nC23Detected/nC23all=2800462/3556000=0.788
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L11tr3Su2td4
#手順2-2（テスト）g-BI&L11
export fpg=../result-speakerdetect/iconip16post_gibbs:1:0.25:0L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ./sh/iconip16post.sh gibbs:1:0.25:0 L11 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.644 0.311 0.043 0.001 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.496 0.423 0.076 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.039 0.024 0.772 0.165 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.006 0.014 0.089 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.996 0.004 #pC01C0 pC01C3 nC01Detected/nC01all= 631890/1050000=0.602
0.011 0.989 #pC23C0 pC23C3 nC23Detected/nC23all=2963352/3556000=0.833
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L11tr3Su2td4
########L12
##手順2-2（テスト）g-GEBI&L12
export fpg=../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L12 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.900 0.083 0.017 0.000 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.336 0.391 0.268 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.015 0.328 0.561 0.096 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.003 0.008 0.150 0.839 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=1713915/2100000=0.816
0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=2758770/3556000=0.776
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L12tr3Su2td4
##手順2-2（テスト）g-BI L12
export fpg=../result-speakerdetect/iconip16post_gibbs:1:0.25:0L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ./sh/iconip16post.sh gibbs:1:0.25:0 L12 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.835 0.149 0.016 0.000 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.497 0.424 0.075 0.004 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.039 0.024 0.782 0.155 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.006 0.014 0.090 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=1648290/2100000=0.785
0.011 0.989 #pC23C0 pC23C3 nC23Detected/nC23all=2960132/3556000=0.832
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L12tr3Su2td4
#手順2-2（テスト）g-GEBI L13
export fpg=../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L13 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.937 0.054 0.010 0.000 2835000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.354 0.382 0.259 0.006 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.016 0.331 0.571 0.081 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.003 0.008 0.150 0.839 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=2769795/3150000=0.879
0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=2754262/3556000=0.775
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L13tr3Su2td4
#手順2-2（テスト）g-BI L13
export fpg=../result-speakerdetect/iconip16post_gibbs:1:0.25:0L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ./sh/iconip16post.sh gibbs:1:0.25:0 L13 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.884 0.105 0.010 0.000 2835000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.496 0.423 0.077 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.039 0.025 0.782 0.154 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.006 0.014 0.090 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=2663955/3150000=0.846
0.011 0.989 #pC23C0 pC23C3 nC23Detected/nC23all=2959810/3556000=0.832
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L13tr3Su2td4
#手順2-2（テスト）g-GEBI L14 worse than g-BI !!!
export fpg=../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L14 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.011 0.180 0.746 0.063 180000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.225 0.419 0.346 0.010 270000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.001 0.008 0.464 0.527 276000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.002 0.007 0.086 0.905 2772000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.817 0.183 #pC01C0 pC01C3 nC01Detected/nC01all=  76770/ 450000=0.171
0.002 0.998 #pC23C0 pC23C3 nC23Detected/nC23all=2659932/3048000=0.873
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L14tr3Su2td4
#手順2-2（テスト）g-BI L14
export fpg=../result-speakerdetect/iconip16post_gibbs:1:0.25:0L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ./sh/iconip16post.sh gibbs:1:0.25:0 L14 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.223 0.274 0.453 0.050 180000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.303 0.576 0.113 0.008 270000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.010 0.013 0.535 0.442 276000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.005 0.015 0.083 0.898 2772000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.916 0.084 #pC01C0 pC01C3 nC01Detected/nC01all= 133110/ 450000=0.296
0.006 0.994 #pC23C0 pC23C3 nC23Detected/nC23all=2627868/3048000=0.862
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L14tr3Su2td4

#手順2-2（テスト）g-GEBI L15
export fpg=../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L15 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
#手順2-2（テスト）g-BI L15
export fpg=../result-speakerdetect/iconip16post_gibbs:1:0.25:0L50tr3Su2td4/ProbDistSpeaker
rm -f nohup.out;nohup sh ./sh/iconip16post.sh gibbs:1:0.25:0 L15 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.856 0.119 0.025 0.000 1260000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.342 0.396 0.257 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.014 0.308 0.577 0.100 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.003 0.007 0.148 0.842 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=1187865/1575000=0.754
0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=2769438/3556000=0.779
cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L15tr3Su2td4

##################
#####g-GEBI with fpg for L13
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:100L10tr3Su2td4/ProbDistSpeaker
###rm -f nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L13 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.888 0.103 0.008 0.000 2835000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.466 0.293 0.236 0.006 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.298 0.072 0.549 0.081 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.010 0.001 0.149 0.839 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=2666160/3150000=0.846
###0.045 0.955 #pC23C0 pC23C3 nC23Detected/nC23all=2867704/3556000=0.806
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L13tr3Su2td4
#####g-BI with fpg for L13
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:0.25:0 L13 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.884 0.105 0.010 0.000 2835000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.496 0.423 0.077 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.039 0.025 0.782 0.154 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.006 0.014 0.090 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=2663955/3150000=0.846
###0.011 0.989 #pC23C0 pC23C3 nC23Detected/nC23all=2959810/3556000=0.832
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L13tr3Su2td4
####
#####g-GEBI with fpg for L12
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:100L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L12 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.878 0.095 0.026 0.001 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.293 0.317 0.366 0.024 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.009 0.180 0.636 0.175 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.003 0.004 0.079 0.915 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all=1668870/2100000=0.795
###0.004 0.996 #pC23C0 pC23C3 nC23Detected/nC23all=3028060/3556000=0.852
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L12tr3Su2td4
###
####g-BI with fpg for L12
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:0.25:0 L12 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.835 0.149 0.016 0.000 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.497 0.424 0.075 0.004 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.039 0.024 0.782 0.155 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.006 0.014 0.090 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=1648290/2100000=0.785
###0.011 0.989 #pC23C0 pC23C3 nC23Detected/nC23all=2960132/3556000=0.832
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L12tr3Su2td4
######
####g-GEBI with fpg for L11 worse than g-BI???
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:100L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L11 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.624 0.329 0.045 0.002 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.458 0.299 0.238 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.248 0.050 0.583 0.119 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.008 0.002 0.139 0.851 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.995 0.005 #pC01C0 pC01C3 nC01Detected/nC01all= 605955/1050000=0.577
###0.037 0.963 #pC23C0 pC23C3 nC23Detected/nC23all=2896180/3556000=0.814
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L11tr3Su2td4
####g-BI with fpg for L11
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:0.25:0 L11 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.644 0.311 0.043 0.001 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.496 0.423 0.076 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.039 0.024 0.772 0.165 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.006 0.014 0.089 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.996 0.004 #pC01C0 pC01C3 nC01Detected/nC01all= 631890/1050000=0.602
###0.011 0.989 #pC23C0 pC23C3 nC23Detected/nC23all=2963352/3556000=0.833
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L11tr3Su2td4
###
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:100L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:1:0.3:500 L14 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.160 0.042 0.736 0.063 180000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.416 0.249 0.326 0.010 270000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.008 0.002 0.464 0.527 276000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.007 0.003 0.085 0.905 2772000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.910 0.090 #pC01C0 pC01C3 nC01Detected/nC01all= 155160/ 450000=0.345
###0.008 0.992 #pC23C0 pC23C3 nC23Detected/nC23all=2675724/3048000=0.878
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L14tr3Su2td4
###
###export fpg=../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L10tr3Su2td4/ProbDistSpeaker
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16post.sh gibbs:1:0.25:0 L14 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.223 0.274 0.453 0.050 180000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.303 0.576 0.113 0.008 270000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.010 0.013 0.535 0.442 276000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.005 0.015 0.083 0.898 2772000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.916 0.084 #pC01C0 pC01C3 nC01Detected/nC01all= 133110/ 450000=0.296
###0.006 0.994 #pC23C0 pC23C3 nC23Detected/nC23all=2627868/3048000=0.862
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:0.25:0L14tr3Su2td4
###
####20161017 t_00の影響の検討
########L12 (repetition of 30,20)
####g-BI
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L12 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.830 0.155 0.014 0.000 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.461 0.284 0.250 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.301 0.069 0.533 0.096 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.010 0.001 0.149 0.839 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.999 0.001 #pC01C0 pC01C3 nC01Detected/nC01all=1628340/2100000=0.775
###0.045 0.955 #pC23C0 pC23C3 nC23Detected/nC23all=2873500/3556000=0.808
###cp nohup.out ../result-speakerdetect/iconip16post_gibbs:1:1:0.3:500L12tr3Su2td4
###
###
###
####g-GEBI is better than above g-BI
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:500 L12 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.878 0.095 0.026 0.001 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.293 0.317 0.366 0.024 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.009 0.180 0.636 0.175 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.003 0.004 0.079 0.915 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all=1668870/2100000=0.795
###0.004 0.996 #pC23C0 pC23C3 nC23Detected/nC23all=3028060/3556000=0.852
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:500L12tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:1e8 L12 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:1e8;DTCt=3;SiCs=2;tdR=4
###0.841 0.029 0.127 0.003 1785000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.068 0.602 0.239 0.090 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.089 0.225 0.637 0.049 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.000 0.106 0.017 0.876 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.978 0.022 #pC01C0 pC01C3 nC01Detected/nC01all=1556310/2100000=0.741
###0.010 0.990 #pC23C0 pC23C3 nC23Detected/nC23all=2877420/3556000=0.809
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:1e8L12tr3Su2td4
###
###
###
#############L11( repetition of 30,10)
####g-BI for L11
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L11 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.702 0.258 0.039 0.001 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.525 0.396 0.074 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.048 0.018 0.769 0.165 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.011 0.012 0.087 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.997 0.003 #pC01C0 pC01C3 nC01Detected/nC01all= 683655/1050000=0.651
###0.017 0.983 #pC23C0 pC23C3 nC23Detected/nC23all=2982420/3556000=0.839
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L11tr3Su2td4
###
####g-GEBI better than above g-BI (C0xC0=0.792>0.702
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:500 L11 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.792 0.133 0.072 0.003 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.402 0.253 0.332 0.014 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.020 0.150 0.665 0.165 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.002 0.004 0.097 0.897 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.991 0.009 #pC01C0 pC01C3 nC01Detected/nC01all= 715365/1050000=0.681
###0.004 0.996 #pC23C0 pC23C3 nC23Detected/nC23all=2966936/3556000=0.834
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:500L11tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:600 L11 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:600;DTCt=3;SiCs=2;tdR=4
###0.799 0.109 0.088 0.004 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.347 0.200 0.436 0.017 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.028 0.148 0.655 0.169 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.002 0.003 0.098 0.897 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.988 0.012 #pC01C0 pC01C3 nC01Detected/nC01all= 704865/1050000=0.671
###0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=2970800/3556000=0.835
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:600L11tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:400 L11 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:400;DTCt=3;SiCs=2;tdR=4
###0.790 0.135 0.072 0.003 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.473 0.244 0.272 0.010 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.017 0.127 0.668 0.188 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.003 0.006 0.097 0.894 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.993 0.007 #pC01C0 pC01C3 nC01Detected/nC01all= 735000/1050000=0.700
###0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=2966908/3556000=0.834
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:400L11tr3Su2td4
################## L10(repetition of 30,20:30,15:30,10:30,5)
####g-BI for L10
####rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g000 L10 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.750 0.199 0.047 0.003 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.447 0.464 0.084 0.005 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.032 0.021 0.720 0.227 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.006 0.015 0.089 0.890 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.995 0.005 #pC01C0 pC01C3 nC01Detected/nC01all=1072197/1575000=0.681
###0.010 0.990 #pC23C0 pC23C3 nC23Detected/nC23all=3505411/4186000=0.837
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L10tr3Su2td4
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L1 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
#######
####best GEBI 0.825=C00 for L10
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:500 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.825 0.113 0.059 0.004 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.329 0.423 0.241 0.006 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.014 0.275 0.501 0.211 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.002 0.011 0.132 0.855 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all=1118943/1575000=0.710
###0.004 0.996 #pC23C0 pC23C3 nC23Detected/nC23all=3344082/4186000=0.799
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:500L10tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:600 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:600;DTCt=3;SiCs=2;tdR=4
###0.820 0.127 0.049 0.004 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.281 0.545 0.167 0.007 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.014 0.389 0.392 0.205 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.002 0.014 0.128 0.856 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.993 0.007 #pC01C0 pC01C3 nC01Detected/nC01all=1095192/1575000=0.695
###0.004 0.996 #pC23C0 pC23C3 nC23Detected/nC23all=3345573/4186000=0.799
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:600L10tr3Su2td4
###
####GEBI best t_00=200? best for 0.999=C3detected?
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:200 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:200;DTCt=3;SiCs=2;tdR=4
###0.696 0.228 0.073 0.003 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.382 0.495 0.119 0.005 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.000 0.066 0.662 0.271 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.001 0.015 0.103 0.881 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all= 982989/1575000=0.624
###0.001 0.999 #pC23C0 pC23C3 nC23Detected/nC23all=3456817/4186000=0.826
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:200L10tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:1e8 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:1e8;DTCt=3;SiCs=2;tdR=4
###0.749 0.073 0.149 0.029 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.072 0.649 0.200 0.079 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.083 0.265 0.362 0.290 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.000 0.086 0.009 0.905 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.935 0.065 #pC01C0 pC01C3 nC01Detected/nC01all= 988344/1575000=0.628
###0.009 0.991 #pC23C0 pC23C3 nC23Detected/nC23all=3583510/4186000=0.856
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:1e8L10tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:400 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:400;DTCt=3;SiCs=2;tdR=4
###0.769 0.167 0.060 0.004 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.296 0.511 0.187 0.006 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.004 0.224 0.545 0.227 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.004 0.009 0.126 0.861 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.993 0.007 #pC01C0 pC01C3 nC01Detected/nC01all=1039437/1575000=0.660
###0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=3376800/4186000=0.807
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:400L10tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:300 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:300;DTCt=3;SiCs=2;tdR=4
###0.699 0.228 0.070 0.003 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.316 0.528 0.150 0.005 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.001 0.113 0.617 0.270 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.004 0.011 0.112 0.873 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all= 961632/1575000=0.611
###0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=3437812/4186000=0.821
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:300L10tr3Su2td4
###
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:1:0.3:100 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:100;DTCt=3;SiCs=2;tdR=4
###0.768 0.153 0.074 0.005 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.670 0.279 0.048 0.004 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.033 0.008 0.536 0.424 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.026 0.013 0.069 0.892 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all=1180053/1575000=0.749
###0.030 0.970 #pC23C0 pC23C3 nC23Detected/nC23all=3665263/4186000=0.876
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:1:0.3:100L10tr3Su2td4
##############################
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L11 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.702 0.258 0.039 0.001 735000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.525 0.396 0.074 0.005 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.048 0.018 0.769 0.165 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.011 0.012 0.087 0.890 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.997 0.003 #pC01C0 pC01C3 nC01Detected/nC01all= 683655/1050000=0.651
###0.017 0.983 #pC23C0 pC23C3 nC23Detected/nC23all=2982420/3556000=0.839
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L11tr3Su2td4
###
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L12 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
###0.860 0.127 0.010 0.002 2835000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.433 0.484 0.077 0.006 315000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.006 0.057 0.782 0.156 322000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.000 0.020 0.090 0.891 3234000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.997 0.003 #pC01C0 pC01C3 nC01Detected/nC01all=2582055/3150000=0.820
###0.001 0.999 #pC23C0 pC23C3 nC23Detected/nC23all=2933658/3556000=0.825
###cp nohup.out ../result-speakerdetect/iconip16exp1+_gibbs:1:0.25:0L13tr3Su2td4
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L14 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
###rm nohup.out;nohup sh ~/sotu/2015/can2b/sh/iconip16exp1+.sh gibbs:1:0.25:0 L15 3 2 4& #g-BI, after the finish, tail -9 nohup.out 
###
###nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g101 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
###0.838 0.081 0.070 0.011 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.268 0.432 0.272 0.028 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.034 0.318 0.408 0.239 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.002 0.038 0.070 0.890 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.979 0.021 #pC01C0 pC01C3 nC01Detected/nC01all=1128141/1575000=0.716
###0.006 0.994 #pC23C0 pC23C3 nC23Detected/nC23all=3495597/4186000=0.835
###cp nohup.out ../result-speakerdetect/iconip16exp1_g101L10tr3Su2td4
###
################
###nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g104 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:300;DTCt=3;SiCs=2;tdR=4
###0.760 0.166 0.070 0.004 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.328 0.479 0.184 0.008 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.005 0.207 0.589 0.198 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.004 0.011 0.130 0.855 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.992 0.008 #pC01C0 pC01C3 nC01Detected/nC01all=1041516/1575000=0.661
###0.005 0.995 #pC23C0 pC23C3 nC23Detected/nC23all=3343214/4186000=0.799
###cp nohup.out ../result-speakerdetect/iconip16exp1_g104L10tr3Su2td4
###
###nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g102 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:200;DTCt=3;SiCs=2;tdR=4
###0.730 0.197 0.069 0.004 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.312 0.509 0.171 0.008 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.002 0.114 0.699 0.185 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.000 0.011 0.123 0.866 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.992 0.008 #pC01C0 pC01C3 nC01Detected/nC01all= 999558/1575000=0.635
###0.000 1.000 #pC23C0 pC23C3 nC23Detected/nC23all=3363661/4186000=0.804
###cp nohup.out ../result-speakerdetect/iconip16exp1_g102L10tr3Su2td4
###
###nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g103 L10 3 2 4& #g-GEBI, after the finish, tail -9 nohup.out 
####  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:100;DTCt=3;SiCs=2;tdR=4
###0.743 0.187 0.067 0.003 1197000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
###0.541 0.368 0.085 0.006 378000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
###0.027 0.028 0.657 0.288 385000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
###0.008 0.017 0.092 0.883 3801000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
####  C0    C3    N #Confusion Matrix using undecidable
###0.995 0.005 #pC01C0 pC01C3 nC01Detected/nC01all=1099728/1575000=0.698
###0.012 0.988 #pC23C0 pC23C3 nC23Detected/nC23all=3507966/4186000=0.838
###cp nohup.out ../result-speakerdetect/iconip16exp1_g103L10tr3Su2td4
###


#####################################################################################
#20160515 ICONIP2016の整理
#[0] sh/iconip16exp1.sh（speakerdigit_v8.cを使用） のオプションの説明
(a)g10:BI
(b)g11:GEBI
(c)g0:g-BI 
(d)g1:g-GEBI t_0=500 (p4の式(8):初期化する時刻t_0;論文p.6の下から2行目t-t_0>=500)
(e)g2:g-GEBI t_0=200  (論文p.6の下から2行目t-t_0>=500) ICONIP2016では使用してない。
###########iconip16.shを参照

#(1) BI
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g10 L1 3 2 4& 
  #-->Fig2(a) 

#(2) GEBI
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g11 L1 3 2 4& 
  # -->Fig2(b) GEBI

#(3) g-BI
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 3 2 4&
  # -->Fig2(c), Fig3(a), Table1(a)

#(4) g-GEBI
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 3 2 4&
  # -->Fig2(d),Fig3(b),#Table 1(b)
 
以下、結果

#20160411->20160515 ICONIP2016
#Usage: nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh <gi> <Ln> <DTCt> <SiCs> <tdR> &
#    <gi>: g0, g1,g2
#    <Ln>: L0, L1, L2, ...
#    <DTCt>:length of transient period
#    <SiCs>:2 for registered only 3 for unregistered
#    <tdR>: delay of Detaction

#ICONIP2016 Table1(a) 
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 3 2 4&
tail -8 ../result-speakerdetect/iconip16exp1_g0L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.752 0.200 0.045 0.003 266000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.445 0.462 0.087 0.006  84000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.031 0.020 0.675 0.273  91000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.006 0.011 0.065 0.918 1155000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.995 0.005 #pC01C0 pC01C3 nC01Detected/nC01all= 238714/ 350000=0.682
0.009 0.991 #pC23C0 pC23C3 nC23Detected/nC23all=1094884/1246000=0.879

#ICONIP2016 Table 1(b)
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 3 2 4&
tail -8 ../result-speakerdetect/iconip16exp1_g1L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.784 0.156 0.056 0.004 266000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.197 0.579 0.218 0.007  84000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.005 0.269 0.509 0.217  91000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.000 0.005 0.101 0.894 1155000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.993 0.007 #pC01C0 pC01C3 nC01Detected/nC01all= 226744/ 350000=0.648
0.000 1.000 #pC23C0 pC23C3 nC23Detected/nC23all=1052772/1246000=0.845

### <SiCs>=3;unregisterd speaker not used in iconip2016
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 3 3 4&
tail -8 ../result-speakerdetect/iconip16exp1_g0L1tr3Su3td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=3;tdR=4
0.867 0.022 0.103 0.007 266000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.682 0.104 0.177 0.037  84000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.413 0.091 0.355 0.141  91000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.213 0.047 0.178 0.562 1155000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.983 0.017 #pC01C0 pC01C3 nC01Detected/nC01all= 292880/ 350000=0.837
0.300 0.700 #pC23C0 pC23C3 nC23Detected/nC23all= 945539/1246000=0.759

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 3 3 4&
tail -8 ../result-speakerdetect/iconip16exp1_g1L1tr3Su3td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=3;tdR=4
0.895 0.037 0.060 0.008 266000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.576 0.258 0.117 0.049  84000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.483 0.202 0.194 0.121  91000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.239 0.171 0.094 0.496 1155000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.979 0.021 #pC01C0 pC01C3 nC01Detected/nC01all= 292698/ 350000=0.836
0.354 0.646 #pC23C0 pC23C3 nC23Detected/nC23all= 903889/1246000=0.725
#######################



nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L9 3 2 4
tail -8 ../result-speakerdetect/iconip16exp1_g1L9tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=3;SiCs=2;tdR=4
0.503 0.260 0.157 0.080 140000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.244 0.681 0.059 0.015 210000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.131 0.018 0.382 0.469 217000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.029 0.008 0.050 0.913 2289000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.894 0.106 #pC01C0 pC01C3 nC01Detected/nC01all= 136010/ 350000=0.389
0.041 0.959 #pC23C0 pC23C3 nC23Detected/nC23all=2286438/2506000=0.912

tail -8 ../result-speakerdetect/iconip16exp1_g1L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:100;DTCt=3;SiCs=2;tdR=4
0.768 0.154 0.073 0.005 266000 100 #p00 p01 p02 p03 n0 wp0 for C0=Crstationary
0.667 0.278 0.051 0.004  84000 100 #p10 p11 p12 p13 n1 wp1 for C1=Crtransient
0.031 0.007 0.508 0.455  91000 100 #p20 p21 p22 p23 n2 wp2 for C2=Cotransient
0.019 0.009 0.053 0.919 1155000 100 #p30 p31 p32 p33 n3 wp2 for C3=Costationary
#  C0    C3    N #Confusion Matrix using undecidable
0.994 0.006 #pC01C0 pC01C3 nC01Detected/nC01all= 261982/ 350000=0.749
0.022 0.978 #pC23C0 pC23C3 nC23Detected/nC23all=1127616/1246000=0.905




##############################

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g10 L1 3 2 4& 
tail ../result-speakerdetect/iconip16exp1_g10L1tr3Su2td4/nohup.out  
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0;DTCt=3;SiCs=2;tdR=4 #result of original BI
0.028 0.758 0.207 0.007 266000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.027 0.957 0.009 0.007  84000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.001 0.001 0.985 0.013  91000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.046 0.915 0.037 1155000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.799 0.201  12166 #p00 p03 N0 for target C0=Cp
0.028 0.972  45164 #p30 p33 N3 for target C3=Co
0.964 0.036  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 3 2 4&
tail ../result-speakerdetect/iconip16exp1_g0L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.752 0.200 0.045 0.003 266000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.445 0.462 0.087 0.006  84000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.031 0.020 0.675 0.273  91000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.011 0.065 0.918 1155000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.995 0.005  238714 #p00 p03 N0 for target C0=Cp
0.009 0.991  1.09488e+06 #p30 p33 N3 for target C3=Co
0.164 0.836  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 3 2 4&
tail ../result-speakerdetect/iconip16exp1_g1L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=3;SiCs=2;tdR=4
0.784 0.156 0.056 0.004 266000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.197 0.579 0.218 0.007  84000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.005 0.269 0.509 0.217  91000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.101 0.894 1155000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.993 0.007  226744 #p00 p03 N0 for target C0=Cp
0.000 1.000  1.05277e+06 #p30 p33 N3 for target C3=Co
0.198 0.802  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 3 3 4
tail ../result-speakerdetect/iconip16exp1_g0L1tr3Su3td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=3;tdR=4
0.867 0.022 0.103 0.007 266000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.682 0.104 0.177 0.037  84000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.413 0.091 0.355 0.141  91000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.213 0.047 0.178 0.562 1155000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.983 0.017  292880 #p00 p03 N0 for target C0=Cp
0.300 0.700  945539 #p30 p33 N3 for target C3=Co
0.224 0.776  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 3 3 4&
tail ../result-speakerdetect/iconip16exp1_g1L1tr3Su3td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=3;SiCs=3;tdR=4
0.895 0.037 0.060 0.008 266000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.576 0.258 0.117 0.049  84000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.483 0.202 0.194 0.121  91000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.239 0.171 0.094 0.496 1155000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.979 0.021  292698 #p00 p03 N0 for target C0=Cp
0.354 0.646  903889 #p30 p33 N3 for target C3=Co
0.250 0.750  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g2 L1 3 2 4
tail ../result-speakerdetect/iconip16exp1_g2L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:10000;DTCt=3;SiCs=2;tdR=4
0.784 0.156 0.056 0.004 266000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.197 0.579 0.218 0.007  84000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.005 0.269 0.509 0.217  91000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.101 0.894 1155000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.993 0.007  226744 #p00 p03 N0 for target C0=Cp
0.000 1.000  1.05277e+06 #p30 p33 N3 for target C3=Co
0.198 0.802  1596000 #PNT 1-PNT num-of-all-data


nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 0 2 4&
tail ../result-speakerdetect/iconip16exp1_g0L1tr0Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=0;SiCs=2;tdR=4
0.973 0.000 0.000 0.027 350000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.035 0.000 0.000 0.965 1246000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 0 2 4&
tail ../result-speakerdetect/iconip16exp1_g1L1tr0Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=0;SiCs=2;tdR=4
0.939 0.000 0.000 0.061 350000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.043 0.000 0.000 0.957 1246000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 0 2 0&
tail ../result-speakerdetect/iconip16exp1_g0L1tr0Su2td0/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=0;SiCs=2;tdR=0
0.885 0.000 0.000 0.115 350000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.118 0.000 0.000 0.882 1256500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  1606500 #PNT 1-PNT num-of-all-data
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 0 2 0&
tail ../result-speakerdetect/iconip16exp1_g1L1tr0Su2td0/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=0;SiCs=2;tdR=0
0.898 0.000 0.000 0.102 350000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.181 0.000 0.000 0.819 1256500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  1606500 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L7 3 2 4&
tail ../result-speakerdetect/iconip16exp1_g0L7tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.936 0.060 0.003 0.000 679000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.432 0.491 0.073 0.004  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.001 0.048 0.605 0.346  28000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.027 0.967 833000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
1.000 0.000  644700 #p00 p03 N0 for target C0=Cp
0.000 1.000  815227 #p30 p33 N3 for target C3=Co
0.065 0.935  1561000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L7 3 2 4
tail ../result-speakerdetect/iconip16exp1_g1L7tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=3;SiCs=2;tdR=4
0.957 0.039 0.004 0.000 679000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.217 0.534 0.240 0.008  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.002 0.163 0.570 0.265  28000 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.002 0.035 0.963 833000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
1.000 0.000  654528 #p00 p03 N0 for target C0=Cp
0.000 1.000  809655 #p30 p33 N3 for target C3=Co
0.062 0.938  1561000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L7 0 2 0&
tail ../result-speakerdetect/iconip16exp1_g0L7tr0Su2td0/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=0;SiCs=2;tdR=0
0.969 0.000 0.000 0.031 700000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.032 0.000 0.000 0.968 871500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  1571500 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L7 0 2 0
tail ../result-speakerdetect/iconip16exp1_g1L7tr0Su2td0/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=0;SiCs=2;tdR=0
0.963 0.000 0.000 0.037 700000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.043 0.000 0.000 0.957 871500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  1571500 #PNT 1-PNT num-of-all-data


export wp0=2660 wp1=840 wp2=910 wp3=1155; #weight of posterior distribution of probabilistic prediction for L1-sequence
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1 3 2 4
tail ../result-speakerdetect/iconip16exp1_g0L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=3;SiCs=2;tdR=4
0.890 0.034 0.023 0.054 266000 266 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.689 0.172 0.041 0.097  84000 84 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.046 0.003 0.310 0.641  91000 91 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.000 0.005 0.993 1155000 1155 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.929 0.071  317128 #p00 p03 N0 for target C0=Cp
0.005 0.995  1.21174e+06 #p30 p33 N3 for target C3=Co
0.042 0.958  1596000 #PNT 1-PNT num-of-all-data

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1 3 2 4
tail ../result-speakerdetect/iconip16exp1_g1L1tr3Su2td4/nohup.out
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=3;SiCs=2;tdR=4
0.901 0.035 0.011 0.053 266000 266 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.459 0.268 0.105 0.167  84000 84 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.066 0.172 0.095 0.667  91000 91 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.004 0.002 0.993 1155000 1155 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.908 0.092  306348 #p00 p03 N0 for target C0=Cp
0.005 0.995  1.21362e+06 #p30 p33 N3 for target C3=Co
0.048 0.952  1596000 #PNT 1-PNT num-of-all-data




DTCt=2;

nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g0 L1&
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=2;SiCs=2;tdR=4
0.727 0.220 0.050 0.003 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.311 0.583 0.100 0.007  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.029 0.040 0.780 0.151  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.014 0.078 0.907 1186500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.995 0.005  232428 #p00 p03 N0 for target C0=Cp
0.003 0.997  1.08805e+06 #p30 p33 N3 for target C3=Co
0.173 0.827  1596000 #PNT 1-PNT num-of-all-data
nohup sh ~/sotu/2015/can2b/sh/iconip16exp1.sh g1 L1&
tail ../result-speakerdetect/iconip16exp1_g1L1/nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=2;SiCs=2;tdR=4
0.780 0.142 0.074 0.004 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.131 0.537 0.324 0.008  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.011 0.300 0.541 0.149  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.006 0.115 0.880 1186500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.993 0.007  238280 #p00 p03 N0 for target C0=Cp
0.001 0.999  1.05364e+06 #p30 p33 N3 for target C3=Co
0.191 0.809  1596000 #PNT 1-PNT num-of-all-data

tail ../result-speakerdetect/iconip16exp1_g0L7/nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=2;SiCs=2;tdR=4
0.935 0.060 0.005 0.000 686000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.255 0.636 0.104 0.004  14000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.001 0.063 0.718 0.218  17500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.032 0.962 843500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
1.000 0.000  645036 #p00 p03 N0 for target C0=Cp
0.000 1.000  815280 #p30 p33 N3 for target C3=Co
0.065 0.935  1561000 #PNT 1-PNT num-of-all-data
tail ../result-speakerdetect/iconip16exp1_g1L7/nohup.out 
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=2;SiCs=2;tdR=4
0.952 0.043 0.005 0.000 686000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.129 0.561 0.285 0.025  14000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.002 0.233 0.561 0.204  17500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.010 0.022 0.969 843500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.999 0.001  655228 #p00 p03 N0 for target C0=Cp
0.000 1.000  820956 #p30 p33 N3 for target C3=Co
0.054 0.946  1561000 #PNT 1-PNT num-of-all-data



######################################################
######### copy and paste from here for (1)
######################################################
prog=speakerdigit_v8; make $prog
make ; make data-clean
d1o=../result-speakerdetect; if [ ! -e $d1o ]; then mkdir $d1o;fi
d1=$d1o/iconip16fig1a; if [ ! -e $d1 ]; then mkdir $d1;fi
###d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
###d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
###d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
###d2=../../2012/12voicedata/iconip14data;d2sep=":"
###d2=../../2012/12voicedata/allpole;d2sep=":"
d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
#### Main variables for Tuning from here ###################
export gibbs=gibbs:1:1:0:10     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export gibbs=gibbs:1:1:0.3     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export gibbs=gibbs:1:0.2:0     ##### use BI 
export gibbs=gibbs:1:1:0.3:50     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export DTCt=2;#DTCt=0;DTCt=4;       #transient for 
export SiCs="2"; ####for 3:Unregistered, 2:Incorrect SiCs="0 3 2"; #depnds on speakerdigit_v6.c test:7:..:$iCs:...
export wp0=100 wp1=100 wp2=100 wp3=100; #weight of posterior distribution of probabilistic prediction
export wp0=2660 wp1=840 wp2=910 wp3=1155; #weight of posterior distribution of probabilistic prediction
export DTCoCp=30,20:30,20:30,20:30,20:30,20:30,20:30,20:30,20:30,20:30,20:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
export DTCoCp=30,20:20,20:20,20:20,20:20,20:20,20:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
export DTCoCp=30,20:20,15:20,10:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
export DTCoCp=30,5:30,5:30,5:30,5:30,5:30,5:30,5:30,5:30,5:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo #TP0.949 FN0.051 fig1
export DTCoCp=30,5:30,4:30,4:30,4:30,4:30,4:30,4:30,4:30,4:30,4:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo #TP0.87  FN0.13
export DTCoCp=30,5:30,3:30,3:30,3:30,3:30,3:30,3:30,3:30,3:30,3:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo #NG!  FN0.5?
export DTCoCp=30,20:30,15:30,10:30,5:30,20:30,15:30,10:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo  #usethis
export tdR=4;#20160228 introduced for delayed detection　 時刻tの入力の影響はt+tdR時刻に現れると仮定
#### Main variables for Tuning to here ####################
resultsum=$d1/resultsum
psdsum=$d1/psdsum
testsdsum=$d1/testsdsum
cat /dev/null > ${resultsum}.dat          
cat /dev/null > ${psdsum}.dat
cat /dev/null > ${testsdsum}.dat
fhg=$d1/histSpeaker;cat /dev/null > $fhg.dat #Initialize
for iCs in $SiCs; do                                        #LoopLevel1:for iCs for set 2rd option of test:7:.....
for sX in 0 1 2 3 4 5 6; do sP=-1;                          #LoopLevel2:for sX in 0 1 2 3 4 5 6;
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:1000:$iCs:${DTCt}:${DTCoCp} sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:3:30,20:20,15:20,10:20,5:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:20:20:20:20:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";
else
cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
echo "Exec $cmd";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> ${resultsum}.dat
echo -e "\n" >> ${resultsum}.dat  ########### <== mean,UC of pG 
cat $tmp/psd.dat >> ${psdsum}.dat ########### <== t,test#,pGC,pGCd,sX pG for all tests for speaker
cat tmp/testsd.dat |awk 'BEGIN{d=0;}{if(d==0){if(substr($1,1,3)=="###") d=1;}else print $0;}'> ${testsdsum}.dat
#echo "###wc psdsum.dat tmp/psd.dat"
#wc psdsum.dat tmp/psd.dat
done #for sX excluded speaker                               #done #LoopLevel2:for sX in 0 1 2 3 4 5 6;
done # for iCs                                              #done #LoopLevel1:for iCs $SiCs;

##########################################
## obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
#########################################

###show t vs. pG of resultsum.dat 
fntpG="$d1/t-pGmean"
gnuplot <<EOF
set term tgif;set output "$fntpG.obj";plot "${resultsum}.dat" using 1:2:(\$2-\$4):(\$2+\$5) w errorbars, "" using 1:2 w l lc rgb "blue"
set term postscript;set output "$fntpG.eps";replot
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
##(1) 各テストにおけるt-pG曲線の表示(２つの角度からの表示）；10テスト毎に間引き
cat ${testsdsum}.dat | awk 'BEGIN{l=0;t0=0;n=1;}{if(substr($1,1,1)=="n"){n++;printf("\n");} else {l++;match($2,"t.*");t=substr($2,RSTART+1,RSTART+3); if(n%10==0) print n,t,$3;}}' > ${d1}/tpG.dat
gnuplot <<EOF
set xlabel "test"; set ylabel "t"; set zlabel "pG";
set view 21,73
set term tgif;set output "$d1/tpG1.obj";splot "$d1/tpG.dat" using 1:2:3 w l
set term postscript;set output "$d1/tpG1.eps";replot
set view 16,108
set term tgif;set output "$d1/tpG2.obj";splot "$d1/tpG.dat" using 1:2:3 w l
set term postscript;set output "$d1/tpG2.eps";replot
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv $d1/tpG1.eps"; echo "Exec $cmd."; $cmd&
cmd="gv $d1/tpG2.eps"; echo "Exec $cmd."; $cmd&
##############
export Ctotp=`cat tmp/Ctotp.dat`

#[2]
#########################################
### making training histgram for probabilistic prediction
### class Cp: prompted speaker's digits, Co:other speaker's, Ct:transient
### generate (0)$d1/resultp_Cto.dat, 
###          (1)$d1/resultp_Co.dat, 
###          (2)$d1/resultp_Ctp.dat, 
###          (3)$d1/resultp_Cp.dat, 
#########################################
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
export CpG
fb0=C${CpG}
fbr=${d1}/resultp_${fb0}                                           ###???
#####
#Why donot we suppose predict 3 steps before
#$1=t
#####
### $1:時刻、C[n]:クラスCpG=to,o,tp,pの開始時刻
### 時刻tの入力のクラスはt+tdR時刻に判断する
cat /dev/null > ${fb0}.dat ;cat $psdsum.dat |
 awk 'BEGIN{CpG=ENVIRON["CpG"];Ctotp=ENVIRON["Ctotp"];nmax=split(Ctotp,C);tdR=ENVIRON["tdR"];}{
   if($1>tdR){
     for(n=1;n<=nmax;n++){
       if($1<C[n]+tdR){
         n4=(n-1)%4;	
         if((CpG=="to" && n4==0)||
            (CpG=="o"  && n4==1)||
	    (CpG=="tp" && n4==2)||
            (CpG=="p"  && n4==3)) {print $3,$0;}
         break;
       }
     }
   }
 }' >> ${fb0}.dat ; #pG, t, 
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#nd=`wc ${fb0}.dat|awk '{print $1}'`; #nd=`wc psdsum.dat|awk '{print $1}'`
#nd0=`expr $nd / 7 / 2`
#echo "#nd=$nd,nd0=$nd0"
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==0) print $0;}' >> ${fbr}_PPtrain.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==1) print $0;}' >> ${fbr}_PPtest.dat
#for sX_ in 0 1 2 3 4 5 6; do                                        #LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#export sX_0=`expr $sX_ \* $nd0 \* 2`
#sed -n -e "`expr ${sX_0} + 1`,`expr ${sX_0} + $nd0`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
#sed -n -e "`expr ${sX_0} + $nd0 + 1`,`expr ${sX_0} + $nd0 \* 2`p" ${fbr}.dat >> ${fbr}_PPtest.dat
#done #for sX_                                                       #Done:LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#[2-2]
####################################
### Likelihood P(c_i|p_G) for Probabilistic Prediction 
### Histgram by moving average of each class?
####################################
#export wp0=100 wp1=100 wp2=100 wp3=100; #weight of posterior distribution of probabilistic prediction
export x0=0 ndiv=100 nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-C${CpG}
cp $tmp/hist.eps $fhe.eps
#gv $fhe.eps&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
sleep 2;
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
###########

###########
### insert first column to be the value of pG, while 2,3,4 columns P(c_i|p_G) for c_i=Cp, Ct, Co, respectively
fpdg=$d1/ProbDistSpeaker
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
#cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;p3=$4*wp3;psum=p0+p1+p2+p3;
#if(psum>0) printf("%e %e %e %e %e\n",$5, p0/psum,p1/psum,p2/psum,p3/psum);}' >> $fpdg.dat
cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;p3=$4*wp3;psum=p0+p1+p2+p3;
if(psum==0){p0=p1=p2=p3=1;psum=4;}
printf("%e %e %e %e %e\n",$5, p0/psum,p1/psum,p2/psum,p3/psum);}' >> $fpdg.dat

##cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat

#[3]
################################
### Show Likelihood P(c_i|p_G), and p(p_G)
################################
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4+\$5) lc rgb "blue" t "PromptedSpeaker", "" using 1:(\$3+\$4+\$5) lc rgb "green" t "TransientPrompted", "" using 1:(\$4+\$5) lc rgb "yellow" t "TransientOther", "" using 1:(\$5) lc rgb "red" t "Other"
set term postscript;set output "$fpdg.eps";replot
set term postscript;set output "$fpdg-pGdist.eps";plot "$fhg.dat" using 5:(\$1+\$2+\$3+\$4) lc rgb "green" t "p(p_G)"
quit
EOF
###show 
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&        #show p(c_i|p_G)
#cmd="gv $fpdg-pGdist.eps"; echo "Exec $cmd."; $cmd& #show p(pG)

#[4]
################################
## evalloss
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
if [ $CpG = "p" ] ; then export Ctgt=0; fi #prompted speaker
if [ $CpG = "tp" ] ; then export Ctgt=1; fi #transient of prompted speaker
if [ $CpG = "to" ] ; then export Ctgt=2; fi #transient of other speaker
if [ $CpG = "o" ] ; then export Ctgt=3; fi #other speaker
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output;#
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
cmd="evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:0.5:0";echo -n "#${cmd}##";$cmd

#[5]
################################
## evalloss for confusion matrix
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
##
cat /dev/null > cfm.dat
for Ctgt in 0 1 2 3; do #target class                                                         #LoopLevel 0
echo "#For Target Class $Ctgt, evall loss of p(rompted), t(ransient), o(ther) data. "
export Ctgt;
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output; #output file to be classified as C${CpG} for CpG in p,t or o
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
#
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo "#${cmd}##";
$cmd | awk '{print $2,$6;}' >> cfm.dat
#
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
done #for Ctgt                                                                              #LoopLevel 0
#
echo "#${gibbs};DTCt=$DTCt;SiCs=$SiCs";
cat cfm.dat | awk 'BEGIN{l=0;wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];
gibbs=ENVIRON["gibbs"];DTCt=ENVIRON["DTCt"];SiCs=ENVIRON["SiCs"];tdR=ENVIRON["tdR"];}
{p[l]=$1;n[l]=$2;l++;}END{
printf("\n#  C0    C1    C2    C3      n wpi #Confusion Matrix for %s;DTCt=%s;SiCs=%s;tdR=%s\n",gibbs,DTCt,SiCs,tdR);
printf("%.3f %.3f %.3f %.3f %6d %g #p00 p01 p02 p03 n0 wp0 for target C0=Cp\n", 1-p[0],1-p[4],1-p[8] ,1-p[12],n[0],wp0);
printf("%.3f %.3f %.3f %.3f %6d %g #p10 p11 p12 p13 n1 wp1 for target C1=Ctp\n",1-p[1],1-p[5],1-p[9] ,1-p[13],n[1],wp1);
printf("%.3f %.3f %.3f %.3f %6d %g #p20 p21 p22 p23 n2 wp2 for target C2=Cto\n",1-p[2],1-p[6],1-p[10],1-p[14],n[2],wp2);
printf("%.3f %.3f %.3f %.3f %6d %g #p30 p31 p32 p33 n3 wp2 for target C3=Co\n", 1-p[3],1-p[7],1-p[11],1-p[15],n[3],wp3);
nsum=n[0]+n[1]+n[2]+n[3];
P00=(1-p[0])*n[0]+(1-p[1])*n[1];
P03=(1-p[12])*n[0]+(1-p[13])*n[1];
P0T=1-P00-P03;
N0=P00+P03;P00/=N0;;P03/=N0;
P30=(1-p[2])*n[2]+(1-p[3])*n[3];
P33=(1-p[14])*n[2]+(1-p[15])*n[3];
N3=P30+P33;P30/=N3;P33/=N3;
P3T=1-P30-P33;
NT=nsum-N0-N3;
printf("#  C0    C3      N #Modified Confusion Matrix\n");
printf("%.3f %.3f  %g #p00 p03 N0 for target C0=Cp\n",P00,P03,N0);
printf("%.3f %.3f  %g #p30 p33 N3 for target C3=Co\n",P30,P33,N3);
printf("%.3f %.3f  %6.0f #PNT 1-PNT num-of-all-data\n",NT/nsum,1-NT/nsum,nsum);
}'
######################################################
######### copy and paste to here for (1)
######################################################

export DTCoCp=30,20:30,15:30,10:30,5:30,20:30,15:30,10:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo  #usethis
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:50;DTCt=2;SiCs=2;tdR=4
0.784 0.142 0.067 0.007 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.172 0.536 0.279 0.013  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.011 0.278 0.514 0.197  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.009 0.112 0.879 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.989 0.011  242914 #p00 p03 N0 for target C0=Cp
0.001 0.999  747660 #p30 p33 N3 for target C3=Co
0.205 0.795  1246000 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:100;DTCt=2;SiCs=2;tdR=4
0.815 0.106 0.067 0.012 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.129 0.518 0.325 0.028  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.026 0.324 0.427 0.223  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.009 0.099 0.892 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.980 0.020  251930 #p00 p03 N0 for target C0=Cp
0.002 0.998  760974 #p30 p33 N3 for target C3=Co
0.187 0.813  1246000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:500;DTCt=2;SiCs=2;tdR=4
0.732 0.100 0.143 0.025 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.000 0.854 0.074 0.072  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.072 0.174 0.577 0.177  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.099 0.050 0.850 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.950 0.050  226590 #p00 p03 N0 for target C0=Cp
0.007 0.993  726677 #p30 p33 N3 for target C3=Co
0.235 0.765  1246000 #PNT 1-PNT num-of-all-data




speakerdigit_v6+.c  pG->C[t]=pow(pG->C[t_1],beta[0])*pow(LC,1);
speakerdigit_v7.c  if(pG->C[t]>=pmaxt||pG->C[t]<=pmint||pG->iC[t]>=pmaxt||pG->iC[t]<=pmint) if(t_1-t_0>200) t_0=t_1;
speakerdigit_v6+.c
speakerdigit_v8.c use logit function <<<<<************


20160227
#[1]
#prog=speakerdigit_v6; make $prog
prog=speakerdigit_v8; make $prog
make ; make data-clean
d1o=../result-speakerdetect; if [ ! -e $d1o ]; then mkdir $d1o;fi
d1=$d1o/iconip16fig1a; if [ ! -e $d1 ]; then mkdir $d1;fi
###d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
###d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
###d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
###d2=../../2012/12voicedata/iconip14data;d2sep=":"
###d2=../../2012/12voicedata/allpole;d2sep=":"
d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
#### Main variables for Tuning from here ###################
export gibbs=gibbs:1:1:0:10     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export gibbs=gibbs:1:1:0.3     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export gibbs=gibbs:1:0.2:0     ##### use BI 
export gibbs=gibbs:1:1:0.3:100     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export DTCt=2;#DTCt=0;DTCt=4;       #transient for 
export SiCs="2"; ####for 3:Unregistered, 2:Incorrect SiCs="0 3 2"; #depnds on speakerdigit_v6.c test:7:..:$iCs:...
export wp0=100 wp1=100 wp2=100 wp3=100; #weight of posterior distribution of probabilistic prediction
export DTCoCp=30,20:30,20:30,20:30,20:30,20:30,20:30,20:30,20:30,20:30,20:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
export DTCoCp=30,20:20,20:20,20:20,20:20,20:20,20:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
export DTCoCp=30,20:20,15:20,10:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
export DTCoCp=30,5:30,5:30,5:30,5:30,5:30,5:30,5:30,5:30,5:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo #TP0.949 FN0.051 fig1
export DTCoCp=30,5:30,4:30,4:30,4:30,4:30,4:30,4:30,4:30,4:30,4:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo #TP0.87  FN0.13
export DTCoCp=30,5:30,3:30,3:30,3:30,3:30,3:30,3:30,3:30,3:30,3:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo #NG!  FN0.5?
export DTCoCp=30,20:30,15:30,10:30,5:30,20:30,15:30,10:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo  #usethis
export tdR=4;#20160228 introduced for delayed detection　 時刻tの入力の影響はt+tdR時刻に現れると仮定
#### Main variables for Tuning to here ####################
cat /dev/null > resultsum.dat          
cat /dev/null > psdsum.dat
cat /dev/null > testsdsum.dat
fhg=$tmp/histSpeaker;cat /dev/null > $fhg.dat #Initialize
for iCs in $SiCs; do                                        #LoopLevel1:for iCs for set 2rd option of test:7:.....
for sX in 0 1 2 3 4 5 6; do sP=-1;                          #LoopLevel2:for sX in 0 1 2 3 4 5 6;
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:1000:$iCs:${DTCt}:${DTCoCp} sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:3:30,20:20,15:20,10:20,5:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:20:20:20:20:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";
else
cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
echo "Exec $cmd";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat  ########### <== mean,UC of pG 
cat $tmp/psd.dat >> psdsum.dat ########### <== t,test#,pGC,pGCd,sX pG for all tests for speaker
cat tmp/testsd.dat |awk 'BEGIN{d=0;}{if(d==0){if(substr($1,1,3)=="###") d=1;}else print $0;}'> tmp/testsdsum.dat
#echo "###wc psdsum.dat tmp/psd.dat"
#wc psdsum.dat tmp/psd.dat
done #for sX excluded speaker                               #done #LoopLevel2:for sX in 0 1 2 3 4 5 6;
done # for iCs                                              #done #LoopLevel1:for iCs $SiCs;

##########################################
## obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
#########################################

###show t vs. pG of resultsum.dat 
fntpG="$d1/t-pGmean"
gnuplot <<EOF
set term postscript;set output "$fntpG.eps";
plot "resultsum.dat" using 1:2:(\$2-\$4):(\$2+\$5) w errorbars, "" using 1:2 w l lc rgb "blue"
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
##(1) 各テストにおけるt-pG曲線の表示(２つの角度からの表示）；10テスト毎に間引き
cp tmp/testsdsum.dat $d1/
cat tmp/testsdsum.dat | awk 'BEGIN{l=0;t0=0;n=1;}{if(substr($1,1,1)=="n"){n++;printf("\n");} else {l++;match($2,"t.*");t=substr($2,RSTART+1,RSTART+3); if(n%10==0) print n,t,$3;}}' > tmp/tpG.dat
gnuplot <<EOF
set xlabel "test"; set ylabel "t"; set zlabel "pG";
set view 21,73
set term tgif;set output "$d1/tpG1.obj";splot "tmp/tpG.dat" using 1:2:3 w l
set term postscript;set output "tmp/tpG1.eps";replot
set view 16,108
set term tgif;set output "$d1/tpG2.obj";splot "tmp/tpG.dat" using 1:2:3 w l
set term postscript;set output "tmp/tpG2.eps";replot
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv tmp/tpG1.eps"; echo "Exec $cmd."; $cmd&
cmd="gv tmp/tpG2.eps"; echo "Exec $cmd."; $cmd&
##############
export Ctotp=`cat tmp/Ctotp.dat`

#[2]
#########################################
### making training histgram for probabilistic prediction
### class Cp: prompted speaker's digits, Co:other speaker's, Ct:transient
### generate (0)$d1/resultp_Cto.dat, 
###          (1)$d1/resultp_Co.dat, 
###          (2)$d1/resultp_Ctp.dat, 
###          (3)$d1/resultp_Cp.dat, 
#########################################
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
export CpG
fb0=C${CpG}
fbr=${d1}/resultp_${fb0}                                           ###???
#####
#Why donot we suppose predict 3 steps before
#$1=t
#####
### $1:時刻、C[n]:クラスCpG=to,o,tp,pの開始時刻
### 時刻tの入力のクラスはt+tdR時刻に判断する
cat /dev/null > ${fb0}.dat ;cat psdsum.dat |
 awk 'BEGIN{CpG=ENVIRON["CpG"];Ctotp=ENVIRON["Ctotp"];nmax=split(Ctotp,C);tdR=ENVIRON["tdR"];}{
   if($1>tdR){
     for(n=1;n<=nmax;n++){
       if($1<C[n]+tdR){
         n4=(n-1)%4;	
         if((CpG=="to" && n4==0)||
            (CpG=="o"  && n4==1)||
	    (CpG=="tp" && n4==2)||
            (CpG=="p"  && n4==3)) {print $3,$0;}
         break;
       }
     }
   }
 }' >> ${fb0}.dat ; #pG, t, 
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#nd=`wc ${fb0}.dat|awk '{print $1}'`; #nd=`wc psdsum.dat|awk '{print $1}'`
#nd0=`expr $nd / 7 / 2`
#echo "#nd=$nd,nd0=$nd0"
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==0) print $0;}' >> ${fbr}_PPtrain.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==1) print $0;}' >> ${fbr}_PPtest.dat
#for sX_ in 0 1 2 3 4 5 6; do                                        #LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#export sX_0=`expr $sX_ \* $nd0 \* 2`
#sed -n -e "`expr ${sX_0} + 1`,`expr ${sX_0} + $nd0`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
#sed -n -e "`expr ${sX_0} + $nd0 + 1`,`expr ${sX_0} + $nd0 \* 2`p" ${fbr}.dat >> ${fbr}_PPtest.dat
#done #for sX_                                                       #Done:LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#[2-2]
####################################
### Likelihood P(c_i|p_G) for Probabilistic Prediction 
### Histgram by moving average of each class?
####################################
#export wp0=100 wp1=100 wp2=100 wp3=100; #weight of posterior distribution of probabilistic prediction
export x0=0 ndiv=100 nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-C${CpG}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
sleep 2;
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
###########

###########
### insert first column to be the value of pG, while 2,3,4 columns P(c_i|p_G) for c_i=Cp, Ct, Co, respectively
fpdg=$d1/ProbDistSpeaker
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
#cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;p3=$4*wp3;psum=p0+p1+p2+p3;
#if(psum>0) printf("%e %e %e %e %e\n",$5, p0/psum,p1/psum,p2/psum,p3/psum);}' >> $fpdg.dat
cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;p3=$4*wp3;psum=p0+p1+p2+p3;
if(psum==0){p0=p1=p2=p3=1;psum=4;}
printf("%e %e %e %e %e\n",$5, p0/psum,p1/psum,p2/psum,p3/psum);}' >> $fpdg.dat

##cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat

#[3]
################################
### Show Likelihood P(c_i|p_G), and p(p_G)
################################
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4+\$5) lc rgb "blue" t "PromptedSpeaker", "" using 1:(\$3+\$4+\$5) lc rgb "green" t "TransientPrompted", "" using 1:(\$4+\$5) lc rgb "yellow" t "TransientOther", "" using 1:(\$5) lc rgb "red" t "Other"
set term postscript;set output "$fpdg.eps";replot
set term postscript;set output "$fpdg-pGdist.eps";plot "$fhg.dat" using 5:(\$1+\$2+\$3+\$4) lc rgb "green" t "p(p_G)"
quit
EOF
###show 
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&        #show p(c_i|p_G)
cmd="gv $fpdg-pGdist.eps"; echo "Exec $cmd."; $cmd& #show p(pG)

#[4]
################################
## evalloss
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
if [ $CpG = "p" ] ; then export Ctgt=0; fi #prompted speaker
if [ $CpG = "tp" ] ; then export Ctgt=1; fi #transient of prompted speaker
if [ $CpG = "to" ] ; then export Ctgt=2; fi #transient of other speaker
if [ $CpG = "o" ] ; then export Ctgt=3; fi #other speaker
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output;#
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
cmd="evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:0.5:0";echo -n "#${cmd}##";$cmd

#[5]
################################
## evalloss for confusion matrix
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
##
cat /dev/null > cfm.dat
for Ctgt in 0 1 2 3; do #target class                                                         #LoopLevel 0
echo "#For Target Class $Ctgt, evall loss of p(rompted), t(ransient), o(ther) data. "
export Ctgt;
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output; #output file to be classified as C${CpG} for CpG in p,t or o
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
#
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo "#${cmd}##";
$cmd | awk '{print $2,$6;}' >> cfm.dat
#
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
done #for Ctgt                                                                              #LoopLevel 0
#
echo "#${gibbs};DTCt=$DTCt;SiCs=$SiCs";
cat cfm.dat | awk 'BEGIN{l=0;wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];
gibbs=ENVIRON["gibbs"];DTCt=ENVIRON["DTCt"];SiCs=ENVIRON["SiCs"];tdR=ENVIRON["tdR"];}
{p[l]=$1;n[l]=$2;l++;}END{
printf("\n#  C0    C1    C2    C3      n wpi #Confusion Matrix for %s;DTCt=%s;SiCs=%s;tdR=%s\n",gibbs,DTCt,SiCs,tdR);
printf("%.3f %.3f %.3f %.3f %6d %g #p00 p01 p02 p03 n0 wp0 for target C0=Cp\n", 1-p[0],1-p[4],1-p[8] ,1-p[12],n[0],wp0);
printf("%.3f %.3f %.3f %.3f %6d %g #p10 p11 p12 p13 n1 wp1 for target C1=Ctp\n",1-p[1],1-p[5],1-p[9] ,1-p[13],n[1],wp1);
printf("%.3f %.3f %.3f %.3f %6d %g #p20 p21 p22 p23 n2 wp2 for target C2=Cto\n",1-p[2],1-p[6],1-p[10],1-p[14],n[2],wp2);
printf("%.3f %.3f %.3f %.3f %6d %g #p30 p31 p32 p33 n3 wp2 for target C3=Co\n", 1-p[3],1-p[7],1-p[11],1-p[15],n[3],wp3);
nsum=n[0]+n[1]+n[2]+n[3];
P00=(1-p[0])*n[0]+(1-p[1])*n[1];
P03=(1-p[12])*n[0]+(1-p[13])*n[1];
P0T=1-P00-P03;
N0=P00+P03;P00/=N0;;P03/=N0;
P30=(1-p[2])*n[2]+(1-p[3])*n[3];
P33=(1-p[14])*n[2]+(1-p[15])*n[3];
N3=P30+P33;P30/=N3;P33/=N3;
P3T=1-P30-P33;
NT=nsum-N0-N3;
printf("#  C0    C3      N #Modified Confusion Matrix\n");
printf("%.3f %.3f  %g #p00 p03 N0 for target C0=Cp\n",P00,P03,N0);
printf("%.3f %.3f  %g #p30 p33 N3 for target C3=Co\n",P30,P33,N3);
printf("%.3f %.3f  %6.0f #PNT 1-PNT num-of-all-data\n",NT/nsum,1-NT/nsum,nsum);
}'
######################################################
######### copy and paste to here for (1)
######################################################
export DTCoCp=30,20:30,15:30,10:30,5:30,20:30,15:30,10:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo  #usethis
#with   if(fabs(test->logit[t])<=-test->lmax){
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:100;DTCt=2;SiCs=2;tdR=4
0.764 0.159 0.073 0.003 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.260 0.509 0.225 0.006  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.006 0.202 0.623 0.170  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.010 0.140 0.848 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.995 0.005  240394 #p00 p03 N0 for target C0=Cp
0.003 0.997  721497 #p30 p33 N3 for target C3=Co
0.228 0.772  1246000 #PNT 1-PNT num-of-all-data
#saved in ../result-speakerdetect/iconip16fig1a/

# with if(fabs(test->logit[t])==test->lmax){
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3:100;DTCt=2;SiCs=2;tdR=4 
0.763 0.162 0.070 0.005 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.642 0.299 0.055 0.004  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.036 0.012 0.588 0.365  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.023 0.015 0.076 0.885 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.994 0.006  261968 #p00 p03 N0 for target C0=Cp
0.027 0.973  783402 #p30 p33 N3 for target C3=Co
0.161 0.839  1246000 #PNT 1-PNT num-of-all-data




export DTCoCp=30,20:30,15:30,10:30,5:30,20:30,15:30,10:30,5:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=2;SiCs=2;tdR=4
0.764 0.159 0.073 0.003 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.260 0.509 0.225 0.006  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.006 0.202 0.623 0.170  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.010 0.140 0.848 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.995 0.005  240394 #p00 p03 N0 for target C0=Cp
0.003 0.997  721497 #p30 p33 N3 for target C3=Co
0.228 0.772  1246000 #PNT 1-PNT num-of-all-data
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.25;DTCt=2;SiCs=2;tdR=4
0.735 0.193 0.069 0.003 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.493 0.425 0.077 0.005  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.034 0.022 0.676 0.267  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.015 0.013 0.093 0.880 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.995 0.005  244860 #p00 p03 N0 for target C0=Cp
0.019 0.981  766577 #p30 p33 N3 for target C3=Co
0.188 0.812  1246000 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.25:0;DTCt=2;SiCs=2;tdR=4
0.729 0.219 0.049 0.003 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.311 0.589 0.094 0.005  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.031 0.042 0.778 0.150  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.020 0.108 0.871 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.995 0.005  232904 #p00 p03 N0 for target C0=Cp
0.005 0.995  741034 #p30 p33 N3 for target C3=Co
0.218 0.782  1246000 #PNT 1-PNT num-of-all-data
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.2:0;DTCt=2;SiCs=2;tdR=4
0.779 0.148 0.064 0.009 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.024 0.714 0.240 0.021  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.011 0.207 0.580 0.202  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.002 0.088 0.910 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.984 0.016  234192 #p00 p03 N0 for target C0=Cp
0.001 0.999  773888 #p30 p33 N3 for target C3=Co
0.191 0.809  1246000 #PNT 1-PNT num-of-all-data
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.3:0;DTCt=2;SiCs=2;tdR=4
0.813 0.141 0.033 0.013 294000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.687 0.270 0.028 0.015  56000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.050 0.011 0.647 0.292  59500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.021 0.011 0.061 0.906 836500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.983 0.017  282156 #p00 p03 N0 for target C0=Cp
0.026 0.974  795784 #p30 p33 N3 for target C3=Co
0.135 0.865  1246000 #PNT 1-PNT num-of-all-data



export DTCoCp=30,20:20,15:20,10:20 ##DTCoCp=30,20:20,15:20,10:20,5:20#DTCoCp=TCo1,TCp1:TCo2,TCp2:TCo3,TCp3:...:TCo
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.2:0;DTCt=2;SiCs=2;tdR=4 ***best BI
0.848 0.126 0.023 0.004 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.077 0.637 0.241 0.045  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.014 0.208 0.583 0.195  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.002 0.068 0.930 276500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.987 0.013  118860 #p00 p03 N0 for target C0=Cp
0.001 0.999  262266 #p30 p33 N3 for target C3=Co
0.169 0.831  458500 #PNT 1-PNT num-of-all-data
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.2:0;DTCt=2;SiCs=3;tdR=4
0.915 0.021 0.058 0.006 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.568 0.242 0.103 0.087  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.503 0.132 0.219 0.146  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.239 0.149 0.124 0.488 276500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.981 0.019  139472 #p00 p03 N0 for target C0=Cp
0.361 0.639  216916 #p30 p33 N3 for target C3=Co
0.223 0.777  458500 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=2;SiCs=2;tdR=4 ###best using DTCt
0.761 0.195 0.043 0.000 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp    best g-GEBI
0.491 0.427 0.077 0.005  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.018 0.038 0.719 0.225  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.008 0.025 0.112 0.855 276500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.999 0.001  114292 #p00 p03 N0 for target C0=Cp
0.011 0.989  244573 #p30 p33 N3 for target C3=Co
0.217 0.783  458500 #PNT 1-PNT num-of-all-data
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=2;SiCs=3;tdR=4
0.888 0.000 0.105 0.007 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.771 0.000 0.196 0.033  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.388 0.000 0.401 0.211  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.225 0.000 0.229 0.546 276500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.988 0.012  139052 #p00 p03 N0 for target C0=Cp
0.315 0.685  227857 #p30 p33 N3 for target C3=Co
0.200 0.800  458500 #PNT 1-PNT num-of-all-data



#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=0;SiCs=2;tdR=4 ###best without DTCt
0.973 0.000 0.000 0.027 157500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.050 0.000 0.000 0.950 301000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  458500 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=3;SiCs=2;tdR=4
0.778 0.179 0.043 0.000 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.639 0.299 0.059 0.004  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.027 0.014 0.589 0.370  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.018 0.016 0.098 0.867 262500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.999 0.001  118282 #p00 p03 N0 for target C0=Cp
0.023 0.977  247597 #p30 p33 N3 for target C3=Co
0.202 0.798  458500 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=1;SiCs=2;tdR=4
0.747 0.207 0.045 0.001 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.274 0.608 0.106 0.012  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.021 0.074 0.836 0.070  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.005 0.025 0.100 0.869 290500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.998 0.002  112959 #p00 p03 N0 for target C0=Cp
0.007 0.993  254852 #p30 p33 N3 for target C3=Co
0.198 0.802  458500 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=4;SiCs=2;tdR=4
0.785 0.170 0.039 0.006 115500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.725 0.223 0.044 0.007  42000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.029 0.006 0.467 0.498  52500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.023 0.011 0.092 0.874 248500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.992 0.008  122104 #p00 p03 N0 for target C0=Cp
0.029 0.971  250572 #p30 p33 N3 for target C3=Co
0.187 0.813  458500 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=3;SiCs=2;tdR=3
0.797 0.191 0.011 0.000 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.311 0.514 0.169 0.007  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.004 0.146 0.616 0.233  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.004 0.108 0.888 266000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.998 0.002  110439 #p00 p03 N0 for target C0=Cp
0.001 0.999  245332 #p30 p33 N3 for target C3=Co
0.230 0.770  462000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=1;SiCs=2;tdR=3
0.891 0.077 0.027 0.005 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.122 0.433 0.353 0.092  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.061 0.240 0.666 0.034  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.013 0.049 0.937 294000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.987 0.013  133959 #p00 p03 N0 for target C0=Cp
0.003 0.997  276770 #p30 p33 N3 for target C3=Co
0.111 0.889  462000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=3;SiCs=2;tdR=5
0.195 0.742 0.055 0.007 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.093 0.888 0.015 0.004  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.037 0.001 0.379 0.582  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.055 0.027 0.078 0.839 259000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.965 0.035  28507.5 #p00 p03 N0 for target C0=Cp
0.061 0.939  255378 #p30 p33 N3 for target C3=Co
0.376 0.624  455000 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=0;SiCs=2;tdR=3
0.960 0.000 0.000 0.040 157500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.025 0.000 0.000 0.975 304500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  462000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=0;SiCs=2;tdR=5
0.950 0.000 0.000 0.050 157500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.080 0.000 0.000 0.920 297500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  455000 #PNT 1-PNT num-of-all-data





20160225
######################################################
######### copy and paste from here for (1)
######################################################
#[1]
prog=speakerdigit_v6
make ; make data-clean
d1=../result-speaker_search; if [ ! -e $d1 ]; then mkdir $d1;fi
###d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
###d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
###d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
###d2=../../2012/12voicedata/iconip14data;d2sep=":"
###d2=../../2012/12voicedata/allpole;d2sep=":"
d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
#### Main variables for Tuning from here ###################
export gibbs=gibbs:1:1:0.3     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
export DTCt=3;#DTCt=0;DTCt=4;                                      #
export SiCs="2"; ####for 3:Unregistered, 2:Incorrect SiCs="0 3 2"; #depnds on speakerdigit_v6.c test:7:..:$iCs:...
export wp0=100 wp1=100 wp2=100 wp3=100; #weight of posterior distribution of probabilistic prediction
export DTCoCp=30,20:20,15:20,10:20 ##DTCoCp=30,20:20,15:20,10:20,5:20
#### Main variables for Tuning to here ####################
cat /dev/null > resultsum.dat          
cat /dev/null > psdsum.dat
cat /dev/null > testsdsum.dat
fhg=$tmp/histSpeaker;cat /dev/null > $fhg.dat #Initialize
for iCs in $SiCs; do                                        #LoopLevel1:for iCs for set 2rd option of test:7:.....
for sX in 0 1 2 3 4 5 6; do sP=-1;                          #LoopLevel2:for sX in 0 1 2 3 4 5 6;
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:1000:$iCs:${DTCt}:${DTCoCp} sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:3:30,20:20,15:20,10:20,5:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:20:20:20:20:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";
else
cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
echo "Exec $cmd";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat  ########### <== mean,UC of pG 
cat $tmp/psd.dat >> psdsum.dat ########### <== pG for all tests for speaker
cat tmp/testsd.dat |awk 'BEGIN{d=0;}{if(d==0){if(substr($1,1,3)=="###") d=1;}else print $0;}'> tmp/testsdsum.dat
#echo "###wc psdsum.dat tmp/psd.dat"
#wc psdsum.dat tmp/psd.dat
done #for sX excluded speaker                               #done #LoopLevel2:for sX in 0 1 2 3 4 5 6;
done # for iCs                                              #done #LoopLevel1:for iCs $SiCs;


##########################################
## obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
#########################################
###show t vs. pG of resultsum.dat 
fntpG="tmp/t-pGmean"
gnuplot <<EOF
set term postscript;set output "$fntpG.eps";
plot "resultsum.dat" using 1:2:(\$2-\$4):(\$2+\$5) w errorbars, "" using 1:2 w l lc rgb "blue"
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
##(1) 各テストにおけるt-pG曲線の表示(２つの角度からの表示）；10テスト毎に間引き
cat tmp/testsdsum.dat | awk 'BEGIN{l=0;t0=0;n=1;}{if(substr($1,1,1)=="n"){n++;printf("\n");} else {l++;match($2,"t.*");t=substr($2,RSTART+1,RSTART+3); if(n%10==0) print n,t,$3;}}' > tmp/tpG.dat
gnuplot <<EOF
set xlabel "test"; set ylabel "t"; set zlabel "pG";
set view 21,73
set term postscript;set output "tmp/tpG1.eps";
splot "tmp/tpG.dat" using 1:2:3 w l
set view 16,108
set term postscript;set output "tmp/tpG2.eps";
splot "tmp/tpG.dat" using 1:2:3 w l
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv tmp/tpG1.eps"; echo "Exec $cmd."; $cmd&
cmd="gv tmp/tpG2.eps"; echo "Exec $cmd."; $cmd&
##############
export Ctotp=`cat tmp/Ctotp.dat`

#[2]
#########################################
### making training histgram for probabilistic prediction
### class Cp: prompted speaker's digits, Co:other speaker's, Ct:transient
### generate (0)$d1/resultp_Cto.dat, 
###          (1)$d1/resultp_Co.dat, 
###          (2)$d1/resultp_Ctp.dat, 
###          (3)$d1/resultp_Cp.dat, 
#########################################
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
export CpG
fb0=C${CpG}
fbr=${d1}/resultp_${fb0}                                           ###???
cat /dev/null > ${fb0}.dat
cat psdsum.dat|
 awk 'BEGIN{CpG=ENVIRON["CpG"];Ctotp=ENVIRON["Ctotp"];nmax=split(Ctotp,C);}{
   if($1!=0){
     for(n=1;n<=nmax;n++){
       if($1<C[n]){
         n4=(n-1)%4;	
         if((CpG=="to" && n4==0)||
            (CpG=="o"  && n4==1)||
	    (CpG=="tp" && n4==2)||
            (CpG=="p"  && n4==3)) {print $3,$0;}
         break;
       }
     }
   }
 }' >> ${fb0}.dat ; 
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#nd=`wc ${fb0}.dat|awk '{print $1}'`; #nd=`wc psdsum.dat|awk '{print $1}'`
#nd0=`expr $nd / 7 / 2`
#echo "#nd=$nd,nd0=$nd0"
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==0) print $0;}' >> ${fbr}_PPtrain.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==1) print $0;}' >> ${fbr}_PPtest.dat
#for sX_ in 0 1 2 3 4 5 6; do                                        #LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#export sX_0=`expr $sX_ \* $nd0 \* 2`
#sed -n -e "`expr ${sX_0} + 1`,`expr ${sX_0} + $nd0`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
#sed -n -e "`expr ${sX_0} + $nd0 + 1`,`expr ${sX_0} + $nd0 \* 2`p" ${fbr}.dat >> ${fbr}_PPtest.dat
#done #for sX_                                                       #Done:LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#[2-2]
####################################
### Likelihood P(c_i|p_G) for Probabilistic Prediction 
### Histgram by moving average of each class?
####################################
#export wp0=100 wp1=100 wp2=100 wp3=100; #weight of posterior distribution of probabilistic prediction
export x0=0 ndiv=100 nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-C${CpG}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
sleep 2;
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
###########

###########
### insert first column to be the value of pG, while 2,3,4 columns P(c_i|p_G) for c_i=Cp, Ct, Co, respectively
fpdg=$d1/ProbDistSpeaker
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
#cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;p3=$4*wp3;psum=p0+p1+p2+p3;
#if(psum>0) printf("%e %e %e %e %e\n",$5, p0/psum,p1/psum,p2/psum,p3/psum);}' >> $fpdg.dat
cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;p3=$4*wp3;psum=p0+p1+p2+p3;
if(psum==0){p0=p1=p2=p3=1;psum=4;}
printf("%e %e %e %e %e\n",$5, p0/psum,p1/psum,p2/psum,p3/psum);}' >> $fpdg.dat

##cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat

#[3]
################################
### Show Likelihood P(c_i|p_G), and p(p_G)
################################
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4+\$5) lc rgb "blue" t "Prompted Speaker", "" using 1:(\$3+\$4+\$5) lc rgb "green" t "TransientPrompted", "" using 1:(\$4+\$5) lc rgb "yellow" t "Other Prompted", "" using 1:(\$5) lc rgb "red" t "Other Speaker"
set term postscript;set output "$fpdg.eps";replot
set term postscript;set output "$fpdg-pGdist.eps";plot "$fhg.dat" using 5:(\$1+\$2+\$3+\$4) lc rgb "green" t "p(p_G)"
quit
EOF
###show 
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&        #show p(c_i|p_G)
cmd="gv $fpdg-pGdist.eps"; echo "Exec $cmd."; $cmd& #show p(pG)

#[4]
################################
## evalloss
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
if [ $CpG = "p" ] ; then export Ctgt=0; fi #prompted speaker
if [ $CpG = "tp" ] ; then export Ctgt=1; fi #transient of prompted speaker
if [ $CpG = "to" ] ; then export Ctgt=2; fi #transient of other speaker
if [ $CpG = "o" ] ; then export Ctgt=3; fi #other speaker
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output;#
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
cmd="evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:0.5:0";echo -n "#${cmd}##";$cmd

#[5]
################################
## evalloss for confusion matrix
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
##
cat /dev/null > cfm.dat
for Ctgt in 0 1 2 3; do #target class                                                         #LoopLevel 0
echo "#For Target Class $Ctgt, evall loss of p(rompted), t(ransient), o(ther) data. "
export Ctgt;
for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output; #output file to be classified as C${CpG} for CpG in p,t or o
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
#
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo "#${cmd}##";
$cmd | awk '{print $2,$6;}' >> cfm.dat
#
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG in "p" "tp" "to" "o" ; do #CLASS of pG; p(prompted), tp(transient of prompted), o(other), to(transient of other)  #LoopLevel1: for CpG 
done #for Ctgt                                                                              #LoopLevel 0
#
echo "#${gibbs};DTCt=$DTCt;SiCs=$SiCs";
cat cfm.dat | awk 'BEGIN{l=0;wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];wp3=ENVIRON["wp3"];
gibbs=ENVIRON["gibbs"];DTCt=ENVIRON["DTCt"];SiCs=ENVIRON["SiCs"];}
{p[l]=$1;n[l]=$2;l++;}END{
printf("\n#  C0    C1    C2    C3      n wpi #Confusion Matrix for %s;DTCt=%s;SiCs=%s\n",gibbs,DTCt,SiCs);
printf("%.3f %.3f %.3f %.3f %6d %g #p00 p01 p02 p03 n0 wp0 for target C0=Cp\n", 1-p[0],1-p[4],1-p[8] ,1-p[12],n[0],wp0);
printf("%.3f %.3f %.3f %.3f %6d %g #p10 p11 p12 p13 n1 wp1 for target C1=Ctp\n",1-p[1],1-p[5],1-p[9] ,1-p[13],n[1],wp1);
printf("%.3f %.3f %.3f %.3f %6d %g #p20 p21 p22 p23 n2 wp2 for target C2=Cto\n",1-p[2],1-p[6],1-p[10],1-p[14],n[2],wp2);
printf("%.3f %.3f %.3f %.3f %6d %g #p30 p31 p32 p33 n3 wp2 for target C3=Co\n", 1-p[3],1-p[7],1-p[11],1-p[15],n[3],wp3);
nsum=n[0]+n[1]+n[2]+n[3];
P00=(1-p[0])*n[0]+(1-p[1])*n[1];
P03=(1-p[12])*n[0]+(1-p[13])*n[1];
P0T=1-P00-P03;
N0=P00+P03;P00/=N0;;P03/=N0;
P30=(1-p[2])*n[2]+(1-p[3])*n[3];
P33=(1-p[14])*n[2]+(1-p[15])*n[3];
N3=P30+P33;P30/=N3;P33/=N3;
P3T=1-P30-P33;
NT=nsum-N0-N3;
printf("#  C0    C3      N #Modified Confusion Matrix\n");
printf("%.3f %.3f  %g #p00 p03 N0 for target C0=Cp\n",P00,P03,N0);
printf("%.3f %.3f  %g #p30 p33 N3 for target C3=Co\n",P30,P33,N3);
printf("%.3f %.3f  %6.0f #PNT 1-PNT num-of-all-data\n",NT/nsum,1-NT/nsum,nsum);
}'
######################################################
######### copy and paste to here for (1)
######################################################
##################
#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:4.0:0.3;DTCt=4;SiCs=2
0.962 0.003 0.029 0.006 115500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.547 0.162 0.024 0.267  42000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.205 0.003 0.208 0.583  52500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.003 0.003 0.013 0.982 259000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.918 0.082  145992 #p00 p03 N0 for target C0=Cp
0.039 0.961  296485 #p30 p33 N3 for target C3=Co
0.057 0.943  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:3.0:0.3;DTCt=3;SiCs=2
0.957 0.016 0.023 0.003 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.289 0.266 0.090 0.356  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.279 0.103 0.281 0.337  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.003 0.015 0.981 273000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.918 0.082  141278 #p00 p03 N0 for target C0=Cp
0.039 0.961  292075 #p30 p33 N3 for target C3=Co
0.076 0.924  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:3.0:0.3;DTCt=7;SiCs=2
0.961 0.014 0.021 0.004  84000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.666 0.133 0.046 0.155  73500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.115 0.048 0.124 0.713  94500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.003 0.012 0.983 217000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.917 0.083  141404 #p00 p03 N0 for target C0=Cp
0.039 0.961  291991 #p30 p33 N3 for target C3=Co
0.076 0.924  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:4.0:0.3;DTCt=5;SiCs=2
0.962 0.003 0.029 0.006 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.629 0.130 0.025 0.215  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.003 0.168 0.667  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.003 0.003 0.012 0.982 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.918 0.082  145950 #p00 p03 N0 for target C0=Cp
0.039 0.961  296454 #p30 p33 N3 for target C3=Co
0.057 0.943  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:3.0:0.3;DTCt=5;SiCs=2
0.961 0.014 0.022 0.003 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.549 0.175 0.061 0.215  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.065 0.173 0.600  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.002 0.002 0.013 0.983 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.918 0.082  141330 #p00 p03 N0 for target C0=Cp
0.039 0.961  291998 #p30 p33 N3 for target C3=Co
0.076 0.924  469000 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:5.0:0.3;DTCt=5;SiCs=2
0.964 0.002 0.022 0.013 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.738 0.022 0.022 0.218  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.164 0.001 0.136 0.699  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.005 0.001 0.014 0.980 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.916 0.084  152775 #p00 p03 N0 for target C0=Cp
0.041 0.959  298714 #p30 p33 N3 for target C3=Co
0.037 0.963  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:6.0:0.3;DTCt=5;SiCs=2
0.965 0.000 0.012 0.024 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.760 0.002 0.016 0.223  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.165 0.000 0.072 0.762  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.001 0.012 0.981 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.908 0.092  155452 #p00 p03 N0 for target C0=Cp
0.041 0.959  303460 #p30 p33 N3 for target C3=Co
0.022 0.978  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:2.8:0.3;DTCt=5;SiCs=2
0.961 0.020 0.016 0.003 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.546 0.189 0.049 0.216  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.080 0.180 0.578  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.003 0.011 0.984 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.917 0.083  141225 #p00 p03 N0 for target C0=Cp
0.038 0.962  290535 #p30 p33 N3 for target C3=Co
0.079 0.921  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:2.6:0.3;DTCt=5;SiCs=2
0.961 0.016 0.021 0.002 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.536 0.178 0.068 0.218  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.055 0.239 0.544  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.004 0.009 0.986 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.917 0.083  140700 #p00 p03 N0 for target C0=Cp
0.038 0.962  288764 #p30 p33 N3 for target C3=Co
0.084 0.916  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:2.4:0.3;DTCt=5;SiCs=2
0.960 0.013 0.025 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.511 0.198 0.071 0.220  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.062 0.257 0.519  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.004 0.009 0.986 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.916 0.084  139282 #p00 p03 N0 for target C0=Cp
0.038 0.962  287102 #p30 p33 N3 for target C3=Co
0.091 0.909  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:2.2:0.3;DTCt=5;SiCs=2
0.960 0.015 0.024 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.452 0.290 0.037 0.220  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.105 0.251 0.481  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.004 0.008 0.987 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.914 0.086  136185 #p00 p03 N0 for target C0=Cp
0.039 0.961  284820 #p30 p33 N3 for target C3=Co
0.102 0.898  469000 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:2.0:0.3;DTCt=5;SiCs=2
0.959 0.012 0.028 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.411 0.294 0.074 0.221  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.120 0.276 0.442  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.004 0.008 0.988 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.913 0.087  133980 #p00 p03 N0 for target C0=Cp
0.038 0.962  282226 #p30 p33 N3 for target C3=Co
0.113 0.887  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1.8:0.3;DTCt=5;SiCs=2
0.958 0.017 0.024 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.394 0.277 0.104 0.224  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.139 0.303 0.396  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.008 0.987 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.911 0.089  133140 #p00 p03 N0 for target C0=Cp
0.039 0.961  278922 #p30 p33 N3 for target C3=Co
0.121 0.879  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1.6:0.3;DTCt=5;SiCs=2
0.956 0.015 0.029 0.000 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.320 0.366 0.089 0.225  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.173 0.335 0.330  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.009 0.986 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.908 0.092  128992 #p00 p03 N0 for target C0=Cp
0.039 0.961  274288 #p30 p33 N3 for target C3=Co
0.140 0.860  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1.4:0.3;DTCt=5;SiCs=2
0.951 0.022 0.027 0.000 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.230 0.382 0.162 0.226  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.218 0.339 0.280  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.008 0.012 0.979 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.904 0.096  123795 #p00 p03 N0 for target C0=Cp
0.040 0.960  269248 #p30 p33 N3 for target C3=Co
0.162 0.838  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1.2:0.3;DTCt=5;SiCs=2
0.941 0.022 0.036 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.176 0.447 0.149 0.228  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.162 0.264 0.335 0.239  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.022 0.009 0.968 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.899 0.101  120120 #p00 p03 N0 for target C0=Cp
0.041 0.959  263826 #p30 p33 N3 for target C3=Co
0.181 0.819  469000 #PNT 1-PNT num-of-all-data


#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=5;SiCs=2
0.911 0.019 0.070 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.050 0.498 0.222 0.230  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.170 0.207 0.411 0.213  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.065 0.009 0.926 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.890 0.110  110460 #p00 p03 N0 for target C0=Cp
0.045 0.955  252340 #p30 p33 N3 for target C3=Co
0.226 0.774  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:0.8:0.3;DTCt=5;SiCs=2
0.854 0.019 0.125 0.002 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.023 0.548 0.191 0.237  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.298 0.090 0.397 0.215  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.115 0.012 0.872 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.878 0.122  103530 #p00 p03 N0 for target C0=Cp
0.080 0.920  247754 #p30 p33 N3 for target C3=Co
0.251 0.749  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=2;SiCs=2
0.896 0.015 0.063 0.027 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.003 0.453 0.000 0.544  21000 50 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.476 0.001 0.376 0.147  24500 50 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.089 0.049 0.003 0.859 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.890 0.110  137476 #p00 p03 N0 for target C0=Cp
0.129 0.871  287340 #p30 p33 N3 for target C3=Co
0.094 0.906  469000 #PNT 1-PNT num-of-all-data

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=2;SiCs=2
0.889 0.015 0.070 0.027 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.003 0.453 0.000 0.544  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.472 0.001 0.381 0.147  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.089 0.049 0.004 0.859 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.889 0.111  136521 #p00 p03 N0 for target C0=Cp
0.129 0.871  287242 #p30 p33 N3 for target C3=Co
0.096 0.904  469000 #PNT 1-PNT num-of-all-data



#  C0    C1    C2    C3      n wpi #Confusion Matrix; gibbs:1:1.2:0;DTCt=2;SiCs=2 best??
0.960 0.005 0.029 0.006 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.256 0.202 0.017 0.524  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.433 0.004 0.394 0.170  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.003 0.003 0.014 0.980 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.920 0.080  148239 #p00 p03 N0 for target C0=Cp
0.039 0.961  296894 #p30 p33 N3 for target C3=Co
0.051 0.949  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n wpi #Confusion Matrix; gibbs:1:1.4:0;DTCt=2;SiCs=2
0.964 0.000 0.026 0.010 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.458 0.000 0.022 0.520  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.433 0.000 0.295 0.271  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.000 0.016 0.978 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.920 0.080  153489 #p00 p03 N0 for target C0=Cp
0.041 0.959  299656 #p30 p33 N3 for target C3=Co
0.034 0.966  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n wpi #Confusion Matrix; gibbs:1:1.6:0;DTCt=2;SiCs=2
0.964 0.002 0.018 0.016 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.458 0.012 0.009 0.520  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.434 0.010 0.198 0.358  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.006 0.009 0.979 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.915 0.085  154308 #p00 p03 N0 for target C0=Cp
0.041 0.959  302099 #p30 p33 N3 for target C3=Co
0.027 0.973  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n  wpi #Confusion Matrix for #gibbs:1:1:0;DTCt=2;SiCs=2
0.956 0.011 0.028 0.005 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.010 0.461 0.002 0.526  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.434 0.014 0.396 0.157  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.013 0.005 0.981 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.918 0.082  142432 #p00 p03 N0 for target C0=Cp
0.037 0.963  296314 #p30 p33 N3 for target C3=Co
0.065 0.935  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n wpi #Confusion Matrix; gibbs:1:0.8:0;DTCt=2;SiCs=2
0.956 0.020 0.017 0.008 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.009 0.385 0.065 0.542  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.436 0.143 0.263 0.159  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.005 0.003 0.990 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.913 0.087  143157 #p00 p03 N0 for target C0=Cp
0.037 0.963  298994 #p30 p33 N3 for target C3=Co
0.057 0.943  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n wpi #Confusion Matrix; gibbs:1:2:0;DTCt=2;SiCs=2
0.963 0.001 0.001 0.034 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.458 0.023 0.000 0.519  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.434 0.001 0.003 0.563  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.013 0.000 0.981 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.901 0.099  156608 #p00 p03 N0 for target C0=Cp
0.040 0.960  307696 #p30 p33 N3 for target C3=Co
0.010 0.990  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=5;SiCs=2
0.911 0.019 0.070 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.050 0.498 0.222 0.230  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.170 0.207 0.411 0.213  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.065 0.009 0.926 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.890 0.110  110460 #p00 p03 N0 for target C0=Cp
0.045 0.955  252340 #p30 p33 N3 for target C3=Co
0.226 0.774  469000 #PNT 1-PNT nsum

#  C0    C1    C2    C3      n  wpi #Confusion Matrix for gibbs:1:1:0.3;DTCt=5;SiCs=2
0.911 0.019 0.070 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.050 0.498 0.222 0.230  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.170 0.207 0.411 0.213  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.065 0.009 0.926 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.890 0.110  110460 #p00 p03 N0 for target C0=Cp
0.045 0.955  252340 #p30 p33 N3 for target C3=Co
0.226 0.774  469000 #PNT 1-PNT nsum


#gibbs:1:1:0.05;DTCt=10;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.962 0.025 0.010 0.003  52500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.752 0.125 0.014 0.109 105000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.079 0.054 0.075 0.793 136500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.006 0.010 0.984 175000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.918 0.082  141068 #p00 p03 N0 for target C0=Cp
0.037 0.963  291228 #p30 p33 N3 for target C3=Co
0.078 0.922  469000 #PNT 1-PNT nsum

#gibbs:1:1:0.05;DTCt=2;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.956 0.023 0.013 0.008 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.009 0.419 0.031 0.541  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.436 0.195 0.210 0.159  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.006 0.003 0.990 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.913 0.087  143136 #p00 p03 N0 for target C0=Cp
0.037 0.963  298994 #p30 p33 N3 for target C3=Co
0.057 0.943  469000 #PNT 1-PNT nsum

#gibbs:1:1:0.1;DTCt=2;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.949 0.011 0.031 0.009 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.002 0.439 0.017 0.542  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.436 0.040 0.366 0.158  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.005 0.004 0.990 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.911 0.089  142191 #p00 p03 N0 for target C0=Cp
0.037 0.963  298970 #p30 p33 N3 for target C3=Co
0.059 0.941  469000 #PNT 1-PNT nsum

#gibbs:1:1:0.2;DTCt=2;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.910 0.013 0.060 0.016 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.001 0.452 0.001 0.546  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.454 0.002 0.395 0.149  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.018 0.032 0.003 0.947 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.901 0.099  137886 #p00 p03 N0 for target C0=Cp
0.056 0.944  291728 #p30 p33 N3 for target C3=Co
0.084 0.916  469000 #PNT 1-PNT nsum

#gibbs:1:1:0;DTCt=3;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.959 0.007 0.030 0.005 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.293 0.344 0.007 0.356  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.277 0.013 0.272 0.438  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.013 0.003 0.983 273000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.917 0.083  141908 #p00 p03 N0 for target C0=Cp
0.036 0.964  295886 #p30 p33 N3 for target C3=Co
0.067 0.933  469000 #PNT 1-PNT nsum

#gibbs:1:1:0;DTCt=1;SiCs=2  #NG
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.078 0.013 0.894 0.015 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.004 0.992 0.001 0.003  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.008 0.005 0.971 0.017  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.956 0.011 0.027 301000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.837 0.163  13744.5 #p00 p03 N0 for target C0=Cp
0.185 0.815  10195.5 #p30 p33 N3 for target C3=Co
0.949 0.051  469000 #PNT 1-PNT nsum


#gibbs:1:1:0;DTCt=0;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.899 0.000 0.000 0.101 157500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
nan nan nan nan      0 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
nan nan nan nan      0 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.041 0.000 0.000 0.959 311500 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
nan nan  nan #p00 p03 N0 for target C0=Cp
nan nan  nan #p30 p33 N3 for target C3=Co
nan nan  469000 #PNT 1-PNT nsum

#gibbs:1:1:0.1;DTCt=1;SiCs=2  #NG
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.090 0.009 0.882 0.020 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.004 0.989 0.000 0.006  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.011 0.001 0.975 0.013  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.017 0.920 0.012 0.051 301000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.815 0.185  16275 #p00 p03 N0 for target C0=Cp
0.253 0.747  20720 #p30 p33 N3 for target C3=Co
0.921 0.079  469000 #PNT 1-PNT nsum

#gibbs:1:1:0;DTCt=3;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.959 0.007 0.030 0.005 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.293 0.344 0.007 0.356  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.277 0.013 0.272 0.438  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.013 0.003 0.983 273000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.917 0.083  141908 #p00 p03 N0 for target C0=Cp
0.036 0.964  295886 #p30 p33 N3 for target C3=Co

#gibbs:1:1:0.2;DTCt=2;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.910 0.013 0.060 0.016 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.001 0.452 0.001 0.546  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.454 0.002 0.395 0.149  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.018 0.032 0.003 0.947 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.901 0.099  137886 #p00 p03 N0 for target C0=Cp
0.056 0.944  291728 #p30 p33 N3 for target C3=Co
0.084 0.916  469000 #PNT 1-PNT nsum

#DTCt=2;gibbs:1:1:0.1
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.949 0.011 0.031 0.009 136500 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.002 0.439 0.017 0.542  21000 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.436 0.040 0.366 0.158  24500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.001 0.005 0.004 0.990 287000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.911 0.089  142191 #p00 p03 N0 for target C0=Cp
0.037 0.963  298970 #p30 p33 N3 for target C3=Co
0.059 0.941  469000 #PNT 1-PNT nsum

#DTCt=5;gibbs:1:1:0
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.961 0.005 0.029 0.005 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.555 0.204 0.017 0.224  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.161 0.004 0.160 0.675  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.005 0.003 0.992 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.914 0.086  142328 #p00 p03 N0 for target C0=Cp
0.036 0.964  298634 #p30 p33 N3 for target C3=Co
0.060 0.940  469000 #PNT 1-PNT nsum

#DTCt=1;gibbs:1:1:0 ??bad?DTCt=1 is very bad but DTCt=2 is pretty good why?
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.078 0.013 0.894 0.015 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.004 0.992 0.001 0.003  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.008 0.005 0.971 0.017  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.006 0.956 0.011 0.027 301000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.837 0.163  13744.5 #p00 p03 N0 for target C0=Cp
0.185 0.815  10195.5 #p30 p33 N3 for target C3=Co
0.949 0.051  469000 #PNT 1-PNT nsum

#gibbs:1:1:0.3;DTCt=1;SiCs=2
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.295 0.011 0.668 0.026 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.005 0.995 0.000 0.000  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.036 0.000 0.960 0.003  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.152 0.798 0.004 0.046 301000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.919 0.081  47239.5 #p00 p03 N0 for target C0=Cp
0.769 0.231  60007.5 #p30 p33 N3 for target C3=Co
0.771 0.229  469000 #PNT 1-PNT nsum
#DTCt=1;gibbs:1:1:0.3
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.295 0.011 0.668 0.026 147000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.005 0.995 0.000 0.000  10500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.036 0.000 0.960 0.003  10500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.152 0.798 0.004 0.046 301000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.919 0.081  47239.5 #p00 p03 N0 for target C0=Cp
0.769 0.231  60007.5 #p30 p33 N3 for target C3=Co
0.771 0.229  469000 #PNT 1-PNT nsum



#DTCt=5;gibbs:1:1:0.3
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.911 0.019 0.070 0.001 105000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.050 0.498 0.222 0.230  52500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.170 0.207 0.411 0.213  66500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.000 0.065 0.009 0.926 245000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.890 0.110  110460 #p00 p03 N0 for target C0=Cp
0.045 0.955  252340 #p30 p33 N3 for target C3=Co
0.226 0.774  469000 #PNT 1-PNT nsum

#DTCt=3;
#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.800 0.046 0.147 0.007 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.012 0.604 0.002 0.382  31500 100 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.312 0.014 0.494 0.180  38500 100 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.008 0.108 0.014 0.870 273000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.887 0.113  114093 #p00 p03 N0 for target C0=Cp
0.055 0.945  258636 #p30 p33 N3 for target C3=Co
0.205 0.795  469000 #PNT 1-PNT nsum


#  C0    C1    C2    C3      n  wpi #Confusion Matrix
0.784 0.052 0.158 0.006 126000 100 #p00 p01 p02 p03 n0 wp0 for target C0=Cp
0.000 0.617 0.004 0.378  31500 150 #p10 p11 p12 p13 n1 wp1 for target C1=Ctp
0.295 0.015 0.510 0.180  38500 150 #p20 p21 p22 p23 n2 wp2 for target C2=Cto
0.003 0.112 0.018 0.867 273000 100 #p30 p31 p32 p33 n3 wp2 for target C3=Co
#  C0    C3      N #Modified Confusion Matrix
0.886 0.114  111447 #p00 p03 n0 for target C0=Cp
0.048 0.952  255798 #p30 p33 n3 for target C3=Co
0.217        101756 #PNT Nt nsum
             469000 #nsum
























################################
20160224
#(1) まず、pijについて20160220を参照。
　　過渡期間DTCtを増やして(=3や5など)、判定不能(undesidable)とする割合
　　　(p01*n0+p11*n1+p21*n2)/(n0+n1+n2)) を増やし、
    判定不能時刻を除いた時刻の話者検索成功率p00/(p00+p02)を上げることができるか？
    
　　gibbs:1:1:0.3は良い結果を与えるが、p10とp12の何%が指定話者であるか
　　を調べないと、正確な検索正解率が得られない
#(2) 201600202の[1]~[5]の実行結果。
　　　wp0,wp1,wp2は[2-2]で指定

#gibbs:1:1:0.3 DTCt=5 SiCs="3"; Seems very good 
#  C0    C1    C2      n  wpi #Confusion Matrix
0.947 0.049 0.004 105000 100 #p00 p01 p02 n0 wp0 for target C0
0.471 0.336 0.194 119000 150 #p10 p11 p12 n1 wp1 for target C1
0.197 0.355 0.448 245000 100 #p20 p21 p22 n2 wp2 for target C2

#gibbs:1:1:0.3 DTCt=5 SiCs="2"; Seems very good 
#  C0    C1    C2      n  wpi #Confusion Matrix
0.911 0.089 0.000 105000 100 #p00 p01 p02 n0 wp0 for target C0  1=0.911/(0.911+0)=1
0.117 0.665 0.218 119000 150 #p10 p11 p12 n1 wp1 for target C1  Should check how much data in C0 and C2 for 0.117 and 0.218.
0.000 0.076 0.924 245000 100 #p20 p21 p22 n2 wp2 for target C2


#gibbs:1:1:0.3 DTCt=3 SiCs="2"; Seems  good
#  C0    C1    C2      n  wpi #Confusion Matrix
0.809 0.183 0.008 126000 100 #p00 p01 p02 n0 wp0 for target C0 検索成功率p00'=0.990208=0.809/(0.809+0.008)　
0.181 0.548 0.271 70000 150 #p10 p11 p12 n1 wp1 for target C1  0.0349045=(7000*0.548)/(12600+70000+27300) are recognized undecidable. Should check how much data in C0 and C2 for 0.181 and 0.271
0.012 0.115 0.872 273000 100 #p20 p21 p22 n2 wp2 for target C2 0.0944882=0.012/(0.012+0.115)

#gibbs:1:1:0 DTCt=3 SiCs="2" wp0:wp1:wp2=100:150:100; Seems  good ?p11が小さいが良いか？
#  C0    C1    C2      n  wpi #Confusion Matrix
0.961 0.035 0.005 105000 100 #p00 p01 p02 n0 wp0 for target C0
0.335 0.198 0.468 119000 150 #p10 p11 p12 n1 wp1 for target C1
0.000 0.016 0.983 245000 100 #p20 p21 p22 n2 wp2 for target C2

#gibbs:1:1:0 DTCt=3 SiCs="2" wp0:wp1:wp2=100:100:100; Seems  good ?p11が小さいが良いか？
#  C0    C1    C2      n  wpi #Confusion Matrix
0.961 0.034 0.005 105000 100 #p00 p01 p02 n0 wp0 for target C0
0.335 0.189 0.476 119000 100 #p10 p11 p12 n1 wp1 for target C1
0.000 0.008 0.992 245000 100 #p20 p21 p22 n2 wp2 for target C2


###gibbs:1:1:0.3 DTCt=1 SiCs="2"; Seems NG.
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.295 0.679 0.026 147000 100 #p00 p01 p02 n0 wp0 for target C0
##0.021 0.978 0.002 21000 150 #p10 p11 p12 n1 wp1 for target C1
##0.152 0.802 0.046 301000 100 #p20 p21 p22 n2 wp2 for target C2
##
###gibbs:1:1:0.3
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.963 0.000 0.037 147000 1 #p00 p01 p02 n0 wp0 for target C0
##0.501 0.000 0.499 21000 1 #p10 p11 p12 n1 wp1 for target C1
##0.156 0.000 0.844 301000 1 #p20 p21 p22 n2 wp2 for target C2
###gibbs:1:1:0.4
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.410 0.514 0.076 147000 1 #p00 p01 p02 n0 wp0 for target C0
##0.041 0.459 0.500 21000 1 #p10 p11 p12 n1 wp1 for target C1
##0.240 0.028 0.732 301000 1 #p20 p21 p22 n2 wp2 for target C2
###gibbs:1:1:0.5 NG time-constant
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.466 0.414 0.120 147000 1 #p00 p01 p02 n0 wp0 for target C0
##0.082 0.417 0.500 21000 1 #p10 p11 p12 n1 wp1 for target C1
##0.299 0.071 0.630 301000 1 #p20 p21 p22 n2 wp2 for target C2
##
##
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.963 0.006 0.031 147000 10 #p00 p01 p02 n0 wp0 for target C0
##0.487 0.003 0.510 21000 17 #p10 p11 p12 n1 wp1 for target C1
##0.009 0.006 0.985 301000 10 #p20 p21 p22 n2 wp2 for target C2
##
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.079 0.893 0.028 147000 100 #p00 p01 p02 n0 wp0 for target C0
##0.006 0.487 0.507 21000 175 #p10 p11 p12 n1 wp1 for target C1
##0.007 0.014 0.979 301000 100 #p20 p21 p22 n2 wp2 for target C2
##
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.079 0.895 0.026 147000 10 #p00 p01 p02 n0 wp0 for target C0
##0.006 0.489 0.505 21000 18 #p10 p11 p12 n1 wp1 for target C1
##0.007 0.018 0.975 301000 10 #p20 p21 p22 n2 wp2 for target C2
##
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.964 0.000 0.036 147000 10 #p00 p01 p02 n0 wp0 for target C0
##0.487 0.000 0.513 21000 15 #p10 p11 p12 n1 wp1 for target C1
##0.009 0.001 0.990 301000 10 #p20 p21 p22 n2 wp2 for target C2
##
##
###  C0    C1    C2      n #Confusion Matrix
##0.078 0.912 0.010 147000 1 #p00 p01 p02 n0 wp0 for target C0
##0.006 0.988 0.006 21000 2 #p10 p11 p12 n1 wp1 for target C1
##0.006 0.976 0.018 301000 1 #p20 p21 p22 n2 wp2 for target C2
##
###  C0    C1    C2      n  wpi #Confusion Matrix
##0.074 0.922 0.004 147000 1 #p00 p01 p02 n0 wp0 for target C0
##0.005 0.992 0.002 21000 3 #p10 p11 p12 n1 wp1 for target C1
##0.005 0.987 0.008 301000 1 #p20 p21 p22 n2 wp2 for target C2


20160220
(1) 過渡期間（判定不能）の効果を調べるために、DTCt=0 ができるようにし、さらに
　　Confusion matrix (詳細はwiki参照)で、性能評価できるようにした。

#Confusion matrix（混同行列？) ≒ Contingency table(分割表)
#target↓outpot判定→　　C0  　 C1   C2      
#C0                    p00    p01  p02  n0    (p00+p01+p02=1)
#C1                    p10    p11  p12  n1
#C2                    p20    p21  p22  n2
# pijは入力データの話者ラス(target)がCiに対し、検索結果がCjとなる確率

###################### output検索結果（判定）がC0となる場合の確率
#p00=(n01+n02)/n0  --> n0*p00=n01+n02 --> n00+n01+n02=n0 --> n00=n0*(1-p00)　<--[4]で求まる値(1-p00)
#p10=(n11+n12)/n1  --> n1*p01=n11+n12 -->                --> n10=n1*(1-p10)
#p20=(n21+n22)/n2  --> n2*p02=n21+n22 -->                --> n20=n2*(1-p20)
###################### output検索結果（判定）がC1となる場合の確率
#p01=(n00+n02)/n0 -->                                    --> n01=n0*(1-p01)
#p11=(n10+n12)/n1 -->                                    --> n11=n1*(1-p11)  <--[4]で求まる値(1-p11)
#p21=(n20+n22)/n2 -->                                    --> n21=n2*(1-p21)
###################### output検索結果（判定）がC1となる場合の確率
#p02=(n00+n01)/n0 -->                                    --> n02=n0*(1-p02)
#p12=(n10+n11)/n1 -->                                    --> n12=n1*(1-p12)
#p22=(n20+n21)/n2 -->                                    --> n22=n2*(1-p22)  <--[4]で求まる値(1-p22)

(2) 201600202の[1]~[4]の後に、[5]を挿入し、これを実行すれば表示される。例えば
次の結果が得られる。
# [5] の結果　　　　　　　　　　　　　　　　　　　　　　　　　
#(a) DTCt=0;SiCs="2"
#  C0    C1    C2      n #Confusion Matrix
0.899 0.000 0.101 157500 #p00 p01 p02 n0 for target C0
nan nan nan 0            #p10 p11 p12 n1 for target C1 <--過渡期間DTCt=0なので、p10=p11=o12=nan(計算不能)及び個数n1=0で良い
0.041 0.000 0.959 311500 #p20 p21 p22 n2 for target C2
#(b) DTCt=1;SiCs="2"
#  C0    C1    C2      n #Confusion Matrix
0.964 0.000 0.036 147000 #p00 p01 p02 n0 for target C0
0.487 0.000 0.513 21000 #p10 p11 p12 n1 for target C1
0.009 0.000 0.991 301000 #p20 p21 p22 n2 for target C2
################
#(c) DTCt=0;SiCs="3"
#  C0    C1    C2      n #Confusion Matrix
0.895 0.000 0.105 157500 #p00 p01 p02 n0 for target C0
nan nan nan 0            #p10 p11 p12 n1 for target C1
0.267 0.000 0.733 311500 #p20 p21 p22 n2 for target C2

#(d) DTCt=1;SiCs="3"
#  C0    C1    C2      n #Confusion Matrix
0.936 0.002 0.062 147000 #p00 p01 p02 n0 for target C0
0.586 0.008 0.406 21000  #p10 p11 p12 n1 for target C1
0.234 0.005 0.761 301000 #p20 p21 p22 n2 for target C2

#DTCt=3;SiCs="3"
#  C0    C1    C2      n #Confusion Matrix
0.960 0.018 0.021 126000 #p00 p01 p02 n0 for target C0
0.531 0.189 0.280 70000 #p10 p11 p12 n1 for target C1
0.186 0.107 0.707 273000 #p20 p21 p22 n2 for target C2

###result
対応する[4]の結果
#(a) DTCt=0;SiCs="2"
#(b) DTCt=1;SiCs="2"
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0## 0.035 0.036 0.449 0.499  3 147000 #LAVE,LACE,LNLP,LNLPD,nC ndata <-- LAVE=1-p00= 0.036=1-0.964
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0## 0.488 1.000 1.019 1.049  3 21000 #LAVE,LACE,LNLP,LNLPD,nC ndata  <-- LAVE=1-p11= 1.000=1-0.000
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0## 0.011 0.009 0.455 0.468  3 301000 #LAVE,LACE,LNLP,LNLPD,nC ndata <-- LAVE=1-p22= 0.009=1-0.991
#(c) DTCt=0;SiCs="3"
#(d) DTCt=1;SiCs="3"
#DTCt=3;SiCs="3"
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0## 0.029 0.040 0.476 0.540  3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0## 0.699 0.811 0.961 1.144  3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0## 0.315 0.293 0.530 0.799  3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0## 0.296 0.302 0.580 0.781  3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata




20160214
(1) 各テストにおけるt-pG曲線の表示を201600202の[1]の後ろ（[2]の前）に入れた。
####

201600202
######################################################
######### copy and paste from here for (1)
######################################################
#[1]
prog=speakerdigit_v6
make ; make data-clean
d1=../result-speaker_search; if [ ! -e $d1 ]; then mkdir $d1;fi
###d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
###d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
###d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
###d2=../../2012/12voicedata/iconip14data;d2sep=":"
###d2=../../2012/12voicedata/allpole;d2sep=":"
d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
####obtain psdsum.dat 
gibbs=gibbs:1:0.5:0.2     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
gibbs=gibbs:1:1:0     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e] ##beta=beta:0.5:0.3  ##### tune this, 
DTCt=3;#DTCt=0;DTCt=4;                                      #
SiCs="2"; ####for 3:Unregistered, 2:Incorrect SiCs="0 3 2"; #depnds on speakerdigit_v6.c test:7:..:$iCs:...
DTCoCp=30,20:20,15:20,10:20 ##DTCoCp=30,20:20,15:20,10:20,5:20
cat /dev/null > resultsum.dat          
cat /dev/null > psdsum.dat
cat /dev/null > testsdsum.dat
fhg=$tmp/histSpeaker;cat /dev/null > $fhg.dat #Initialize
for iCs in $SiCs; do                                        #LoopLevel1:for iCs for set 2rd option of test:7:.....
for sX in 0 1 2 3 4 5 6; do sP=-1;                          #LoopLevel2:for sX in 0 1 2 3 4 5 6;
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:1000:$iCs:${DTCt}:${DTCoCp} sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:3:30,20:20,15:20,10:20,5:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:20:20:20:20:20 sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";
else
cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
echo "Exec $cmd";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat  ########### <== mean,UC of pG 
cat $tmp/psd.dat >> psdsum.dat ########### <== pG for all tests for speaker
cat tmp/testsd.dat |awk 'BEGIN{d=0;}{if(d==0){if(substr($1,1,3)=="###") d=1;}else print $0;}'> tmp/testsdsum.dat
#echo "###wc psdsum.dat tmp/psd.dat"
#wc psdsum.dat tmp/psd.dat
done #for sX excluded speaker                               #done #LoopLevel2:for sX in 0 1 2 3 4 5 6;
done # for iCs                                              #done #LoopLevel1:for iCs $SiCs;
##########################################
## obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
#########################################
###show t vs. pG of resultsum.dat 
fntpG="tmp/t-pGmean"
gnuplot <<EOF
set term postscript;set output "$fntpG.eps";
plot "resultsum.dat" using 1:2:(\$2-\$4):(\$2+\$5) w errorbars, "" using 1:2 w l lc rgb "blue"
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
###fntpG="tmp/tpGall"
###gnuplot <<EOF
###set term postscript;set output "$fntpG.eps";
###plot "psdsum.dat" using 1:3 w d
###quit
###EOF
######
###cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
#cmd="cat tmp/Ctotp.sh";echo "Manually Exec $cmd";$cmd
#export Ctotp="3 30 33 50 53 70 73 85 88 105 108 115 118 135 138 140 143 160 "; #Sequence of time points changing the class Ct,Co,Ct,Cp ...
##(1) 各テストにおけるt-pG曲線の表示(２つの角度からの表示）；10テスト毎に間引き
cat tmp/testsdsum.dat | awk 'BEGIN{l=0;t0=0;n=1;}{if(substr($1,1,1)=="n"){n++;printf("\n");} else {l++;match($2,"t.*");t=substr($2,RSTART+1,RSTART+3); if(n%10==0) print n,t,$3;}}' > tmp/tpG.dat
gnuplot <<EOF
set xlabel "test"; set ylabel "t"; set zlabel "pG";
set view 21,73
set term postscript;set output "tmp/tpG1.eps";
splot "tmp/tpG.dat" using 1:2:3 w l
set view 16,108
set term postscript;set output "tmp/tpG2.eps";
splot "tmp/tpG.dat" using 1:2:3 w l
quit
EOF
### the following takes a lot of time to display via gnuplot
cmd="gv tmp/tpG1.eps"; echo "Exec $cmd."; $cmd&
cmd="gv tmp/tpG2.eps"; echo "Exec $cmd."; $cmd&
##############
export Ctotp=`cat tmp/Ctotp.dat`

#[2]
#########################################
### making training histgram for probabilistic prediction
### class Cp: prompted speaker's digits, Co:other speaker's, Ct:transient
#########################################
for CpG in "p" "t" "o" ; do   # CLASS of pG                        #LoopLevel1: for CpG 
export CpG
fb0=C${CpG}
fbr=${d1}/resultp_${fb0}                                           ###???
cat /dev/null > ${fb0}.dat
cat psdsum.dat|
 awk 'BEGIN{CpG=ENVIRON["CpG"];Ctotp=ENVIRON["Ctotp"];nmax=split(Ctotp,C);}{
   if($1!=0){
     for(n=1;n<=nmax;n++){
       if($1<C[n]){
         n4=(n-1)%4;	
         if((CpG=="p" && n4==3)||
            (CpG=="o" && n4==1)||
            (CpG=="t" && (n4==0 || n4==2))) {print $3,$0;}
         break;
       }
     }
   }
 }' >> ${fb0}.dat ; 
#   (CpG=="t" && (n4==0 || n4==2))) {print $3,$0,"n=",n,n4,"C=",C[n],C[1],nmax;}
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#nd=`wc ${fb0}.dat|awk '{print $1}'`; #nd=`wc psdsum.dat|awk '{print $1}'`
#nd0=`expr $nd / 7 / 2`
#echo "#nd=$nd,nd0=$nd0"
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==0) print $0;}' >> ${fbr}_PPtrain.dat
cat ${fbr}.dat|awk 'BEGIN{l=0;}{if(l++%2==1) print $0;}' >> ${fbr}_PPtest.dat
#for sX_ in 0 1 2 3 4 5 6; do                                        #LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#export sX_0=`expr $sX_ \* $nd0 \* 2`
#sed -n -e "`expr ${sX_0} + 1`,`expr ${sX_0} + $nd0`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
#sed -n -e "`expr ${sX_0} + $nd0 + 1`,`expr ${sX_0} + $nd0 \* 2`p" ${fbr}.dat >> ${fbr}_PPtest.dat
#done #for sX_                                                       #Done:LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#[2-2]
####################################
### Likelihood P(c_i|p_G) for Probabilistic Prediction 
### Histgram by moving average of each class?
####################################
export wp0=100 wp1=150 wp2=100; #weight of posterior distribution of probabilistic prediction
export x0=0 ndiv=100 nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-C${CpG}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
sleep 2;
done #for CpG  in "p" "t" "o" ;                 #Done:LoopLevel1: for CpG 
###########
### insert first column to be the value of pG, while 2,3,4 columns P(c_i|p_G) for c_i=Cp, Ct, Co, respectively
fpdg=$d1/ProbDistSpeaker
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];}{p0=$1*wp0;p1=$2*wp1;p2=$3*wp2;psum=p0+p1+p2;printf("%e %e %e %e\n",$4, p0/psum,p1/psum,p2/psum);}' >> $fpdg.dat
#cat $fhg.dat|awk 'BEGIN{wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];}{p0sum=$1*wp0;p1sum=$2*wp1;p2sum=$3*wp2;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat
##cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat

#[3]
################################
### Show Likelihood P(c_i|p_G), and p(p_G)
################################
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Prompted Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Transient", "" using 1:(\$4) lc rgb "red" t "Other Speaker"
set term postscript;set output "$fpdg.eps";replot
set term postscript;set output "$fpdg-pGdist.eps";plot "$fhg.dat" using 4:(\$1+\$2+\$3) lc rgb "green" t "p(p_G)"
quit
EOF
###show 
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&        #show p(c_i|p_G)
cmd="gv $fpdg-pGdist.eps"; echo "Exec $cmd."; $cmd& #show p(pG)

#[4]
################################
## evalloss
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
for CpG in "p" "t" "o" ; do   # CpG(phase) for w:prompted-word o:other-word, t:transient    #LoopLevel 1:for CpG  in "p" "o" "t" ; do
if [ $CpG = "p" ] ; then export Ctgt=0; fi #prompted
if [ $CpG = "t" ] ; then export Ctgt=1; fi #transient
if [ $CpG = "o" ] ; then export Ctgt=2; fi #other
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output;#
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG                                                                               #LoopLevel 1:for CpG  in "p" "o" "t" ; do
cmd="evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:0.5:0";echo -n "#${cmd}##";$cmd

#[5]
################################
## evalloss for confusion matrix
################################
d0=~/sotu/2015/can2b
fpdg=$d1/ProbDistSpeaker #defined above
foutall=pGall;cat /dev/null > ${foutall}.output ###all
ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
##
cat /dev/null > cfm.dat
for Ctgt in 0 1 2 ; do #target class                                                         #LoopLevel 0
echo "#For Target Class $Ctgt, evall loss of p(rompted), t(ransient), o(ther) data. "
export Ctgt;
for CpG in "p" "t" "o" ; do   # CpG(phase) for w:prompted-word o:other-word, t:transient    #LoopLevel 1:for CpG  in "p" "o" "t" ; do
fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output; #output file to be classified as C${CpG} for CpG in p,t or o
export ntest=`wc ${fout}.output|awk '{print $1}'`
export ftgt=C${Ctgt};
awk 'BEGIN{Ctgt=ENVIRON["Ctgt"];ntest=ENVIRON["ntest"];for(i=0;i<ntest;i++) print Ctgt;}' > ${ftgt}.target #mktarget $Ctgt $ntest > ${ftgt}.target
#
cmd="evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo "#${cmd}##";
$cmd | awk '{print $2,$6;}' >> cfm.dat
#
cat ${fout}.output >> ${foutall}.output; 
cat ${ftgt}.target >> ${ftgtall}.target; ###all
done #for CpG                                                                               #LoopLevel 1:for CpG  in "p" "o" "t" ; do
done #for Ctgt                                                                              #LoopLevel 0
echo "   C0    C1    C2      n #Confusion Matrix"
cat cfm.dat | awk 'BEGIN{l=0;wp0=ENVIRON["wp0"];wp1=ENVIRON["wp1"];wp2=ENVIRON["wp2"];}
{p[l]=$1;n[l]=$2;l++;}END{
printf("#  C0    C1    C2      n  wpi #Confusion Matrix\n");
printf("%.3f %.3f %.3f %d %g #p00 p01 p02 n0 wp0 for target C0\n",1-p[0],1-p[3],1-p[6],n[0],wp0);
printf("%.3f %.3f %.3f %d %g #p10 p11 p12 n1 wp1 for target C1\n",1-p[1],1-p[4],1-p[7],n[1],wp1);
printf("%.3f %.3f %.3f %d %g #p20 p21 p22 n2 wp2 for target C2\n",1-p[2],1-p[5],1-p[8],n[2],wp2);}'
######################################################
######### copy and paste to here for (1)
######################################################
##################


# ewault of [5]
#DTCt=3;SiCs="2"
#  C0    C1    C2      n #Confusion Matrix
0.960 0.035 0.005 126000 #p00 p01 p02 n0 for target C0
0.287 0.311 0.402 70000 #p10 p11 p12 n1 for target C1
0.000 0.016 0.984 273000 #p20 p21 p22 n2 for target C2
#DTCt=1;SiCs="2"
#  C0    C1    C2      n #Confusion Matrix
0.964 0.000 0.036 147000 #p00 p01 p02 n0 for target C0
0.487 0.000 0.513 21000 #p10 p11 p12 n1 for target C1
0.009 0.000 0.991 301000 #p20 p21 p22 n2 for target C2
#DTCt=0;SiCs="2"
#  C0    C1    C2      n #Confusion Matrix
0.899 0.000 0.101 157500 #p00 p01 p02 n0 for target C0
nan nan nan 0            #p10 p11 p12 n1 for target C1
0.041 0.000 0.959 311500 #p20 p21 p22 n2 for target C2
################
#DTCt=3;SiCs="3"
#  C0    C1    C2      n #Confusion Matrix
0.960 0.018 0.021 126000 #p00 p01 p02 n0 for target C0
0.531 0.189 0.280 70000  #p10 p11 p12 n1 for target C1
0.186 0.107 0.707 273000 #p20 p21 p22 n2 for target C2
#DTCt=1;SiCs="3"
#  C0    C1    C2      n #Confusion Matrix
0.936 0.002 0.062 147000 #p00 p01 p02 n0 for target C0
0.586 0.008 0.406 21000  #p10 p11 p12 n1 for target C1
0.234 0.005 0.761 301000 #p20 p21 p22 n2 for target C2
#DTCt=0;SiCs="3"
#  C0    C1    C2      n #Confusion Matrix
0.895 0.000 0.105 157500 #p00 p01 p02 n0 for target C0
nan nan nan 0            #p10 p11 p12 n1 for target C1
0.267 0.000 0.733 311500 #p20 p21 p22 n2 for target C2
#DTCt=3;SiCs="3"

###result


######## SiCs="2" registered spekers
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.029 0.039 0.306 0.326 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.439 0.811 1.118 1.125 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.006 0.008 0.357 0.364 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.121 0.219 0.539 0.549 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata


#gibbs:1:1:0.1 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2" modified Bayes better?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.006 0.037 0.282 0.290 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.462 0.713 1.121 1.123 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.003 0.012 0.288 0.296 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.120 0.196 0.498 0.504 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2"  Bayes Good?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.029 0.039 0.306 0.326 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.439 0.811 1.118 1.125 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.006 0.008 0.357 0.364 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.121 0.219 0.539 0.549 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1.5:0 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2" modified Bayes better?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.034 0.034 0.380 0.433 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.428 0.932 1.095 1.115 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.006 0.020 0.423 0.454 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.119 0.255 0.584 0.617 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.9:0.1 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2" modified Bayes better?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.007 0.037 0.296 0.308 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.497 0.736 1.116 1.118 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.005 0.014 0.305 0.318 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.130 0.202 0.509 0.519 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1.1:0.05 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2" modified Bayes Not so good
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.016 0.039 0.302 0.321 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.481 0.791 1.119 1.124 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.006 0.016 0.351 0.359 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.129 0.218 0.535 0.545 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.9:0.1 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2" modified Bayes 
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.006 0.040 0.252 0.259 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.436 0.652 1.102 1.104 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.002 0.011 0.266 0.272 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.113 0.180 0.475 0.480 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0.2 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2" modified Bayes
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.005 0.045 0.212 0.219 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.485 0.498 1.018 1.019 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.001 0.013 0.205 0.210 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.125 0.143 0.413 0.417 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="2" Conventional Bayes better?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.013 0.067 0.205 0.229 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.524 0.427 0.979 0.982 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.005 0.038 0.228 0.245 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.085 0.104 0.334 0.351 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0.1 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="2"; modified Bayes 
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.008 0.043 0.243 0.256 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.486 0.556 1.063 1.067 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.003 0.017 0.217 0.229 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.077 0.104 0.350 0.361 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#gibbs:1:1:0 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="2";Conventional Bayes best?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.029 0.040 0.266 0.287 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.453 0.689 1.101 1.107 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.006 0.016 0.296 0.306 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.079 0.123 0.408 0.420 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#gibbs:1:1.5:0 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="2";modiied Bayes Not so much?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.035 0.035 0.382 0.434 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.437 0.898 1.101 1.123 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.006 0.021 0.392 0.423 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.078 0.155 0.495 0.530 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

######## SiCs="3" unregistered speakers
#gibbs:1:1.5:0 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="3"; modified bayes better? not so much
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.034 0.036 0.564 0.634 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.678 0.946 0.900 1.117 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.283 0.256 0.530 0.833 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.275 0.300 0.595 0.822 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="3"; Bayes Good?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.029 0.040 0.476 0.540 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.699 0.811 0.961 1.144 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.315 0.293 0.530 0.799 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.296 0.302 0.580 0.781 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0.1 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="3"; modified Bayes NG?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.005 0.038 0.463 0.523 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.724 0.834 0.994 1.161 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.337 0.308 0.523 0.800 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.361 0.381 0.629 0.830 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.5:0 DTCoCp=30,20:20,15:20,10:20; DTCt=3; SiCs="3"; modified bayes wore
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.008 0.051 0.421 0.495 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.681 0.723 0.976 1.153 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.386 0.347 0.569 0.834 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.329 0.324 0.590 0.790 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata



#gibbs:1:0.5:0.2 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="3"; NG?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.025 0.147 0.547 0.673 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.682 0.764 0.814 1.111 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.566 0.416 0.686 1.000 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.438 0.396 0.668 0.929 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.5:0.2 DTCoCp=30,20:20,15:20,10:20; DTCt=5; SiCs="2"; NG?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.021 0.111 0.248 0.297 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.500 0.448 1.031 1.034 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.012 0.120 0.276 0.309 3 245000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.138 0.201 0.462 0.490 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata



#gibbs:1:1:0 DTCoCp=20,20:20, DTCt=5; SiCs="2"; good?
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.030 0.039 0.265 0.287 3 52500 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.354 0.847 1.096 1.101 3 49000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.005 0.007 0.421 0.426 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.094 0.215 0.542 0.551 3 206500 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:1:0 DTCoCp=20,20:20, DTCt=3; SiCs="2";
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.030 0.041 0.241 0.264 3 59500 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.374 0.739 1.092 1.097 3 28000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.005 0.016 0.358 0.365 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.063 0.121 0.424 0.435 3 206500 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.5:0.2 DTCoCp=20,20:20, DTCt=5; SiCs="2";
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.009 0.053 0.149 0.170 3 52500 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.423 0.517 0.964 0.967 3 49000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.004 0.043 0.296 0.304 3 105000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.104 0.158 0.417 0.427 3 206500 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.5:0.2 DTCoCp=20,20:20 DTCt=4; SiCs="2";
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.016 0.094 0.195 0.232 3 56000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.426 0.574 1.018 1.028 3 38500 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.015 0.050 0.326 0.341 3 112000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.092 0.160 0.420 0.439 3 206500 #LAVE,LACE,LNLP,LNLPD,nC ndata

#gibbs:1:0.5:0.2 DTCoCp=20,20:20 DTCt=3; SiCs="2";
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.031 0.109 0.259 0.297 3 59500 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.376 0.556 1.010 1.032 3 28000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.042 0.078 0.363 0.389 3 119000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.084 0.151 0.421 0.450 3 206500 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
###
###
###
###201600201
############ copy and paste from here for (1)
####[1]
###prog=speakerdigit_v6
###make ; make data-clean
###d1=../result-speaker_search; if [ ! -e $d1 ]; then mkdir $d1;fi
######d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
######d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
######d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
######d2=../../2012/12voicedata/iconip14data;d2sep=":"
######d2=../../2012/12voicedata/allpole;d2sep=":"
###d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
###tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
#######obtain psdsum.dat 
###cat /dev/null > resultsum.dat          
###cat /dev/null > psdsum.dat
###gibbs=gibbs:1:0.5:0.2     ##### use only gibb:1:1:1(GEBI) gibbs:1:1:0(BI), see  20160125 [a]-[e]
###DTCt=3;
###DTCoCp=30,20:20,15:20,10:20,5:20
#####beta=beta:0.5:0.3  ##### tune this, 
###fhg=$tmp/histSpeaker;cat /dev/null > $fhg.dat #Initialize
###SiCs="2"; ####for 3:Unregistered, 2:Incorrect SiCs="0 3 2"; #depnds on speakerdigit_v6.c test:7:..:$iCs:...
###for iCs in $SiCs; do                                        #LoopLevel1:for iCs for set 2rd option of test:7:.....
###for sX in 0 1 2 3 4 5 6; do sP=-1;                          #LoopLevel2:for sX in 0 1 2 3 4 5 6;
###if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
###cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:$iCs:${DTCt}:${DTCoCp} sX:$sX sP:$sP void:0";
####cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:3:30,20:20,15:20,10:20,5:20 sX:$sX sP:$sP void:0";
####cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:8:2000:${iCs}:20:20:20:20:20 sX:$sX sP:$sP void:0";
####cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";
###else
###cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 $gibbs $beta ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";$cmd > /dev/null
###fi
###echo "Exec $cmd";$cmd > /dev/null
###cat $tmp/testsd_stat.dat >> resultsum.dat
###echo -e "\n" >> resultsum.dat  ########### <== mean,UC of pG 
###cat $tmp/psd.dat >> psdsum.dat ########### <== pG for all tests for speaker
###done #for sX excluded speaker                               #done #LoopLevel2:for sX in 0 1 2 3 4 5 6;
###done # for iCs                                              #done #LoopLevel1:for iCs $SiCs;
#############################################
##### obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
############################################
######show t vs. pG of resultsum.dat 
###fntpG="tmp/t-pGmean"
###gnuplot <<EOF
###set term postscript;set output "$fntpG.eps";
###plot "resultsum.dat" using 1:2:(\$2-\$4):(\$2+\$5) w errorbars, "" using 1:2 w l lc rgb "blue"
###quit
###EOF
###### the following takes a lot of time to display via gnuplot
###cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
######fntpG="tmp/tpGall"
######gnuplot <<EOF
######set term postscript;set output "$fntpG.eps";
######plot "psdsum.dat" using 1:3 w d
######quit
######EOF
#########
######cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
###cmd="cat tmp/Ctotp.sh";echo "Manually Exec $cmd";$cmd
###export C1012="3 30 33 50 53 70 73 85 88 105 108 115 118 135 138 140 143 160 "; #Sequence of time points changing the class Ct,Co,Ct,Cp ...
###
####[2]
############################################
###### making training histgram for probabilistic prediction
###### class Cp: prompted speaker's digits, Co:other speaker's, Ct:transient
############################################
###t=0
###for CpG in "p" "t" "o" ; do   # CLASS of pG                        #LoopLevel1: for CpG 
###export CpG
###fb0=C${CpG}
###fbr=${d1}/resultp_${fb0}                                           ###???
###cat /dev/null > ${fb0}.dat
###cat psdsum.dat|awk 'BEGIN{CpG=ENVIRON["CpG"];}{
####area13
###  if(((CpG=="p")&&($1>=33)&&($1<43)) ||
###     ((CpG=="t")&&(($1>=30)&&($1<33) || ($1>=50)&&($1<57)))||
###     ((CpG=="o")&&($1>=20)&&($1<30))) 
####area1
####  if(((CpG=="p")&&($1>=23)&&($1<33)) ||
####     ((CpG=="t")&&(($1>=20)&&($1<23) || ($1>=40)&&($1<47)))||
####     ((CpG=="o")&&($1>=10)&&($1<20))) 
####area2
####  if(((CpG=="p")&&($1>=25)&&($1<35)) ||
####     ((CpG=="t")&&(($1>=20)&&($1<25) || ($1>=40)&&($1<45)))||
####     ((CpG=="o")&&($1>=10)&&($1<20))) 
###{print $3,$0;}}' >> ${fb0}.dat ; 
####wc ${fb0}.dat
###cmd1="cp ${fb0}.dat ${fbr}.dat"
###echo $cmd1;$cmd1
###np=10 #33-23            #number of prompted speaker's digits
###no=10 #20-10            #number of other speaker's digits
###nt=10 #(23-20)+(47-40)  #number of transient digits
##########################
###cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
###cat /dev/null > ${fbr}_PPtest.dat
###for sX_ in 0 1 2 3 4 5 6; do                                        #LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
##### divide 20000=2000*10 data into 10000=1000*10 each for train and test
###if [ "$CpG" = "p" ] ; then nd=$np; fi 
###if [ "$CpG" = "t" ] ; then nd=$nt; fi 
###if [ "$CpG" = "o" ] ; then nd=$no; fi 
###export sX_0=`expr $sX_ \* 2000 \* $nd`
###echo "sed -n -e \"`expr ${sX_0} + 1`,`expr ${sX_0} + 1000 \* $nd`p\"   ${fbr}.dat >> ${fbr}_PPtrain.dat"
###sed -n -e "`expr ${sX_0} + 1`,`expr ${sX_0} + 1000 \* $nd`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
###echo "sed -n -e \"`expr ${sX_0} + 1000 \* $nd + 1`,`expr ${sX_0} + 20000`p\" ${fbr}.dat >> ${fbr}_PPtest.dat"
###sed -n -e "`expr ${sX_0} + 1000 \* $nd + 1`,`expr ${sX_0} + 2000 \* $nd`p" ${fbr}.dat >> ${fbr}_PPtest.dat
###PPfiles="${PPfiles} ${fbr}"
###done #for sX_                                                       #Done:LoopLeve2:for sX_ in 0 1 2 3 4 5 6;
#######################################
###### Likelihood P(c_i|p_G) for Probabilistic Prediction 
###### Histgram by moving average of each class?
#######################################
###x0=0;ndiv=100;nmav=3
###cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
###echo $cmd; $cmd
###fhe=${d1}/hist-C${CpG}.eps
###cp $tmp/hist.eps $fhe
####gv $fhe&  #disp result
###cp $fhg.dat $tmp/histtmp.dat
###cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
###sleep 2;
###done #for CpG  in "p" "t" "o" ;                 #Done:LoopLevel1: for CpG 
###### insert first column to be the value of pG, while 2,3,4 columns P(c_i|p_G) for c_i=Cp, Ct, Co, respectively
###fpdg=$d1/ProbDistSpeaker
###cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
###cat /dev/null > $fpdg.dat
###cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat
###################################
###### Show Likelihood P(c_i|p_G), and p(p_G)
###################################
###gnuplot <<EOF
###set yrange [0:1.3]; set style data boxes; #set style data histeps
###set style fill solid border lc rgb "black"
###set term tgif;set output "$fpdg.obj";
###plot "$fpdg.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Prompted Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Transient", "" using 1:(\$4) lc rgb "red" t "Other Speaker"
###set term postscript;set output "$fpdg.eps";replot
###set term postscript;set output "$fpdg-pGdist.eps";plot "$fhg.dat" using 4:(\$1+\$2+\$3) lc rgb "green" t "p(p_G)"
###quit
###EOF
######show 
###cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&        #show p(c_i|p_G)
###cmd="gv $fpdg-pGdist.eps"; echo "Exec $cmd."; $cmd& #show p(pG)
###
###################################
##### evalloss
###################################
###d0=~/sotu/2015/can2b
###fpdg=$d1/ProbDistSpeaker #defined above
###foutall=pGall;cat /dev/null > ${foutall}.output ###all
###ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
###for CpG in "p" "t" "o" ; do   # CpG(phase) for w:prompted-word o:other-word, t:transient    #LoopLevel 1:for CpG  in "p" "o" "t" ; do
###if [ $CpG = "p" ] ; then Ctgt=0; ntest=`expr 7 \* 1000 \* ${np}`; fi #prompted
###if [ $CpG = "t" ] ; then Ctgt=1; ntest=`expr 7 \* 1000 \* ${nt}`; fi #transient
###if [ $CpG = "o" ] ; then Ctgt=2; ntest=`expr 7 \* 1000 \* ${no}`; fi #other
###fout=pG${CpG};cp ${d1}/resultp_C${CpG}_PPtest.dat ${fout}.output;#
####fout=${d1}/resultp_C${CpG}_PPtest.dat
###ftgt=C${Ctgt};cat /dev/null > ${ftgt}.target
####i=1;while [ $i -le $ntest ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 1000` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
###mktarget ${Ctgt} $ntest > ${ftgt}.target;
####cmd="wc ${ftgt}.target ${fout}.output";echo $cmd;$cmd check the number of lines in the files
###cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
###cat ${fout}.output >> ${foutall}.output; 
###cat ${ftgt}.target >> ${ftgtall}.target; ###all
###done #for CpG                                                                               #LoopLevel 1:for CpG  in "p" "o" "t" ; do
###cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
############ copy and paste to here for (1)
###
###
####beta:0.5:0.2  SiCs="3"(unregistered) bad but best?
####evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.025 0.147 0.547 0.673 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.682 0.764 0.814 1.111 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.566 0.416 0.686 1.000 3 273000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.438 0.396 0.668 0.929 3 469000 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
####beta:0.5:0.1  for area3 SiCs="3"(unregistered) bad but best?
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.002 0.009 0.439 0.446 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.889 0.834 0.870 1.157 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.212 0.256 0.408 0.692 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.368 0.366 0.572 0.765 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
####beta:0.5:0.1  for area3
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.002 0.027 0.237 0.237 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.235 0.747 1.332 1.401 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.006 0.150 0.156 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.079 0.260 0.573 0.598 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
####beta:0.5:0.1 best LNLP,LNLPD for area1
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.002 0.012 0.229 0.229 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.222 0.747 1.401 1.470 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.005 0.149 0.154 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.075 0.255 0.593 0.618 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:0.5:0.2 best LACE  for area1
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.003 0.031 0.385 0.385 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.484 0.712 2.211 2.312 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.005 0.148 0.153 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.162 0.249 0.915 0.950 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:1:0 = Bayes for area1
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.028 0.038 0.316 0.333 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.010 0.975 1.912 1.940 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.005 0.016 0.172 0.179 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.015 0.343 0.800 0.817 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:1:1 GEBI for area1
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.989 0.421 1.281 1.281 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.763 0.019 0.056 0.057 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.014 0.364 0.380 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.584 0.151 0.567 0.573 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:0.5:0.3 for area1
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.008 0.941 1.098 1.099 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.782 0.885 3.732 3.748 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.005 0.195 0.200 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.263 0.610 1.675 1.683 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:0.5:0.3 with 25 for area1
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##0.003 0.006 0.020 0.021 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.994 0.910 3.994 3.994 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.005 0.180 0.182 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.332 0.307 1.398 1.399 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
###
###
###201600131
############ copy and paste from here for (1)
###prog=speakerdigit_v6
###make 
###d1=../result-speaker_search; if [ ! -e $d1 ]; then mkdir $d1;fi
###d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
###d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
###d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
###d2=../../2012/12voicedata/iconip14data;d2sep=":"
###d2=../../2012/12voicedata/allpole;d2sep=":"
###d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
###SiCs4D="0";#SiCs4D="0 3 2";
###cat /dev/null > resultsum.dat
###for SD in "S"; do # SD="S"; SD="D";                                                            #LoopLevel1:for SD
###tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
###for gibbs in 1; do #for gibbs in 1 0; do                                                       #LoopLevel2:for gibbs
###if [ $gibbs -eq 1 ]; then 
###pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
###else
###pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
###fi
###fhg=$tmp/histSpeaker;cat /dev/null > $fhg.dat #Initialize
###if [ "$SD" = "D" ] ; then 
###SiCs=$SiCs4D;   #for only Correct speakers # SiCs="0";   #for only Correct speakers
###else 
###SiCs="2"; #for 3:Unregistered, 2:Incorrect SiCs="0 3 2"; #for Correct, Unregistered, Incorrect
###fi
###for iCd in 0; do  #for iCd in 0 1 2 3 4 5; do  ##                                              #LoopLevel3:for iCd in 0;
###for iCs in $SiCs; do       ### for iCs in 0 0 0; do for iconip2015 with SD=D and               #LoopLevel4:for iCs $SiCs;
####cat /dev/null > resultsum.dat          
###cat /dev/null > psdsum.dat
###for sX in 0 1 2 3 4 5 6; do sP=-1;                                                             #LoopLevel5:for sX in 0 1 2 3 4 5 6;
###test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
######
###if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
###cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:0.5:0.3 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:${iCs}:0:20:100:20:2 sX:$sX sP:$sP void:0";
####cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:0.5:0.3   ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:7:2000:2:0:20:60:20:2 sX:$sX sP:$sP void:0";
###else
####for d2 for file_names with under-bar "_", not colon ":"
###cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y fd:${d2}/oob4d_-1N100mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
###fi
###echo "Exec $cmd";$cmd > /dev/null
###cat $tmp/testsd_stat.dat >> resultsum.dat
###echo -e "\n" >> resultsum.dat
###cat $tmp/psd.dat >> psdsum.dat ########### <== $prog.c ,pG for speaker and digits ##psd.dat->psdsum.dat
###done #for sX excluded speaker                                                                  #done #LoopLevel5:for sX in 0 1 2 3 4 5 6;
###done # for iCs                                                                             #done LoopLevel4:for iCs $SiCs;
###done # for iCd                                                                             #done LoopLevel3:for iCd in 0;
######
###done #for gibbs in 1; do #for gibbs in 1 0; do                                                       #LoopLevel2:for gibbs
###done #for SD in "S"; do # SD="S"; SD="D";                                                            #LoopLevel1:for SD
######show the t-pG
###fntpG="tmp/t-pGmean"
###gnuplot <<EOF
###set term postscript;set output "$fntpG.eps";
###plot "resultsum.dat" using 1:2:(\$2-\$4):(\$2+\$5) w errorbars, "" using 1:2 w l lc rgb "blue"
###quit
###EOF
######
###cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
######fntpG="tmp/tpGall"
######gnuplot <<EOF
######set term postscript;set output "$fntpG.eps";
######plot "psdsum.dat" using 1:3 w d
######quit
######EOF
#########
######cmd="gv $fntpG.eps"; echo "Exec $cmd."; $cmd&
####plot "psdsum.dat" using 1:3
###
############################################# c
##### obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
############################################
###### making training and test data for S
############################################
######class histgram 
###for PH in "p" "t" "o" ; do   # PH(phase) for w:prompted-word o:other-word, t:transient    #LoopLevel 3:for PH  in "p" "o" "t" ; do
###fb0=C${PH}
###fbr=${d1}/resultp_${fb0}                                           ###???
###cat /dev/null > ${fb0}.dat
###export PH
###cat psdsum.dat|awk 'BEGIN{PH=ENVIRON["PH"];}{
###  if(((PH=="p")&&($1>=23)&&($1<33)) ||
###     ((PH=="t")&&(($1>=20)&&($1<23) || ($1>=40)&&($1<47)))||
###     ((PH=="o")&&($1>=10)&&($1<20))) {print $3,$0;}}' >> ${fb0}.dat ; 
####wc ${fb0}.dat
###cmd1="cp ${fb0}.dat ${fbr}.dat"
###echo $cmd1;$cmd1
###np=10 #33-23
###nt=10 #(23-20)+(47-40)
###no=10 #20-10
##########################
###cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
###cat /dev/null > ${fbr}_PPtest.dat
###for sX_ in 0 1 2 3 4 5 6; do                                                               #LoopLeve4:for sX_ in 0 1 2 3 4 5 6;
##### divide 20000=2000*10 data into 10000=1000*10 each for train and test
###if [ "$PH" = "p" ] ; then nd=$np; fi 
###if [ "$PH" = "t" ] ; then nd=$nt; fi 
###if [ "$PH" = "o" ] ; then nd=$no; fi 
###export sX_0=`expr $sX_ \* 2000 \* $nd`
###echo "sed -n -e \"`expr ${sX_0} + 1`,`expr ${sX_0} + 1000 \* $nd`p\"   ${fbr}.dat >> ${fbr}_PPtrain.dat"
###sed -n -e "`expr ${sX_0} + 1`,`expr ${sX_0} + 1000 \* $nd`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
###echo "sed -n -e \"`expr ${sX_0} + 1000 \* $nd + 1`,`expr ${sX_0} + 20000`p\" ${fbr}.dat >> ${fbr}_PPtest.dat"
###sed -n -e "`expr ${sX_0} + 1000 \* $nd + 1`,`expr ${sX_0} + 2000 \* $nd`p" ${fbr}.dat >> ${fbr}_PPtest.dat
###PPfiles="${PPfiles} ${fbr}"
###done #for sX_                                                                             #Done:LoopLeve4:for sX_ in 0 1 2 3 4 5 6;
###### Histgram by moving average of each class?
#######################################
###x0=0;ndiv=100;nmav=3
###cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
###echo $cmd; $cmd
###fhe=${d1}/hist-C${PH}.eps
###cp $tmp/hist.eps $fhe
####gv $fhe&  #disp result
###cp $fhg.dat $tmp/histtmp.dat
###cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
###sleep 2;
###done #for PH  in "p" "t" "o" ; do   # PH(phase) for w:prompted-word o:other-word, t:transient   #LoopLevel 5:for Wn  in 3 4 5;
############
###
#### Probability P(c_i|p_G) for Probabilistic Prediction (fpdg=$d1/ProbDistG${gibbs}${SD}) 
########
###fpdg=$d1/ProbDistSpeaker
###cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
###cat /dev/null > $fpdg.dat
#######
###cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$4, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat
###
#############
###gnuplot <<EOF
###set yrange [0:1.3]; set style data boxes; #set style data histeps
###set style fill solid border lc rgb "black"
###set term tgif;set output "$fpdg.obj";
###plot "$fpdg.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Prompted Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Transient", "" using 1:(\$4) lc rgb "red" t "Other Speaker"
###set term postscript;set output "$fpdg.eps";replot
###set term postscript;set output "$fpdg-pGdist.eps";plot "$fhg.dat" using 4:(\$1+\$2+\$3) lc rgb "green" t "Distribution of pG"
###quit
###EOF
######
###cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&
###cmd="gv $fpdg-pGdist.eps"; echo "Exec $cmd."; $cmd&
####evalloss
###########
###d0=~/sotu/2015/can2b
###fpdg=$d1/ProbDistSpeaker #defined above
###foutall=pGall;cat /dev/null > ${foutall}.output ###all
###ftgtall=Ctgtall;cat /dev/null > ${ftgtall}.target           ###all
###for PH in "p" "t" "o" ; do   # PH(phase) for w:prompted-word o:other-word, t:transient    #LoopLevel 3:for PH  in "p" "o" "t" ; do
###if [ $PH = "p" ] ; then Ctgt=0; ntest=`expr 7 \* 1000 \* ${np}`; fi
###if [ $PH = "t" ] ; then Ctgt=1; ntest=`expr 7 \* 1000 \* ${nt}`; fi #unregistered
###if [ $PH = "o" ] ; then Ctgt=2; ntest=`expr 7 \* 1000 \* ${no}`; fi #incorrect
###fout=pG${PH};cat /dev/null > ${fout}.output
###ftgt=C${Ctgt};cat /dev/null > ${ftgt}.target
###fb0=C${PH};fbr=${d1}/resultp_${fb0}                                           ###???
###cp ${fbr}_PPtest.dat ${fout}.output;#cat ${fbr}_PPtest.dat > ${fout}.output
####i=1;while [ $i -le $ntest ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 1000` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
###mktarget ${Ctgt} $ntest > ${ftgt}.target
###echo "wc ${ftgt}.target ${fout}.output"
###wc ${ftgt}.target ${fout}.output
###cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
###cat ${fout}.output >> ${foutall}.output; 
###cat ${ftgt}.target >> ${ftgtall}.target; ###all
###done #for PH
###cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:0.5:0";echo -n "#${cmd}##";$cmd
############ copy and paste to here for (1)
####beta:0.5:0.3
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##1.000 1.000 1.786 4.595 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.000 0.995 1.775 1.796 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.005 0.195 0.200 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.333 0.667 1.252 2.197 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:0.5:0.2
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##1.000 1.000 2.060 4.596 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.000 0.995 2.049 2.072 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.005 0.148 0.153 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.333 0.667 1.419 2.274 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####beta:0.5:0.4
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0##1.000 1.000 1.456 4.596 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0##0.000 0.996 1.447 1.473 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0##0.000 0.004 0.275 0.279 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0##0.333 0.667 1.059 2.116 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
###
#####beta:1:0.2
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C0.target o:pGp.output vth:0.5:0#1.000 1.000 2.059 4.588 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C1.target o:pGt.output vth:0.5:0#0.000 0.995 2.048 2.070 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:C2.target o:pGo.output vth:0.5:0#0.000 0.005 0.149 0.155 3 70000 #LAVE,LACE,LNLP,LNLPD,nC ndata
####/home/kuro/sotu/2015/can2b/evalloss4pG p:../result-speaker_search/ProbDistSpeaker.dat t:Ctgtall.target o:pGall.output vth:0.5:0 #0.333 0.667 1.419 2.271 3 210000 #LAVE,LACE,LNLP,LNLPD,nC ndata
###
###### good? 
####beta:0.5:0.3     2nd mountain shape
####beta:0.5:0.2 OK?
####beta:0.5:0.1 OK?
####beta:0.5:0   NG?
###
###cat psdsum.dat | awk '{if($2==100) print $2,$3,$1;}'|sort -n > tmp.dat
###cat psdsum.dat | awk '{if($2==100 && $5==0) print $0;}'|sort -n > tmp.dat
###
#####easy check of speakerdigit_v6.c from here
###20160125 speakerdigit_v6.c for speaker-retrieval
###speakerdigit_v6 fs:/home/kuro/sotu/2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1:0.2 ver:-2 pApAd:0.80:0.96 LAR:0:0:-1 test:7:2000:2:0:20:60:20:2 sX:0 sP:-1 void:0
###gnuplot; plot "tmp/testsd_stat.dat" using 1:2 w l
#####easy check to here
###
###
###
20160125 speakerdigit_v6.c for speaker search
#[a] gibbs:1:1:0=(gibbs:0   beta:1  )=(gibbs:1 beta:1:0) is conventional BI (Bayes Inference); result is bad
#[b] gibbs:1:0.2:0=(gibbs:0 beta:0.2)=(gibbs:1 beta:0.2:0) is better than [a], p^0.2
#[c] gibbs:1:0.1:0=(gibbs:0 beta:0.1)=(gibbs:1 beta:0.1:0) is better than [a] near to [b]? 
#[d] gibbs:1:0.05:0=(gibbs:0 beta:0.05)=(gibbs:1 beta:0.05:0) is better than [b]-[c] ;areas of correst and incorrect speakers become larger
#[e] gibbs:1:0.01:0=(gibbs:0 beta:0.01)=(gibbs:1 beta:0.01:0) is better than [b]-[d] ;areas of correst and incorrect speakers become much larger;        range of pG = [0.2, 0.75]
#[e] gibbs:1:0.005:0=(gibbs:0 beta:0.005)=(gibbs:1 beta:0.005:0) is better than [b]-[d] ;areas of correst and incorrect speakers become much much larger; range of pG = [0.33,0.64]
#######copy and paste from here for (1)
#### check new gibbs, bayes 
prog=speakerdigit_v6
make 
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
#d1c=../result-onsei_iCsiCd_d;
#d1=../result-onsei_iCsiCd; if [ ! -e $d1 ]; then mkdir $d1;fi
d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=../../2012/12voicedata/allpole;d2sep=":"
d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
SiCs4D="0";#SiCs4D="0 3 2";
for SD in "S" "D"; do # SD="S"; SD="D";
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
for gibbs in 1 0; do
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
fhg=$tmp/histG${gibbs}${SD};cat /dev/null > $fhg.dat #Initialize
if [ "$SD" = "D" ] ; then 
SiCs=$SiCs4D;   #for only Correct speakers # SiCs="0";   #for only Correct speakers
else 
SiCs="0 3 2"; #for Correct, Unregistered, Incorrect
fi
for iCd in 0 1 2 3 4 5; do  #################>>
for iCs in $SiCs; do       ### for iCs in 0 0 0; do for iconip2015 with SD=D and  <<<<##############!!!!
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
###
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:${d2}/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1:0.95 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";
#cmd="$prog fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:${d2}/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";
else
#for d2 for file_names with under-bar "_", not colon ":"
cmd="$prog fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y fd:${d2}/oob4d_-1N100mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
echo "Exec $cmd";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== $prog.c ,pG for speaker and digits ##psd.dat->psdsum.dat
done #for sX excluded speaker
########################################## choose t=15th pG1 and pB=pG0
## obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
#########################################
### making training and test data for S and D
#########################################
export t=15;
fb0=t-pG${t}${SD}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
cat /dev/null > ${fb0}.dat
#echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat #???
if [ "$SD" = "D" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for digits
if [ "$SD" = "S" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for speakers
#cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat   ##psdsum.dat ->fb0 for speakers
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#######################
##check#export t=15;fb0=t-pG${t}
##check#fbr=${d1c}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
for sX_ in 0 1 2 3 4 5 6; do 
export sX_1000=`expr $sX_ \* 2000`
echo "sed -n -e \"`expr ${sX_1000} + 1`,`expr ${sX_1000} + 1000`p\"   ${fbr}.dat >> ${fbr}_PPtrain.dat"
sed -n -e "`expr ${sX_1000} + 1`,`expr ${sX_1000} + 1000`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
echo "sed -n -e \"`expr ${sX_1000} + 1001`,`expr ${sX_1000} + 2000`p\" ${fbr}.dat >> ${fbr}_PPtest.dat"
sed -n -e "`expr ${sX_1000} + 1001`,`expr ${sX_1000} + 2000`p" ${fbr}.dat >> ${fbr}_PPtest.dat
PPfiles="${PPfiles} ${fbr}"
done #for sX_
####################################
### Histgram by moving average
####################################
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
#paste $tmp/histtmp.dat tmp/hist.dat > $fhg.dat
sleep 2;
########################
done # for iCs
done # for iCd
#####
# Probability P(c_i|p_G) for Probabilistic Prediction (fpdg=$d1/ProbDistG${gibbs}${SD}) 
#####
fpdg=$d1/ProbDistG${gibbs}${SD}
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
####
if [ "$SD" = "D" ]; then #for 3=number of iCs candidates
if [ "$SiCs4D" = "0" ]; then
cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;p3sum=$4;p4sum=$5;p5sum=$6;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$7, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg.dat
else
cat $fhg.dat|awk '{p0sum=$1+$2+$3;p1sum=$4+$5+$6;p2sum=$7+$8+$9;p3sum=$10+$11+$12;p4sum=$13+$14+$15;p5sum=$16+$17+$18;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg.dat
fi
else #####if [ "$SD" = "S" ]; then
cat $fhg.dat|awk '{p0sum=$1+$4+$7+$10+$13+$16;p1sum=$2+$5+$8+$11+$14+$17;p2sum=$3+$6+$9+$12+$15+$18;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat
fi
##########
if [ "$SD" = "D" ]; then
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "$fpdg.eps";replot
quit
EOF
else
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Correct Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Unregistered Speaker", "" using 1:(\$4) lc rgb "red" t "Incorrect Speaker"
set term postscript;set output "$fpdg.eps";replot
quit
EOF
fi
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&
#######
done #for gibbs
done #for SD 
######### copy and paste to here for (1)
##################
#(2)evalloss
################
#(2-1) eval loss for S
###########copy and paste from here for (2-1)
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=../../2012/12voicedata/allpole;d2sep=":"
d0=~/sotu/2015/can2b
d0=../can2b
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
cd $d1;
SD="S";# 
export Cth=0; ## threshold for LAVE in verification using threshold
for gibbs in 1 0; do
if [ $gibbs = "1" ]; then pGth=0.80; else pGth=0.99; fi; ## threshold for LAVE in verification using threshold
foutall=PG${gibbs}Call${SD};cat /dev/null >${foutall}.output ###all
ftgtall=Call${SD};cat /dev/null > ${ftgtall}.target           ###all
for iCs in 0 3 2; do       
if [ $iCs = "0" ] ; then Ctgt=0; fi
if [ $iCs = "3" ] ; then Ctgt=1; fi #unregistered
if [ $iCs = "2" ] ; then Ctgt=2; fi #incorrect
fout=PG${gibbs}C${Ctgt}${SD}
ftgt=C${Ctgt}${SD}
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
for iCd in 0 1 2 3 4 5; do  #################>>
t=15
fb0=t-pG${t}${SD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
#i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
mktarget ${Ctgt} $7000 > ${ftgt}.target;
done #for iCd
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
fpdg=ProbDistG${gibbs}${SD}
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:$pGth:$Cth" 
echo -n "#$cmd ##";$cmd
done #for iCs
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:$pGth:$Cth"; echo -n "##$cmd ##";$cmd; ###all
done #for gibbs
cd -






20151204
(1) oob4speakerdigit+sX.cの出力ファイル名を
  (旧) ../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}.ystat
  (新) ../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}nS${nS}nD${nD}.ystat
    のようにした?
see 20140502 at mesaho
0 zero rei 
1 ichi
2 ni
3 san
4 yon si 
5 go
6 roku
7 nana sichi
8 hachi 
9 kyu ku 

zero:rei:ichi:ni:san:yon:si:go:roku:nana:sichi:hachi:kyu:ku 
zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu:rei:si:sichi:ku 

(1) tune a,b,N via checking error for sX of speaker-CAN2
make data-clean
IDR="_B";#ID to discriminate the Result
IDR="_A";#ID to discriminate the Result
a=1.6;b=300;N=40;IDR="_A"
for sX in -1 0 1 2 3 4 5 6; do
#cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole s:-1 N:${N} sX:${sX}"
#cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:rei:ichi:ni:san:yon:si:go:roku:nana:sichi:hachi:kyu:ku ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole s:-1 N:${N} sX:${sX} IDR:_B"
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu:rei:si:sichi:ku ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole s:-1 N:${N} sX:${sX} IDR:_A"
echo $cmd;$cmd
cmd1="cat ../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}${IDR}.ystat"
echo $cmd1;$cmd1
done
# for check UnReg error
a=1.6;b=300;N=40;IDR="_A";for sX in -1 0 1 2 3 4 5 6; do speakerdigit_v5 fs:../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}${IDR}.y nSDL:7:14:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:: LAR:0:0:-1 test:5:1000:3:0:5:15 sX:${sX} void:0 |grep "#TP">TP.dat;echo -n "#a${a}b${b}N${N} ";cat TP.dat; done
#a1.6b300N40 #TP0.924 TN0.975 ER1.468e-05 n6860(Reg)
#a1.6b300N40 #TP0.927 TN0.978 ER1.616e-05 n5880(Reg) TP0.000 TN0.909 ER9.267e-05 n980(UnReg:sX0) TP0.794 TN0.966 ER3.491e-05 n6860(All)
#a1.6b300N40 #TP0.929 TN0.981 ER1.542e-05 n5880(Reg) TP0.000 TN0.910 ER9.163e-05 n980(UnReg:sX1) TP0.808 TN0.969 ER3.243e-05 n6860(All)
#a1.6b300N40 #TP0.935 TN0.980 ER1.451e-05 n5880(Reg) TP0.000 TN0.897 ER1.052e-04 n980(UnReg:sX2) TP0.796 TN0.967 ER3.458e-05 n6860(All)
#a1.6b300N40 #TP0.938 TN0.980 ER1.394e-05 n5880(Reg) TP0.000 TN0.917 ER8.434e-05 n980(UnReg:sX3) TP0.812 TN0.970 ER3.176e-05 n6860(All)
#a1.6b300N40 #TP0.937 TN0.977 ER1.468e-05 n5880(Reg) TP0.000 TN0.919 ER8.226e-05 n980(UnReg:sX4) TP0.801 TN0.967 ER3.381e-05 n6860(All)
#a1.6b300N40 #TP0.929 TN0.977 ER1.613e-05 n5880(Reg) TP0.000 TN0.906 ER9.579e-05 n980(UnReg:sX5) TP0.788 TN0.965 ER3.601e-05 n6860(All)
#a1.6b300N40 #TP0.927 TN0.980 ER1.572e-05 n5880(Reg) TP0.000 TN0.924 ER7.705e-05 n980(UnReg:sX6) TP0.817 TN0.971 ER3.083e-05 n6860(All)


(2) tune a,b,N via checking error for sX of digit-CAN2
#see 2013/02/27
IDR="_B";#ID to discriminate the Result
IDR="_A";#ID to discriminate the Result
a=1.6;b=300;N=100
for sX in -1 0 1 2 3 4 5 6; do
#cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole d:-1 N:${N} sX:$sX"
#cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:rei:ichi:ni:san:yon:si:go:roku:nana:sichi:hachi:kyu:ku ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole d:-1 N:${N} sX:$sX IDR:_B"
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu:rei:si:sichi:ku ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole d:-1 N:${N} sX:$sX IDR:_A"
echo $cmd;$cmd
cmd1="cat ../../2012/12voicedata/allpole/oob4d:-1N${N}mbas2:${b}:${a}:1sX${sX}${IDR}.ystat"
echo $cmd1;$cmd1
done
# for check UnReg error
a=1.6;b=300;N=100;IDR="_A";for sX in -1 0 1 2 3 4 5 6; do speakerdigit_v5 fd:../../2012/12voicedata/allpole/oob4d:-1N${N}mbas2:${b}:${a}:1sX${sX}${IDR}.y nSDL:7:14:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:: LAR:0:0:-1 test:5:1000:3:0:5:15 sX:${sX} void:0 |grep "#TP">TP.dat;echo -n "#a${a}b${b}N${N} ";cat TP.dat; done
#a1.6b300N100 #TP0.940 TN0.992 ER4.960e-06 n13720(Reg)
#a1.6b300N100 #TP0.931 TN0.995 ER6.331e-06 n11760(Reg) TP0.214 TN0.964 ER4.194e-04 n1960(UnReg:sX0) TP0.867 TN0.990 ER1.044e-05 n13720(All)
#a1.6b300N100 #TP0.936 TN0.995 ER5.895e-06 n11760(Reg) TP0.257 TN0.960 ER3.995e-04 n1960(UnReg:sX1) TP0.865 TN0.990 ER1.055e-05 n13720(All)
#a1.6b300N100 #TP0.932 TN0.994 ER6.284e-06 n11760(Reg) TP0.579 TN0.977 ER2.268e-04 n1960(UnReg:sX2) TP0.889 TN0.992 ER8.716e-06 n13720(All)
#a1.6b300N100 #TP0.938 TN0.995 ER5.731e-06 n11760(Reg) TP0.450 TN0.983 ER2.893e-04 n1960(UnReg:sX3) TP0.903 TN0.993 ER7.562e-06 n13720(All)
#a1.6b300N100 #TP0.937 TN0.995 ER5.755e-06 n11760(Reg) TP0.393 TN0.974 ER3.232e-04 n1960(UnReg:sX4) TP0.896 TN0.992 ER8.159e-06 n13720(All)
#a1.6b300N100 #TP0.948 TN0.996 ER4.828e-06 n11760(Reg) TP0.671 TN0.990 ER1.730e-04 n1960(UnReg:sX5) TP0.930 TN0.995 ER5.486e-06 n13720(All)
#a1.6b300N100 #TP0.952 TN0.997 ER4.337e-06 n11760(Reg) TP0.386 TN0.972 ER3.277e-04 n1960(UnReg:sX6) TP0.907 TN0.993 ER7.312e-06 n13720(All)



##################

20151027<-20151016
(1) 坂下君のPCでコンパイルしたものは、発生した乱数が黒木のものと違う。
　　　zmtrandを使い、seedも設定しているのに違うのはおかしい！
　　　確認は坂下君と黒木のPCで実行しながら比べるしかない？
speakerdigit_v5 fd:/home/kuro/sotu/2012/12voicedata/allpole/oob4d:-1N100mbas2:300:1.6:1sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:0.80:0.96 LAR:0:0:-1 test:5:2000:0:0:5:15 sX:0 sP:-1 void:0
head  tmp/testsd_stat.dat
diff tmp/testsd.dat ~/sotu/2015/can2b/tmp/testsd.dat
head -1045 tmp/testsd.dat

(2) evalloss4pG.cで、エラー値"inf"がでていたがこれはlog(p)=log(0)を計算していたから。
　　そこでpはPmin=0.01からPmax=0.99で頭打ちするようにした。

#################################################################################
20151027<-20151008修正<- 20151008若干修正 <- 20150917修正 <- 20150915
(0) L_{ACE}, L_{NLP}, L_{NLPD}を計算するCプログラム evalloss4pG.c を作成し、実行スクリプト（下記）を修正した．
  (0-1) 坂下君が求めたICONIP2015の論文
         http://kurolab.cntl.kyutech.ac.jp/~kuro/sotu/2015/15iconip/iconip15speech+.pdf
        のFig.3やTable1の結果と違う
      原因１：ICONIP2015の数字分類の結果は、正解話者のみについて行ったもの。
　　　　　　　　(下のスクリプトでSiCs4D="0";としたもの)
      原因２：コンパイルの結果の実行可能ファイルspeakerdigit_v5が、坂下君と黒木のPCで違う（PC,ホストOS,コンパイラ等の違い？）。
　　　→坂下君のPCでコンパイルしたspeakerdigit_v5を使って下の実験をした結果、
　　　　まったく同じではないが、ほぼ同じ値の傾向をもつ結果が得られた？
　(0-2) 以下の(1),(2-1),(2-2),(2-3)は実行例を示す。

#####################
#(1) 数字 and 話者 combined by kuro from the scripts by Sakashita
#iCs=0;iCd=0; # test correct (registered) speaker
#iCs=1;iCd=0; # test incorrect registered and unregistered sX 
#iCs=3;iCd=0; # test (incorrect) unregistered sX 
#iCs=2;iCd=0; # test incorrect registered
#######copy and paste from here for (1)
make 
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
#d1c=../result-onsei_iCsiCd_d;
#d1=../result-onsei_iCsiCd; if [ ! -e $d1 ]; then mkdir $d1;fi
d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=../../2012/12voicedata/allpole;d2sep=":"
d2=~/sotu/2012/12voicedata/allpole;d2sep=":"
SiCs4D="0";#SiCs4D="0 3 2";
for SD in "S" "D"; do # SD="S"; SD="D";
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
for gibbs in 1 0; do
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
fhg=$tmp/histG${gibbs}${SD};cat /dev/null > $fhg.dat #Initialize
if [ "$SD" = "D" ] ; then 
SiCs=$SiCs4D;   #for only Correct speakers # SiCs="0";   #for only Correct speakers
else 
SiCs="0 3 2"; #for Correct, Unregistered, Incorrect
fi
for iCd in 0 1 2 3 4 5; do  #################>>
for iCs in $SiCs; do       ### for iCs in 0 0 0; do for iconip2015 with SD=D and  <<<<##############!!!!
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
###
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="speakerdigit_v5 fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:${d2}/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
else
#for d2 for file_names with under-bar "_", not colon ":"
cmd="speakerdigit_v5 fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y fd:${d2}/oob4d_-1N100mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c ,pG for speaker and digits ##psd.dat->psdsum.dat
done #for sX excluded speaker
########################################## choose t=15th pG1 and pB=pG0
## obtained psdsum.dat consists of lines involving (1)t(step),(2)n(number of data),(3)test->pGC[n][t](pGs),(4)test->pGCd[n][t](pGd),(5)sX
#########################################
### making training and test data for S and D
#########################################
export t=15;
fb0=t-pG${t}${SD}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
cat /dev/null > ${fb0}.dat
#echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat #???
if [ "$SD" = "D" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for digits
if [ "$SD" = "S" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for speakers
#cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat   ##psdsum.dat ->fb0 for speakers
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#######################
##check#export t=15;fb0=t-pG${t}
##check#fbr=${d1c}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
for sX_ in 0 1 2 3 4 5 6; do 
export sX_1000=`expr $sX_ \* 2000`
echo "sed -n -e \"`expr ${sX_1000} + 1`,`expr ${sX_1000} + 1000`p\"   ${fbr}.dat >> ${fbr}_PPtrain.dat"
sed -n -e "`expr ${sX_1000} + 1`,`expr ${sX_1000} + 1000`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
echo "sed -n -e \"`expr ${sX_1000} + 1001`,`expr ${sX_1000} + 2000`p\" ${fbr}.dat >> ${fbr}_PPtest.dat"
sed -n -e "`expr ${sX_1000} + 1001`,`expr ${sX_1000} + 2000`p" ${fbr}.dat >> ${fbr}_PPtest.dat
PPfiles="${PPfiles} ${fbr}"
done #for sX_
####################################
### Histgram by moving average
####################################
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
#paste $tmp/histtmp.dat tmp/hist.dat > $fhg.dat
sleep 2;
########################
done # for iCs
done # for iCd
#####
# Probability P(c_i|p_G) for Probabilistic Prediction (fpdg=$d1/ProbDistG${gibbs}${SD}) 
#####
fpdg=$d1/ProbDistG${gibbs}${SD}
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
####
if [ "$SD" = "D" ]; then #for 3=number of iCs candidates
if [ "$SiCs4D" = "0" ]; then
cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;p3sum=$4;p4sum=$5;p5sum=$6;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$7, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg.dat
else
cat $fhg.dat|awk '{p0sum=$1+$2+$3;p1sum=$4+$5+$6;p2sum=$7+$8+$9;p3sum=$10+$11+$12;p4sum=$13+$14+$15;p5sum=$16+$17+$18;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg.dat
fi
else #####if [ "$SD" = "S" ]; then
cat $fhg.dat|awk '{p0sum=$1+$4+$7+$10+$13+$16;p1sum=$2+$5+$8+$11+$14+$17;p2sum=$3+$6+$9+$12+$15+$18;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat
fi
##########
if [ "$SD" = "D" ]; then
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "$fpdg.eps";replot
quit
EOF
else
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Correct Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Unregistered Speaker", "" using 1:(\$4) lc rgb "red" t "Incorrect Speaker"
set term postscript;set output "$fpdg.eps";replot
quit
EOF
fi
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&
#######
done #for gibbs
done #for SD 
######### copy and paste to here for (1)


##################
#(2)evalloss
################
#(2-0S) eval L_AVE for S
################

#(2-1) eval loss for S
###########copy and paste from here for (2-1)
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=../../2012/12voicedata/allpole;d2sep=":"
d0=~/sotu/2015/can2b
d0=../can2b
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
cd $d1;
SD="S";# 
export Cth=0; ## threshold for LAVE in verification using threshold
for gibbs in 1 0; do
if [ $gibbs = "1" ]; then pGth=0.80; else pGth=0.99; fi; ## threshold for LAVE in verification using threshold
foutall=PG${gibbs}Call${SD};cat /dev/null >${foutall}.output ###all
ftgtall=Call${SD};cat /dev/null > ${ftgtall}.target           ###all
for iCs in 0 3 2; do       
if [ $iCs = "0" ] ; then Ctgt=0; fi
if [ $iCs = "3" ] ; then Ctgt=1; fi #unregistered
if [ $iCs = "2" ] ; then Ctgt=2; fi #incorrect
fout=PG${gibbs}C${Ctgt}${SD}
ftgt=C${Ctgt}${SD}
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
for iCd in 0 1 2 3 4 5; do  #################>>
t=15
fb0=t-pG${t}${SD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
#i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
mktarget ${Ctgt} $7000 > ${ftgt}.target;
done #for iCd
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
fpdg=ProbDistG${gibbs}${SD}
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:$pGth:$Cth" 
echo -n "#$cmd ##";$cmd
done #for iCs
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:$pGth:$Cth"; echo -n "##$cmd ##";$cmd; ###all
done #for gibbs
cd -
###########copy and paste to here for (2-1)
###(2-1)result for d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC
#../can2b/evalloss4pG p:ProbDistG1S.dat t:C0S.target o:PG1C0S.output vth:0.80:0      ##0.001 0.003 0.015 0.015 3 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1S.dat t:C1S.target o:PG1C1S.output vth:0.80:0      ##0.011 0.073 0.221 0.221 3 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1S.dat t:C2S.target o:PG1C2S.output vth:0.80:0      ##0.000 0.025 0.093 0.093 3 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
##../can2b/evalloss4pG p:ProbDistG1S.dat t:CallS.target o:PG1CallS.output vth:0.80:0 ##0.004 0.033 0.110 0.110 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0S.dat t:C0S.target o:PG0C0S.output vth:0.99:0      ##0.049 0.029 0.132 0.156 3 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0S.dat t:C1S.target o:PG0C1S.output vth:0.99:0      ##0.051 0.761 1.006 1.012 3 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0S.dat t:C2S.target o:PG0C2S.output vth:0.99:0      ##0.001 0.018 0.447 0.459 3 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
##../can2b/evalloss4pG p:ProbDistG0S.dat t:CallS.target o:PG0CallS.output vth:0.99:0 ##0.033 0.269 0.528 0.542 3 126000 #LAVE,LACE,LNLP,LNLPD,nC ndata


###result for gibbs=1, d2=../../2012/12voicedata/allpole;d2sep=":" by the executables complied on Kurogi's  PC(yuka and mesasho gave same result)=same as 20151016sakashita's
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C0S.target o:PG1C0S.output #LACE=0.00311905 LNLP=0.00820782 LNLPD=0.0110817 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C1S.target o:PG1C1S.output #LACE=0.0715952 LNLP=0.220935 LNLPD=0.220935 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C2S.target o:PG1C2S.output #LACE=0.0250476 LNLP=inf LNLPD=0.0966982 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:CallS.target o:PG1CallS.output #LACE=0.033254 LNLP=inf LNLPD=0.109572 nC=3 ndata=126000
###result for gibbs=0
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C0S.target o:PG0C0S.output #LACE=0.0260714 LNLP=0.13552 LNLPD=0.165152 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C1S.target o:PG0C1S.output #LACE=0.762095 LNLP=1.0172 LNLPD=1.02355 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C2S.target o:PG0C2S.output #LACE=0.0181429 LNLP=0.439341 LNLPD=0.457513 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:CallS.target o:PG0CallS.output #LACE=0.26877 LNLP=0.530689 LNLPD=0.548739 nC=3 ndata=126000

#(2-1)結果 sakashita's 20151016
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1S.dat t:C0S.target o:PG1C0S.output #LACE=0.00311905 LNLP=0.00820782 LNLPD=0.0110817 nC=3 ndata=42000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1S.dat t:C1S.target o:PG1C1S.output #LACE=0.0715952 LNLP=0.220935 LNLPD=0.220935 nC=3 ndata=42000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1S.dat t:C2S.target o:PG1C2S.output #LACE=0.0250476 LNLP=inf LNLPD=0.0966982 nC=3 ndata=42000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1S.dat t:CallS.target o:PG1CallS.output #LACE=0.033254 LNLP=inf LNLPD=0.109572 nC=3 ndata=126000

home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0S.dat t:C0S.target o:PG0C0S.output #LACE=0.0260714 LNLP=0.13552 LNLPD=0.165152 nC=3 ndata=42000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0S.dat t:C1S.target o:PG0C1S.output #LACE=0.762095 LNLP=1.0172 LNLPD=1.02355 nC=3 ndata=42000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0S.dat t:C2S.target o:PG0C2S.output #LACE=0.0181429 LNLP=0.439341 LNLPD=0.457513 nC=3 ndata=42000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0S.dat t:CallS.target o:PG0CallS.output #LACE=0.26877 LNLP=0.530689 LNLPD=0.548739 nC=3 ndata=126000

#(2-2) eval loss for D 
###########copy and paste from here for (2-2)
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=../../2012/12voicedata/allpole;d2sep=":"
d0=../can2b; #d0=~/sotu/2015/can2b; #d0=`pwd`
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
SD="D"; 
export Cth=1; #Cth=0; ## threshold for LAVE in verification using threshold
SiCs4D="0";###SiCs4D="0 3 2";
cd $d1;
for gibbs in 1 0; do
if [ $gibbs = "1" ]; then pGth=0.96; else pGth=0.80; fi; ## threshold for LAVE in verification using threshold
foutall=PG${gibbs}Call${SD};cat /dev/null >${foutall}.output ###all
ftgtall=Call${SD};cat /dev/null > ${ftgtall}.target           ###all
for iCd in 0 1 2 3 4 5; do  #################>>
Ctgt=$iCd;
fout=PG${gibbs}C${Ctgt}${SD}
ftgt=C${Ctgt}${SD}
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
for iCs in $SiCs4D; do       ####### for iCs in 0 0 0; do #for iconip2015 with SD="D" ##############!!!!!!!
t=15
fb0=t-pG${t}${SD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
done #for iCs
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
fpdg=ProbDistG${gibbs}${SD}
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output vth:$pGth:$Cth"
echo -n "#$cmd ##";$cmd
done #for iCd
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output vth:$pGth:$Cth"; echo -n "##$cmd ##";$cmd; ###all
done #for gibbs
###########copy and paste to here for (2-2)
#(2-2)result for d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC Cth=1
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output vth:0.96:1      ##0.007 0.014 0.392 0.397 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output vth:0.96:1      ##0.163 0.786 0.988 0.999 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output vth:0.96:1      ##0.000 0.048 0.164 0.180 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output vth:0.96:1      ##0.000 0.044 0.131 0.142 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output vth:0.96:1      ##0.000 0.102 0.224 0.228 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output vth:0.96:1      ##0.000 0.030 0.136 0.140 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
##../can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output vth:0.96:1 ##0.028 0.171 0.339 0.348 6 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output vth:0.80:1      ##0.013 0.015 0.762 0.807 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output vth:0.80:1      ##0.220 1.000 0.595 1.230 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output vth:0.80:1      ##0.597 0.773 0.694 1.665 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output vth:0.80:1      ##0.370 0.874 0.671 1.726 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output vth:0.80:1      ##0.208 0.692 0.826 1.188 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output vth:0.80:1      ##0.001 0.004 0.569 0.583 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
##../can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output vth:0.80:1 ##0.235 0.560 0.686 1.200 6 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata

#../can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output vth:0.96:1      ##0.007 0.014 0.392 0.397 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output vth:0.96:1      ##0.163 0.786 0.988 0.998 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output vth:0.96:1      ##0.000 0.048 0.164 0.178 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output vth:0.96:1      ##0.000 0.044 0.131 0.141 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output vth:0.96:1      ##0.000 0.102 0.224 0.228 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output vth:0.96:1      ##0.000 0.030 0.136 0.139 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
##../can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output vth:0.96:1 ##0.028 0.171 0.339 0.347 6 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output vth:0.80:1      ##0.013 0.015 0.762 0.806 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output vth:0.80:1      ##0.220 1.000 0.595 1.227 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output vth:0.80:1      ##0.597 0.773 0.694 1.665 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200 ???
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output vth:0.80:1      ##0.370 0.874 0.671 1.726 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output vth:0.80:1      ##0.208 0.692 0.826 1.184 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
#../can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output vth:0.80:1      ##0.001 0.004 0.569 0.583 6 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200
##../can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output vth:0.80:1 ##0.235 0.560 0.686 1.199 6 42000 #LAVE,LACE,LNLP,LNLPD,nC ndata -log(PGmin=0.015)=4.200


#20151026 modified for exclude inf?d2=../../2012/12voicedata/allpole;d2sep=":" by the executables complied on Kurogi's  PC(yuka and mesasho gave same result)
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.014 LNLP=0.396 LNLPD=0.402 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.772 LNLP=0.961 LNLPD=0.967 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.047 LNLP=0.177 LNLPD=0.188 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.053 LNLP=0.150 LNLPD=0.163 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.115 LNLP=0.247 LNLPD=0.249 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.025 LNLP=0.129 LNLPD=0.131 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
 #/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.171 LNLP=0.343 LNLPD=0.350 nC=6 ndata=42000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.013 LNLP=0.753 LNLPD=0.792 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=0.988 LNLP=0.612 LNLPD=1.246 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.810 LNLP=0.674 LNLPD=1.669 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.868 LNLP=0.684 LNLPD=1.735 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.686 LNLP=0.833 LNLPD=1.175 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.003 LNLP=0.561 LNLPD=0.572 nC=6 ndata=7000 (LNLP,LNPD<-log(PGmin=0.015)=4.200
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.561 LNLP=0.686 LNLPD=1.198 nC=6 ndata=42000 (LNLP,LNPD<-log(PGmin=0.015)=4.200


###result for gibbs=1, d2=../../2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.0144286 LNLP=0.392493 LNLPD=0.409651 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.786286 LNLP=0.987587 LNLPD=1.03476 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.0477143 LNLP=0.16374 LNLPD=0.194228 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.0438571 LNLP=0.130509 LNLPD=0.143428 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.102429 LNLP=0.224494 LNLPD=0.228925 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.0297143 LNLP=0.135753 LNLPD=0.14749 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.170738 LNLP=0.339096 LNLPD=0.359746 nC=6 ndata=42000
###result for gibbs=0, d2=../../2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.015 LNLP=0.761659 LNLPD=0.81168 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=1 LNLP=0.595188 LNLPD=1.23937 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.773143 LNLP=0.693672 LNLPD=1.66523 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.873857 LNLP=0.670897 LNLPD=1.72637 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.691714 LNLP=0.826376 LNLPD=1.20543 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.004 LNLP=0.569131 LNLPD=0.596444 nC=6 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.559619 LNLP=0.686154 LNLPD=1.20742 nC=6 ndata=42000


20151016sakashita
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.014 LNLP=0.396173 LNLPD=0.421024 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.772286 LNLP=0.961032 LNLPD=0.986118 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.0471429 LNLP=0.178163 LNLPD=0.222503 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.0532857 LNLP=0.148935 LNLPD=0.174225 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.114571 LNLP=0.246902 LNLPD=0.249733 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.0251429 LNLP=0.128831 LNLPD=0.132246 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.171071 LNLP=0.343339 LNLPD=0.364308 nC=6 ndata=42000

home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.0125714 LNLP=0.75319 LNLPD=0.803889 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=0.988429 LNLP=0.612412 LNLPD=1.25662 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.810429 LNLP=0.674074 LNLPD=1.66881 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.867714 LNLP=0.684469 LNLPD=1.73523 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.685857 LNLP=0.832923 LNLPD=1.24381 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.00314286 LNLP=0.560798 LNLPD=0.573545 nC=6 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.561357 LNLP=0.686311 LNLPD=1.21365 nC=6 ndata=42000


#(2-3) eval loss for D with the combied class new class C0,C1,..,C4 for old {C0 \cup C1}, C2, C3, C4, C5
###########copy and paste from here for (2-3)
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=../../2012/12voicedata/allpole;d2sep=":"
d0=../can2b; #d0=~/sotu/2015/can2b; #d0=`pwd`
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
SD="D"; 
export Cth=0; ## threshold for LAVE in verification using threshold
SiCs4D="0";#SiCs4D="0 3 2";
cd $d1

for gibbs in 1 0; do
fpdg=ProbDistG${gibbs}${SD}
fpdg4=ProbDistG${gibbs}${SD}4
cat /dev/null > ${fpdg4}.dat
cat ${fpdg}.dat |awk '{print $1,$2+$3,$4,$5,$6,$7}' >> ${fpdg4}.dat
done #for gibbs

#######
for gibbs in 1 0; do
if [ $gibbs = "1" ]; then pGth=0.96; else pGth=0.80; fi; ## threshold for LAVE in verification using threshold
foutall=PG${gibbs}Call${SD}4;cat /dev/null >${foutall}.output ###all
ftgtall=Call${SD}4;cat /dev/null > ${ftgtall}.target           ###all
for iCd in 0 1 2 3 4 5; do  #################>>
if [ $iCd -le 1 ] ; then iCd4=0; else iCd4=`expr $iCd - 1`; fi
Ctgt=$iCd4;
fout=PG${gibbs}C${Ctgt}${SD}4
ftgt=C${Ctgt}${SD}4
if [ $iCd -ne 1 ] ; then 
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
fi
for iCs in $SiCs4D; do #for iconip2015 with SD="D" ##############!!!!!!!
t=15
fb0=t-pG${t}${SD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
done #for iCs
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
if [ $iCd -ne 0 ] ; then 
fpdg4=ProbDistG${gibbs}${SD}4
cmd="$d0/evalloss4pG p:${fpdg4}.dat t:${ftgt}.target o:${fout}.output vth:$pGth:$Cth"
echo -n "#$cmd ##";$cmd
fi
done #for iCd
cmd="$d0/evalloss4pG p:${fpdg4}.dat t:${ftgtall}.target o:${foutall}.output vth:$pGth:$Cth"; echo -n "##$cmd ##";$cmd; ###all
done #for gibbs
cd -
###########copy and paste to here for (2-3)
###(2-3)result for d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC Cth=0
#../can2b/evalloss4pG p:ProbDistG1D4.dat t:C0D4.target o:PG1C0D4.output vth:0.96:0      ##0.085 0.024 0.069 0.072 5 14000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D4.dat t:C1D4.target o:PG1C1D4.output vth:0.96:0      ##0.000 0.048 0.172 0.180 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata ?class with maximum p is affected?
#../can2b/evalloss4pG p:ProbDistG1D4.dat t:C2D4.target o:PG1C2D4.output vth:0.96:0      ##0.000 0.044 0.131 0.142 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata 
#../can2b/evalloss4pG p:ProbDistG1D4.dat t:C3D4.target o:PG1C3D4.output vth:0.96:0      ##0.000 0.102 0.224 0.228 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG1D4.dat t:C4D4.target o:PG1C4D4.output vth:0.96:0      ##0.000 0.030 0.136 0.140 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
##../can2b/evalloss4pG p:ProbDistG1D4.dat t:CallD4.target o:PG1CallD4.output vth:0.96:0 ##0.025 0.039 0.116 0.121 5 49000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D4.dat t:C0D4.target o:PG0C0D4.output vth:0.80:0      ##0.117 0.119 0.276 0.391 5 14000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D4.dat t:C1D4.target o:PG0C1D4.output vth:0.80:0      ##0.597 0.780 1.146 1.665 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata ?class with maximum p is affected?
#../can2b/evalloss4pG p:ProbDistG0D4.dat t:C2D4.target o:PG0C2D4.output vth:0.80:0      ##0.370 0.874 0.816 1.726 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D4.dat t:C3D4.target o:PG0C3D4.output vth:0.80:0      ##0.208 0.692 0.830 1.188 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
#../can2b/evalloss4pG p:ProbDistG0D4.dat t:C4D4.target o:PG0C4D4.output vth:0.80:0      ##0.001 0.004 0.569 0.583 5 7000 #LAVE,LACE,LNLP,LNLPD,nC ndata
##../can2b/evalloss4pG p:ProbDistG0D4.dat t:CallD4.target o:PG0CallD4.output vth:0.80:0 ##0.203 0.372 0.594 0.887 5 49000 #LAVE,LACE,LNLP,LNLPD,nC ndata


#resutl for sakashita's result 20151016 = Kurogi's result
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C0D4.target o:PG1C0D4.output #LACE=0.021 LNLP=0.0525519 LNLPD=0.0640817 nC=5 ndata=14000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C1D4.target o:PG1C1D4.output #LACE=0.0471429 LNLP=0.186058 LNLPD=0.222503 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C2D4.target o:PG1C2D4.output #LACE=0.0532857 LNLP=0.148935 LNLPD=0.174225 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C3D4.target o:PG1C3D4.output #LACE=0.114571 LNLP=0.246902 LNLPD=0.249733 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C4D4.target o:PG1C4D4.output #LACE=0.0251429 LNLP=0.128831 LNLPD=0.132246 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:CallD4.target o:PG1CallD4.output #LACE=0.0405714 LNLP=0.117284 LNLPD=0.130293 nC=5 ndata=49000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C0D4.target o:PG0C0D4.output #LACE=0.102286 LNLP=0.291989 LNLPD=0.403314 nC=5 ndata=14000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C1D4.target o:PG0C1D4.output #LACE=0.851286 LNLP=1.08685 LNLPD=1.66881 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C2D4.target o:PG0C2D4.output #LACE=0.869143 LNLP=0.831476 LNLPD=1.73523 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C3D4.target o:PG0C3D4.output #LACE=0.685857 LNLP=0.834372 LNLPD=1.24381 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C4D4.target o:PG0C4D4.output #LACE=0.00314286 LNLP=0.560798 LNLPD=0.573545 nC=5 ndata=7000
home/kuro/Desktop/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:CallD4.target o:PG0CallD4.output #LACE=0.374837 LNLP=0.592647 LNLPD=0.899382 nC=5 ndata=49000

###result for gibbs=1, d2=../../2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C0D4.target o:PG1C0D4.output #LACE=0.0239286 LNLP=0.0594352 LNLPD=0.0809558 nC=5 ndata=14000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C1D4.target o:PG1C1D4.output #LACE=0.0477143 LNLP=0.173193 LNLPD=0.194228 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C2D4.target o:PG1C2D4.output #LACE=0.0438571 LNLP=0.130509 LNLPD=0.143428 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C3D4.target o:PG1C3D4.output #LACE=0.102429 LNLP=0.224494 LNLPD=0.228925 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:C4D4.target o:PG1C4D4.output #LACE=0.0297143 LNLP=0.135753 LNLPD=0.14749 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG1D4.dat t:CallD4.target o:PG1CallD4.output #LACE=0.0389592 LNLP=0.112245 LNLPD=0.125585 nC=5 ndata=49000
###result for gibbs=0, d2=../../2012/12voicedata/allpole;d2sep=":" by the executables complied on sakashita's  PC
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C0D4.target o:PG0C0D4.output #LACE=0.118643 LNLP=0.276184 LNLPD=0.395793 nC=5 ndata=14000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C1D4.target o:PG0C1D4.output #LACE=0.779571 LNLP=1.14565 LNLPD=1.66523 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C2D4.target o:PG0C2D4.output #LACE=0.873857 LNLP=0.816074 LNLPD=1.72637 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C3D4.target o:PG0C3D4.output #LACE=0.691714 LNLP=0.830404 LNLPD=1.20543 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:C4D4.target o:PG0C4D4.output #LACE=0.004 LNLP=0.569131 LNLPD=0.596444 nC=5 ndata=7000
#/home/kuro/sotu/2015iconip/iconip_saigen/2012/can2b/evalloss4pG p:ProbDistG0D4.dat t:CallD4.target o:PG0CallD4.output #LACE=0.37151 LNLP=0.594459 LNLPD=0.892905 nC=5 ndata=49000

##########################################################################################################


























############################
20151008若干修正 <- 20150917修正 <- 20150915
(0) LACE, LNLP, LNLPD　を計算するCプログラム evalloss4pG.c を作成。
　　(0-1) 以下の(1),(2-1),(2-2),(2-3)は実行例を示す。
    (0-2) 用いたCAN2の数字、話者の学習データセットは，iconip2014で作成したもの
　　　　　　http://kurolab.cntl.kyutech.ac.jp/sotu/2012/12vicedata/iconip2014data/oob4s....（下参照）
　　　　　　だが、坂下君の卒論やICONIP2015の結果と違う。なぜ？

(1) 数字 and 話者 combined by kuro from the scripts by Sakashita
################## copy and paste from here for (1)
make 
SD="S D";# SD="S"; SD="D";
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
d1=../result-onsei_iCsiCd_saka; if [ ! -e $d1 ]; then mkdir $d1;fi
#d1c=../result-onsei_iCsiCd_d;
#d1=../result-onsei_iCsiCd; if [ ! -e $d1 ]; then mkdir $d1;fi
for gibbs in 1 0; do
for SorD in $SD ; do fhg=$tmp/histG${gibbs}${SorD};cat /dev/null > $fhg.dat;done
if [ "$SD" = "D" ] ; then 
SiCs="0";   #for only Correct speakers # SiCs="0";   #for only Correct speakers
else 
SiCs="0 2 3"; #for Correct, Unregistered, Incorrect
fi
for iCd in 0 1 2 3 4 5; do  #################>>
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
for iCs in $SiCs; do       ### for iCs in 0 0 0; do for iconip2015 with SD=D and  <<<<##############!!!!
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
###
d2=/media/sf_D_DRIVE/cdata/15iconip/20150917takeguchi/12voicedata_sakashita/12voicedata/allpole;d2sep="_"
d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_"
d2=../../2012/12voicedata/allpole;d2sep=":"
d2=../../2012/12voicedata/iconip14data;d2sep=":"
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
if [ "$d2sep" = ":" ] ; then #ytm:1:0.9:1000 or ytm:1:0.9:2000
cmd="speakerdigit_v5 fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:${d2}/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
else
#for d2 for file_names with under-bar "_", not colon ":"
cmd="speakerdigit_v5 fs:${d2}/oob4s_-1N40mbas2_300_1.6_1sX${sX}.y fd:${d2}/oob4d_-1N100mbas2_300_1.6_1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
fi
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c ,pG for speaker and digits ##psd.dat->psdsum.dat
done #for sX excluded speaker
########################################## choose t=15th pG1 and pB=pG0
export t=15;
for SorD in $SD; do #############for SorD
fhg=$tmp/histG${gibbs}${SorD};
fb0=t-pG${t}${SorD}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
cat /dev/null > ${fb0}.dat
#echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat #???
if [ "$SorD" = "D" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for digits
if [ "$SorD" = "S" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for speakers
#cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat   ##psdsum.dat ->fb0 for speakers
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#######################
##check#export t=15;fb0=t-pG${t}
##check#fbr=${d1c}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fbr}_PPtrain.dat ##PP:Probabilistic Prediction
cat /dev/null > ${fbr}_PPtest.dat
for sX_ in 0 1 2 3 4 5 6; do 
export sX_1000=`expr $sX_ \* 2000`
echo "sed -n -e \"`expr ${sX_1000} + 1`,`expr ${sX_1000} + 1000`p\"   ${fbr}.dat >> ${fbr}_PPtrain.dat"
sed -n -e "`expr ${sX_1000} + 1`,`expr ${sX_1000} + 1000`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
echo "sed -n -e \"`expr ${sX_1000} + 1001`,`expr ${sX_1000} + 2000`p\" ${fbr}.dat >> ${fbr}_PPtest.dat"
sed -n -e "`expr ${sX_1000} + 1001`,`expr ${sX_1000} + 2000`p" ${fbr}.dat >> ${fbr}_PPtest.dat
PPfiles="${PPfiles} ${fbr}"
done #for sX_
#######################histgram by moving average
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg.dat $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg.dat  ###
#paste $tmp/histtmp.dat tmp/hist.dat > $fhg.dat
sleep 2;
done # for SorD
########################
done # for iCs
done # for iCd
#####
# Probability P(c_i|p_G) for Probabilistic Prediction (fpdg=$d1/ProbDistG${gibbs}${SorD}) 
#####
for SorD in $SD; do #############for SorD
fhg=$tmp/histG${gibbs}${SorD};
fpdg=$d1/ProbDistG${gibbs}${SorD}
cp $fhg.dat $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg.dat  ###
cat /dev/null > $fpdg.dat
####
if [ "$SorD" = "D" ]; then #for 3=number of iCs candidates
if [ "$SiCs" = "0" ]; then
cat $fhg.dat|awk '{p0sum=$1;p1sum=$2;p2sum=$3;p3sum=$4;p4sum=$5;p5sum=$6;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$7, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg.dat
else
cat $fhg.dat|awk '{p0sum=$1+$2+$3;p1sum=$4+$5+$6;p2sum=$7+$8+$9;p3sum=$10+$11+$12;p4sum=$13+$14+$15;p5sum=$16+$17+$18;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg.dat
fi
else
cat $fhg.dat|awk '{p0sum=$1+$4+$7+$10+$13+$16;p1sum=$2+$5+$8+$11+$14+$17;p2sum=$3+$6+$9+$12+$15+$18;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg.dat
fi
##########
if [ "$SorD" = "D" ]; then
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "$fpdg.eps";replot
quit
EOF
else
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "$fpdg.obj";
plot "$fpdg.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Correct Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Unregistered Speaker", "" using 1:(\$3) lc rgb "red" t "Incorrect Speaker"
set term postscript;set output "$fpdg.eps";replot
quit
EOF
fi
cmd="gv $fpdg.eps"; echo "Exec $cmd."; $cmd&
done # for SorD
#######
done #for gibbs
################## copy and paste to here for (1)



################
#(2)evalloss
################
#iCs=0;iCd=0; # test correct (registered) speaker
#iCs=1;iCd=0; # test incorrect registered and unregistered sX 
#iCs=2;iCd=0; # test incorrect registered
#iCs=3;iCd=0; # test (incorrect) unregistered sX 
#(2-1) eval loss for S
###########copy and paste from here for (2-1)
d0=~/sotu/2015/can2b
d1=~/sotu/2015/result-onsei_iCsiCd_saka
cd $d1;
SD="S";# SD="D";SD="S D";# 
for gibbs in 1 0; do
for SorD in $SD ; do #for SorD in S D ; do 
foutall=PG${gibbs}Call${SorD};cat /dev/null >${foutall}.output ###all
ftgtall=Call${SorD};cat /dev/null > ${ftgtall}.target           ###all
for iCs in 0 2 3; do       
if [ $iCs = "0" ] ; then Ctgt=0; fi
if [ $iCs = "2" ] ; then Ctgt=1; fi #Ctgt=2?
if [ $iCs = "3" ] ; then Ctgt=2; fi #Ctgt=1?
fout=PG${gibbs}C${Ctgt}${SorD}
ftgt=C${Ctgt}${SorD}
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
for iCd in 0 1 2 3 4 5; do  #################>>
t=15
fb0=t-pG${t}${SorD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
done #for iCd
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
fpdg=ProbDistG${gibbs}${SorD}
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output" 
echo -n "#$cmd ";$cmd
done #for iCs
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output"; echo -n "#$cmd ";$cmd; ###all
done #for SorD
done #for gibbs
###########copy and paste to here for (2-1)
###result for gibbs=1, d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C0S.target o:PG1C0S.output #LACE=0.00311905 LNLP=0.00820782 LNLPD=0.0110817 nC=3 ndata=42000
....................................................................................#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C1S.target o:PG1C1S.output #LACE=0.0250476 LNLP=inf LNLPD=0.0966982 nC=3 ndata=42000
....................................................................................#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C2S.target o:PG1C2S.output #LACE=0.0715952 LNLP=0.220935 LNLPD=0.220935 nC=3 ndata=42000
                                                                                    #/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:CallS.target o:PG1CallS.output #LACE=0.033254 LNLP=inf LNLPD=0.109572 nC=3 ndata=126000
....................................................................................#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C0S.target o:PG0C0S.output #LACE=0.0260714 LNLP=0.13552 LNLPD=0.165152 nC=3 ndata=42000
....................................................................................#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C1S.target o:PG0C1S.output #LACE=0.0181429 LNLP=0.439341 LNLPD=0.457513 nC=3 ndata=42000
....................................................................................#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C2S.target o:PG0C2S.output #LACE=0.762095 LNLP=1.0172 LNLPD=1.02355 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:CallS.target o:PG0CallS.output #LACE=0.26877 LNLP=0.530689 LNLPD=0.548739 nC=3 ndata=126000

###result for gibbs=1, d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C0S.target o:PG1C0S.output #LACE=0.00354762 LNLP=0.00904049 LNLPD=0.00919557 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C1S.target o:PG1C1S.output #LACE=0.0283571 LNLP=0.0830699 LNLPD=0.0831934 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:C2S.target o:PG1C2S.output #LACE=0.0520476 LNLP=0.17383 LNLPD=0.17383 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1S.dat t:CallS.target o:PG1CallS.output #LACE=0.0279841 LNLP=0.0886467 LNLPD=0.0887396 nC=3 ndata=126000
###result for gibbs=0, d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C0S.target o:PG0C0S.output #LACE=0.027119 LNLP=0.119712 LNLPD=0.152185 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C1S.target o:PG0C1S.output #LACE=0.0179048 LNLP=0.474746 LNLPD=0.490167 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:C2S.target o:PG0C2S.output #LACE=0.758476 LNLP=0.960213 LNLPD=0.968203 nC=3 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0S.dat t:CallS.target o:PG0CallS.output #LACE=0.267833 LNLP=0.518224 LNLPD=0.536852 nC=3 ndata=126000

#(2-2) eval loss for D 
###########copy and paste from here for (2-2)
d0=~/sotu/2015/can2b
d1=~/sotu/2015/result-onsei_iCsiCd_saka
SD="D"; #SD="S D";# SD="S"; 
cd $d1;
for gibbs in 1 0; do
for SorD in $SD ; do #for SorD in S D ; do 
foutall=PG${gibbs}Call${SorD};cat /dev/null >${foutall}.output ###all
ftgtall=Call${SorD};cat /dev/null > ${ftgtall}.target           ###all
for iCd in 0 1 2 3 4 5; do  #################>>
Ctgt=$iCd;
fout=PG${gibbs}C${Ctgt}${SorD}
ftgt=C${Ctgt}${SorD}
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
for iCs in 0 2 3; do       ####### for iCs in 0 0 0; do #for iconip2015 with SD="D" ##############!!!!!!!
t=15
fb0=t-pG${t}${SorD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
done #for iCs
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
fpdg=ProbDistG${gibbs}${SorD}
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgt}.target o:${fout}.output"
echo -n "#$cmd ";$cmd
done #for iCd
cmd="$d0/evalloss4pG p:${fpdg}.dat t:${ftgtall}.target o:${foutall}.output"; echo -n "#$cmd ";$cmd; ###all
done #for SorD
done #for gibbs
###########copy and paste to here for (2-2)
#### result for gibbs=1 d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.0154286 LNLP=0.487104 LNLPD=0.505565 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.932286 LNLP=0.996135 LNLPD=1.01199 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.0470952 LNLP=0.187211 LNLPD=0.207524 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.0289048 LNLP=0.0986392 LNLPD=0.115061 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.204 LNLP=0.289884 LNLPD=0.296209 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.00138095 LNLP=0.228384 LNLPD=0.230516 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.204849 LNLP=0.381226 LNLPD=0.394478 nC=6 ndata=126000
#### result for gibbs=0 d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.020381 LNLP=0.86988 LNLPD=0.938217 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=0.991238 LNLP=0.517706 LNLPD=1.35167 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.711429 LNLP=0.724804 LNLPD=1.72339 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.987429 LNLP=0.613224 LNLPD=1.87119 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.87681 LNLP=0.695465 LNLPD=1.55115 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.00880952 LNLP=0.600125 LNLPD=0.634509 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.599349 LNLP=0.670201 LNLPD=1.34502 nC=6 ndata=126000

#### result for gibbs=1 d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_" #### result for "for iCs in 0 0 0; do" <### same as result of Fig3 in iconip2015
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.015 LNLP=0.396237 LNLPD=0.411218 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.799571 LNLP=0.995418 LNLPD=1.0096 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.0514286 LNLP=0.192005 LNLPD=0.219791 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.0581429 LNLP=0.16212 LNLPD=0.180976 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.128714 LNLP=0.27072 LNLPD=0.272206 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.023 LNLP=0.108757 LNLPD=0.111188 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.17931 LNLP=0.354209 LNLPD=0.367496 nC=6 ndata=126000
#### result for gibbs=0 d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_" #### result for "for iCs in 0 0 0; do" <### same as result of Fig3 in iconip2015
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.0152857 LNLP=0.74212 LNLPD=0.792684 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=0.986143 LNLP=0.618302 LNLPD=1.25343 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.817857 LNLP=0.680088 LNLPD=1.68285 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.891429 LNLP=0.676354 LNLPD=1.7526 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.675714 LNLP=0.861829 LNLPD=1.19678 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.003 LNLP=0.544394 LNLPD=0.558326 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.564905 LNLP=0.687181 LNLPD=1.20611 nC=6 ndata=126000

#### result for gibbs=1 d2=../../2012/12voicedata/allpole;d2sep=":" #### result for "for iCs in 0 0 0; do" same as above
.#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.015 LNLP=0.396237 LNLPD=0.411218 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.799571 LNLP=0.995418 LNLPD=1.0096 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.0514286 LNLP=0.192005 LNLPD=0.219791 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.0581429 LNLP=0.16212 LNLPD=0.180976 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.128714 LNLP=0.27072 LNLPD=0.272206 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.023 LNLP=0.108757 LNLPD=0.111188 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.17931 LNLP=0.354209 LNLPD=0.367496 nC=6 ndata=126000
#### result for gibbs=0 d2=../../2012/12voicedata/allpole;d2sep=":" #### result for "for iCs in 0 0 0; do"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.0152857 LNLP=0.74212 LNLPD=0.792684 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=0.986143 LNLP=0.618302 LNLPD=1.25343 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.817857 LNLP=0.680088 LNLPD=1.68285 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.891429 LNLP=0.676354 LNLPD=1.7526 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.675714 LNLP=0.861829 LNLPD=1.19678 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.003 LNLP=0.544394 LNLPD=0.558326 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.564905 LNLP=0.687181 LNLPD=1.20611 nC=6 ndata=126000

#### result for gibbs=1 d2=../../2012/12voicedata/iconip14data;d2sep=":" #### result for "for iCs in 0 0 0; do"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C0D.target o:PG1C0D.output #LACE=0.0127143 LNLP=0.483913 LNLPD=0.503335 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C1D.target o:PG1C1D.output #LACE=0.928143 LNLP=0.985175 LNLPD=1.00412 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C2D.target o:PG1C2D.output #LACE=0.049 LNLP=0.179564 LNLPD=0.203926 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C3D.target o:PG1C3D.output #LACE=0.0311429 LNLP=0.0998847 LNLPD=0.117324 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C4D.target o:PG1C4D.output #LACE=0.204 LNLP=0.292467 LNLPD=0.302644 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:C5D.target o:PG1C5D.output #LACE=0.000714286 LNLP=0.227756 LNLPD=0.228644 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D.dat t:CallD.target o:PG1CallD.output #LACE=0.204286 LNLP=0.378127 LNLPD=0.393332 nC=6 ndata=126000
#### result for gibbs=0 d2=../../2012/12voicedata/iconip14data;d2sep=":" #### result for "for iCs in 0 0 0; do"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C0D.target o:PG0C0D.output #LACE=0.0168571 LNLP=0.865077 LNLPD=0.932841 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C1D.target o:PG0C1D.output #LACE=0.992 LNLP=0.518033 LNLPD=1.34533 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C2D.target o:PG0C2D.output #LACE=0.73 LNLP=0.713465 LNLPD=1.72322 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C3D.target o:PG0C3D.output #LACE=0.961429 LNLP=0.637666 LNLPD=1.86358 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C4D.target o:PG0C4D.output #LACE=0.877571 LNLP=0.700784 LNLPD=1.55488 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:C5D.target o:PG0C5D.output #LACE=0.00728571 LNLP=0.592511 LNLPD=0.619936 nC=6 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D.dat t:CallD.target o:PG0CallD.output #LACE=0.597524 LNLP=0.671256 LNLPD=1.33996 nC=6 ndata=126000


#(2-3) eval loss for D with the combied class new class C0,C1,..,C4 for old {C0 \cup C1}, C2, C3, C4, C5
###########copy and paste from here for (2-3)
d0=~/sotu/2015/can2b
d1=~/sotu/2015/result-onsei_iCsiCd_saka
cd $d1;
SD="D"; #SD="S D";# SD="S"; 
for gibbs in 1 0; do
fpdg=ProbDistG${gibbs}${SorD}
fpdg4=ProbDistG${gibbs}${SorD}4
cat /dev/null > ${fpdg4}.dat
for SorD in $SD ; do #for SorD in S D ; do 
cat ${fpdg}.dat |awk '{print $1,$2+$3,$4,$5,$6,$7}' >> ${fpdg4}.dat
done #for SorD
done #for gibbs
#######
for gibbs in 1 0; do
for SorD in $SD ; do #for SorD in S D ; do 
foutall=PG${gibbs}Call${SorD}4;cat /dev/null >${foutall}.output ###all
ftgtall=Call${SorD}4;cat /dev/null > ${ftgtall}.target           ###all
for iCd in 0 1 2 3 4 5; do  #################>>
if [ $iCd -le 1 ] ; then iCd4=0; else iCd4=`expr $iCd - 1`; fi
Ctgt=$iCd4;
fout=PG${gibbs}C${Ctgt}${SorD}4
ftgt=C${Ctgt}${SorD}4
if [ $iCd -ne 1 ] ; then 
cat /dev/null > ${fout}.output
cat /dev/null > ${ftgt}.target
fi
####### for iCs in 0 0 0; do #for iconip2015 with SD="D" ##############!!!!!!!
t=15
fb0=t-pG${t}${SorD}
fbr=resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}
#cat ${fbr}_PPtrain.dat >> ${fout}.output
cat ${fbr}_PPtest.dat >> ${fout}.output
i=1;while [ $i -le 7000 ] ;do echo "${Ctgt}" >> ${ftgt}.target; if [ `expr $i % 500` = "0" ] ; then echo -n "."; fi; i=`expr $i + 1`; done
#
done #for iCs
cat ${fout}.output >> ${foutall}.output; cat ${ftgt}.target >> ${ftgtall}.target; ###all
if [ $iCd -ne 0 ] ; then 
fpdg4=ProbDistG${gibbs}${SorD}4
cmd="$d0/evalloss4pG p:${fpdg4}.dat t:${ftgt}.target o:${fout}.output"
echo -n "#$cmd ";$cmd
fi
done #for iCd
cmd="$d0/evalloss4pG p:${fpdg4}.dat t:${ftgtall}.target o:${foutall}.output"; echo -n "#$cmd ";$cmd; ###all
done #for SorD
done #for gibbs
###########copy and paste to here for (2-3)
#result for gibbs=1 d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C0D4.target o:PG1C0D4.output #LACE=0.0250952 LNLP=0.063238 LNLPD=0.0676447 nC=5 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C1D4.target o:PG1C1D4.output #LACE=0.0470952 LNLP=0.201527 LNLPD=0.207524 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C2D4.target o:PG1C2D4.output #LACE=0.0289048 LNLP=0.0986392 LNLPD=0.115061 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C3D4.target o:PG1C3D4.output #LACE=0.204 LNLP=0.289884 LNLPD=0.296209 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C4D4.target o:PG1C4D4.output #LACE=0.00138095 LNLP=0.228384 LNLPD=0.230516 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:CallD4.target o:PG1CallD4.output #LACE=0.0482109 LNLP=0.1371 LNLPD=0.142893 nC=5 ndata=147000
#result for gibbs=0 d2=../../2012/12voicedata/iconip14data;d2sep=":"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C0D4.target o:PG0C0D4.output #LACE=0.108976 LNLP=0.391038 LNLPD=0.508928 nC=5 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C1D4.target o:PG0C1D4.output #LACE=0.736762 LNLP=1.05606 LNLPD=1.72339 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C2D4.target o:PG0C2D4.output #LACE=0.987429 LNLP=0.817889 LNLPD=1.87119 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C3D4.target o:PG0C3D4.output #LACE=0.87681 LNLP=0.78953 LNLPD=1.55115 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C4D4.target o:PG0C4D4.output #LACE=0.00880952 LNLP=0.60068 LNLPD=0.634509 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:CallD4.target o:PG0CallD4.output #LACE=0.40598 LNLP=0.632364 LNLPD=1.02852 nC=5 ndata=147000

#### result for gibbs=1 d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_" #### result for "for iCs in 0 0 0; do" <### same as result of Fig3 in iconip2015
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C0D4.target o:PG1C0D4.output #LACE=0.0217857 LNLP=0.0550923 LNLPD=0.0611775 nC=5 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C1D4.target o:PG1C1D4.output #LACE=0.0514286 LNLP=0.200484 LNLPD=0.219791 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C2D4.target o:PG1C2D4.output #LACE=0.0581429 LNLP=0.16212 LNLPD=0.180976 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C3D4.target o:PG1C3D4.output #LACE=0.128714 LNLP=0.27072 LNLPD=0.272206 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C4D4.target o:PG1C4D4.output #LACE=0.023 LNLP=0.108757 LNLPD=0.111188 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:CallD4.target o:PG1CallD4.output #LACE=0.043898 LNLP=0.122701 LNLPD=0.130521 nC=5 ndata=147000
#### result for gibbs=1 d2=/media/sf_D_DRIVE/cdata/15iconip/20151005sakashita/;d2sep="_" #### result for "for iCs in 0 0 0; do" <### same as result of Fig3 in iconip2015
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C0D4.target o:PG0C0D4.output #LACE=0.0954286 LNLP=0.289083 LNLPD=0.393362 nC=5 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C1D4.target o:PG0C1D4.output #LACE=0.857286 LNLP=1.0923 LNLPD=1.68285 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C2D4.target o:PG0C2D4.output #LACE=0.891429 LNLP=0.824134 LNLPD=1.7526 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C3D4.target o:PG0C3D4.output #LACE=0.675714 LNLP=0.864123 LNLPD=1.19678 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C4D4.target o:PG0C4D4.output #LACE=0.003 LNLP=0.544394 LNLPD=0.558326 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:CallD4.target o:PG0CallD4.output #LACE=0.375429 LNLP=0.593527 LNLPD=0.891944 nC=5 ndata=147000


#result for gibbs=1 d2=../../2012/12voicedata/iconip14data;d2sep=":" #### result for "for iCs in 0 0 0; do"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C0D4.target o:PG1C0D4.output #LACE=0.0232143 LNLP=0.0580005 LNLPD=0.0644127 nC=5 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C1D4.target o:PG1C1D4.output #LACE=0.049 LNLP=0.193214 LNLPD=0.203926 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C2D4.target o:PG1C2D4.output #LACE=0.0311429 LNLP=0.0998847 LNLPD=0.117324 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C3D4.target o:PG1C3D4.output #LACE=0.204 LNLP=0.292467 LNLPD=0.302644 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:C4D4.target o:PG1C4D4.output #LACE=0.000714286 LNLP=0.227756 LNLPD=0.228644 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG1D4.dat t:CallD4.target o:PG1CallD4.output #LACE=0.048102 LNLP=0.134785 LNLPD=0.142385 nC=5 ndata=147000
#result for gibbs=0 d2=../../2012/12voicedata/iconip14data;d2sep=":" #### result for "for iCs in 0 0 0; do"
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C0D4.target o:PG0C0D4.output #LACE=0.100429 LNLP=0.392616 LNLPD=0.501917 nC=5 ndata=42000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C1D4.target o:PG0C1D4.output #LACE=0.775143 LNLP=1.0349 LNLPD=1.72322 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C2D4.target o:PG0C2D4.output #LACE=0.961429 LNLP=0.838984 LNLPD=1.86358 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C3D4.target o:PG0C3D4.output #LACE=0.877571 LNLP=0.793607 LNLPD=1.55488 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:C4D4.target o:PG0C4D4.output #LACE=0.00728571 LNLP=0.592843 LNLPD=0.619936 nC=5 ndata=21000
#/home/kuro/sotu/2015/can2b/evalloss4pG p:ProbDistG0D4.dat t:CallD4.target o:PG0CallD4.output #LACE=0.404673 LNLP=0.631888 LNLPD=1.02259 nC=5 ndata=147000
########################################################################################################################################################

#######for confirmation 20151008 below sakashita
#2015/10/08 
#######################
(1) 原因判明：iconip2015 の良い結果は、iCs=0 としていたから！！！
    これは、話者照合が成功したときだけ数字識別を行うときに有効
#######################
##### cut and pase from here 
make 
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
d1=../result-onsei_iCsiCd_d; if [ ! -e $d1 ]; then mkdir $d1;fi
d1c=../result-onsei_iCsiCd_saka;
for gibbs in 1 0; do
fhg=$tmp/histG${gibbs}.dat
cat /dev/null > $fhg
for iCd in 0 1 2 3 4 5; do
################ try identification
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
#for iCs in 0 2 3; do
iCs=0; ### result of this line is submitted  for iconip2015 <<=== 原因はこれ！
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
d2=../../2012/12voicedata/iconip14data
d2=../../2012/12voicedata/allpole;
d2=~/sotu/2015iconip/iconip_saigen/2012/12voicedata/allpole;d2sep=":"
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
cmd="speakerdigit_v5 fs:${d2}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:${d2}/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:2000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c
done
########################################## choose t=15th pG1 and pB=pG0
export t=15;fb0=t-pG${t}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fb0}.dat
###echo "pGC,t,n,pGC,pGCd" >> ${fb0}.dat
cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
cat /dev/null > ${fbr}_head.dat
#head -n 3500 ${fbr}.dat > ${fbr}_head.dat
cat /dev/null > ${fbr}_tail.dat
#tail -n 3500 ${fbr}.dat > ${fbr}_tail.dat
sed -n '1,1000p' ${fbr}.dat >> ${fbr}_head.dat
sed -n '1001,2000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '2001,3000p' ${fbr}.dat >> ${fbr}_head.dat
sed -n '3001,4000p' ${fbr}.dat>> ${fbr}_tail.dat
sed -n '4001,5000p' ${fbr}.dat >> ${fbr}_head.dat
sed -n '5001,6000p' ${fbr}.dat>> ${fbr}_tail.dat
sed -n '6001,7000p' ${fbr}.dat>> ${fbr}_head.dat
sed -n '7001,8000p' ${fbr}.dat>> ${fbr}_tail.dat
#sed -n '8001,9000p' ${fbr}.dat>> ${fbr}_head.dat
#sed -n '9001,10000p' ${fbr}.dat>> ${fbr}_tail.dat
#sed -n '10001,11000p' ${fbr}.dat >> ${fbr}_head.dat
#sed -n '11001,12000p' ${fbr}.dat>> ${fbr}_tail.dat
#sed -n '12001,13000p' ${fbr}.dat>> ${fbr}_head.dat
#sed -n '13001,14000p' ${fbr}.dat>> ${fbr}_tail.dat
#echo $cmd1;$cmd1
#####################################r#####
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_head.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&
cp $fhg $tmp/histtmp.dat
paste $tmp/histtmp.dat tmp/hist.dat > $fhg
sleep 2;
#done
done
fpdg=$d1/ProbDistG${gibbs}.dat
cat /dev/null > $fpdg
#cat $fhg|awk '{psum=$3+$7+$11+$15+$19+$23+$27+$31+$35+$39+$43+$47+$51+$55+$59+$63+$67+$71+1e-20;p0sum=$3+$7+$11;p1sum=$15+$19+$23;p2sum=$27+$31+$35;p3sum=$39+$43+$47;p4sum=$51+$55+$59;p5sum=$63+$67+$71;printf("%e %e %e %e %e %e %e \n", $1, p0sum/psum, p1sum/psum, p2sum/psum, p3sum/psum,p4sum/psum, p5sum/psum);}'>> $fpdg
cat $fhg|awk '{psum=$3+$7+$11+$15+$19+$23+1e-20;printf("%e %e %e %e %e %e %e \n", $1, $3/psum, $7/psum, $11/psum, $15/psum,$19/psum, $23/psum);}'>> $fpdg
done # for gibbs
####
cd $d1
gnuplot <<EOF
set yrange [0:1.3]
set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG1.obj";
plot "ProbDistG1.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5","" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5","" using 1:(\$6+\$7) lc rgb "green" t "1/5","" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG1.eps";replot
#set style data boxes; #set style data histeps
#set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG0.obj"
plot "ProbDistG0.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5","" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5","" using 1:(\$6+\$7) lc rgb "green" t "1/5","" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG0.eps";replot
quit
EOF
gv ProbDistG1.eps&
gv ProbDistG0.eps&
cd -
### copy and paste to here

#######for confirmation 20151008 above

#################################################################################



#########################################

###数字 and 話者 combinedby Sakashita
### copy and paste from here
make 
export SorD="S"; #speaker or digit
export SorD="D"; #speaker or digit
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
d1=../result-onsei_iCsiCd; if [ ! -e $d1 ]; then mkdir $d1;fi
for gibbs in 1 0; do
fhg=$tmp/histG${gibbs}.dat
cat /dev/null > $fhg

for iCd in 0 1 2 3 4 5; do  #################>>
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
for iCs in 0 2 3; do       ##################>>
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
###
trainDS=iconip14data;# trainDS=allpols;# choose
cmd="speakerdigit_v5 fs:../../2012/12voicedata/${trainDS}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/iconip14data/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c ,pG for speaker and digits ##psd.dat->psdsum.dat
done #for sX excluded speaker
########################################## choose t=15th pG1 and pB=pG0

#########for SorD in "S" "D"; do #############for SorD
export t=15;
fb0=t-pG${t}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}_${fb0}$
cat /dev/null > ${fb0}.dat
#echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat #???
if [ "$SorD" = "D" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for digits
if [ "$SorD" = "S" ]; then cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat ; fi ##psdsum.dat ->fb0 for speakers
#cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat   ##psdsum.dat ->fb0 for speakers
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#######################
cat /dev/null > ${fbr}_PPtrain.dat
cat /dev/null > ${fbr}_PPtest.dat
for sX in 0 1 2 3 4 5 6; do 
export sX1000=`expr $sX \* 1000`
sed -n -e "`expr ${sX1000} + 1`,`expr ${sX1000} + 1000`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
sed -n -e "`expr ${sX1000} + 1001`,`expr ${sX1000} + 2000`p" ${fbr}.dat >> ${fbr}_PPtest.dat
done #for sX
#######################histgram by moving average
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
#gv $fhe&  #disp result
cp $fhg $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg  ###
#paste $tmp/histtmp.dat tmp/hist.dat > $fhg
sleep 2;
##########done # for SorD
########################
done # for iCs
done # for iCd

#########for SorD in $SD; do #############for SorD
cp $fhg $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg  ###

fpdg=$d1/ProbDistG${gibbs}.dat
cat /dev/null > $fpdg
####
if [ "$SorD" = "D" ]; then
cat $fhg|awk '{p0sum=$1+$2+$3;p1sum=$4+$5+$6;p2sum=$7+$8+$9;p3sum=$10+$11+$12;p4sum=$13+$14+$15;p5sum=$16+$17+$18;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg
else
cat $fhg|awk '{p0sum=$1+$4+$7+$10+$13+$16;p1sum=$2+$5+$8+$11+$14+$17;p2sum=$3+$6+$9+$12+$15+$18;psum=p0sum+p1sum+p2sum;printf("%e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum);}' >> $fpdg
fi
##########
cd $d1
if [ "$SorD" = "D" ]; then
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG${gibbs}.obj";
plot "ProbDistG${gibbs}.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG${gibbs}.eps";replot
quit
EOF
else
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG${gibbs}.obj";
plot "ProbDistG${gibbs}.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Correct Speaker", "" using 1:(\$3+\$4) lc rgb "yellow" t "Unregistered Speaker", "" using 1:(\$3) lc rgb "red" t "Incorrect Speaker"
set term postscript;set output "ProbDistG${gibbs}.eps";replot
quit
EOF
fi
gv ProbDistG${gibbs}.eps&
cd -; #previous directory
##########done # for SorD
done #for gibbs
#####################################





###########back good
make 
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
d1=../result-onsei_iCsiCd; if [ ! -e $d1 ]; then mkdir $d1;fi
for gibbs in 1 0; do
fhg=$tmp/histG${gibbs}.dat
cat /dev/null > $fhg

for iCd in 0 1 2 3 4 5; do
################ try identification
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
for iCs in 0 2 3; do
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
###
trainDS=iconip14data;# trainDS=allpols;# choose
cmd="speakerdigit_v5 fs:../../2012/12voicedata/${trainDS}/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/iconip14data/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c ,pG for speaker and digits ##psd.dat->psdsum.dat
done #for sX excluded speaker
########################################## choose t=15th pG1 and pB=pG0
export t=15;

fb0=t-pG${t}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fb0}.dat
#echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat #???
cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat   ##psdsum.dat ->fb0 for digits
#cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat   ##psdsum.dat ->fb0 for speakers
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1

#######################
cat /dev/null > ${fbr}_PPtrain.dat
cat /dev/null > ${fbr}_PPtest.dat
for sX in 0 1 2 3 4 5 6; do 
export sX1000=`expr $sX \* 1000`
sed -n -e "`expr ${sX1000} + 1`,`expr ${sX1000} + 1000`p"   ${fbr}.dat >> ${fbr}_PPtrain.dat
sed -n -e "`expr ${sX1000} + 1001`,`expr ${sX1000} + 2000`p" ${fbr}.dat >> ${fbr}_PPtest.dat
done #for sX
#######################histgram by moving average
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_PPtrain.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
gv $fhe&  #disp result
cp $fhg $tmp/histtmp.dat
cat tmp/hist.dat |awk '{print $3}'> tmp/hist3.dat;paste $tmp/histtmp.dat tmp/hist3.dat > $fhg  ###
#paste $tmp/histtmp.dat tmp/hist.dat > $fhg
########################
sleep 2;
done # for iCs
done # for iCd
cp $fhg $tmp/histtmp.dat;cat tmp/hist.dat |awk '{print $1}'> tmp/hist1.dat;paste $tmp/histtmp.dat tmp/hist1.dat > $fhg  ###

fpdg=$d1/ProbDistG${gibbs}.dat
cat /dev/null > $fpdg
####
#cat $fhg|awk '{p0sum=$3+$7+$11;p1sum=$15+$19+$23;p2sum=$27+$31+$35;p3sum=$39+$43+$47;p4sum=$51+$55+$59;p5sum=$63+$67+$71;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$1, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg
cat $fhg|awk '{p0sum=$1+$2+$3;p1sum=$4+$5+$6;p2sum=$7+$8+$9;p3sum=$10+$11+$12;p4sum=$13+$14+$15;p5sum=$16+$17+$18;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$19, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg
done #for gibbs

##########
cd $d1
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG1.obj";
plot "ProbDistG1.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG1.eps";replot
set term tgif;set output "ProbDistG0.obj"
plot "ProbDistG0.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG0.eps";replot
quit
EOF
gv ProbDistG1.eps&
gv ProbDistG0.eps&
cd -
#############




















##################
20150909
###数字 by sakashita
### copy and paste from here
make 
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
d1=../result-onsei_iCsiCd; if [ ! -e $d1 ]; then mkdir $d1;fi
for gibbs in 1 0; do
fhg=$tmp/histG${gibbs}.dat
cat /dev/null > $fhg

for iCd in 0 1 2 3 4 5; do
################ try identification
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
for iCs in 0 2 3; do
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:2000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
###
trainDS=allpols;# 
trainDS=iconip14data;#choo
cmd="speakerdigit_v5 fs:../../2012/12voicedata/iconip14data/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/iconip14data/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:2000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
###
#cmd="speakerdigit_v5 fs:../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/allpole/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:1000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c
done
########################################## choose t=15th pG1 and pB=pG0
export t=15;fb0=t-pG${t}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fb0}.dat
echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat
cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $4,$0;}}' >> ${fb0}.dat
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
#######################
cat /dev/null > ${fbr}_head.dat
cat /dev/null > ${fbr}_tail.dat
sed -n '1,1000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '1001,2000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '2001,3000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '3001,4000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '4001,4000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '5001,6000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '6001,7000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '7001,8000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '8001,9000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '9001,10000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '10001,11000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '11001,12000p' ${fbr}.dat >> ${fbr}_tail.dat
sed -n '12001,13000p'   ${fbr}.dat >> ${fbr}_head.dat
sed -n '13001,14000p' ${fbr}.dat >> ${fbr}_tail.dat
##########################################
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}_head.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
gv $fhe&
cp $fhg $tmp/histtmp.dat
paste $tmp/histtmp.dat tmp/hist.dat > $fhg
sleep 2;
done # for iCs
done # for iCd
fpdg=$d1/ProbDistG${gibbs}.dat
cat /dev/null > $fpdg
####
#cat $fhg|awk '{psum=$3+$7+$11+$15+$19+$23+$27+$31+$35+$39+$43+$47+$51+$55+$59+$63+$67+$71+1e-20;
cat $fhg|awk '{p0sum=$3+$7+$11;p1sum=$15+$19+$23;p2sum=$27+$31+$35;p3sum=$39+$43+$47;p4sum=$51+$55+$59;p5sum=$63+$67+$71;psum=p0sum+p1sum+p2sum+p3sum+p4sum+p5sum;printf("%e %e %e %e %e %e %e\n",$1, p0sum/psum,p1sum/psum,p2sum/psum,p3sum/psum,p4sum/psum,p5sum/psum);}' >> $fpdg
done #for gibbs
##########
cd $d1
gnuplot <<EOF
set yrange [0:1.3]; set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG1.obj";
plot "ProbDistG1.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG1.eps";replot
set term tgif;set output "ProbDistG0.obj"
plot "ProbDistG0.dat" using 1:(\$2+\$3+\$4+\$5+\$6+\$7) lc rgb "black" t "5/5", "" using 1:(\$3+\$4+\$5+\$6+\$7) lc rgb "blue" t "4/5", "" using 1:(\$4+\$5+\$6+\$7) lc rgb "yellow" t "3/5", "" using 1:(\$5+\$6+\$7) lc rgb "red" t "2/5", "" using 1:(\$6+\$7) lc rgb "green" t "1/5", "" using 1:(\$7) lc rgb "pink" t "0/5"
set term postscript;set output "ProbDistG0.eps";replot
quit
EOF
gv ProbDistG1.eps&
gv ProbDistG0.eps&
cd -
### copy and paste to here



##########################
20141119
[1] 次の誤りを修正した：
　　oob4speakerdigit+sX.c の233行目から243行目のコメントアウトを外した。
　　特に243行目は必須な学習なのにコメントアウトしていた；233~239行目は同じ学習をしない
　　ための前処理。

20141103 話者
[1] 下の「20140502 at mesaho」の(1)~(5)で作成したファイルを使い、
　　「(6) make Figs for ICONIP2014」のところを以下のように変更。
    なお、histmav1.cをhistmav1-onsei.cに修正。
### copy and paste from here
make 
tmp=./tmp;if [ ! -e $tmp ]; then mkdir $tmp;fi
d1=../result-onsei1; if [ ! -e $d1 ]; then mkdir $d1;fi
for gibbs in 1 0; do
fhg=$tmp/histG${gibbs}.dat
cat /dev/null > $fhg
for iCs in 0 2 3; do #0 for CSR, 2 for ISR, 3 for ISU
################ try identification
if [ $gibbs -eq 1 ]; then 
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
else
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;   #for BI   pApAd:pA:pAd
fi
iCd=0;
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:1000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
cmd="speakerdigit_v5 fs:../../2012/12voicedata/iconip14data/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/allpole/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:1000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
#cmd="speakerdigit_v5 fs:../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/allpole/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:1000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
cat $tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat $tmp/psd.dat >> psdsum.dat ########### <== speakerdigit_v5.c
done
########################################## choose t=15th pG1 and pB=pG0
export t=15;fb0=t-pG${t}
fbr=${d1}/resultp_iCs${iCs}iCd${iCd}G${gibbs}-${fb0}
cat /dev/null > ${fb0}.dat
echo "#pGC,t,n,pGC,pGCd" >> ${fb0}.dat
cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];}{if($1==t){print $3,$0;}}' >> ${fb0}.dat
cmd1="cp ${fb0}.dat ${fbr}.dat"
echo $cmd1;$cmd1
##########################################
x0=0;ndiv=100;nmav=3
cmd="histmav1-onsei $x0 $ndiv $nmav ${fbr}.dat"
echo $cmd; $cmd
fhe=${d1}/hist-iCs${iCs}iCd${iCd}G${gibbs}.eps
cp $tmp/hist.eps $fhe
gv $fhe&
cp $fhg $tmp/histtmp.dat
paste $tmp/histtmp.dat tmp/hist.dat > $fhg
sleep 2;
done # for iCs
fpdg=$d1/ProbDistG${gibbs}.dat
cat /dev/null > $fpdg
cat $fhg|awk '{psum=$3+$7+$11+1e-20;printf("%e %e %e %e\n", $1, $3/psum, $7/psum, $11/psum);}'>> $fpdg
done # for gibbs
####
cd $d1
gnuplot <<EOF
set style data boxes; #set style data histeps
set style fill solid border lc rgb "black"
set term tgif;set output "ProbDistG1.obj";
plot "ProbDistG1.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Correct Speaker Registered", "" using 1:(\$3+\$4) lc rgb "yellow" t "Incorrect Speaker Unregistered", "" using 1:(\$3) lc rgb "red" t "Incorrect Speaker Registered"
set term postscript;set output "ProbDistG1.eps";replot
set term tgif;set output "ProbDistG0.obj"
plot "ProbDistG0.dat" using 1:(\$2+\$3+\$4) lc rgb "blue" t "Correct Speaker Registered", "" using 1:(\$3+\$4) lc rgb "yellow" t "Incorrect Speaker Unregistered", "" using 1:(\$3) lc rgb "red" t "Incorrect Speaker Registered"
set term postscript;set output "ProbDistG0.eps";replot
quit
EOF
gv ProbDistG1.eps&
gv ProbDistG0.eps&
### copy and paste to here




##########################
20140502 at mesaho
(1) tune a,b,N via checking error for sX of speaker-CAN2
make data-clean
for sX in -1 0 1 2 3 4 5 6; do
a=1.6;b=300;N=40
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole s:-1 N:${N} sX:${sX}"
echo $cmd;$cmd
cmd1="cat ../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}.ystat"
echo $cmd1;$cmd1
done
# for check UnReg error
a=1.6;b=300;N=40;for sX in -1 0 1 2 3 4 5 6; do speakerdigit_v3 fs:../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:: LAR:0:0:-1 test:5:1000:3:0:5:15 sX:${sX} void:0 |grep "#TP">TP.dat;echo -n "#a${a}b${b}N${N} ";cat TP.dat; done
###
#a1.6b300N40 #TP0.933 TN0.976 ER1.851e-05 n4900(Reg)
#a1.6b300N40 #TP0.938 TN0.982 ER1.905e-05 n4200(Reg) TP0.000 TN0.907 ER1.327e-04 n700(UnReg:sX0) TP0.811 TN0.970 ER4.474e-05 n4900(All)***
#a1.6b300N40 #TP0.947 TN0.985 ER1.634e-05 n4200(Reg) TP0.000 TN0.923 ER1.102e-04 n700(UnReg:sX1) TP0.839 TN0.975 ER3.803e-05 n4900(All)
#a1.6b300N40 #TP0.952 TN0.987 ER1.455e-05 n4200(Reg) TP0.000 TN0.903 ER1.388e-04 n700(UnReg:sX2) TP0.834 TN0.973 ER3.937e-05 n4900(All)
#a1.6b300N40 #TP0.943 TN0.983 ER1.766e-05 n4200(Reg) TP0.000 TN0.920 ER1.143e-04 n700(UnReg:sX3) TP0.826 TN0.972 ER4.110e-05 n4900(All)
#a1.6b300N40 #TP0.970 TN0.986 ER1.052e-05 n4200(Reg) TP0.000 TN0.919 ER1.163e-04 n700(UnReg:sX4) TP0.843 TN0.975 ER3.707e-05 n4900(All)
#a1.6b300N40 #TP0.940 TN0.988 ER1.726e-05 n4200(Reg) TP0.000 TN0.901 ER1.408e-04 n700(UnReg:sX5) TP0.832 TN0.973 ER3.973e-05 n4900(All)
#a1.6b300N40 #TP0.943 TN0.988 ER1.640e-05 n4200(Reg) TP0.000 TN0.923 ER1.102e-04 n700(UnReg:sX6) TP0.852 TN0.977 ER3.477e-05 n4900(All)

#a1.6b100N100 #TP0.946 TN0.986 ER1.399e-05 n4900(Reg)
#a1.6b100N100 #TP0.928 TN0.988 ER1.984e-05 n4200(Reg) TP0.000 TN0.859 ER2.020e-04 n700(UnReg:sX0) TP0.798 TN0.967 ER4.792e-05 n4900(All)
#a1.6b100N100 #TP0.938 TN0.988 ER1.759e-05 n4200(Reg) TP0.000 TN0.854 ER2.082e-04 n700(UnReg:sX1) TP0.794 TN0.966 ER4.895e-05 n4900(All)
#a1.6b100N100 #TP0.940 TN0.991 ER1.653e-05 n4200(Reg) TP0.000 TN0.857 ER2.041e-04 n700(UnReg:sX2) TP0.808 TN0.969 ER4.554e-05 n4900(All)
#a1.6b100N100 #TP0.950 TN0.993 ER1.362e-05 n4200(Reg) TP0.000 TN0.859 ER2.020e-04 n700(UnReg:sX3) TP0.820 TN0.971 ER4.264e-05 n4900(All)
#a1.6b100N100 #TP0.942 TN0.991 ER1.607e-05 n4200(Reg) TP0.000 TN0.856 ER2.061e-04 n700(UnReg:sX4) TP0.808 TN0.969 ER4.548e-05 n4900(All)
#a1.6b100N100 #TP0.948 TN0.990 ER1.462e-05 n4200(Reg) TP0.000 TN0.857 ER2.041e-04 n700(UnReg:sX5) TP0.808 TN0.969 ER4.554e-05 n4900(All)
#a1.6b100N100 #TP0.960 TN0.993 ER1.131e-05 n4200(Reg) TP0.000 TN0.854 ER2.082e-04 n700(UnReg:sX6) TP0.817 TN0.970 ER4.347e-05 n4900(All)

#a1.6b100N40 #TP0.929 TN0.977 ER1.924e-05 n4900(Reg)
#a1.6b100N40 #TP0.925 TN0.983 ER2.183e-05 n4200(Reg) TP0.000 TN0.851 ER2.122e-04 n700(UnReg:sX0) TP0.772 TN0.962 ER5.433e-05 n4900(All)
#a1.6b100N40 #TP0.942 TN0.984 ER1.779e-05 n4200(Reg) TP0.000 TN0.849 ER2.163e-04 n700(UnReg:sX1) TP0.774 TN0.962 ER5.396e-05 n4900(All)
#a1.6b100N40 #TP0.952 TN0.985 ER1.501e-05 n4200(Reg) TP0.000 TN0.850 ER2.143e-04 n700(UnReg:sX2) TP0.783 TN0.963 ER5.173e-05 n4900(All)
#a1.6b100N40 #TP0.942 TN0.984 ER1.779e-05 n4200(Reg) TP0.000 TN0.850 ER2.143e-04 n700(UnReg:sX3) TP0.775 TN0.962 ER5.369e-05 n4900(All)
#a1.6b100N40 #TP0.933 TN0.981 ER2.037e-05 n4200(Reg) TP0.000 TN0.846 ER2.204e-04 n700(UnReg:sX4) TP0.761 TN0.959 ER5.716e-05 n4900(All)
#a1.6b100N40 #TP0.928 TN0.984 ER2.090e-05 n4200(Reg) TP0.000 TN0.859 ER2.020e-04 n700(UnReg:sX5) TP0.780 TN0.963 ER5.233e-05 n4900(All)
#a1.6b100N40 #TP0.937 TN0.983 ER1.925e-05 n4200(Reg) TP0.000 TN0.846 ER2.204e-04 n700(UnReg:sX6) TP0.767 TN0.960 ER5.573e-05 n4900(All)

(2) tune a,b,N via checking error for sX of digit-CAN2
#see 2013/02/27
for sX in -1 0 1 2 3 4 5 6 7; do
a=1.6;b=300;N=100
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole d:-1 N:${N} sX:$sX"
echo $cmd;$cmd
cmd1="cat ../../2012/12voicedata/allpole/oob4d:-1N${N}mbas2:${b}:${a}:1sX${sX}.ystat"
echo $cmd1;$cmd1
done
a=1.6;b=300;N=100;for sX in -1 0 1 2 3 4 5 6; do speakerdigit_v3 fd:../../2012/12voicedata/allpole/oob4d:-1N${N}mbas2:${b}:${a}:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:: LAR:0:0:-1 test:5:1000:3:0:5:15 sX:${sX} void:0 |grep "#TP">TP.dat;echo -n "#a${a}b${b}N${N} ";cat TP.dat; done
#a1.6b100N100 #TP0.953 TN0.994 ER7.551e-06 n7000(Reg)
#a1.6b100N100 #TP0.963 TN0.996 ER6.821e-06 n6000(Reg) TP0.940 TN0.993 ER6.667e-05 n1000(UnReg:sX0) TP0.959 TN0.995 ER6.568e-06 n7000(All)***
#a1.6b100N100 #TP0.962 TN0.998 ER6.790e-06 n6000(Reg) TP0.990 TN0.998 ER1.222e-05 n1000(UnReg:sX1) TP0.978 TN0.998 ER3.441e-06 n7000(All)
#a1.6b100N100 #TP0.973 TN0.996 ER5.062e-06 n6000(Reg) TP1.000 TN0.998 ER2.222e-06 n1000(UnReg:sX2) TP0.969 TN0.997 ER4.951e-06 n7000(All)
#a1.6b100N100 #TP0.963 TN0.997 ER6.574e-06 n6000(Reg) TP0.990 TN0.999 ER1.111e-05 n1000(UnReg:sX3) TP0.977 TN0.997 ER3.661e-06 n7000(All)
#a1.6b100N100 #TP0.952 TN0.996 ER8.704e-06 n6000(Reg) TP0.990 TN0.998 ER1.222e-05 n1000(UnReg:sX4) TP0.967 TN0.996 ER5.263e-06 n7000(All)
#a1.6b100N100 #TP0.955 TN0.995 ER8.364e-06 n6000(Reg) TP0.980 TN0.998 ER2.222e-05 n1000(UnReg:sX5) TP0.957 TN0.995 ER6.794e-06 n7000(All)
#a1.6b100N100 #TP0.953 TN0.996 ER8.488e-06 n6000(Reg) TP0.990 TN0.998 ER1.222e-05 n1000(UnReg:sX6) TP0.964 TN0.996 ER5.698e-06 n7000(All)

#a1.6b300N100 #TP0.951 TN0.994 ER7.823e-06 n7000(Reg)
#a1.6b300N100 #TP0.960 TN0.995 ER7.500e-06 n6000(Reg) TP0.940 TN0.993 ER6.667e-05 n1000(UnReg:sX0) TP0.953 TN0.995 ER7.454e-06 n7000(All)***SoSo
#a1.6b300N100 #TP0.968 TN0.996 ER5.895e-06 n6000(Reg) TP0.980 TN0.999 ER2.111e-05 n1000(UnReg:sX1) TP0.970 TN0.997 ER4.762e-06 n7000(All)
#a1.6b300N100 #TP0.968 TN0.996 ER5.864e-06 n6000(Reg) TP0.980 TN0.999 ER2.111e-05 n1000(UnReg:sX2) TP0.971 TN0.997 ER4.541e-06 n7000(All)
#a1.6b300N100 #TP0.962 TN0.996 ER7.006e-06 n6000(Reg) TP0.980 TN0.998 ER2.222e-05 n1000(UnReg:sX3) TP0.968 TN0.997 ER5.008e-06 n7000(All)
#a1.6b300N100 #TP0.967 TN0.996 ER6.204e-06 n6000(Reg) TP0.970 TN0.999 ER3.111e-05 n1000(UnReg:sX4) TP0.969 TN0.997 ER4.995e-06 n7000(All)
#a1.6b300N100 #TP0.962 TN0.995 ER7.191e-06 n6000(Reg) TP0.980 TN0.997 ER2.333e-05 n1000(UnReg:sX5) TP0.959 TN0.995 ER6.542e-06 n7000(All)
#a1.6b300N100 #TP0.950 TN0.995 ER9.198e-06 n6000(Reg) TP0.970 TN0.999 ER3.111e-05 n1000(UnReg:sX6) TP0.958 TN0.995 ER6.610e-06 n7000(All)

#a1.6b100N40 #TP0.943 TN0.989 ER9.751e-06 n7000(Reg)
#a1.6b100N40 #TP0.957 TN0.994 ER8.302e-06 n6000(Reg) TP0.940 TN0.992 ER6.778e-05 n1000(UnReg:sX0) TP0.941 TN0.993 ER9.403e-06 n7000(All)
#a1.6b100N40 #TP0.962 TN0.992 ER7.654e-06 n6000(Reg) TP0.960 TN0.993 ER4.667e-05 n1000(UnReg:sX1) TP0.935 TN0.993 ER1.039e-05 n7000(All)
#a1.6b100N40 #TP0.950 TN0.993 ER9.475e-06 n6000(Reg) TP0.930 TN0.989 ER8.111e-05 n1000(UnReg:sX2) TP0.934 TN0.993 ER1.052e-05 n7000(All)
#a1.6b100N40 #TP0.938 TN0.993 ER1.142e-05 n6000(Reg) TP0.920 TN0.989 ER9.111e-05 n1000(UnReg:sX3) TP0.933 TN0.993 ER1.063e-05 n7000(All)
#a1.6b100N40 #TP0.955 TN0.993 ER8.735e-06 n6000(Reg) TP0.960 TN0.990 ER5.000e-05 n1000(UnReg:sX4) TP0.932 TN0.992 ER1.086e-05 n7000(All)
#a1.6b100N40 #TP0.942 TN0.987 ER1.185e-05 n6000(Reg) TP0.950 TN0.983 ER6.667e-05 n1000(UnReg:sX5) TP0.887 TN0.987 ER1.803e-05 n7000(All)
#a1.6b100N40 #TP0.935 TN0.988 ER1.290e-05 n6000(Reg) TP0.930 TN0.981 ER8.889e-05 n1000(UnReg:sX6) TP0.886 TN0.987 ER1.816e-05 n7000(All)

#a1.6b300N40 #TP0.929 TN0.990 ER1.156e-05 n7000(Reg)
#a1.6b300N40 #TP0.950 TN0.992 ER9.691e-06 n6000(Reg) TP0.280 TN0.957 ER7.633e-04 n1000(UnReg:sX0) TP0.878 TN0.987 ER1.929e-05 n7000(All)NG for sX
#a1.6b300N40 #TP0.952 TN0.991 ER9.568e-06 n6000(Reg) TP0.410 TN0.962 ER6.278e-04 n1000(UnReg:sX1) TP0.881 TN0.987 ER1.894e-05 n7000(All)
#a1.6b300N40 #TP0.940 TN0.993 ER1.114e-05 n6000(Reg) TP0.650 TN0.976 ER3.744e-04 n1000(UnReg:sX2) TP0.914 TN0.991 ER1.359e-05 n7000(All)
#a1.6b300N40 #TP0.953 TN0.995 ER8.673e-06 n6000(Reg) TP0.590 TN0.981 ER4.289e-04 n1000(UnReg:sX3) TP0.932 TN0.993 ER1.075e-05 n7000(All)
#a1.6b300N40 #TP0.953 TN0.994 ER8.796e-06 n6000(Reg) TP0.450 TN0.961 ER5.889e-04 n1000(UnReg:sX4) TP0.901 TN0.989 ER1.572e-05 n7000(All)
#a1.6b300N40 #TP0.958 TN0.994 ER7.932e-06 n6000(Reg) TP0.760 TN0.987 ER2.533e-04 n1000(UnReg:sX5) TP0.937 TN0.993 ER1.004e-05 n7000(All)
#a1.6b300N40 #TP0.953 TN0.994 ER8.765e-06 n6000(Reg) TP0.520 TN0.978 ER5.022e-04 n1000(UnReg:sX6) TP0.923 TN0.992 ER1.217e-05 n7000(All)

#a1.6b50N40   #TP0.935 TN0.991 ER1.225e-05 n6000(Reg) TP0.900 TN0.984 ER1.156e-04 n1000(UnReg:sX0) TP0.916 TN0.990 ER1.342e-05 n7000(All)
#a1.6b100N40  #TP0.957 TN0.994 ER8.302e-06 n6000(Reg) TP0.940 TN0.992 ER6.778e-05 n1000(UnReg:sX0) TP0.941 TN0.993 ER9.403e-06 n7000(All)
#a1.6b100N100 #TP0.963 TN0.996 ER6.821e-06 n6000(Reg) TP0.940 TN0.993 ER6.667e-05 n1000(UnReg:sX0) TP0.959 TN0.995 ER6.568e-06 n7000(All)***
#a0.7b100N40 #TP0.857 TN0.981 ER2.704e-05 n6000(Reg) TP0.780 TN0.971 ER2.489e-04 n1000(UnReg:sX0) TP0.822 TN0.980 ER2.830e-05 n7000(All)
#a1.6b200N40 #TP0.917 TN0.987 ER1.608e-05 n6000(Reg) TP0.840 TN0.976 ER1.844e-04 n1000(UnReg:sX0) TP0.872 TN0.985 ER2.038e-05 n7000(All)
#a1.6b300N40 #TP0.950 TN0.992 ER9.691e-06 n6000(Reg) TP0.280 TN0.957 ER7.633e-04 n1000(UnReg:sX0) TP0.878 TN0.987 ER1.929e-05 n7000(All)

(3) commands for speaker+digit verification
pAs=0.99;pAd=0.80;T=5;TT=15;;gibbs=0;  #for BI   pApAd:pA:pAd
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;   #for GEBI pApAd:pA:pAd
iCs=0;iCd=0; # test correct (registered) speaker
iCs=1;iCd=0; # test incorrect registered and unregistered sX 
iCs=2;iCd=0; # test incorrect registered
iCs=3;iCd=0; # test (incorrect) unregistered sX 
cat /dev/null > resultsum.dat
for sX in 0 1 2 3 4 5 6; do
test=test:5:1000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
cmd="speakerdigit_v5 fs:../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/allpole/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:${gibbs} beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:1000:${iCs}:${iCd}:$T:$TT sX:$sX void:0";$cmd > /dev/null
cat tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
done
for t in 15; do #for tex
export t;cat resultsum.dat|awk 'BEGIN{t=ENVIRON["t"];Asd=As=Ad=0;n=0;} {if($1==t){Asd+=$10;Rsd+=$11;As+=$12;Rs+=$13;Ad+=$14;Rd+=$15;a16=$16;a17=$17;a18=$18;a19=$19;a20=$20}} END{printf("#t%d {%.1f}{%.1f}{%.1f}{Ad:As:Asd for pAsd%g:%g iC%d:%d/%d n%d}\n",t,100*Ad/(Ad+Rd),100*As/(As+Rs),100*Asd/(Asd+Rsd),a16,a17,a18,a19,a20,As+Rs);}'
done

(4) tune pAs and pAd via EER (Equal Error Rate; FA \simeq FR) using (3); --> result pAsd=0.8:0.96  for  Gibbs, pAsd=0.99:0.80 for Bayes(gibbs:0)
##################### tune pAsd for FA \simeq FR, Gibbs pAsd=0.8:0.96
#Gibbs (gibbs:1)
#t15 {99.0}{1.2}{1.1}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}  FAR=1.1
#t15 {99.0}{99.8}{98.8}{Ad:As:Asd for pAsd0.8:0.96 iC0:0/5 n7000} FRR=1.2=100-98.8
#bayes (gibbs:0)
#t15 {97.7}{95.4}{94.0}{Ad:As:Asd for pAsd0.99:0.8 iC0:0/5 n7000} FRR=6.0=100-94.0
#t15 {98.2}{5.1}{5.0}{Ad:As:Asd for pAsd0.99:0.8 iC3:0/5 n7000}   FRR=5.0

#### FAR for registered incorrect? nonesense result pAs=0.2 ?
#t15 {99.9}{100.0}{99.9}{Ad:As:Asd for pAsd0.2:0.85 iC0:0/5 n7000} FRR=0.1 pAsd0.2:0.85
#t15 {99.9}{0.1}{0.1}{Ad:As:Asd for pAsd0.2:0.85 iC2:0/5 n7000}    FAR=0.1 pAs=0.2 is nonsense? dangerous?



####the following result is obtained with speakerdigit_v5-
####Gibbs (gibbs:1)
####t15 {99.2}{1.2}{1.2}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}   FA=1.2 *** Use pAsd=0.80:0.96 for Gibbs
####t15 {99.1}{99.9}{99.0}{Ad:As:Asd for pAsd0.8:0.96 iC0:0/5 n7000} FR=0.9
###
#######t15 {100.0}{0.1}{0.1}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}  using l[t] 20140514 at mesaho
#######t15 {99.9}{100.0}{99.9}{Ad:As:Asd for pAsd0.8:0.96 iC0:0/5 n7000} using l[t] 20140514 at mesaho
###
####t15 {98.2}{99.9}{98.2}{Ad:As:Asd for pAsd0.8:0.97 iC0:0/5 n7000} FR=1.8
####t15 {98.7}{1.2}{1.2}{Ad:As:Asd for pAsd0.8:0.97 iC3:0/5 n7000}   FA=1.2
###
####t15 {99.3}{1.2}{1.2}{Ad:As:Asd for pAsd0.8:0.95 iC3:0/5 n7000}   FA=1.2%
####t15 {99.3}{99.9}{99.2}{Ad:As:Asd for pAsd0.8:0.95 iC0:0/5 n7000} FR=0.8%
###
###### Bayes(gibbs:0)
####t15 {99.5}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.1 iC3:0/5 n7000}
####t15 {99.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.2 iC3:0/5 n7000}
####t15 {99.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.3 iC3:0/5 n7000}
####t15 {98.7}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.4 iC3:0/5 n7000}
####t15 {98.3}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.5 iC3:0/5 n7000}
####t15 {98.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.6 iC3:0/5 n7000}   FA=5.5
####t15 {98.2}{0.1}{0.1}{Ad:As:Asd for pAsd0.99:0.6 iC2:0/5 n7000}   FA=0.1 for registered incorrect
####t15 {97.9}{95.3}{93.9}{Ad:As:Asd for pAsd0.99:0.6 iC0:0/5 n7000} FR=6.1
###
####t15 {98.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.7 iC3:0/5 n7000}   FA=5.5
####t15 {97.9}{95.3}{93.9}{Ad:As:Asd for pAsd0.99:0.7 iC0:0/5 n7000} FR=6.1
####t15 {55.9}{95.5}{53.9}{Ad:As:Asd for pAsd0.99:0.7 iC0:2/5 n7000} FA=53.9 worse than below
###
####t15 {98.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.75 iC3:0/5 n7000}   FA=5.5
####t15 {97.9}{95.3}{93.9}{Ad:As:Asd for pAsd0.99:0.75 iC0:0/5 n7000} FR=6.1
####t15 {55.8}{95.5}{53.8}{Ad:As:Asd for pAsd0.99:0.75 iC0:2/5 n7000} FA=53.8 worse than below
###
####t15 {98.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.8 iC3:0/5 n7000}   FA=5.5  same as below use this ?? pAsd0.99:0.80 ***
####t15 {97.8}{95.3}{93.9}{Ad:As:Asd for pAsd0.99:0.8 iC0:0/5 n7000} FR=6.1
####t15 {55.7}{95.5}{53.7}{Ad:As:Asd for pAsd0.99:0.8 iC0:2/5 n7000} FA=53.7
###
####t15 {98.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.85 iC3:0/5 n7000}   FA=5.5  same as above use this ?? pAsd0.99:0.85
####t15 {97.8}{95.3}{93.9}{Ad:As:Asd for pAsd0.99:0.85 iC0:0/5 n7000} FR=6.1  boundary
####t15 {55.7}{95.5}{53.7}{Ad:As:Asd for pAsd0.99:0.85 iC0:2/5 n7000} FA=53.7
###
####t15 {98.0}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.9 iC3:0/5 n7000} FA=5.5   
####t15 {97.8}{95.3}{93.8}{Ad:As:Asd for pAsd0.99:0.9 iC0:0/5 n7000} FR=6.2 worse than above
####t15 {55.6}{95.5}{53.7}{Ad:As:Asd for pAsd0.99:0.9 iC0:2/5 n7000} FA=53.7
###
####t15 {97.9}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.98 iC3:0/5 n7000}  FA=5.5
####t15 {97.5}{95.3}{93.5}{Ad:As:Asd for pAsd0.99:0.98 iC0:0/5 n7000} FR=6.5
###
####t15 {97.9}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.97 iC3:0/5 n7000} FA=5.5
####t15 {97.7}{95.3}{93.8}{Ad:As:Asd for pAsd0.99:0.97 iC0:0/5 n7000} FR=6.2
###
####t15 {98.0}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.96 iC3:0/5 n7000}  FA=5.5
####t15 {97.8}{95.3}{93.8}{Ad:As:Asd for pAsd0.99:0.96 iC0:0/5 n7000} FR=6.2
###
####t15 {98.0}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.95 iC3:0/5 n7000} FA=5.5%
####t15 {97.8}{95.3}{93.8}{Ad:As:Asd for pAsd0.99:0.95 iC0:0/5 n7000} FR=6.2%
###
###
####t15 {98.0}{11.7}{11.5}{Ad:As:Asd for pAsd0.98:0.95 iC3:0/5 n7000} FA=11.5
####t15 {97.8}{96.1}{94.5}{Ad:As:Asd for pAsd0.98:0.95 iC0:0/5 n7000} FR=5.5
###
####t15 {98.0}{12.9}{12.7}{Ad:As:Asd for pAsd0.95:0.95 iC3:0/5 n7000} FA=12.7
####t15 {97.8}{96.3}{94.7}{Ad:As:Asd for pAsd0.95:0.95 iC0:0/5 n7000} FR=5.3
###
####t15 {98.0}{23.9}{23.6}{Ad:As:Asd for pAsd0.7:0.95 iC3:0/5 n7000} FA=23.6
####t15 {97.8}{96.8}{95.1}{Ad:As:Asd for pAsd0.7:0.95 iC0:0/5 n7000} FR=4.9
###
####t15 {98.0}{26.0}{25.6}{Ad:As:Asd for pAsd0.5:0.95 iC3:0/5 n7000} FA=25.6
####t15 {97.8}{97.4}{95.6}{Ad:As:Asd for pAsd0.5:0.95 iC0:0/5 n7000} FR=0.44
###
####tune pA for rejecting unregistered speaker
####t15 {99.2}{20.9}{20.7}{Ad:As:Asd for pAsd0.5:0.96 iC3:0/5 n7000}
####t15 {99.2}{6.3}{6.3}{Ad:As:Asd for pAsd0.6:0.96 iC3:0/5 n7000}
####t15 {99.2}{3.0}{3.0}{Ad:As:Asd for pAsd0.7:0.96 iC3:0/5 n7000} FA=3.0%
####t15 {99.2}{1.2}{1.2}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}
####t15 {99.2}{0.3}{0.3}{Ad:As:Asd for pAsd0.9:0.96 iC3:0/5 n7000} FA=0.3%
####t15 {99.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC3:0/5 n7000} FA=0%
###
###### tuning pAsd FA=FR base 0.8:0.96
####t15 {99.2}{1.2}{1.2}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}  #unregistered       FA=1.2% with  with pAsd=pAs:pAd=0.8:0.96
####t15 {99.1}{99.9}{99.0}{Ad:As:Asd for pAsd0.8:0.96 iC0:0/5 n7000}#correct registered FR=1%
####t15 {99.2}{3.0}{3.0}{Ad:As:Asd for pAsd0.7:0.96 iC3:0/5 n7000}  #unregistered FA=3% 
####t15 {99.1}{99.9}{99.0}{Ad:As:Asd for pAsd0.7:0.96 iC0:0/5 n7000}#correct registered FR=1%
####t15 {99.2}{0.7}{0.7}{Ad:As:Asd for pAsd0.85:0.96 iC3:0/5 n7000} # FA=0.7%
####t15 {99.1}{99.8}{98.9}{Ad:As:Asd for pAsd0.85:0.96 iC0:0/5 n7000}# FR=0.11%

(5) Examination using (3)
#unregistered (iCs=3;iCd=0-3; # test incorrect unregistered sX ) pAsd=0.8:0.96  for  Gibbs
#t15 {99.0}{1.2}{1.1}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}
#t15 {91.5}{1.2}{1.1}{Ad:As:Asd for pAsd0.8:0.96 iC3:1/5 n7000}
#t15 {0.1}{1.4}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC3:2/5 n7000}
#t15 {0.0}{1.1}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC3:3/5 n7000}
#incorrect registered
#t15 {99.1}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:0/5 n7000}
#t15 {91.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:1/5 n7000}
#t15 {0.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:2/5 n7000}
#t15 {0.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:3/5 n7000}
#correct registered
#t15 {99.0}{99.8}{98.8}{Ad:As:Asd for pAsd0.8:0.96 iC0:0/5 n7000}
#t15 {90.7}{99.9}{90.6}{Ad:As:Asd for pAsd0.8:0.96 iC0:1/5 n7000}
#t15 {0.1}{99.9}{0.1}{Ad:As:Asd for pAsd0.8:0.96 iC0:2/5 n7000}
#t15 {0.0}{99.8}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC0:3/5 n7000}
###pAsd=0.99:0.80 for Bayes(gibbs:0)
#unregistered
#t15 {98.2}{5.1}{5.0}{Ad:As:Asd for pAsd0.99:0.8 iC3:0/5 n7000}
#t15 {78.3}{4.7}{3.7}{Ad:As:Asd for pAsd0.99:0.8 iC3:1/5 n7000}
#t15 {55.3}{5.2}{2.7}{Ad:As:Asd for pAsd0.99:0.8 iC3:2/5 n7000}
#t15 {38.5}{5.0}{2.3}{Ad:As:Asd for pAsd0.99:0.8 iC3:3/5 n7000}
#incorrect registered
#t15 {97.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.99:0.8 iC2:0/5 n7000}
#t15 {76.6}{0.1}{0.0}{Ad:As:Asd for pAsd0.99:0.8 iC2:1/5 n7000}
#t15 {58.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.99:0.8 iC2:2/5 n7000}
#t15 {36.1}{0.1}{0.0}{Ad:As:Asd for pAsd0.99:0.8 iC2:3/5 n7000}
#correct 
#t15 {97.7}{95.4}{94.0}{Ad:As:Asd for pAsd0.99:0.8 iC0:0/5 n7000}
#t15 {77.9}{95.4}{75.0}{Ad:As:Asd for pAsd0.99:0.8 iC0:1/5 n7000}
#t15 {55.2}{95.0}{53.2}{Ad:As:Asd for pAsd0.99:0.8 iC0:2/5 n7000}
#t15 {38.6}{95.8}{37.5}{Ad:As:Asd for pAsd0.99:0.8 iC0:3/5 n7000}

####the following result is obtained with speakerdigit_v5-
####pAsd=0.8:0.96  for  Gibbs
####unregistered (iCs=3;iCd=0-3; # test incorrect unregistered sX )
####t15 {99.2}{1.2}{1.2}{Ad:As:Asd for pAsd0.8:0.96 iC3:0/5 n7000}
####t15 {91.8}{1.1}{1.0}{Ad:As:Asd for pAsd0.8:0.96 iC3:1/5 n7000}
####t15 {0.1}{1.2}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC3:2/5 n7000}
####t15 {0.0}{1.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC3:3/5 n7000}
####incorrect registered
####t15 {99.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:0/5 n7000}
####t15 {90.3}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:1/5 n7000}
####t15 {0.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:2/5 n7000}
####t15 {0.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC2:3/5 n7000}
####correct registered
####t15 {99.1}{99.9}{99.0}{Ad:As:Asd for pAsd0.8:0.96 iC0:0/5 n7000}
####t15 {91.0}{99.9}{90.9}{Ad:As:Asd for pAsd0.8:0.96 iC0:1/5 n7000}
####t15 {0.2}{99.9}{0.2}{Ad:As:Asd for pAsd0.8:0.96 iC0:2/5 n7000}
####t15 {0.0}{99.8}{0.0}{Ad:As:Asd for pAsd0.8:0.96 iC0:3/5 n7000}
######pAsd=0.99:0.80 for Bayes(gibbs:0)
####unregistered
####t15 {98.1}{5.5}{5.5}{Ad:As:Asd for pAsd0.99:0.8 iC3:0/5 n7000}
####t15 {76.2}{5.1}{3.8}{Ad:As:Asd for pAsd0.99:0.8 iC3:1/5 n7000}
####t15 {56.1}{5.2}{3.0}{Ad:As:Asd for pAsd0.99:0.8 iC3:2/5 n7000}
####t15 {37.9}{5.0}{2.0}{Ad:As:Asd for pAsd0.99:0.8 iC3:3/5 n7000}
####incorrect registered
####t15 {98.1}{0.1}{0.1}{Ad:As:Asd for pAsd0.99:0.8 iC2:0/5 n7000}
####t15 {76.8}{0.1}{0.1}{Ad:As:Asd for pAsd0.99:0.8 iC2:1/5 n7000}
####t15 {58.0}{0.1}{0.0}{Ad:As:Asd for pAsd0.99:0.8 iC2:2/5 n7000}
####t15 {36.4}{0.0}{0.0}{Ad:As:Asd for pAsd0.99:0.8 iC2:3/5 n7000}
####correct
####t15 {97.8}{95.3}{93.9}{Ad:As:Asd for pAsd0.99:0.8 iC0:0/5 n7000}
####t15 {76.1}{95.0}{73.0}{Ad:As:Asd for pAsd0.99:0.8 iC0:1/5 n7000}
####t15 {55.7}{95.5}{53.7}{Ad:As:Asd for pAsd0.99:0.8 iC0:2/5 n7000}
####t15 {37.7}{94.7}{36.1}{Ad:As:Asd for pAsd0.99:0.8 iC0:3/5 n7000}


(6) make Figs for ICONIP2014
(3') 
pAs=0.99;pAd=0.80;T=5;TT=15;gibbs=0;        #for BI   pApAd:pA:pAd
pAs=0.80;pAd=0.96;T=5;TT=15;gibbs=1;           #for GEBI pApAd:pA:pAd
iCs=0;iCd=0; # test correct (registered) speaker
#iCs=1;iCd=0; # test incorrect registered and unregistered sX 
iCs=2;iCd=0; # test incorrect registered
iCs=3;iCd=0; # test (incorrect) unregistered sX 
cat /dev/null > resultsum.dat
cat /dev/null > psdsum.dat
for sX in 0 1 2 3 4 5 6; do sP=-1;
test=test:5:1000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
cmd="speakerdigit_v5 fs:../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/allpole/oob4d:-1N100mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:$gibbs beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pAs}:${pAd} LAR:0:0:-1 test:5:1000:${iCs}:${iCd}:$T:$TT sX:$sX sP:$sP void:0";$cmd > /dev/null
cat tmp/testsd_stat.dat >> resultsum.dat
echo -e "\n" >> resultsum.dat
cat tmp/psd.dat >> psdsum.dat
done
## calc mean,std0,std1
cat /dev/null > psdstat.dat
echo "#t,pSm,sqrt(pSv0/nS0),sqrt(pSv1/nS1),pDm,sqrt(pDv0/nD0),sqrt(pDv1/nD1)" >> psdstat.dat
for t in 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15; do #for tex
export t;cat psdsum.dat|awk 'BEGIN{t=ENVIRON["t"];pSm=pSv0=pSv1=nS0=nS1=pDm=pDv0=pDv1=nD0=nD1=n=0;} 
{if($1==t){pS[n]=$3;pD[n]=$4;pSm+=$3;pDm+=$4;n++;}} 
END{pSm/=n;pDm/=n;for(i=0;i<n;i++){
eS=pS[i]-pSm;if(eS<0){pSv0+=(eS*eS);nS0++;}else {pSv1+=(eS*eS);nS1++;}
eD=pD[i]-pDm;if(eD<0){pDv0+=(eD*eD);nD0++;}else {pDv1+=(eD*eD);nD1++;}}
printf("%d %g %g %g %g %g %g\n",t,pSm,sqrt(pSv0/nS0),sqrt(pSv1/nS1),pDm,sqrt(pDv0/nD0),sqrt(pDv1/nD1));}' >> psdstat.dat
done
#cat /dev/null > resultp.dat
#for t in 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15; do #for tex
#export t;cat resultsum.dat|awk 'BEGIN{t=ENVIRON["t"];pS=UmS=UMS=pD=UmD=UMD=n=0;} {if($1==t){pS+=$2;UmS+=($4*$4);UMS+=($5*$5);pD+=$6;UmD+=($7*$7);UMD+=($8*$8);n++;}} END{printf("%d %g %g %g %g %g %g\n",t,pS/n,sqrt(UmS/n),sqrt(UMS/n),pD/n,sqrt(UmD/n), sqrt(UMD/n));}' >> resultp.dat
#done
d1=../result-onsei; if [ ! -e $d1 ]; then mkdir $d1;fi
cmd1="cp psdstat.dat $d1/resultp_iCs${iCs}iCd${iCd}G${gibbs}.txt"
echo $cmd1;$cmd1
#######
#
cd ../result-onsei
gnuplot
#gibbs speaker
#set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid; set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
#set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid; set xrange [-0.5:17.9]; set yrange [-0.2:1.2];
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid; set xrange [-0.5:15.9]; set yrange [-0.2:1.2];
plot  "resultp_iCs0iCd0G1.txt" using 1:2 t "pG" lt 1, "" using 1:($2):($2-$3):($2+$4) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs2iCd0G1.txt" using ($1+0.2):2 t "pG" lt 1, "" using ($1+0.2):($2):($2-$3):($2+$4) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs3iCd0G1.txt" using ($1+0.4):2 t "pG" lt 1, "" using ($1+0.4):($2):($2-$3):($2+$4) with yerrorbars t "" pt 4 lt 1
set term tgif;set output "pGs-t.obj";replot;set term X11
!cp pGs-t.obj ~/14iconip/iconip2014speech/draft
#gibbs digits
#set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.96,1.0);set grid;set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.96,1.0);set grid; set xrange [-0.5:18.9]; set yrange [-0.2:1.2];
plot "resultp_iCs0iCd0G1.txt" using 1:5 t "pG" lt 1, "" using 1:($5):($5-$6):($5+$7) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs0iCd1G1.txt" using ($1+0.2):5 t "pG" lt 1, "" using ($1+0.2):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd2G1.txt" using ($1+0.4):5 t "pG" lt 1, "" using ($1+0.4):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd3G1.txt" using ($1+0.6):5 t "pG" lt 1, "" using ($1+0.6):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1
set term tgif;set output "pGd-t.obj";replot;set term X11
!cp pGd-t.obj ~/14iconip/iconip2014speech/draft
#bayes speaker
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.99,1.0);set grid;set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.99,1.0);set grid; set xrange [-0.5:17.9]; set yrange [-0.2:1.2];
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.99,1.0);set grid; set xrange [-0.5:15.9]; set yrange [-0.2:1.2];
plot "resultp_iCs0iCd0G0.txt" using 1:2 t "pB" lt 1, "" using 1:($2):($2-$3):($2+$4) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs2iCd0G0.txt" using ($1+0.2):2 t "pB" lt 1, "" using ($1+0.2):($2):($2-$3):($2+$4) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs3iCd0G0.txt" using ($1+0.4):2 t "pB" lt 1, "" using ($1+0.4):($2):($2-$3):($2+$4) with yerrorbars t "" pt 4 lt 1
set term tgif;set output "pBs-t.obj";replot;set term X11
!cp pBs-t.obj ~/14iconip/iconip2014speech/draft
#bayes digits
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid;;set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid; set xrange [-0.5:18.9]; set yrange [-0.2:1.2];
plot "resultp_iCs0iCd0G0.txt" using 1:5 t "pB" lt 1, "" using 1:($5):($5-$6):($5+$7) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs0iCd1G0.txt" using ($1+0.2):5 t "pB" lt 1, "" using ($1+0.2):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd2G0.txt" using ($1+0.4):5 t "pB" lt 1, "" using ($1+0.4):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd3G0.txt" using ($1+0.6):5 t "pB" lt 1, "" using ($1+0.6):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1
set term tgif;set output "pBd-t.obj";replot;set term X11
!cp pBd-t.obj ~/14iconip/iconip2014speech/draft





#######orig
cd ../result-onsei
gnuplot
#gibbs speaker
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid; set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
plot  "../result-onsei/resultp_iCs0iCd0G1.txt" using 1:2 t "pG" lt 1, "" using 1:($2):($2-$3):($2+$4) with yerrorbars t "" pt 7 lt 1, \
"../result-onsei/resultp_iCs2iCd0G1.txt" using ($1+0.2):2 t "pG" lt 2, "" using ($1+0.2):($2):($2-$3):($2+$4) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs3iCd0G1.txt" using ($1+0.4):2 t "pG" lt 3, "" using ($1+0.4):($2):($2-$3):($2+$4) with yerrorbars t "" pt 4 lt 1
set term tgif;set output "pGs-t_iCs023iCd0.obj";replot;set term X11
!cp pGs-t_iCs023iCd0.obj ~/14iconip/iconip2014speech/draft
#gibbs digits
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.96,1.0);set grid;set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
plot "resultp_iCs0iCd0G1.txt" using 1:5 t "pG" lt 1, "" using 1:($5):($5-$6):($5+$7) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs0iCd1G1.txt" using ($1+0.2):5 t "pG" lt 2, "" using ($1+0.2):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd2G1.txt" using ($1+0.4):5 t "pG" lt 3, "" using ($1+0.4):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd3G1.txt" using ($1+0.6):5 t "pG" lt 4, "" using ($1+0.6):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1
set term tgif;set output "pGd-t_iCs0iCd0123.obj";replot;set term X11
!cp pGd-t_iCs0iCd0123.obj ~/14iconip/iconip2014speech/draft
#bayes speaker
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.99,1.0);set grid;set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
plot "resultp_iCs0iCd0G0.txt" using 1:2 t "pB" lt 1, "" using 1:($2):($2-$3):($2+$4) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs2iCd0G0.txt" using ($1+0.2):2 t "pB" lt 2, "" using ($1+0.2):($2):($2-$3):($2+$4) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs3iCd0G0.txt" using ($1+0.4):2 t "pB" lt 3, "" using ($1+0.4):($2):($2-$3):($2+$4) with yerrorbars t "" pt 4 lt 1
set term tgif;set output "pBs-t_iCs023iCd0.obj";replot;set term X11
!cp pBs-t_iCs023iCd0.obj ~/14iconip/iconip2014speech/draft
#bayes digits
set style data l;set xtics (0,5,10,15);set ytics (0,0.5,0.8,1.0);set grid;;set xrange [-1.5:15.9]; set yrange [-0.1:1.4];
plot "resultp_iCs0iCd0G0.txt" using 1:5 t "pB" lt 1, "" using 1:($5):($5-$6):($5+$7) with yerrorbars t "" pt 7 lt 1, \
"resultp_iCs0iCd1G0.txt" using ($1+0.2):5 t "pB" lt 2, "" using ($1+0.2):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd2G0.txt" using ($1+0.4):5 t "pB" lt 3, "" using ($1+0.4):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1, \
"resultp_iCs0iCd3G0.txt" using ($1+0.6):5 t "pB" lt 4, "" using ($1+0.6):($5):($5-$6):($5+$7) with yerrorbars t "" pt 6 lt 1
set term tgif;set output "pBd-t_iCs0iCd0123.obj";replot;set term X11
!cp pBd-t_iCs0iCd0123.obj ~/14iconip/iconip2014speech/draft


####################examination with  pAsd=pAs:pAd=0.95:0.96
#unregistered
#t15 {99.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC3:0/5 n7000} FA=0%
#t15 {91.8}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC3:1/5 n7000}
#t15 {0.1}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC3:2/5 n7000}
#t15 {0.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC3:3/5 n7000}
#incorrect registered
#t15 {99.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC2:0/5 n7000}
#t15 {90.3}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC2:1/5 n7000}
#t15 {0.2}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC2:2/5 n7000}
#t15 {0.0}{0.0}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC2:3/5 n7000}
#correct registered
#t15 {99.1}{97.7}{96.9}{Ad:As:Asd for pAsd0.95:0.96 iC0:0/5 n7000} FR =3.1%
#t15 {91.0}{98.2}{89.7}{Ad:As:Asd for pAsd0.95:0.96 iC0:1/5 n7000} FA=89.7%
#t15 {0.2}{98.0}{0.1}{Ad:As:Asd for pAsd0.95:0.96 iC0:2/5 n7000}   FA=0.1%
#t15 {0.0}{97.7}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC0:3/5 n7000}
##########################
#unregistered Bayes(gibbs:0) with pAsd0.95:0.96
#t15 {98.0}{12.9}{12.7}{Ad:As:Asd for pAsd0.95:0.96 iC3:0/5 n7000}
#t15 {75.8}{12.3}{9.1}{Ad:As:Asd for pAsd0.95:0.96 iC3:1/5 n7000}
#t15 {54.9}{12.7}{7.0}{Ad:As:Asd for pAsd0.95:0.96 iC3:2/5 n7000}
#t15 {35.5}{12.4}{4.8}{Ad:As:Asd for pAsd0.95:0.96 iC3:3/5 n7000}
#incorrect registered Bayes(gibbs:0)
#t15 {98.1}{0.1}{0.1}{Ad:As:Asd for pAsd0.95:0.96 iC2:0/5 n7000}
#t15 {76.3}{0.2}{0.1}{Ad:As:Asd for pAsd0.95:0.96 iC2:1/5 n7000}
#t15 {56.7}{0.2}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC2:2/5 n7000}
#t15 {34.1}{0.1}{0.0}{Ad:As:Asd for pAsd0.95:0.96 iC2:3/5 n7000}
#correct registered Bayes(gibbs:0)
#t15 {97.8}{96.3}{94.7}{Ad:As:Asd for pAsd0.95:0.96 iC0:0/5 n7000} FR=5.3%
#t15 {75.6}{95.8}{73.1}{Ad:As:Asd for pAsd0.95:0.96 iC0:1/5 n7000} FA=73.1%
#t15 {54.5}{96.3}{52.9}{Ad:As:Asd for pAsd0.95:0.96 iC0:2/5 n7000} FA=52.9%
#t15 {35.3}{95.5}{33.8}{Ad:As:Asd for pAsd0.95:0.96 iC0:3/5 n7000}


#worst case  unregistered speaker
tmp/testsd.dat
n343t0 0.01000 0.99000 #t,pGC,pGiC
xXxxxxLC0.54545 n343t1 0.01198 0.98802 #t,pGC,pGiC sdP2:2 sdT1:2 lT2 iCdT0(A1R0S0)
xOxxxxLC0.99854 n343t2 0.74253 0.25747 #t,pGC,pGiC sdP2:4 sdT1:4 lT2 iCdT0(A2R0S0)
xOxxxxLC0.99854 n343t3 0.94701 0.05299 #t,pGC,pGiC sdP2:1 sdT1:1 lT2 iCdT0(A3R0S0)
xOxxxxLC0.99854 n343t4 0.97802 0.02198 #t,pGC,pGiC sdP2:1 sdT1:1 lT2 iCdT0(A4R0S0)
xXxxxxLC0.54545 n343t5 0.95575 0.04425 #t,pGC,pGiC sdP2:0 sdT1:0 lT2 iCdT0(A5R0S0)
xOxxxxLC0.99854 n343t6 0.97464 0.02536 #t,pGC,pGiC sdP2:5 sdT1:5 lT2 iCdT0(A6R0S0)
xXoxxxLC0.00862 n343t7 0.92055 0.07945 #t,pGC,pGiC sdP2:6 sdT1:6 lT2 iCdT0(A7R0S0)
xXxxxxLC0.54545 n343t8 0.89720 0.10280 #t,pGC,pGiC sdP2:0 sdT1:0 lT2 iCdT0(A8R0S0)
xOxxxxLC0.99854 n343t9 0.93410 0.06590 #t,pGC,pGiC sdP2:4 sdT1:4 lT2 iCdT0(A9R0S0)
xOxxxxLC0.99854 n343t10 0.95432 0.04568 #t,pGC,pGiC sdP2:4 sdT1:4 lT2 iCdT0(A10R0S0)
xOxxxxLC0.99854 n343t11 0.96633 0.03367 #t,pGC,pGiC sdP2:4 sdT1:4 lT2 iCdT0(A11R0S0)
xXxxxxLC0.54545 n343t12 0.95657 0.04343 #t,pGC,pGiC sdP2:2 sdT1:2 lT2 iCdT0(A12R0S0)
xOxxxxLC0.99854 n343t13 0.96633 0.03367 #t,pGC,pGiC sdP2:5 sdT1:5 lT2 iCdT0(A13R0S0)
xXxxxxLC0.54545 n343t14 0.95812 0.04188 #t,pGC,pGiC sdP2:7 sdT1:7 lT2 iCdT0(A14R0S0)
xOxxxxLC0.99854 n343t15 0.96633 0.03367 #t,pGC,pGiC sdP2:5 sdT1:5 lT2 iCdT0(A15R0S0) Accept! pGC0.966>pA0.900000 method->id=1

xxxOxxLC0.99821 n179t15 0.90756 0.09244 #t,pGC,pGiC sdP4:8 sdT0:8 lT9 iCdT0(A15R0S0) Accept! pGC0.908>pA0.900000 method->id=1
xxxOxxLC0.99821 n418t15 0.93690 0.06310 #t,pGC,pGiC sdP4:8 sdT0:8 lT9 iCdT0(A15R0S0) Accept! pGC0.937>pA0.900000 method->id=1
xxxOxxLC0.99821 n884t15 0.90821 0.09179 #t,pGC,pGiC sdP4:8 sdT0:8 lT9 iCdT0(A15R0S0) Accept! pGC0.908>pA0.900000 method->id=1
xxxXxxLC0.52899 n933t15 0.93736 0.06264 #t,pGC,pGiC sdP4:8 sdT0:8 lT6 iCdT0(A15R0S0) Accept! pGC0.937>pA0.900000 method->id=1

xOxxxxLC0.99854 n343t15 0.96633 0.03367 #t,pGC,pGiC sdP2:5 sdT1:5 lT2 iCdT0(A15R0S0) Accept! pGC0.966>pA0.900000 method->id=1 XXXX sX=1
OxxxxxLC0.99838 n551t15 0.93668 0.06332 #t,pGC,pGiC sdP0:5 sdT1:5 lT4 iCdT0(A15R0S0) Accept! pGC0.937>pA0.900000 method->id=1
XxxxxxLC0.25641 n888t15 0.90931 0.09069 #t,pGC,pGiC sdP0:1 sdT1:1 lT6 iCdT0(A15R0S0) Accept! pGC0.909>pA0.900000 method->id=1

xxxxxOLC0.99865 n165t15 0.90139 0.09861 #t,pGC,pGiC sdP6:1 sdT2:1 lT7 iCdT0(A15R0S0) Accept! pGC0.901>pA0.900000 method->id=1
xxxxXxLC0.33333 n171t15 0.91275 0.08725 #t,pGC,pGiC sdP5:3 sdT2:3 lT2 iCdT0(A15R0S0) Accept! pGC0.913>pA0.900000 method->id=1
xxxxxOLC0.99865 n241t15 0.96319 0.03681 #t,pGC,pGiC sdP6:5 sdT2:5 lT4 iCdT0(A15R0S0) Accept! pGC0.963>pA0.900000 method->id=1
xxxxxOLC0.99865 n544t15 0.94908 0.05092 #t,pGC,pGiC sdP6:7 sdT2:7 lT4 iCdT0(A15R0S0) Accept! pGC0.949>pA0.900000 method->id=1
xxxoxXLC0.01571 n833t15 0.90508 0.09492 #t,pGC,pGiC sdP6:9 sdT2:9 lT7 iCdT0(A15R0S0) Accept! pGC0.905>pA0.900000 method->id=1

xXxxxxLC0.41667 n95t15 0.91614 0.08386 #t,pGC,pGiC sdP1:0 sdT4:0 lT3 iCdT0(A15R0S0) Accept! pGC0.916>pA0.900000 method->id=1
OxxxxxLC0.99896 n126t15 0.91188 0.08812 #t,pGC,pGiC sdP0:0 sdT4:0 lT0 iCdT0(A15R0S0) Accept! pGC0.912>pA0.900000 method->id=1
OxxxxxLC0.99896 n389t15 0.91591 0.08409 #t,pGC,pGiC sdP0:4 sdT4:4 lT0 iCdT0(A15R0S0) Accept! pGC0.916>pA0.900000 method->id=1
OxxxxxLC0.99896 n538t15 0.95429 0.04571 #t,pGC,pGiC sdP0:4 sdT4:4 lT0 iCdT0(A15R0S0) Accept! pGC0.954>pA0.900000 method->id=1
OxxxxxLC0.99896 n941t15 0.94626 0.05374 #t,pGC,pGiC sdP0:6 sdT4:6 lT0 iCdT0(A15R0S0) Accept! pGC0.946>pA0.900000 method->id=1

xxOxxxLC0.99928 n354t15 0.91709 0.08291 #t,pGC,pGiC sdP2:2 sdT5:2 lT6 iCdT0(A15R0S0) Accept! pGC0.917>pA0.900000 method->id=1

xxXxxxLC0.61644 n354t15 0.90875 0.09125 #t,pGC,pGiC sdP2:2 sdT6:2 lT6 iCdT0(A15R0S0) Accept! pGC0.909>pA0.900000 method->id=1
xxxxxOLC0.99893 n786t15 0.91303 0.08697 #t,pGC,pGiC sdP5:0 sdT6:0 lT5 iCdT0(A15R0S0) Accept! pGC0.913>pA0.900000 method->id=1
xxxxxOLC0.99893 n954t15 0.94445 0.05555 #t,pGC,pGiC sdP5:9 sdT6:9 lT5 iCdT0(A15R0S0) Accept! pGC0.944>pA0.900000 method->id=1

##################
#(incorrect) unregistered Bayes
#t15 Asd25.36 As26.07 Ad97.76 n7000 pAsd0.50:0.96 iC3:0/5
#t15 Asd20.91 As25.81 Ad80.50 n7000 pAsd0.50:0.96 iC3:1/5
#t15 Asd14.97 As25.87 Ad56.30 n7000 pAsd0.50:0.96 iC3:2/5
#t15 Asd8.93 As26.01 Ad35.07 n7000 pAsd0.50:0.96 iC3:3/5
#incorrect registered Bayes
#t15 Asd0.39 As0.44 Ad97.76 n7000 pAsd0.50:0.96 iC2:0/5
#t15 Asd0.29 As0.51 Ad77.39 n7000 pAsd0.50:0.96 iC2:1/5
#t15 Asd0.20 As0.61 Ad55.71 n7000 pAsd0.50:0.96 iC2:2/5
#t15 Asd0.10 As0.63 Ad35.91 n7000 pAsd0.50:0.96 iC2:3/5
#correct registerd Bayes
#t15 Asd95.16 As96.69 Ad97.60 n7000 pAsd0.50:0.96 iC0:0/5
#t15 Asd78.26 As97.17 Ad79.90 n7000 pAsd0.50:0.96 iC0:1/5
#t15 Asd54.10 As96.70 Ad55.71 n7000 pAsd0.50:0.96 iC0:2/5
#t15 Asd33.63 As96.66 Ad34.57 n7000 pAsd0.50:0.96 iC0:3/5

#incorrect unregistered speaker 
#t15 Asd21.09 As21.39 Ad98.77 n7000 pAsd0.50:0.96 iC3:0/5
#t15 Asd19.96 As21.66 Ad92.00 n7000 pAsd0.50:0.96 iC3:1/5
#t15 Asd0.01 As20.71 Ad0.10 n7000 pAsd0.50:0.96 iC3:2/5
#t15 Asd0.00 As20.61 Ad0.00 n7000 pAsd0.50:0.96 iC3:3/5
#incorrect registered speaker 
#t15 Asd0.00 As0.00 Ad99.39 n7000 pAsd0.50:0.96 iC2:0/5
#t15 Asd0.01 As0.03 Ad91.29 n7000 pAsd0.50:0.96 iC2:1/5
#t15 Asd0.00 As0.03 Ad0.06 n7000 pAsd0.50:0.96 iC2:2/5
#t15 Asd0.00 As0.00 Ad0.00 n7000 pAsd0.50:0.96 iC2:3/5
#correct registered speaker 
#t15 Asd98.86 As99.99 Ad98.87 n7000 pAsd0.50:0.96 iC0:0/5
#t15 Asd90.53 As99.97 Ad90.56 n7000 pAsd0.50:0.96 iC0:1/5
#t15 Asd0.17 As100.00 Ad0.17 n7000 pAsd0.50:0.96 iC0:2/5
#t15 Asd0.00 As100.00 Ad0.00 n7000 pAsd0.50:0.96 iC0:3/5
#correct registered speaker sX=-1
#t15 Asd98.20 As99.90 Ad98.20 n1000 pAsd0.50:0.96 iC0:0/5
#t15 Asd88.30 As99.90 Ad88.30 n1000 pAsd0.50:0.96 iC0:1/5
#t15 Asd0.20 As100.00 Ad0.20 n1000 pAsd0.50:0.96 iC0:2/5
#t15 Asd0.00 As100.00 Ad0.00 n1000 pAsd0.50:0.96 iC0:3/5
#incorrect registered speaker sX=-1
#t15 Asd0.00 As0.00 Ad98.50 n1000 pAsd0.50:0.96 iC2:0/5
#t15 Asd0.00 As0.00 Ad86.90 n1000 pAsd0.50:0.96 iC2:1/5
#t15 Asd0.00 As0.00 Ad0.10 n1000 pAsd0.50:0.96 iC2:2/5
#t15 Asd0.00 As0.00 Ad0.00 n1000 pAsd0.50:0.96 iC2:3/5


####################
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX-1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:-1 
0.986 0.987 0.013 0.014 3.855e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.929 0.994 0.006 0.071 1.111e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.971 0.989 0.011 0.029 5.669e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.986 0.984 0.016 0.014 4.308e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.914 0.983 0.017 0.086 1.474e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
1.000 0.995 0.005 0.000 6.803e-06 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.843 0.986 0.014 0.157 2.449e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.900 0.990 0.010 0.100 1.565e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.943 0.981 0.019 0.057 1.088e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.957 1.000 0.000 0.043 6.122e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:0 
0.943 1.000 0.000 0.057 8.163e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX0(TP0.900 TN1.000 ER1.000e-03 n100)
0.929 0.998 0.002 0.071 1.043e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX0(TP0.900 TN1.000 ER1.000e-03 n100)
1.000 0.989 0.011 0.000 1.587e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX0(TP1.000 TN0.978 ER2.222e-04 n100)
0.929 0.987 0.013 0.071 1.202e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX0(TP0.900 TN0.978 ER1.222e-03 n100)
0.943 0.990 0.010 0.057 9.524e-05 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX0(TP0.900 TN1.000 ER1.000e-03 n100)
1.000 1.000 0.000 0.000 0.000e+00 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX0(TP1.000 TN1.000 ER0.000e+00 n100)
0.929 0.989 0.011 0.071 1.179e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX0(TP1.000 TN0.989 ER1.111e-04 n100)
0.943 0.989 0.011 0.057 9.751e-05 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX0(TP1.000 TN0.989 ER1.111e-04 n100)
0.929 0.992 0.008 0.071 1.134e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX0(TP0.800 TN0.989 ER2.111e-03 n100)
1.000 0.998 0.002 0.000 2.268e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX0(TP1.000 TN1.000 ER0.000e+00 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:1 
0.957 0.997 0.003 0.043 6.576e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX1(TP1.000 TN1.000 ER0.000e+00 n100)
0.986 0.995 0.005 0.014 2.721e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX1(TP1.000 TN0.989 ER1.111e-04 n100)
0.957 0.987 0.013 0.043 7.937e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX1(TP0.900 TN0.978 ER1.222e-03 n100)
0.929 0.994 0.006 0.071 1.111e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX1(TP0.900 TN1.000 ER1.000e-03 n100)
0.971 0.987 0.013 0.029 5.896e-05 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX1(TP1.000 TN1.000 ER0.000e+00 n100)
0.971 1.000 0.000 0.029 4.082e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX1(TP1.000 TN1.000 ER0.000e+00 n100)
0.900 0.995 0.005 0.100 1.497e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX1(TP0.900 TN1.000 ER1.000e-03 n100)
0.986 0.986 0.014 0.014 4.082e-05 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX1(TP1.000 TN0.978 ER2.222e-04 n100)
0.971 0.989 0.011 0.029 5.669e-05 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX1(TP0.900 TN0.989 ER1.111e-03 n100)
0.986 0.995 0.005 0.014 2.721e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX1(TP1.000 TN1.000 ER0.000e+00 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX2.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:2 
0.986 0.997 0.003 0.014 2.494e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX2(TP1.000 TN0.989 ER1.111e-04 n100)
0.914 0.997 0.003 0.086 1.270e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX2(TP0.900 TN1.000 ER1.000e-03 n100)
1.000 0.987 0.013 0.000 1.814e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX2(TP1.000 TN0.978 ER2.222e-04 n100)
0.900 0.994 0.006 0.100 1.519e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX2(TP0.900 TN0.989 ER1.111e-03 n100)
0.900 0.986 0.014 0.100 1.633e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX2(TP0.800 TN0.978 ER2.222e-03 n100)
1.000 0.997 0.003 0.000 4.535e-06 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX2(TP1.000 TN1.000 ER0.000e+00 n100)
0.929 0.994 0.006 0.071 1.111e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX2(TP1.000 TN1.000 ER0.000e+00 n100)
0.929 0.983 0.017 0.071 1.270e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX2(TP0.900 TN0.967 ER1.333e-03 n100)
0.914 0.998 0.002 0.086 1.247e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX2(TP0.800 TN1.000 ER2.000e-03 n100)
1.000 0.994 0.006 0.000 9.070e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX2(TP1.000 TN0.989 ER1.111e-04 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX3.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:3 
0.986 0.998 0.002 0.014 2.268e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX3(TP1.000 TN1.000 ER0.000e+00 n100)
0.900 0.997 0.003 0.100 1.474e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX3(TP0.900 TN1.000 ER1.000e-03 n100)
0.943 0.986 0.014 0.057 1.020e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX3(TP0.900 TN0.978 ER1.222e-03 n100)
0.943 0.989 0.011 0.057 9.751e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX3(TP0.900 TN0.989 ER1.111e-03 n100)
0.829 0.992 0.008 0.171 2.562e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX3(TP0.800 TN1.000 ER2.000e-03 n100)
0.986 0.998 0.002 0.014 2.268e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX3(TP1.000 TN1.000 ER0.000e+00 n100)
0.900 0.984 0.016 0.100 1.655e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX3(TP0.900 TN0.967 ER1.333e-03 n100)
0.914 0.986 0.014 0.086 1.429e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX3(TP0.900 TN0.956 ER1.444e-03 n100)
0.971 0.997 0.003 0.029 4.535e-05 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX3(TP0.900 TN1.000 ER1.000e-03 n100)
0.986 0.998 0.002 0.014 2.268e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX3(TP1.000 TN1.000 ER0.000e+00 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX4.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:4 
0.957 0.997 0.003 0.043 6.576e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX4(TP1.000 TN0.989 ER1.111e-04 n100)
0.914 0.992 0.008 0.086 1.338e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX4(TP0.900 TN1.000 ER1.000e-03 n100)
0.971 0.992 0.008 0.029 5.215e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX4(TP1.000 TN0.989 ER1.111e-04 n100)
0.943 0.987 0.013 0.057 9.977e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX4(TP1.000 TN0.989 ER1.111e-04 n100)
0.900 0.995 0.005 0.100 1.497e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX4(TP0.900 TN1.000 ER1.000e-03 n100)
0.986 1.000 0.000 0.014 2.041e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX4(TP1.000 TN1.000 ER0.000e+00 n100)
0.986 0.990 0.010 0.014 3.401e-05 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX4(TP1.000 TN0.989 ER1.111e-04 n100)
0.957 0.984 0.016 0.043 8.390e-05 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX4(TP0.900 TN0.956 ER1.444e-03 n100)
0.943 0.989 0.011 0.057 9.751e-05 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX4(TP0.900 TN0.989 ER1.111e-03 n100)
1.000 0.995 0.005 0.000 6.803e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX4(TP1.000 TN1.000 ER0.000e+00 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX5.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:5 
0.971 0.981 0.019 0.029 6.803e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX5(TP1.000 TN0.989 ER1.111e-04 n100)
0.929 0.995 0.005 0.071 1.088e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX5(TP0.900 TN1.000 ER1.000e-03 n100)
0.957 0.994 0.006 0.043 7.029e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX5(TP1.000 TN0.989 ER1.111e-04 n100)
0.886 0.990 0.010 0.114 1.769e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX5(TP0.900 TN0.989 ER1.111e-03 n100)
0.857 0.983 0.017 0.143 2.290e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX5(TP0.900 TN0.978 ER1.222e-03 n100)
1.000 0.989 0.011 0.000 1.587e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX5(TP1.000 TN1.000 ER0.000e+00 n100)
0.957 0.975 0.025 0.043 9.751e-05 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX5(TP1.000 TN0.967 ER3.333e-04 n100)
0.929 0.970 0.030 0.071 1.451e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX5(TP0.900 TN0.933 ER1.667e-03 n100)
0.943 0.994 0.006 0.057 9.070e-05 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX5(TP0.900 TN0.989 ER1.111e-03 n100)
1.000 0.997 0.003 0.000 4.535e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX5(TP1.000 TN1.000 ER0.000e+00 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX6.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:6 
0.986 0.983 0.017 0.014 4.535e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX6(TP1.000 TN0.967 ER3.333e-04 n100)
0.943 0.998 0.002 0.057 8.390e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX6(TP0.900 TN1.000 ER1.000e-03 n100)
0.914 0.997 0.003 0.086 1.270e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX6(TP0.900 TN1.000 ER1.000e-03 n100)
0.900 0.986 0.014 0.100 1.633e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX6(TP0.900 TN0.978 ER1.222e-03 n100)
0.871 0.983 0.017 0.129 2.086e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX6(TP0.900 TN0.967 ER1.333e-03 n100)
0.986 0.997 0.003 0.014 2.494e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX6(TP1.000 TN1.000 ER0.000e+00 n100)
0.914 0.983 0.017 0.086 1.474e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX6(TP0.900 TN0.978 ER1.222e-03 n100)
0.914 0.960 0.040 0.086 1.791e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX6(TP0.900 TN0.922 ER1.778e-03 n100)
0.914 0.983 0.017 0.086 1.474e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX6(TP0.900 TN1.000 ER1.000e-03 n100)
1.000 0.998 0.002 0.000 2.268e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX6(TP1.000 TN1.000 ER0.000e+00 n100)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:100:1.6:1sX7.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:100:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:7 
0.986 0.987 0.013 0.014 3.855e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX7(TP0.000 TN0.000 ER-nan n0)
0.929 0.994 0.006 0.071 1.111e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX7(TP0.000 TN0.000 ER-nan n0)
0.971 0.989 0.011 0.029 5.669e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX7(TP0.000 TN0.000 ER-nan n0)
0.986 0.984 0.016 0.014 4.308e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX7(TP0.000 TN0.000 ER-nan n0)
0.914 0.983 0.017 0.086 1.474e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX7(TP0.000 TN0.000 ER-nan n0)
1.000 0.995 0.005 0.000 6.803e-06 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX7(TP0.000 TN0.000 ER-nan n0)
0.843 0.986 0.014 0.157 2.449e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX7(TP0.000 TN0.000 ER-nan n0)
0.900 0.990 0.010 0.100 1.565e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX7(TP0.000 TN0.000 ER-nan n0)
0.943 0.981 0.019 0.057 1.088e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX7(TP0.000 TN0.000 ER-nan n0)
0.957 1.000 0.000 0.043 6.122e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX7(TP0.000 TN0.000 ER-nan n0)



20140501 at mesaho
(1)a=1.6;b=300;N=40
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole s:-1 N:${N} sX:${sX}"
echo $cmd;$cmd
cmd1="cat ../../2012/12voicedata/allpole/oob4s:-1N${N}mbas2:${b}:${a}:1sX${sX}.ystat"
#cmd1="cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX-1.ystat"
echo $cmd1;$cmd1
done
(2)
#see 2013/02/27
for sX in -1 0 1 2 3 4 5 6 7; do
a=1.6;b=300;N=40
cmd="oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:${b}:${a}:1 dir:../../2012/12voicedata/allpole d:-1 N:${N} sX:$sX"
echo $cmd;$cmd
cmd1="cat ../../2012/12voicedata/allpole/oob4d:-1N${N}mbas2:${b}:${a}:1sX${sX}.ystat"
echo $cmd1;$cmd1
done

(3) 
#sXt=sX:${sX}:1;  # test registered and unregistered sX for test speaker iCS=1
#sXt=sX:${sX}:0;  # test registered only;                                iCS=2
#sXt=sX:${sX}:-1;  # test unregistered only;                             iCS=3
sX=0;
pA=0.5;pAd=0.96;           #pApAdT:th->pA:th->pAd:th->T (#LAR:th->LA:th->LR:th->LAn likelihood for correct digit;noeffect)
iCs=0;iCd=0; # test correct (registered) speaker
iCs=1;iCd=0; # test incorrect registered and unregistered sX 
iCs=2;iCd=0; # test incorrect registered
iCs=3;iCd=0; # test incorrect unregistered sX 
#iCs=1;iCd=1;
test=test:5:1000:${iCs}:${iCd}:5:15;   #test:test->id:test->n:test->riCs:test->t_iCd:th->T
##
cmd="speakerdigit_v3 fs:../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX${sX}.y fd:../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:${pA}:${pAd} LAR:0:0:-1 test:5:1000:${iCs}:${iCd}:5:15 sX:$sX void:0";$cmd

#incorrect unregistered
sX=0;speakerdigit_v3 fd:../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX${sX}.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAd:0.5:0.96 LAR:0:0:-1 test:5:1000:3:0:5:15 sX:$sX void:0 
t15 ps0.464U0.088Um0.045Up0.164LC0.407-0.998 iC0=TR0:FA0:SR0 C1000=TA0:FR1000:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA0 pd0.464U0.088Um0.045Up0.164  sX=0
t15 ps0.662U0.135Um0.130Up0.142LC0.360-0.998 iC0=TR0:FA0:SR0 C1000=TA0:FR1000:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA0 pd0.662U0.135Um0.130Up0.142  sX=1
t15 ps0.805U0.132Um0.161Up0.107LC0.128-0.998 iC0=TR0:FA0:SR0 C1000=TA98:FR902:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA98 pd0.805U0.132Um0.161Up0.107 sX=2
t15 ps0.916U0.110Um0.189Up0.051LC0.006-0.999 iC0=TR0:FA0:SR0 C1000=TA439:FR561:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA439 pd0.916U0.110Um0.189Up0.051 sX=3
t15 ps0.806U0.123Um0.151Up0.099LC0.294-0.998 iC0=TR0:FA0:SR0 C1000=TA46:FR954:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA46 pd0.806U0.123Um0.151Up0.099   sX=4
t15 ps0.971U0.044Um0.086Up0.016LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA825:FR175:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA825 pd0.971U0.044Um0.086Up0.016 sX=5
t15 ps0.754U0.136Um0.155Up0.118LC0.136-0.998 iC0=TR0:FA0:SR0 C1000=TA19:FR981:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA19 pd0.754U0.136Um0.155Up0.118   sX=6
t15 ps0.315U0.101Um0.119Up0.088LC0.001-0.675 iC0=TR0:FA0:SR0 C1000=TA0:FR1000:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA0 pd0.315U0.101Um0.119Up0.088    sX=7
##<--- bad recognition rate of digits of unregistered speakers!!!!!!!!!!!!!!!

t15 ps0.488U0.087Um0.044Up0.162LC0.431-0.998 iC0=TR0:FA0:SR0 C1000=TA0:FR1000:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid2v-2 dA0 pd0.488U0.087Um0.044Up0.162 digit
t15 ps0.176U0.114Um0.067Up0.172LC0.009-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT3:0/5 mid1v-2 dA0 pd0.488U0.087Um0.044Up0.162 speaker<-digit
#incorrect registered
t15 ps0.987U0.012Um0.029Up0.003LC0.020-0.998 iC0=TR0:FA0:SR0 C1000=TA979:FR21:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT2:0/5 mid2v-2 dA979 pd0.987U0.012Um0.029Up0.003
t15 ps0.015U0.012Um0.004Up0.025LC0.003-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT2:0/5 mid1v-2 dA979 pd0.987U0.012Um0.029Up0.003
#incorrect registered and unregistered
t15 ps0.894U0.198Um0.413Up0.094LC0.020-0.998 iC0=TR0:FA0:SR0 C1000=TA794:FR206:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT1:0/5 mid2v-2 dA794 pd0.894U0.198Um0.413Up0.094
t15 ps0.047U0.078Um0.033Up0.159LC0.003-0.994 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0:0:-1 iCT1:0/5 mid1v-2 dA794 pd0.894U0.198Um0.413Up0.094






#result of (1)
real19m43.510s user15m57.272s sys1m13.829s
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX-1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:-1 
0.970 0.980 0.020 0.030 7.143e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.920 0.990 0.010 0.080 1.286e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.930 0.972 0.028 0.070 1.405e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.910 0.977 0.023 0.090 1.619e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.950 0.973 0.027 0.050 1.095e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.930 0.977 0.023 0.070 1.333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.920 0.967 0.033 0.080 1.619e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:0 
0.950 0.953 0.047 0.050 1.381e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX0(TP0.950 TN0.988 ER1.033e-04 n600)
0.930 0.985 0.015 0.070 1.214e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX0(TP0.930 TN0.982 ER1.467e-04 n600)
0.910 0.970 0.030 0.090 1.714e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX0(TP0.910 TN0.972 ER1.967e-04 n600)
0.940 0.942 0.058 0.060 1.690e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX0(TP0.940 TN0.984 ER1.267e-04 n600)
0.970 0.960 0.040 0.030 1.000e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.970 TN0.970 ER1.000e-04 n600)
0.930 0.972 0.028 0.070 1.405e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX0(TP0.930 TN0.972 ER1.633e-04 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:1 
0.990 0.952 0.048 0.010 8.333e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX1(TP0.990 TN0.992 ER3.000e-05 n600)
0.940 0.963 0.037 0.060 1.381e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX1(TP0.940 TN0.984 ER1.267e-04 n600)
0.920 0.985 0.015 0.080 1.357e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX1(TP0.920 TN0.984 ER1.600e-04 n600)
0.940 0.985 0.015 0.060 1.071e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX1(TP0.940 TN0.986 ER1.233e-04 n600)
0.930 0.967 0.033 0.070 1.476e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX1(TP0.930 TN0.970 ER1.667e-04 n600)
0.960 0.967 0.033 0.040 1.048e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX1(TP0.960 TN0.974 ER1.100e-04 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX2.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:2 
0.980 0.993 0.007 0.020 3.810e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX2(TP0.980 TN0.994 ER4.333e-05 n600)
0.970 0.980 0.020 0.030 7.143e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX2(TP0.970 TN0.990 ER6.667e-05 n600)
0.940 0.945 0.055 0.060 1.643e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX2(TP0.940 TN0.978 ER1.367e-04 n600)
0.940 0.985 0.015 0.060 1.071e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX2(TP0.940 TN0.990 ER1.167e-04 n600)
0.970 0.972 0.028 0.030 8.333e-05 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX2(TP0.970 TN0.982 ER8.000e-05 n600)
0.910 0.935 0.065 0.090 2.214e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX2(TP0.910 TN0.974 ER1.933e-04 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX3.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:3 
0.980 0.988 0.012 0.020 4.524e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX3(TP0.980 TN0.990 ER5.000e-05 n600)
0.960 0.990 0.010 0.040 7.143e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX3(TP0.960 TN0.988 ER8.667e-05 n600)
0.900 0.957 0.043 0.100 2.048e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX3(TP0.900 TN0.982 ER1.967e-04 n600)
0.950 0.963 0.037 0.050 1.238e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX3(TP0.950 TN0.976 ER1.233e-04 n600)
0.960 0.947 0.053 0.040 1.333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX3(TP0.960 TN0.970 ER1.167e-04 n600)
0.910 0.957 0.043 0.090 1.905e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX3(TP0.910 TN0.968 ER2.033e-04 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX4.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:4 
0.980 0.980 0.020 0.020 5.714e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX4(TP0.980 TN0.998 ER3.667e-05 n600)
0.970 0.987 0.013 0.030 6.190e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX4(TP0.970 TN0.986 ER7.333e-05 n600)
0.960 0.985 0.015 0.040 7.857e-05 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX4(TP0.960 TN0.988 ER8.667e-05 n600)
0.950 0.962 0.038 0.050 1.262e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX4(TP0.950 TN0.970 ER1.333e-04 n600)
0.990 0.968 0.032 0.010 5.952e-05 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX4(TP0.990 TN0.984 ER4.333e-05 n600)
0.970 0.938 0.062 0.030 1.310e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX4(TP0.970 TN0.972 ER9.667e-05 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX5.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:5 
0.980 0.993 0.007 0.020 3.810e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX5(TP0.980 TN0.992 ER4.667e-05 n600)
0.960 0.993 0.007 0.040 6.667e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX5(TP0.960 TN0.992 ER8.000e-05 n600)
0.900 0.973 0.027 0.100 1.810e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX5(TP0.900 TN0.986 ER1.900e-04 n600)
0.910 0.927 0.073 0.090 2.333e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX5(TP0.910 TN0.984 ER1.767e-04 n600)
0.970 0.958 0.042 0.030 1.024e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX5(TP0.970 TN0.976 ER9.000e-05 n600)
0.920 0.965 0.035 0.080 1.643e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX5(TP0.920 TN0.980 ER1.667e-04 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX6.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:6 
0.970 0.985 0.015 0.030 6.429e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX6(TP0.970 TN0.988 ER7.000e-05 n600)
0.960 0.995 0.005 0.040 6.429e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX6(TP0.960 TN0.998 ER7.000e-05 n600)
0.930 0.965 0.035 0.070 1.500e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX6(TP0.930 TN0.986 ER1.400e-04 n600)
0.900 0.943 0.057 0.100 2.238e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX6(TP0.900 TN0.972 ER2.133e-04 n600)
0.980 0.962 0.038 0.020 8.333e-05 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX6(TP0.980 TN0.978 ER7.000e-05 n600)
0.920 0.987 0.013 0.080 1.333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX6(TP0.920 TN0.990 ER1.500e-04 n600)
cat ../../2012/12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX7.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:7 
0.970 0.980 0.020 0.030 7.143e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX7(TP0.970 TN0.980 ER7.143e-05 n700)
0.920 0.990 0.010 0.080 1.286e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX7(TP0.920 TN0.990 ER1.286e-04 n700)
0.930 0.972 0.028 0.070 1.405e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX7(TP0.930 TN0.972 ER1.405e-04 n700)
0.910 0.977 0.023 0.090 1.619e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX7(TP0.910 TN0.977 ER1.619e-04 n700)
0.950 0.973 0.027 0.050 1.095e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX7(TP0.950 TN0.973 ER1.095e-04 n700)
0.930 0.977 0.023 0.070 1.333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX7(TP0.930 TN0.977 ER1.333e-04 n700)
0.920 0.967 0.033 0.080 1.619e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX7(TP0.920 TN0.967 ER1.619e-04 n700)
#result of (2)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX-1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:-1 
0.929 0.990 0.010 0.071 1.156e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.943 0.994 0.006 0.057 9.070e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.886 0.987 0.013 0.114 1.814e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.943 0.989 0.011 0.057 9.751e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.943 0.979 0.021 0.057 1.111e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.900 1.000 0.000 0.100 1.429e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.929 0.990 0.010 0.071 1.156e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.900 0.995 0.005 0.100 1.497e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.929 0.983 0.017 0.071 1.270e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.986 0.997 0.003 0.014 2.494e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:0 
0.829 0.995 0.005 0.171 2.517e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX0(TP0.967 TN0.996 ER6.173e-05 n600)
0.886 0.989 0.011 0.114 1.791e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX0(TP0.933 TN0.993 ER1.235e-04 n600)
0.886 0.970 0.030 0.114 2.063e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX0(TP0.917 TN0.991 ER1.543e-04 n600)
0.771 0.995 0.005 0.229 3.333e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX0(TP0.900 TN0.996 ER1.728e-04 n600)
0.757 0.968 0.032 0.243 3.923e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX0(TP0.883 TN0.991 ER2.099e-04 n600)
0.971 0.994 0.006 0.029 4.989e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX0(TP0.967 TN0.993 ER6.790e-05 n600)
0.914 0.984 0.016 0.086 1.451e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX0(TP0.983 TN0.985 ER5.247e-05 n600)
0.857 0.987 0.013 0.143 2.222e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX0(TP1.000 TN0.987 ER2.160e-05 n600)
0.814 0.990 0.010 0.186 2.789e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX0(TP0.950 TN0.993 ER9.568e-05 n600)
0.857 0.995 0.005 0.143 2.109e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX0(TP1.000 TN0.994 ER9.259e-06 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:1 
0.814 0.990 0.010 0.186 2.789e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX1(TP0.950 TN0.998 ER8.642e-05 n600)
0.843 0.995 0.005 0.157 2.313e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX1(TP0.967 TN0.996 ER6.173e-05 n600)
0.914 0.984 0.016 0.086 1.451e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX1(TP0.917 TN0.996 ER1.451e-04 n600)
0.729 0.992 0.008 0.271 3.991e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX1(TP0.850 TN0.991 ER2.654e-04 n600)
0.843 0.990 0.010 0.157 2.381e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX1(TP0.933 TN0.989 ER1.296e-04 n600)
0.943 0.994 0.006 0.057 9.070e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX1(TP0.983 TN0.998 ER3.086e-05 n600)
0.829 0.975 0.025 0.171 2.812e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX1(TP0.967 TN0.976 ER9.568e-05 n600)
0.929 0.965 0.035 0.071 1.519e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX1(TP0.967 TN0.985 ER8.025e-05 n600)
0.900 0.990 0.010 0.100 1.565e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX1(TP0.983 TN0.989 ER4.630e-05 n600)
1.000 0.992 0.008 0.000 1.134e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX1(TP1.000 TN0.991 ER1.543e-05 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX2.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:2 
0.943 0.994 0.006 0.057 9.070e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX2(TP0.950 TN0.993 ER9.568e-05 n600)
0.929 0.986 0.014 0.071 1.224e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX2(TP0.933 TN0.993 ER1.235e-04 n600)
0.900 0.992 0.008 0.100 1.542e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX2(TP0.950 TN0.993 ER9.568e-05 n600)
0.814 0.995 0.005 0.186 2.721e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX2(TP0.883 TN0.994 ER2.037e-04 n600)
0.843 0.990 0.010 0.157 2.381e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX2(TP0.883 TN0.998 ER1.975e-04 n600)
0.957 0.998 0.002 0.043 6.349e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX2(TP0.983 TN0.998 ER3.086e-05 n600)
0.843 0.987 0.013 0.157 2.426e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX2(TP0.983 TN0.985 ER5.247e-05 n600)
0.886 0.971 0.029 0.114 2.041e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX2(TP0.867 TN0.987 ER2.438e-04 n600)
0.886 0.995 0.005 0.114 1.701e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX2(TP0.967 TN0.994 ER6.481e-05 n600)
0.986 0.997 0.003 0.014 2.494e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX2(TP1.000 TN0.996 ER6.173e-06 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX3.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:3 
0.914 0.997 0.003 0.086 1.270e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX3(TP0.933 TN0.998 ER1.142e-04 n600)
0.943 0.994 0.006 0.057 9.070e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX3(TP0.950 TN0.994 ER9.259e-05 n600)
0.900 0.995 0.005 0.100 1.497e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX3(TP0.983 TN0.994 ER3.704e-05 n600)
0.900 0.987 0.013 0.100 1.610e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX3(TP0.917 TN0.993 ER1.512e-04 n600)
0.871 0.984 0.016 0.129 2.063e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX3(TP0.900 TN0.994 ER1.759e-04 n600)
0.971 0.995 0.005 0.029 4.762e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX3(TP0.983 TN0.994 ER3.704e-05 n600)
0.886 0.989 0.011 0.114 1.791e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX3(TP1.000 TN0.991 ER1.543e-05 n600)
0.800 0.995 0.005 0.200 2.925e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX3(TP0.917 TN0.994 ER1.481e-04 n600)
0.843 0.994 0.006 0.157 2.336e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX3(TP0.967 TN0.994 ER6.481e-05 n600)
0.986 0.997 0.003 0.014 2.494e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX3(TP0.983 TN0.998 ER3.086e-05 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX4.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:4 
0.871 0.998 0.002 0.129 1.859e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX4(TP1.000 TN1.000 ER0.000e+00 n600)
0.943 0.992 0.008 0.057 9.297e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX4(TP0.933 TN0.994 ER1.204e-04 n600)
0.914 0.994 0.006 0.086 1.315e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX4(TP0.967 TN0.993 ER6.790e-05 n600)
0.800 0.990 0.010 0.200 2.993e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX4(TP0.933 TN0.989 ER1.296e-04 n600)
0.843 0.986 0.014 0.157 2.449e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX4(TP0.917 TN0.996 ER1.451e-04 n600)
0.871 1.000 0.000 0.129 1.837e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX4(TP1.000 TN1.000 ER0.000e+00 n600)
0.971 0.968 0.032 0.029 8.617e-05 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX4(TP0.983 TN0.991 ER4.321e-05 n600)
0.743 0.989 0.011 0.257 3.832e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX4(TP0.867 TN0.987 ER2.438e-04 n600)
0.871 0.978 0.022 0.129 2.154e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX4(TP0.950 TN0.993 ER9.568e-05 n600)
0.986 0.997 0.003 0.014 2.494e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX4(TP0.983 TN0.996 ER3.395e-05 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX5.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:5 
0.971 0.998 0.002 0.029 4.308e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX5(TP0.967 TN0.998 ER5.864e-05 n600)
0.886 0.994 0.006 0.114 1.723e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX5(TP0.933 TN0.994 ER1.204e-04 n600)
0.986 0.989 0.011 0.014 3.628e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX5(TP1.000 TN0.994 ER9.259e-06 n600)
0.871 0.989 0.011 0.129 1.995e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX5(TP0.917 TN0.991 ER1.543e-04 n600)
0.886 0.992 0.008 0.114 1.746e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX5(TP0.950 TN0.991 ER9.877e-05 n600)
0.986 0.994 0.006 0.014 2.948e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX5(TP0.983 TN0.998 ER3.086e-05 n600)
0.914 0.987 0.013 0.086 1.406e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX5(TP0.967 TN0.985 ER8.025e-05 n600)
0.914 0.992 0.008 0.086 1.338e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX5(TP0.917 TN0.994 ER1.481e-04 n600)
0.886 0.995 0.005 0.114 1.701e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX5(TP0.950 TN0.994 ER9.259e-05 n600)
1.000 1.000 0.000 0.000 0.000e+00 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX5(TP1.000 TN1.000 ER0.000e+00 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX6.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:6 
0.986 0.992 0.008 0.014 3.175e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX6(TP0.983 TN0.994 ER3.704e-05 n600)
0.829 0.998 0.002 0.171 2.472e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX6(TP0.917 TN1.000 ER1.389e-04 n600)
0.914 0.990 0.010 0.086 1.361e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX6(TP1.000 TN0.994 ER9.259e-06 n600)
0.857 0.992 0.008 0.143 2.154e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX6(TP0.900 TN0.991 ER1.821e-04 n600)
0.843 0.984 0.016 0.157 2.472e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX6(TP0.950 TN0.993 ER9.568e-05 n600)
0.986 0.998 0.002 0.014 2.268e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX6(TP1.000 TN0.998 ER3.086e-06 n600)
0.857 0.987 0.013 0.143 2.222e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX6(TP0.967 TN0.991 ER7.099e-05 n600)
0.800 0.987 0.013 0.200 3.039e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX6(TP0.850 TN0.991 ER2.654e-04 n600)
0.857 0.990 0.010 0.143 2.177e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX6(TP0.983 TN0.989 ER4.630e-05 n600)
0.986 0.997 0.003 0.014 2.494e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX6(TP0.983 TN1.000 ER2.778e-05 n600)
cat ../../2012/12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX7.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole d:-1 N:40 sX:7 
0.929 0.990 0.010 0.071 1.156e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX7(TP0.929 TN0.990 ER1.156e-04 n700)
0.943 0.994 0.006 0.057 9.070e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX7(TP0.943 TN0.994 ER9.070e-05 n700)
0.886 0.987 0.013 0.114 1.814e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX7(TP0.886 TN0.987 ER1.814e-04 n700)
0.943 0.989 0.011 0.057 9.751e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX7(TP0.943 TN0.989 ER9.751e-05 n700)
0.943 0.979 0.021 0.057 1.111e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX7(TP0.943 TN0.979 ER1.111e-04 n700)
0.900 1.000 0.000 0.100 1.429e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX7(TP0.900 TN1.000 ER1.429e-04 n700)
0.929 0.990 0.010 0.071 1.156e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX7(TP0.929 TN0.990 ER1.156e-04 n700)
0.900 0.995 0.005 0.100 1.497e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX7(TP0.900 TN0.995 ER1.497e-04 n700)
0.929 0.983 0.017 0.071 1.270e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX7(TP0.929 TN0.983 ER1.270e-04 n700)
0.986 0.997 0.003 0.014 2.494e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX7(TP0.986 TN0.997 ER2.494e-05 n700)

oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole sd:-1 N:40 sX:0 
cat ../../2012/12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../../2012/12voicedata/allpole sd:-1 N:40 sX:0 
0.900 0.999 0.001 0.100 1.449e-04 700 1 0 #TP,TN,FP,FN,ERR,n,sm1 txm0 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
0.800 0.996 0.004 0.200 2.919e-04 700 1 1 #TP,TN,FP,FN,ERR,n,sm1 txm1 sX0(TP0.800 TN0.995 ER3.418e-04 n600)
0.900 0.996 0.004 0.100 1.491e-04 700 1 2 #TP,TN,FP,FN,ERR,n,sm1 txm2 sX0(TP0.900 TN0.997 ER1.723e-04 n600)
0.900 1.000 0.000 0.100 1.429e-04 700 1 3 #TP,TN,FP,FN,ERR,n,sm1 txm3 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.800 0.996 0.004 0.200 2.919e-04 700 1 4 #TP,TN,FP,FN,ERR,n,sm1 txm4 sX0(TP0.800 TN0.995 ER3.418e-04 n600)
1.000 0.984 0.016 0.000 2.277e-05 700 1 5 #TP,TN,FP,FN,ERR,n,sm1 txm5 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 1 6 #TP,TN,FP,FN,ERR,n,sm1 txm6 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.800 0.996 0.004 0.200 2.919e-04 700 1 7 #TP,TN,FP,FN,ERR,n,sm1 txm7 sX0(TP0.800 TN0.995 ER3.418e-04 n600)
0.900 1.000 0.000 0.100 1.429e-04 700 1 8 #TP,TN,FP,FN,ERR,n,sm1 txm8 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
1.000 1.000 0.000 0.000 0.000e+00 700 1 9 #TP,TN,FP,FN,ERR,n,sm1 txm9 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.900 1.000 0.000 0.100 1.429e-04 700 2 0 #TP,TN,FP,FN,ERR,n,sm2 txm0 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.900 0.996 0.004 0.100 1.491e-04 700 2 1 #TP,TN,FP,FN,ERR,n,sm2 txm1 sX0(TP0.900 TN0.995 ER1.751e-04 n600)
1.000 0.991 0.009 0.000 1.242e-05 700 2 2 #TP,TN,FP,FN,ERR,n,sm2 txm2 sX0(TP1.000 TN0.990 ER1.695e-05 n600)
0.900 0.997 0.003 0.100 1.470e-04 700 2 3 #TP,TN,FP,FN,ERR,n,sm2 txm3 sX0(TP0.900 TN0.997 ER1.723e-04 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 2 4 #TP,TN,FP,FN,ERR,n,sm2 txm4 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
1.000 0.997 0.003 0.000 4.141e-06 700 2 5 #TP,TN,FP,FN,ERR,n,sm2 txm5 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.900 1.000 0.000 0.100 1.429e-04 700 2 6 #TP,TN,FP,FN,ERR,n,sm2 txm6 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.900 1.000 0.000 0.100 1.429e-04 700 2 7 #TP,TN,FP,FN,ERR,n,sm2 txm7 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.900 1.000 0.000 0.100 1.429e-04 700 2 8 #TP,TN,FP,FN,ERR,n,sm2 txm8 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
1.000 0.997 0.003 0.000 4.141e-06 700 2 9 #TP,TN,FP,FN,ERR,n,sm2 txm9 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.800 1.000 0.000 0.200 2.857e-04 700 3 0 #TP,TN,FP,FN,ERR,n,sm3 txm0 sX0(TP0.800 TN1.000 ER3.333e-04 n600)
1.000 1.000 0.000 0.000 0.000e+00 700 3 1 #TP,TN,FP,FN,ERR,n,sm3 txm1 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 3 2 #TP,TN,FP,FN,ERR,n,sm3 txm2 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 3 3 #TP,TN,FP,FN,ERR,n,sm3 txm3 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.900 0.996 0.004 0.100 1.491e-04 700 3 4 #TP,TN,FP,FN,ERR,n,sm3 txm4 sX0(TP0.900 TN0.997 ER1.723e-04 n600)
0.900 0.999 0.001 0.100 1.449e-04 700 3 5 #TP,TN,FP,FN,ERR,n,sm3 txm5 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
0.900 0.994 0.006 0.100 1.511e-04 700 3 6 #TP,TN,FP,FN,ERR,n,sm3 txm6 sX0(TP0.900 TN0.993 ER1.780e-04 n600)
1.000 0.994 0.006 0.000 8.282e-06 700 3 7 #TP,TN,FP,FN,ERR,n,sm3 txm7 sX0(TP1.000 TN0.993 ER1.130e-05 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 3 8 #TP,TN,FP,FN,ERR,n,sm3 txm8 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.800 1.000 0.000 0.200 2.857e-04 700 3 9 #TP,TN,FP,FN,ERR,n,sm3 txm9 sX0(TP0.800 TN1.000 ER3.333e-04 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 4 0 #TP,TN,FP,FN,ERR,n,sm4 txm0 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.800 0.994 0.006 0.200 2.940e-04 700 4 1 #TP,TN,FP,FN,ERR,n,sm4 txm1 sX0(TP0.800 TN0.993 ER3.446e-04 n600)
1.000 0.981 0.019 0.000 2.692e-05 700 4 2 #TP,TN,FP,FN,ERR,n,sm4 txm2 sX0(TP1.000 TN0.993 ER1.130e-05 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 4 3 #TP,TN,FP,FN,ERR,n,sm4 txm3 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.700 0.988 0.012 0.300 4.451e-04 700 4 4 #TP,TN,FP,FN,ERR,n,sm4 txm4 sX0(TP0.700 TN0.990 ER5.169e-04 n600)
0.900 0.999 0.001 0.100 1.449e-04 700 4 5 #TP,TN,FP,FN,ERR,n,sm4 txm5 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
1.000 0.990 0.010 0.000 1.449e-05 700 4 6 #TP,TN,FP,FN,ERR,n,sm4 txm6 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.800 0.997 0.003 0.200 2.899e-04 700 4 7 #TP,TN,FP,FN,ERR,n,sm4 txm7 sX0(TP0.800 TN0.997 ER3.390e-04 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 4 8 #TP,TN,FP,FN,ERR,n,sm4 txm8 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
1.000 1.000 0.000 0.000 0.000e+00 700 4 9 #TP,TN,FP,FN,ERR,n,sm4 txm9 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.900 0.999 0.001 0.100 1.449e-04 700 5 0 #TP,TN,FP,FN,ERR,n,sm5 txm0 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 5 1 #TP,TN,FP,FN,ERR,n,sm5 txm1 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 5 2 #TP,TN,FP,FN,ERR,n,sm5 txm2 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
1.000 0.991 0.009 0.000 1.242e-05 700 5 3 #TP,TN,FP,FN,ERR,n,sm5 txm3 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 5 5 #TP,TN,FP,FN,ERR,n,sm5 txm5 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 5 6 #TP,TN,FP,FN,ERR,n,sm5 txm6 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.900 0.996 0.004 0.100 1.491e-04 700 5 7 #TP,TN,FP,FN,ERR,n,sm5 txm7 sX0(TP0.900 TN0.995 ER1.751e-04 n600)
0.800 0.997 0.003 0.200 2.899e-04 700 5 8 #TP,TN,FP,FN,ERR,n,sm5 txm8 sX0(TP0.800 TN0.997 ER3.390e-04 n600)
0.900 0.994 0.006 0.100 1.511e-04 700 5 9 #TP,TN,FP,FN,ERR,n,sm5 txm9 sX0(TP0.900 TN0.993 ER1.780e-04 n600)
1.000 0.997 0.003 0.000 4.141e-06 700 6 0 #TP,TN,FP,FN,ERR,n,sm6 txm0 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 6 1 #TP,TN,FP,FN,ERR,n,sm6 txm1 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
1.000 1.000 0.000 0.000 0.000e+00 700 6 2 #TP,TN,FP,FN,ERR,n,sm6 txm2 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.700 1.000 0.000 0.300 4.286e-04 700 6 3 #TP,TN,FP,FN,ERR,n,sm6 txm3 sX0(TP0.700 TN1.000 ER5.000e-04 n600)
0.800 0.999 0.001 0.200 2.878e-04 700 6 4 #TP,TN,FP,FN,ERR,n,sm6 txm4 sX0(TP0.800 TN0.998 ER3.362e-04 n600)
1.000 0.996 0.004 0.000 6.211e-06 700 6 5 #TP,TN,FP,FN,ERR,n,sm6 txm5 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
1.000 0.994 0.006 0.000 8.282e-06 700 6 6 #TP,TN,FP,FN,ERR,n,sm6 txm6 sX0(TP1.000 TN0.993 ER1.130e-05 n600)
1.000 0.997 0.003 0.000 4.141e-06 700 6 7 #TP,TN,FP,FN,ERR,n,sm6 txm7 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
1.000 0.999 0.001 0.000 2.070e-06 700 6 8 #TP,TN,FP,FN,ERR,n,sm6 txm8 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.900 0.999 0.001 0.100 1.449e-04 700 6 9 #TP,TN,FP,FN,ERR,n,sm6 txm9 sX0(TP0.900 TN0.998 ER1.695e-04 n600)


#####################3
20140324
[1] oob4speakerdigit+sX.c　は変？　202行目付近で195行目のfntestを再定義していた。→修正
#修正チェック
#time oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:10:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:3
##result with rm result-ensrs2ge/tmp/*
#real5m13.994s user4m30.077s sys0m13.337s with rm result-ensrs2ge/tmp/*
#real5m12.825s user4m29.161s sys0m12.469s with copy pred.dat files
#real5m8.242s  user4m24.089s sys0m13.205s without anything
#cat ../12voicedata/allpole/oob4s:-1N40mbas2:10:1.6:1sX3.ystat

#time oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:10:1.6:1 dir:../../2012/12voicedata/allpole s:-1 N:40 sX:3 
#0.960 0.987 0.013 0.040 7.619e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX3(TP0.960 TN0.988 ER8.667e-05 n600)
#0.950 0.998 0.002 0.050 7.381e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX3(TP0.950 TN0.998 ER8.667e-05 n600)
#0.970 0.963 0.037 0.030 9.524e-05 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX3(TP0.970 TN0.986 ER7.333e-05 n600)
#0.950 0.977 0.023 0.050 1.048e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX3(TP0.950 TN0.996 ER9.000e-05 n600)
#0.980 0.933 0.067 0.020 1.238e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX3(TP0.980 TN0.976 ER7.333e-05 n600)
#0.950 0.972 0.028 0.050 1.119e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX3(TP0.950 TN0.984 ER1.100e-04 n600)
#mv ../12voicedata/allpole/oob4s:-1N40mbas2:10:1.6:1sX3.y ../12voicedata/allpole/oob4s:-1N40mbas2:10:1.6:1sX3-1.y
修正後
(1)
cat ../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 sX:0 
0.950 0.953 0.047 0.050 1.381e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX0(TP0.950 TN0.988 ER1.033e-04 n600)
0.930 0.985 0.015 0.070 1.214e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX0(TP0.930 TN0.982 ER1.467e-04 n600)
0.910 0.970 0.030 0.090 1.714e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX0(TP0.910 TN0.972 ER1.967e-04 n600)
0.940 0.942 0.058 0.060 1.690e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX0(TP0.940 TN0.984 ER1.267e-04 n600)
0.970 0.960 0.040 0.030 1.000e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.970 TN0.970 ER1.000e-04 n600)
0.930 0.972 0.028 0.070 1.405e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX0(TP0.930 TN0.972 ER1.633e-04 n600)

cat ../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX1.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 sX:1 
0.990 0.952 0.048 0.010 8.333e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX1(TP0.990 TN0.992 ER3.000e-05 n600)
0.940 0.963 0.037 0.060 1.381e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX1(TP0.940 TN0.984 ER1.267e-04 n600)
0.920 0.985 0.015 0.080 1.357e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX1(TP0.920 TN0.984 ER1.600e-04 n600)
0.940 0.985 0.015 0.060 1.071e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX1(TP0.940 TN0.986 ER1.233e-04 n600)
0.930 0.967 0.033 0.070 1.476e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX1(TP0.930 TN0.970 ER1.667e-04 n600)
0.960 0.967 0.033 0.040 1.048e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX1(TP0.960 TN0.974 ER1.100e-04 n600)

cat ../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX2.ystat
#/home/kuro/sotu/2013/can2b/oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 sX:2 
0.980 0.993 0.007 0.020 3.810e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX2(TP0.980 TN0.994 ER4.333e-05 n600)
0.970 0.980 0.020 0.030 7.143e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX2(TP0.970 TN0.990 ER6.667e-05 n600)
0.940 0.945 0.055 0.060 1.643e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX2(TP0.940 TN0.978 ER1.367e-04 n600)
0.940 0.985 0.015 0.060 1.071e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX2(TP0.940 TN0.990 ER1.167e-04 n600)
0.970 0.972 0.028 0.030 8.333e-05 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX2(TP0.970 TN0.982 ER8.000e-05 n600)
0.910 0.935 0.065 0.090 2.214e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX2(TP0.910 TN0.974 ER1.933e-04 n600)

at ../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX3.ystat
#/home/kuro/sotu/2013/can2b/oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 sX:3 
0.980 0.988 0.012 0.020 4.524e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0 sX3(TP0.980 TN0.990 ER5.000e-05 n600)
0.960 0.990 0.010 0.040 7.143e-05 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX3(TP0.960 TN0.988 ER8.667e-05 n600)
0.900 0.957 0.043 0.100 2.048e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX3(TP0.900 TN0.982 ER1.967e-04 n600)
0.950 0.963 0.037 0.050 1.238e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX3(TP0.950 TN0.976 ER1.233e-04 n600)
0.960 0.947 0.053 0.040 1.333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX3(TP0.960 TN0.970 ER1.167e-04 n600)
0.910 0.957 0.043 0.090 1.905e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX3(TP0.910 TN0.968 ER2.033e-04 n600)

########
20140123 text-prompted speaker verification
(1) CAN2による学習と予測
　 oob4speakerdigit+sX.c
　　loo4では認識率が低すぎる→ out-of-bagを導入 s \in S　についてはout-of-bagで予測, s= sX \not\in S についてはSを学習したネットでbagging予測
    （out-of-bagがなぜいいのかは分からない？）

time oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 sX:0
real36m3.055s user27m50.044s sys5m2.623s
kuro@kurolab-VB:~/sotu/2013/can2b$ kuro@kurolab-VB:~/sotu/2013/can2b$ cat ../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 sX:0 
0.941 0.953 0.047 0.059 1.516e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX0(TP0.950 TN0.988 ER1.033e-04 n600)
0.921 0.985 0.015 0.079 1.346e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX0(TP0.930 TN0.982 ER1.467e-04 n600)
0.901 0.970 0.030 0.099 1.844e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX0(TP0.910 TN0.972 ER1.967e-04 n600)
0.931 0.942 0.058 0.069 1.825e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX0(TP0.940 TN0.984 ER1.267e-04 n600)
0.960 0.960 0.040 0.040 1.138e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.970 TN0.970 ER1.000e-04 n600)
0.931 0.972 0.028 0.069 1.396e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX0(TP0.930 TN0.972 ER1.633e-04 n600)


real63m13.461s user49m11.484s sys8m36.960s
kuro@kurolab-VB:~/sotu/2013/can2b$ kuro@kurolab-VB:~/sotu/2013/can2b$ cat ../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole d:-1 N:40 sX:0 
0.951 0.995 0.005 0.049 7.696e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0 sX0(TP0.967 TN0.996 ER6.173e-05 n600)
0.918 0.980 0.020 0.082 1.462e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 sX0(TP0.933 TN0.993 ER1.235e-04 n600)
0.902 0.961 0.039 0.098 1.964e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 sX0(TP0.917 TN0.991 ER1.543e-04 n600)
0.885 0.995 0.005 0.115 1.706e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 sX0(TP0.900 TN0.996 ER1.728e-04 n600)
0.869 0.969 0.031 0.131 2.321e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 sX0(TP0.883 TN0.991 ER2.099e-04 n600)
0.951 0.978 0.022 0.049 1.016e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5 sX0(TP0.967 TN0.993 ER6.790e-05 n600)
0.967 0.977 0.023 0.033 8.037e-05 700 6 #TP,TN,FP,FN,ERR,n,txm6 sX0(TP0.983 TN0.985 ER5.247e-05 n600)
0.984 0.987 0.013 0.016 4.130e-05 700 7 #TP,TN,FP,FN,ERR,n,txm7 sX0(TP1.000 TN0.987 ER2.160e-05 n600)
0.934 0.991 0.009 0.066 1.071e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 sX0(TP0.950 TN0.993 ER9.568e-05 n600)
1.000 0.995 0.005 0.000 6.707e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9 sX0(TP1.000 TN0.994 ER9.259e-06 n600)

real489m40.883s user394m6.894s sys60m16.338s
cat ../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1sX0.ystat
#oob4speakerdigit+sX sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:-1 N:40 sX:0 
0.818 0.999 0.001 0.182 2.618e-04 700 1 0 #TP,TN,FP,FN,ERR,n,sm1 txm0 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
0.727 0.996 0.004 0.273 3.958e-04 700 1 1 #TP,TN,FP,FN,ERR,n,sm1 txm1 sX0(TP0.800 TN0.995 ER3.418e-04 n600)
0.818 0.996 0.004 0.182 2.660e-04 700 1 2 #TP,TN,FP,FN,ERR,n,sm1 txm2 sX0(TP0.900 TN0.997 ER1.723e-04 n600)
0.818 1.000 0.000 0.182 2.597e-04 700 1 3 #TP,TN,FP,FN,ERR,n,sm1 txm3 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.727 0.996 0.004 0.273 3.958e-04 700 1 4 #TP,TN,FP,FN,ERR,n,sm1 txm4 sX0(TP0.800 TN0.995 ER3.418e-04 n600)
0.909 0.984 0.016 0.091 1.527e-04 700 1 5 #TP,TN,FP,FN,ERR,n,sm1 txm5 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 1 6 #TP,TN,FP,FN,ERR,n,sm1 txm6 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.727 0.996 0.004 0.273 3.958e-04 700 1 7 #TP,TN,FP,FN,ERR,n,sm1 txm7 sX0(TP0.800 TN0.995 ER3.418e-04 n600)
0.818 1.000 0.000 0.182 2.597e-04 700 1 8 #TP,TN,FP,FN,ERR,n,sm1 txm8 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.909 1.000 0.000 0.091 1.299e-04 700 1 9 #TP,TN,FP,FN,ERR,n,sm1 txm9 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.818 1.000 0.000 0.182 2.597e-04 700 2 0 #TP,TN,FP,FN,ERR,n,sm2 txm0 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.818 0.996 0.004 0.182 2.660e-04 700 2 1 #TP,TN,FP,FN,ERR,n,sm2 txm1 sX0(TP0.900 TN0.995 ER1.751e-04 n600)
0.909 0.991 0.009 0.091 1.423e-04 700 2 2 #TP,TN,FP,FN,ERR,n,sm2 txm2 sX0(TP1.000 TN0.990 ER1.695e-05 n600)
0.818 0.997 0.003 0.182 2.639e-04 700 2 3 #TP,TN,FP,FN,ERR,n,sm2 txm3 sX0(TP0.900 TN0.997 ER1.723e-04 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 2 4 #TP,TN,FP,FN,ERR,n,sm2 txm4 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.909 0.997 0.003 0.091 1.340e-04 700 2 5 #TP,TN,FP,FN,ERR,n,sm2 txm5 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.818 1.000 0.000 0.182 2.597e-04 700 2 6 #TP,TN,FP,FN,ERR,n,sm2 txm6 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.818 1.000 0.000 0.182 2.597e-04 700 2 7 #TP,TN,FP,FN,ERR,n,sm2 txm7 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.818 1.000 0.000 0.182 2.597e-04 700 2 8 #TP,TN,FP,FN,ERR,n,sm2 txm8 sX0(TP0.900 TN1.000 ER1.667e-04 n600)
0.909 0.997 0.003 0.091 1.340e-04 700 2 9 #TP,TN,FP,FN,ERR,n,sm2 txm9 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.727 1.000 0.000 0.273 3.896e-04 700 3 0 #TP,TN,FP,FN,ERR,n,sm3 txm0 sX0(TP0.800 TN1.000 ER3.333e-04 n600)
0.909 1.000 0.000 0.091 1.299e-04 700 3 1 #TP,TN,FP,FN,ERR,n,sm3 txm1 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 3 2 #TP,TN,FP,FN,ERR,n,sm3 txm2 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 3 3 #TP,TN,FP,FN,ERR,n,sm3 txm3 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.818 0.996 0.004 0.182 2.660e-04 700 3 4 #TP,TN,FP,FN,ERR,n,sm3 txm4 sX0(TP0.900 TN0.997 ER1.723e-04 n600)
0.818 0.999 0.001 0.182 2.618e-04 700 3 5 #TP,TN,FP,FN,ERR,n,sm3 txm5 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
0.818 0.994 0.006 0.182 2.680e-04 700 3 6 #TP,TN,FP,FN,ERR,n,sm3 txm6 sX0(TP0.900 TN0.993 ER1.780e-04 n600)
0.909 0.994 0.006 0.091 1.382e-04 700 3 7 #TP,TN,FP,FN,ERR,n,sm3 txm7 sX0(TP1.000 TN0.993 ER1.130e-05 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 3 8 #TP,TN,FP,FN,ERR,n,sm3 txm8 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.727 1.000 0.000 0.273 3.896e-04 700 3 9 #TP,TN,FP,FN,ERR,n,sm3 txm9 sX0(TP0.800 TN1.000 ER3.333e-04 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 4 0 #TP,TN,FP,FN,ERR,n,sm4 txm0 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.727 0.994 0.006 0.273 3.979e-04 700 4 1 #TP,TN,FP,FN,ERR,n,sm4 txm1 sX0(TP0.800 TN0.993 ER3.446e-04 n600)
0.909 0.981 0.019 0.091 1.568e-04 700 4 2 #TP,TN,FP,FN,ERR,n,sm4 txm2 sX0(TP1.000 TN0.993 ER1.130e-05 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 4 3 #TP,TN,FP,FN,ERR,n,sm4 txm3 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.636 0.988 0.012 0.364 5.361e-04 700 4 4 #TP,TN,FP,FN,ERR,n,sm4 txm4 sX0(TP0.700 TN0.990 ER5.169e-04 n600)
0.818 0.999 0.001 0.182 2.618e-04 700 4 5 #TP,TN,FP,FN,ERR,n,sm4 txm5 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
0.909 0.990 0.010 0.091 1.444e-04 700 4 6 #TP,TN,FP,FN,ERR,n,sm4 txm6 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.727 0.997 0.003 0.273 3.938e-04 700 4 7 #TP,TN,FP,FN,ERR,n,sm4 txm7 sX0(TP0.800 TN0.997 ER3.390e-04 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 4 8 #TP,TN,FP,FN,ERR,n,sm4 txm8 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.909 1.000 0.000 0.091 1.299e-04 700 4 9 #TP,TN,FP,FN,ERR,n,sm4 txm9 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.818 0.999 0.001 0.182 2.618e-04 700 5 0 #TP,TN,FP,FN,ERR,n,sm5 txm0 sX0(TP0.900 TN0.998 ER1.695e-04 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 5 1 #TP,TN,FP,FN,ERR,n,sm5 txm1 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 5 2 #TP,TN,FP,FN,ERR,n,sm5 txm2 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.909 0.991 0.009 0.091 1.423e-04 700 5 3 #TP,TN,FP,FN,ERR,n,sm5 txm3 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 5 5 #TP,TN,FP,FN,ERR,n,sm5 txm5 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 5 6 #TP,TN,FP,FN,ERR,n,sm5 txm6 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.818 0.996 0.004 0.182 2.660e-04 700 5 7 #TP,TN,FP,FN,ERR,n,sm5 txm7 sX0(TP0.900 TN0.995 ER1.751e-04 n600)
0.727 0.997 0.003 0.273 3.938e-04 700 5 8 #TP,TN,FP,FN,ERR,n,sm5 txm8 sX0(TP0.800 TN0.997 ER3.390e-04 n600)
0.818 0.994 0.006 0.182 2.680e-04 700 5 9 #TP,TN,FP,FN,ERR,n,sm5 txm9 sX0(TP0.900 TN0.993 ER1.780e-04 n600)
0.909 0.997 0.003 0.091 1.340e-04 700 6 0 #TP,TN,FP,FN,ERR,n,sm6 txm0 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 6 1 #TP,TN,FP,FN,ERR,n,sm6 txm1 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.909 1.000 0.000 0.091 1.299e-04 700 6 2 #TP,TN,FP,FN,ERR,n,sm6 txm2 sX0(TP1.000 TN1.000 ER0.000e+00 n600)
0.636 1.000 0.000 0.364 5.195e-04 700 6 3 #TP,TN,FP,FN,ERR,n,sm6 txm3 sX0(TP0.700 TN1.000 ER5.000e-04 n600)
0.727 0.999 0.001 0.273 3.917e-04 700 6 4 #TP,TN,FP,FN,ERR,n,sm6 txm4 sX0(TP0.800 TN0.998 ER3.362e-04 n600)
0.909 0.996 0.004 0.091 1.361e-04 700 6 5 #TP,TN,FP,FN,ERR,n,sm6 txm5 sX0(TP1.000 TN0.995 ER8.475e-06 n600)
0.909 0.994 0.006 0.091 1.382e-04 700 6 6 #TP,TN,FP,FN,ERR,n,sm6 txm6 sX0(TP1.000 TN0.993 ER1.130e-05 n600)
0.909 0.997 0.003 0.091 1.340e-04 700 6 7 #TP,TN,FP,FN,ERR,n,sm6 txm7 sX0(TP1.000 TN0.997 ER5.650e-06 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 6 8 #TP,TN,FP,FN,ERR,n,sm6 txm8 sX0(TP1.000 TN0.998 ER2.825e-06 n600)
0.909 0.999 0.001 0.091 1.319e-04 700 6 9 #TP,TN,FP,FN,ERR,n,sm6 txm9 sX0(TP0.900 TN0.998 ER1.695e-04 n600)



(2) speakerdigit_v3.cの修正
sX:0:1 include sX=0 for test speaker
sX:0:0 exclude sX=0 for test speaker (toroku washya nomi)
##gibbs
pAd=0.9;iCs=1;iCd=0;sX=sX:0:1;speakerdigit_v3 fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX0.y fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 $sX usevoid:1

#incorrect speaker involving or not involving s=sX
t15 ps0.015U0.011Um0.004Up0.021LC0.003-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA993 pd0.987U0.012Um0.030Up0.003   better FA0<10 #sX:0:0 usevoid:1

t15 ps0.046U0.077Um0.032Up0.161LC0.003-0.994 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA811 pd0.884U0.217Um0.449Up0.104    OK FA1<10 #sX:0:1 usevoid:1 FA1 for n_sXtest=188-unregistered speaker

t15 ps0.039U0.065Um0.026Up0.138LC0.003-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:1/5 mid1v-2 dA806 pd0.876U0.200Um0.426Up0.093   #sX:0:1 n_sXtest=166 FA0

t15 ps0.039U0.064Um0.025Up0.141LC0.003-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:2/5 mid1v-2 dA59 pd0.776U0.163Um0.270Up0.094    #sX:0:1 n_sXtest=161 FA0

t15 ps0.015U0.011Um0.004Up0.021LC0.003-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA993 pd0.987U0.012Um0.030Up0.003   better FA0 #sX:0:0 usevoid:0
t15 ps0.046U0.077Um0.032Up0.161LC0.003-0.994 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA811 pd0.884U0.217Um0.449Up0.104    OK FA1<10 #sX:0:1 usevoid:0
## usevoid:0 と usevoid:1 の結果は変わらない。なぜ？Gibbsだから？y_void=1（すべてのCAN2 の出力が0）となることがない（少ない）から？

###correct speaker
t15 ps0.973U0.037Um0.066Up0.015LC0.004-0.994 iC0=TR0:FA0:SR0 C1000=TA999:FR1:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA1000 pd0.987U0.008Um0.018Up0.002  GOOD FA1<10 #sX:0:1 usevoid:1
t15 ps0.974U0.036Um0.065Up0.014LC0.004-0.994 iC1000=TR36:FA964:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA964 pd0.965U0.027Um0.048Up0.012  NG FA964, but ... OK
t15 ps0.974U0.033Um0.059Up0.014LC0.004-0.994 iC1000=TR953:FA47:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA47 pd0.839U0.077Um0.130Up0.040   seems GOOD!FA47
t15 ps0.972U0.037Um0.066Up0.015LC0.004-0.994 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.488U0.090Um0.106Up0.075    GOOD! FA0

###### bayes
pAd=0.9;iCs=1;iCd=0;sX=sX:0:1;speakerdigit_v3 fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1sX0.y fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:0 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 $sX usevoid:1
t15 ps0.012U0.037Um0.002Up0.248LC0.003-0.994 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA983 pd0.985U0.044Um0.296Up0.005 #sX:0:0 usevoid:0
t15 ps0.012U0.037Um0.002Up0.248LC0.003-0.994 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA983 pd0.985U0.044Um0.296Up0.005 #sX:0:0 usevoid:1
#incorrect speaker involving s=sX
t15 ps0.024U0.099Um0.014Up0.531LC0.003-0.994 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA794 pd0.807U0.369Um0.729Up0.183 #sX:0:1 usevoid:1 n_sXtest=188 FA5
t15 ps0.018U0.066Um0.008Up0.373LC0.003-0.994 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:1/5 mid1v-2 dA655 pd0.783U0.348Um0.525Up0.205 #sX:0:1 usevoid:1 n_sXtest=166 FA2
t15 ps0.017U0.058Um0.007Up0.353LC0.003-0.994 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:2/5 mid1v-2 dA487 pd0.671U0.390Um0.594Up0.264 #sX:0:1 usevoid:1 n_sXtest=161 FA2
#correct speaker
t15 ps0.961U0.123Um0.488Up0.029LC0.004-0.994 iC0=TR0:FA0:SR0 C1000=TA969:FR31:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA986 pd0.985U0.050Um0.410Up0.005  NG? FR31>10
t15 ps0.955U0.141Um0.540Up0.034LC0.004-0.994 iC1000=TR245:FA755:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA771 pd0.920U0.144Um0.271Up0.070 FA755
t15 ps0.964U0.120Um0.447Up0.026LC0.004-0.994 iC1000=TR450:FA550:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA557 pd0.792U0.291Um0.383Up0.193 NG FA550
t15 ps0.952U0.149Um0.544Up0.037LC0.004-0.994 iC1000=TR768:FA232:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA236 pd0.513U0.395Um0.438Up0.356 FA232 NG

###############sd
pAd=0.95;iCs=1;iCd=0;sX=sX:0:1;speakerdigit_v3 fsd:../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 $sX usevoid:1
#incorrest speaker iCs=1;iCd=0
t15 ps0.032U0.016Um0.011Up0.022LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid3v-2 dA0 pd0.032U0.016Um0.011Up0.022 sX:0:0
t15 ps0.072U0.088Um0.044Up0.169LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT1:0/5 mid3v-2 dA0 pd0.072U0.088Um0.044Up0.169 sX:0:1 n_sXtest=188
#correct speaker iCs=0;iCd=?
t15 ps0.988U0.005Um0.012Up0.001LC0.035-0.999 iC0=TR0:FA0:SR0 C1000=TA1000:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:0/5 mid3v-2 dA1000 pd0.988U0.005Um0.012Up0.001
t15 ps0.973U0.023Um0.040Up0.010LC0.002-0.999 iC1000=TR26:FA974:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:1/5 mid3v-2 dA974 pd0.973U0.023Um0.040Up0.010
t15 ps0.876U0.071Um0.108Up0.041LC0.002-0.999 iC1000=TR531:FA469:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:2/5 mid3v-2 dA469 pd0.876U0.071Um0.108Up0.041 seems NotGood? FA469 #pAd=0.95
t15 ps0.538U0.117Um0.130Up0.104LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:3/5 mid3v-2 dA0 pd0.538U0.117Um0.130Up0.104

#pAd=0.95
t15 ps0.072U0.088Um0.044Up0.169LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT1:0/5 mid3v-2 dA0 pd0.072U0.088Um0.044Up0.169

t15 ps0.988U0.005Um0.012Up0.001LC0.035-0.999 iC0=TR0:FA0:SR0 C1000=TA996:FR4:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:0/5 mid3v-2 dA996 pd0.988U0.005Um0.012Up0.001     FR4<10 OK?   #pAd=0.95
t15 ps0.973U0.023Um0.040Up0.010LC0.002-0.999 iC1000=TR92:FA908:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:1/5 mid3v-2 dA908 pd0.973U0.023Um0.040Up0.010    FA908 NG but ... OK
t15 ps0.876U0.071Um0.108Up0.041LC0.002-0.999 iC1000=TR991:FA9:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:2/5 mid3v-2 dA9 pd0.876U0.071Um0.108Up0.041 seems OK FA9  #pAd=0.95









20140121
#for iconip2013 with oob
#time oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40
#fs=fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y; #file name of y of speaker for iconip2013
#fd=fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y; #file name of y of digit   for iconip2013
#cat ../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.ystat 
##oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40 
#0.97000 0.98000 0.02000 0.03000 7.14286e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0
#at0.92000 0.99000 0.01000 0.08000 1.28571e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
#0.93000 0.97167 0.02833 0.07000 1.40476e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
#0.91000 0.97667 0.02333 0.09000 1.61905e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
#0.95000 0.97333 0.02667 0.05000 1.09524e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
#0.93000 0.97667 0.02333 0.07000 1.33333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
#0.92000 0.96667 0.03333 0.08000 1.61905e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#kuro@kurolab-VB:~/sotu/2013/can2b$ cat ../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.ystat
##oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole d:-1 N:40 
#0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
#0.94286 0.99365 0.00635 0.05714 9.07029e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1
#0.88571 0.98730 0.01270 0.11429 1.81406e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
#0.94286 0.98889 0.01111 0.05714 9.75057e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
#0.94286 0.97937 0.02063 0.05714 1.11111e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
#0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
#0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
#0.90000 0.99524 0.00476 0.10000 1.49660e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
#0.92857 0.98254 0.01746 0.07143 1.26984e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
#0.98571 0.99683 0.00317 0.01429 2.49433e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9


(1) sX:0
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:350 sX:0 ops:y:-1:1
pAd=0.9;iCs=0;iCd=0;speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N350S7D10L10sX0.y fd:../12voicedata/allpole/loo4d:-1N350S7D10L10sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
t15 ps0.689U0.154Um0.174Up0.134LC0.059-0.987 iC0=TR0:FA0:SR0 C1000=TA767:FR233:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA856 pd0.942U0.071Um0.126Up0.033
t15 ps0.698U0.145Um0.168Up0.125LC0.059-0.987 iC1000=TR519:FA481:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA515 pd0.864U0.107Um0.166Up0.062
t15 ps0.691U0.151Um0.167Up0.136LC0.059-0.987 iC1000=TR996:FA4:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA4 pd0.693U0.137Um0.176Up0.104
t15 ps0.688U0.148Um0.160Up0.136LC0.059-0.987 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.441U0.120Um0.131Up0.111

t15 ps0.689U0.154Um0.174Up0.134LC0.059-0.987 iC0=TR0:FA0:SR0 C1000=TA530:FR470:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA582 pd0.942U0.071Um0.126Up0.033
t15 ps0.698U0.145Um0.168Up0.125LC0.059-0.987 iC1000=TR975:FA25:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA25 pd0.864U0.107Um0.166Up0.062
t15 ps0.691U0.151Um0.167Up0.136LC0.059-0.987 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.693U0.137Um0.176Up0.104

(2) sX:-1
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:350 sX:-1 ops:y:-1:1
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:350 sX:-1 ops:y:-1:1
real632m52.958s user289m54.275s sys33m31.374s cat ../12voicedata/allpole/loo4s:-1N350S7D10L10sX-1.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:350 sX:-1 ops:y:-1:1 
0.880 0.973 0.027 0.120 2.095e-04 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.770 0.990 0.010 0.230 3.429e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.670 0.965 0.035 0.330 5.214e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.660 0.918 0.082 0.340 6.024e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.810 0.955 0.045 0.190 3.357e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.620 0.935 0.065 0.380 6.357e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.660 0.958 0.042 0.340 5.452e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

(3) sp:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu  (fhsを除く-->nS=6)
time loo4speakerdigit+ sp:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:350 sX:-1 ops:y:-1:1
time loo4speakerdigit+ sp:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:350 sX:-1 ops:y:-1:1

mesaho real1081m10.722s user781m27.558s sys19m5.116s cat ../12voicedata/allpole/loo4d:-1N200S7D10L10sX-1.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:200 sX:-1 ops:y:-1:1 
0.929 0.978 0.022 0.071 1.338e-04 700 0 #TP,TN,FP,FN,ERR,n,dm0
0.786 0.986 0.014 0.214 3.265e-04 700 1 #TP,TN,FP,FN,ERR,n,dm1
0.857 0.975 0.025 0.143 2.404e-04 700 2 #TP,TN,FP,FN,ERR,n,dm2
0.671 0.960 0.040 0.329 5.261e-04 700 3 #TP,TN,FP,FN,ERR,n,dm3
0.800 0.967 0.033 0.200 3.333e-04 700 4 #TP,TN,FP,FN,ERR,n,dm4
0.943 0.997 0.003 0.057 8.617e-05 700 5 #TP,TN,FP,FN,ERR,n,dm5
0.571 0.979 0.021 0.429 6.417e-04 700 6 #TP,TN,FP,FN,ERR,n,dm6
0.600 0.944 0.056 0.400 6.508e-04 700 7 #TP,TN,FP,FN,ERR,n,dm7
0.600 0.975 0.025 0.400 6.077e-04 700 8 #TP,TN,FP,FN,ERR,n,dm8
0.986 0.992 0.008 0.014 3.175e-05 700 9 #TP,TN,FP,FN,ERR,n,dm9


2013.12.05

(1) loo4speakerdigit+.c の間違い修正とオプション追加
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:350 sX:0 ops:y:-1:1
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:300 sX:0 ops:y:-1:1
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole sd:-1 N:20 sX:0 ops:y:-1:1

#real880m6.295s user432m12.785s sys44m57.813s
cat ../12voicedata/allpole/loo4d:-1N350S7D10L10sX0.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:350 sX:0 ops:y:-1:1 
0.800 0.981 0.019 0.200 3.129e-04 700 0 #TP,TN,FP,FN,ERR,n,dm0 sX0(TP0.933 TN0.983 ER1.389e-04 n600)
0.743 0.973 0.027 0.257 4.059e-04 700 1 #TP,TN,FP,FN,ERR,n,dm1 sX0(TP0.767 TN0.987 ER4.105e-04 n600)
0.829 0.962 0.038 0.171 2.993e-04 700 2 #TP,TN,FP,FN,ERR,n,dm2 sX0(TP0.883 TN0.976 ER2.346e-04 n600)
0.714 0.948 0.052 0.286 4.830e-04 700 3 #TP,TN,FP,FN,ERR,n,dm3 sX0(TP0.767 TN0.957 ER4.599e-04 n600)
0.786 0.930 0.070 0.214 4.059e-04 700 4 #TP,TN,FP,FN,ERR,n,dm4 sX0(TP0.883 TN0.974 ER2.377e-04 n600)
0.957 0.994 0.006 0.043 7.029e-05 700 5 #TP,TN,FP,FN,ERR,n,dm5 sX0(TP0.950 TN0.993 ER9.568e-05 n600)
0.586 0.983 0.017 0.414 6.168e-04 700 6 #TP,TN,FP,FN,ERR,n,dm6 sX0(TP0.617 TN0.983 ER6.667e-04 n600)
0.557 0.957 0.043 0.443 6.939e-04 700 7 #TP,TN,FP,FN,ERR,n,dm7 sX0(TP0.650 TN0.956 ER6.574e-04 n600) big ERR?
0.557 0.983 0.017 0.443 6.576e-04 700 8 #TP,TN,FP,FN,ERR,n,dm8 sX0(TP0.650 TN0.983 ER6.111e-04 n600)
0.843 0.997 0.003 0.157 2.290e-04 700 9 #TP,TN,FP,FN,ERR,n,dm9 sX0(TP0.983 TN0.998 ER3.086e-05 n600)

cat ../12voicedata/allpole/loo4d:7N300S7D10L10sX0.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:7 N:300 sX:0 ops:y:-1:1 
0.571 0.959 0.041 0.429 6.712e-04 700 7 #TP,TN,FP,FN,ERR,n,dm7 sX0(TP0.667 TN0.952 ER6.358e-04 n600) smaller ERR for dm7?
cat ../12voicedata/allpole/loo4d:7N200S7D10L10sX0.ystat 
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:7 N:200 sX:0 ops:y:-1:1 
0.586 0.962 0.038 0.414 6.463e-04 700 7 #TP,TN,FP,FN,ERR,n,dm7 sX0(TP0.683 TN0.957 ER5.988e-04 n600) smaller ERR for dm7?


real536m33.054s user263m45.613s sys29m3.321s
kuro@kurolab-VB:~/sotu/2013/can2b$ cat ../12voicedata/allpole/loo4s:-1N350S7D10L10sX0.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:350 sX:0 ops:y:-1:1 
0.800 0.955 0.045 0.200 3.500e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX0(TP0.800 TN0.994 ER3.433e-04 n600)
0.740 0.953 0.047 0.260 4.381e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX0(TP0.740 TN0.950 ER5.167e-04 n600)
0.670 0.887 0.113 0.330 6.333e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX0(TP0.670 TN0.912 ER6.967e-04 n600)
0.780 0.925 0.075 0.220 4.214e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX0(TP0.780 TN0.964 ER4.267e-04 n600)
0.660 0.915 0.085 0.340 6.071e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.660 TN0.930 ER6.833e-04 n600)
0.730 0.938 0.062 0.270 4.738e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX0(TP0.730 TN0.942 ER5.467e-04 n600)


real289m23.012s user26m18.379s sys23m22.824s
cat ../12voicedata/allpole/loo4s:-1N40S7D10L10sX0.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:40 sX:0 ops:y:-1:1 
0.75000 0.90333 0.09667 0.25000 4.95238e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.61000 0.86500 0.13500 0.39000 7.50000e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.61000 0.82500 0.17500 0.39000 8.07143e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.73000 0.85000 0.15000 0.27000 6.00000e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.59000 0.82000 0.18000 0.41000 8.42857e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.62000 0.86333 0.13667 0.38000 7.38095e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
0.590 0.820 0.180 0.410 8.429e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.590 TN0.830 ER9.667e-04 n600)
0.620 0.863 0.137 0.380 7.381e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX0(TP0.620 TN0.854 ER8.767e-04 n600)
cat ../12voicedata/allpole/loo4s:5N350S7D10L10sX0.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:5 N:100 sX:0 ops:y:-1:1 
0.640 0.913 0.087 0.360 6.381e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.640 TN0.914 ER7.433e-04 n600)
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:5 N:200 sX:0 ops:y:-1:1 
0.600 0.935 0.065 0.400 6.643e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.600 TN0.940 ER7.667e-04 n600)
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:5 N:300 sX:0 ops:y:-1:1 ***?
0.650 0.923 0.077 0.350 6.095e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.650 TN0.936 ER6.900e-04 n600)
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:5 N:350 sX:0 ops:y:-1:1 ***minERR
0.660 0.915 0.085 0.340 6.071e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.660 TN0.930 ER6.833e-04 n600)
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:5 N:400 sX:0 ops:y:-1:1 
0.650 0.918 0.082 0.350 6.167e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.650 TN0.930 ER7.000e-04 n600)
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:5 N:500 sX:0 ops:y:-1:1 
0.610 0.917 0.083 0.390 6.762e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX0(TP0.610 TN0.930 ER7.667e-04 n600)

cat ../12voicedata/allpole/loo4s:-1N20S7D10L10sX0.ystat
#loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:20 sX:0 ops:y:-1:1 
0.780 0.858 0.142 0.220 5.167e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1 sX(TP0.780 TN0.906 ER600.000 n0)
0.660 0.868 0.132 0.340 6.738e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 sX(TP0.660 TN0.870 ER600.000 n0)
0.740 0.815 0.185 0.260 6.357e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3 sX(TP0.740 TN0.852 ER600.000 n0)
0.740 0.872 0.128 0.260 5.548e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4 sX(TP0.740 TN0.898 ER600.000 n0)
0.630 0.822 0.178 0.370 7.833e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5 sX(TP0.630 TN0.812 ER600.000 n0)
0.580 0.805 0.195 0.420 8.786e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6 sX(TP0.580 TN0.786 ER600.000 n0)

#???
#???time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:300 sX:0 "ops:y:-1:1"
#???#real466m9.708s user204m35.287s sys26m45.088s
#???cat ../12voicedata/allpole/loo4s:-1N300S7D10L10sX0.ystat
#???0.84000 0.95833 0.04167 0.16000 2.88095e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
#???0.68000 0.95167 0.04833 0.32000 5.26190e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
#???0.68000 0.87333 0.12667 0.32000 6.38095e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
#???0.79000 0.93000 0.07000 0.21000 4.00000e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
#???0.65000 0.92333 0.07667 0.35000 6.09524e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
#???0.75000 0.93500 0.06500 0.25000 4.50000e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???
#???time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:300 sX:0 ops:y:-1:1
#???real771m24.283s user337m53.107s sys42m33.268s
#???cat ../12voicedata/allpole/loo4d:-1N300S7D10L10sX0.ystat
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:300 sX:0 ops:y:-1:1 
#???0.82857 0.97937 0.02063 0.17143 2.74376e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
#???0.77143 0.97937 0.02063 0.22857 3.56009e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
#???0.80000 0.96190 0.03810 0.20000 3.40136e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
#???0.72857 0.94603 0.05397 0.27143 4.64853e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3
#???0.80000 0.93175 0.06825 0.20000 3.83220e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
#???0.95714 1.00000 0.00000 0.04286 6.12245e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5
#???0.58571 0.97937 0.02063 0.41429 6.21315e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
#???0.57143 0.95873 0.04127 0.42857 6.71202e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
#???0.55714 0.98095 0.01905 0.44286 6.59864e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
#???0.84286 0.99683 0.00317 0.15714 2.29025e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9
#???
#???cat ../12voicedata/allpole/loo4d:-1N300S7D10L10sX0.ystat
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:300 sX:0 ops:y:-1:1 
#???0.14493 0.90047 0.09953 0.85507 1.35983e-03 702 0 #TP,TN,FP,FN,ERR,n,txm0  ????
#???0.62745 0.95686 0.04314 0.37255 5.93846e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
#???0.80000 0.96190 0.03810 0.20000 3.40136e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
#???0.72857 0.94603 0.05397 0.27143 4.64853e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3
#???0.80000 0.93175 0.06825 0.20000 3.83220e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
#???0.95714 1.00000 0.00000 0.04286 6.12245e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5
#???0.58571 0.97937 0.02063 0.41429 6.21315e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
#???0.57143 0.95873 0.04127 0.42857 6.71202e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
#???0.55714 0.98095 0.01905 0.44286 6.59864e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
#???0.84286 0.99683 0.00317 0.15714 2.29025e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9
#???
#???time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:20 sX:0 "ops:y:-2:2"
#???real832m39.025s user368m54.787s sys45m47.736s cat ../12voicedata/allpole/loo4d:-1N300S7D10L10sX0.ystat
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:20 sX:0 ops:y:-2:2 
#???0.76000 0.85000 0.15000 0.24000 5.57143e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
#???0.61000 0.86000 0.14000 0.39000 7.57143e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
#???0.61000 0.77833 0.22167 0.39000 8.73810e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
#???0.72000 0.87000 0.13000 0.28000 5.85714e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
#???0.62000 0.83000 0.17000 0.38000 7.85714e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
#???0.55000 0.79667 0.20333 0.45000 9.33333e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???
#???time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:20 sX:0 "ops:y:-1:1"
#???real261m57.174s user16m2.784s sys20m47.058s cat ../12voicedata/allpole/loo4s:-1N20S7D10L10sX0.ystat
#???mv  ../12voicedata/allpole/loo4s:-1N20S7D10L10sX0.y  ../12voicedata/allpole/loo4s:-1N20S7D10L10sX0-0.y
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:20 sX:0 ops:y:-1:1 
#???0.78000 0.85833 0.14167 0.22000 5.16667e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
#???0.66000 0.86833 0.13167 0.34000 6.73810e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
#???0.74000 0.81500 0.18500 0.26000 6.35714e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
#???0.74000 0.87167 0.12833 0.26000 5.54762e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
#???0.63000 0.82167 0.17833 0.37000 7.83333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
#???0.58000 0.80500 0.19500 0.42000 8.78571e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:6 N:20 sX:0 "ops:y:-1:1 r:2:1:0"
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:6 N:20 sX:0 ops:y:-1:1 r:2:1:0 
#???0.58000 0.80500 0.19500 0.42000 8.78571e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???cat ../12voicedata/allpole/loo4s:6N20S7D10L10sX0.ystat
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:6 N:20 sX:0 ops:y:-2:2 r:2:1:0 
#???0.91000 0.18667 0.81333 0.09000 1.29048e-03 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:6 N:40 sX:0 ops:y:-1:1 
#???0.62000 0.86333 0.13667 0.38000 7.38095e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:6 N:80 sX:0 ops:y:-1:1 
#???0.67000 0.90500 0.09500 0.33000 6.07143e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:6 N:200 sX:0 ops:y:-1:1 
#???0.71000 0.93167 0.06833 0.29000 5.11905e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#???
#???real440m20.797s user28m21.286s sys34m44.454s cat ../12voicedata/allpole/loo4d:-1N20S7D10L10sX0.ystat
#???mv ../12voicedata/allpole/loo4d:-1N20S7D10L10sX0.y ../12voicedata/allpole/loo4d:-1N20S7D10L10sX0-0.y
#???#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:20 sX:0 ops:y:-1:1 
#???0.65714 0.93492 0.06508 0.34286 5.82766e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
#???0.57143 0.95873 0.04127 0.42857 6.71202e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
#???0.64286 0.91746 0.08254 0.35714 6.28118e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
#???0.52857 0.88095 0.11905 0.47143 8.43537e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3
#???0.50000 0.88889 0.11111 0.50000 8.73016e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
#???0.81429 0.96508 0.03492 0.18571 3.15193e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
#???0.60000 0.86508 0.13492 0.40000 7.64172e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
#???0.50000 0.89206 0.10794 0.50000 8.68481e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
#???0.60000 0.90952 0.09048 0.40000 7.00680e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
#???0.80000 0.97937 0.02063 0.20000 3.15193e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9




(1) for learning by CAN2, try ops:"y:-2:2" for better identification rate
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:2 N:20 sX:0 "ops:y:-2:2"

(2)
iCs=1; iCd=1;
iCs=1; iCd=0;
iCs=0; iCd=1;
iCs=0; iCd=0;
#iCs=0; iCd=2;
#iCs=0; iCd=3;
#iCs=0; iCd=4;
#iCs=0; iCd=5;
pAd=0.96;iCs=0;iCd=0;speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N40S7D10L10sX0.y fd:../12voicedata/allpole/loo4d:-1N40S7D10L10sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
t15 ps0.564U0.104Um0.106Up0.102LC0.102-0.875 iC0=TR0:FA0:SR0 C1000=TA10:FR990:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA11 pd0.803U0.163Um0.244Up0.101
t15 ps0.563U0.105Um0.108Up0.103LC0.102-0.875 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA0 pd0.710U0.165Um0.239Up0.110
t15 ps0.563U0.103Um0.104Up0.102LC0.105-0.875 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.575U0.140Um0.173Up0.111

pAd=0.6;iCs=0;iCd=0;speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N40S7D10L10sX0.y fd:../12voicedata/allpole/loo4d:-1N40S7D10L10sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
t15 ps0.581U0.103Um0.113Up0.093LC0.102-0.875 iC0=TR0:FA0:SR0 C1000=TA767:FR233:SA0 pApAd0.5:0.6 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA970 pd0.859U0.093Um0.134Up0.058 #pAd=0.6;iCs=0;iCd=0;
t15 ps0.577U0.103Um0.111Up0.095LC0.102-0.875 iC1000=TR305:FA695:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.6 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA914 pd0.757U0.103Um0.131Up0.077 #pAd=0.6;iCs=0;iCd=1
t15 ps0.575U0.103Um0.113Up0.094LC0.102-0.875 iC1000=TR569:FA431:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.6 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA565 pd0.601U0.110Um0.128Up0.094 #pAd=0.6;iCs=0;iCd=2

t15 ps0.581U0.103Um0.113Up0.093LC0.102-0.875 iC0=TR0:FA0:SR0 C1000=TA330:FR670:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA412 pd0.859U0.093Um0.134Up0.058 #pAd=0.9;iCs=0;iCd=0;
t15 ps0.577U0.103Um0.111Up0.095LC0.102-0.875 iC1000=TR983:FA17:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA18 pd0.757U0.103Um0.131Up0.077    #pAd=0.9;iCs=0;iCd=1;
t15 ps0.575U0.103Um0.113Up0.094LC0.102-0.875 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.9 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.601U0.110Um0.128Up0.094



novod
pAd=0.96;iCs=0;iCd=0;speakerdigit_v3 fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
t15 ps0.962U0.060Um0.115Up0.021LC0.002-0.991 iC0=TR0:FA0:SR0 C1000=TA976:FR24:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA978 pd0.987U0.013Um0.028Up0.003  #pAd=0.96;iCs=0;iCd=0 no sX=0 prompted
t15 ps0.963U0.060Um0.118Up0.020LC0.002-0.991 iC1000=TR222:FA778:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA778 pd0.961U0.055Um0.110Up0.021 #pAd=0.96;iCs=0;iCd=0
t15 ps0.965U0.052Um0.098Up0.018LC0.002-0.991 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA2 pd0.822U0.124Um0.197Up0.070     #pAd=0.96;iCs=0;iCd=0



pAd=0.96;iCs=0;iCd=0;speakerdigit_v2 fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:$pAd:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
t15 ps0.952U0.064Um0.107Up0.029LC0.002-0.991 iC0=TR0:FA0:SR0 C1000=TA969:FR31:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA971 pd0.986U0.016Um0.040Up0.004 #pAd=0.96;iCs=0;iCd=0; sP=0
t15 ps0.953U0.065Um0.115Up0.028LC0.002-0.991 iC1000=TR217:FA783:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA784 pd0.963U0.049Um0.098Up0.018 #pAd=0.96;iCs=0;iCd=1;
t15 ps0.954U0.060Um0.100Up0.027LC0.002-0.991 iC1000=TR997:FA3:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA3 pd0.819U0.129Um0.206Up0.072     #pAd=0.96;iCs=0;iCd=2;





speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N300S7D10L10sX0.y fd:../12voicedata/allpole/loo4d:-1N300S7D10L10sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:0.96:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
t15 ps0.424U0.000Um0.000Up0.000LC0.500-0.500 iC0=TR0:FA0:SR0 C1000=TA0:FR1000:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA0 pd0.424U0.000Um0.000Up0.000

#speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N20S7D10L10sX0-0.y fd:../12voicedata/allpole/loo4d:-1N20S7D10L10sX0-0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:0.96:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1
#speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N40S7D10L10sX0-0.y fd:../12voicedata/allpole/loo4d:-1N40S7D10L10sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:0.96:15 LAR:0.5:0:0 test:5:1000:${iCs}:${iCd}:5 sX:0 usevoid:1



emacs tmp/testsd.dat 
#cf loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:1 gibbs:1 mex:0




2013/10/24
(1) loo4speakerdigit+
オプション　未登録話者 sX:0,..., sX:6
その他はoob4speakerdigit+ と同じ

time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:20 sX:0
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:40 sX:0
time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole sd:-1 N:40 sX:0


real870m5.292s user38m40.389s sys30m7.305s for cat ../12voicedata/allpole/loo4d:-1N40S7D10L10sX0.ystat by yuka
#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:40 sX:0 
0.80000 0.99375 0.00625 0.20000 2.94643e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.78333 0.96094 0.03906 0.21667 3.65327e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.68333 0.96562 0.03438 0.31667 5.01488e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.63333 0.95312 0.04688 0.36667 5.90774e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.71667 0.94219 0.05781 0.28333 4.87351e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.81667 0.97969 0.02031 0.18333 2.90923e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.61667 0.95781 0.04219 0.38333 6.07887e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.65000 0.93125 0.06875 0.35000 5.98214e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.68333 0.97813 0.02187 0.31667 4.83631e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.94375 0.98519 0.01481 0.05625 1.01521e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9


real1424m43.830s user1139m14.808s sys29m48.676s for ../12voicedata/allpole/loo4d:-1N300S7D10L10sX0.y by mesaho
#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole d:-1 N:300 sX:0 
0.98333 0.99219 0.00781 0.01667 3.49702e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.78333 0.99375 0.00625 0.21667 3.18452e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.95000 0.98125 0.01875 0.05000 9.82143e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.76667 0.96875 0.03125 0.23333 3.77976e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.95000 0.97969 0.02031 0.05000 1.00446e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.96667 1.00000 0.00000 0.03333 4.76190e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.66667 0.98438 0.01562 0.33333 4.98512e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.70000 0.97500 0.02500 0.30000 4.64286e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.76667 0.98750 0.01250 0.23333 3.51190e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.98750 0.99630 0.00370 0.01250 2.31481e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9

real487m32.987s user228m13.120s sys36m10.440s for ../12voicedata/allpole/loo4s:-1N300S7D10L10sX0.y
0.81000 0.99333 0.00667 0.19000 2.80952e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.70000 0.95333 0.04667 0.30000 4.95238e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.75000 0.92333 0.07667 0.25000 4.66667e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.84000 0.97000 0.03000 0.16000 2.71429e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.68000 0.95500 0.04500 0.32000 5.21429e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.84500 0.95200 0.04800 0.15500 2.90000e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

real287m53.188s user51m49.926s sys21m20.280s for ../12voicedata/allpole/loo4s:-1N100S7D10L10sX0.y
#loo4speakerdigit+ sp:fhs tx:zero ntxi:10 k:36 dir:../12voicedata/allpole s:-1 N:100 sX:0 
0.78000 0.98667 0.01333 0.22000 3.33333e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.66000 0.95333 0.04667 0.34000 5.52381e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.58000 0.92000 0.08000 0.42000 7.14286e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.80000 0.94500 0.05500 0.20000 3.64286e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.63000 0.94333 0.05667 0.37000 6.09524e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.80000 0.92800 0.07200 0.20000 3.88571e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

#retry
real379m40.150s user149m13.012s sys17m47.251s for ../12voicedata/allpole/loo4s:-1N40S7D10L10sX0.ystat
0.80000 0.96667 0.03333 0.20000 3.33333e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.60000 0.89167 0.10833 0.40000 7.26190e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.80000 0.88667 0.11333 0.20000 4.47619e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.79000 0.92167 0.07833 0.21000 4.11905e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.63000 0.89000 0.11000 0.37000 6.85714e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.83500 0.88400 0.11600 0.16500 4.01429e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

real284m6.513s user17m43.442s sys18m35.006s for ../12voicedata/allpole/loo4s:-1N20S7D10L10sX0.ystat
-nan 1.00000 0.00000 -nan -nan 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.83000 0.94500 0.05500 0.17000 3.21429e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.58000 0.90167 0.09833 0.42000 7.40476e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.68000 0.87833 0.12167 0.32000 6.30952e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.70000 0.94833 0.05167 0.30000 5.02381e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.70000 0.85500 0.14500 0.30000 6.35714e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.80000 0.83200 0.16800 0.20000 5.25714e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

time loo4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole s:2 N:20 sX:0 ops:"y:-2:2"
#result in ../12voicedata/allpole/loo4s:2N20S7D10L10sX0.y
0.61000 0.88667 0.11333 0.39000 7.19048e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2 for check.


[0] Set the default environment: Do 0 at 2013/02/27
[1]
話者＋数字照合：ver=-2でしきい値の最適化
(1)0/5指定話者＋5/5指定数字列のテスト, 
(2)5/5指定話者＋5/5指定数字列のテスト,
(3)5/5指定話者＋4/5指定数字列のテスト, 
(4)5/5指定話者＋3/5指定数字列のテスト, 
(5)5/5指定話者＋2/5指定数字列のテスト, 
#Exp1:after setting default environment 2013/02/27
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=48;for C in 1 2 3 4 ; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4 ; do 
No=6;T=5;nA=0;TD=50;for C in 1 2 3 4 ; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
fs=fs:../12voicedata/allpole/loo4s:-1N40S7D10L10sX0.y
fd=fd:../12voicedata/allpole/loo4d:-1N40S7D10L10sX0.y
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No6
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No5
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No4
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v3 $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_No${No}.dat"
echo $cmd1; $cmd1;
done

speakerdigit_v3 fs:../12voicedata/allpole/loo4s:-1N40S7D10L10sX0.y fd:../12voicedata/allpole/loo4d:-1N40S7D10L10sX0.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:1 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:0.96:15 LAR:0.5:0:0 test:5:1000:1:0:5 mX:0
emacs tmp/testsd.dat 
#cf loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:1 gibbs:1 mex:0


t5 ps0.215U0.104Um0.082Up0.127LC0.045-0.989 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA0 pd0.628U0.240Um0.324Up0.174
t5 ps0.499U0.204Um0.166Up0.246LC0.068-0.989 iC0=TR0:FA0:SR0 C1000=TA0:FR1000:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA0 pd0.638U0.232Um0.318Up0.166





2013/08/13 for iconip2013
[0] Set the default environment: Do 0 at 2013/02/27
[1]
話者数字照合：ver=-2でしきい値の最適化
(1)0/5指定話者＋5/5指定数字列のテスト, 
(2)5/5指定話者＋5/5指定数字列のテスト,
(3)5/5指定話者＋4/5指定数字列のテスト, 
(4)5/5指定話者＋3/5指定数字列のテスト, 
(5)5/5指定話者＋2/5指定数字列のテスト, 
#Exp1:after setting default environment 2013/02/27
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=48;for C in 1 2 3 4 ; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4 ; do 
No=6;T=5;nA=0;TD=50;for C in 1 2 3 4 ; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No6
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
#cmd="speakerdigit_v2 $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
#cmd="speakerdigit_v $fsd     $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../../2012/12voicedata/allpole/test2_sd1000_C${C}_v-2_No${No}.dat"
echo $cmd1; $cmd1;
done
(1)t5 ps0.035U0.042Um0.016Up0.070LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/5 mid3v-2 dA0 pd0.035U0.042Um0.016Up0.070
(2)t5 ps0.979U0.048Um0.122Up0.011LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA918:FR82:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid3v-2 dA918 pd0.979U0.048Um0.122Up0.011
(3)t5 ps0.939U0.092Um0.168Up0.037LC0.002-0.999 iC1000=TR457:FA543:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid3v-2 dA543 pd0.939U0.092Um0.168Up0.037
(4)t5 ps0.806U0.166Um0.243Up0.100LC0.002-0.999 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid3v-2 dA5 pd0.806U0.166Um0.243Up0.100
(5)t5 ps0.484U0.181Um0.204Up0.159LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:3/5 mid3v-2 dA0 pd0.484U0.181Um0.204Up0.159


(1)t15 ps0.035U0.024Um0.014Up0.034LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/5 mid3v-2 dA0 pd0.035U0.024Um0.014Up0.034
(2)t15 ps0.987U0.010Um0.022Up0.003LC0.035-0.999 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid3v-2 dA980 pd0.987U0.010Um0.022Up0.003
(3)t15 ps0.970U0.033Um0.064Up0.013LC0.002-0.999 iC1000=TR167:FA833:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid3v-2 dA833 pd0.970U0.033Um0.064Up0.013
(4)t15 ps0.876U0.084Um0.132Up0.047LC0.002-0.999 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid3v-2 dA1 pd0.876U0.084Um0.132Up0.047
(5)t15 ps0.554U0.133Um0.156Up0.111LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:3/5 mid3v-2 dA0 pd0.554U0.133Um0.156Up0.111



2013/05/26 for iconip2013
[0] Set the default environment: Do 0 at 2013/02/27
[1]
話者＋数字照合：ver=-2でしきい値の最適化
(1)0/5指定話者＋5/5指定数字列のテスト, 
(2)5/5指定話者＋5/5指定数字列のテスト,
(3)5/5指定話者＋4/5指定数字列のテスト, 
(4)5/5指定話者＋3/5指定数字列のテスト, 
(5)5/5指定話者＋2/5指定数字列のテスト, 
#Exp1:after setting default environment 2013/02/27
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=48;for C in 1 2 3 4 ; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4 ; do 
No=6;T=5;nA=0;TD=50;for C in 1 2 3 4 ; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No6
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No5
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No4
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_No${No}.dat"
echo $cmd1; $cmd1;
done

#for No6
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,5,10,15);set ytics (0,0.5,0.96,1.0);set grid 
plot [-2:15.9][-0.2:1.1] "test2_s+d1000_C2_v-2_No6.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_No6.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_No6.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_gibbs_No6.obj";replot;set term X11
!cp pGd-t_gibbs_No6.obj ~/13iconip/speech/draft/
set term x11
set style data l
set xtics (0,5,10,15);set ytics (0,0.5,1.0);set grid
plot [-2:15.9][-0.2:1.1] "test2_s+d1000_C2_v-2_No6.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_No6.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_gibbs_No6.obj";replot;set term X11
!cp pG-t_gibbs_No6.obj ~/13iconip/speech/draft/
#gnuplot
set term x11
set style data l
set xtics (0,5,10,15,20,25,30,35,40,45,50);set ytics (0,20,40,60,80,100);set grid
plot [-10:60][-10:100] "test2_s+d1000_C1_v-2_No6.dat" using ($1):($10*0.1) t "C1FA" lt 1, "test2_s+d1000_C2_v-2_No6.dat" using ($1):($14*0.1) t "C2FR" lt 2, "test2_s+d1000_C3_v-2_No6.dat" using ($1):($10*0.1) t "C3FA" lt 3, "test2_s+d1000_C4_v-2_No6.dat" using ($1):($10*0.1) t "C4FA" lt 4, "test2_s+d1000_C5_v-2_No6.dat" using ($1):($10*0.1) t "C5FA" lt 4, "test2_s+d1000_C6_v-2_No6.dat" using ($1):($10*0.1) t "C6FA" lt 4
set term tgif;set output "FAFR-t_gibbs_No6.obj";replot;set term X11
!cp FAFR-t_gibbs_No6.obj ~/13iconip/speech/draft/

quit
#########
#Exp1:gibbs No6
t15 ps0.021U0.016Um0.008Up0.028LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA975 pd0.986U0.014Um0.034Up0.003
t15 ps0.978U0.037Um0.083Up0.010LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA981:FR19:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA981 pd0.987U0.010Um0.022Up0.003
t15 ps0.979U0.035Um0.077Up0.010LC0.003-0.998 iC1000=TR237:FA763:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA763 pd0.962U0.051Um0.095Up0.019
t15 ps0.978U0.038Um0.087Up0.010LC0.003-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA2 pd0.815U0.125Um0.200Up0.071

t5 ps0.957U0.096Um0.214Up0.029LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA900:FR100:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA905 pd0.976U0.063Um0.170Up0.013
t10 ps0.975U0.048Um0.107Up0.014LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA957:FR43:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA957 pd0.985U0.024Um0.060Up0.005
t15 ps0.978U0.037Um0.083Up0.010LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA981:FR19:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA981 pd0.987U0.010Um0.022Up0.003
t20 ps0.980U0.030Um0.067Up0.008LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA983:FR17:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA983 pd0.987U0.009Um0.019Up0.002
t25 ps0.981U0.027Um0.061Up0.008LC0.004-0.998 iC0=TR0:FA0:SR0 C1000=TA989:FR11:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA989 pd0.988U0.006Um0.015Up0.002
t30 ps0.982U0.027Um0.063Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA990:FR10:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA990 pd0.988U0.006Um0.014Up0.002
t35 ps0.982U0.028Um0.067Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA995:FR5:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA995 pd0.988U0.005Um0.011Up0.001
t40 ps0.983U0.026Um0.062Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA996:FR4:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA996 pd0.989U0.004Um0.010Up0.001
t45 ps0.983U0.024Um0.058Up0.006LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA996:FR4:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA996 pd0.989U0.004Um0.009Up0.001
t50 ps0.983U0.023Um0.055Up0.006LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA997:FR3:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA997 pd0.989U0.004Um0.009Up0.001

t5 ps0.958U0.093Um0.188Up0.028LC0.003-0.998 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA5 pd0.741U0.202Um0.310Up0.128
t10 ps0.973U0.056Um0.128Up0.015LC0.003-0.998 iC1000=TR997:FA3:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA3 pd0.796U0.149Um0.227Up0.087
t15 ps0.978U0.038Um0.087Up0.010LC0.003-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA2 pd0.815U0.125Um0.200Up0.071
t20 ps0.979U0.036Um0.083Up0.010LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.822U0.114Um0.179Up0.065
t25 ps0.980U0.029Um0.066Up0.008LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.827U0.106Um0.164Up0.062
t30 ps0.981U0.027Um0.061Up0.008LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.831U0.099Um0.155Up0.058
t35 ps0.982U0.026Um0.057Up0.007LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.833U0.095Um0.150Up0.055
t40 ps0.982U0.023Um0.050Up0.007LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.835U0.094Um0.146Up0.054
t45 ps0.983U0.022Um0.050Up0.007LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.836U0.093Um0.145Up0.053
t50 ps0.983U0.022Um0.049Up0.006LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.837U0.091Um0.145Up0.052

#Exp3:ytm:-1 yth=0
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=48;for C in 1 2 3 4; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4; do 
No=6;T=5;nA=0;TD=50;for C in 1 2 3 4; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.942:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No6
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.959:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No5
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.945:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No4
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.963:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fs $fd $nSDL $pmin ytm:-1 $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_yth0_No${No}.dat"
echo $cmd1; $cmd1;
done
#for No6
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,5,10,15);set ytics (0,0.5,0.942,1.0);set grid #set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-2:15.9][-0.2:1.1] "test2_s+d1000_C2_v-2_yth0_No6.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_yth0_No6.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_yth0_No6.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_yth0_No6.obj";replot;set term X11
!cp pGd-t_yth0_No6.obj ~/13iconip/speech/draft/
set term x11
set style data l
set xtics (0,5,10,15);set ytics (0,0.5,1.0);set grid
plot [-2:15.9][-0.2:1.1] "test2_s+d1000_C2_v-2_yth0_No6.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_yth0_No6.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_yth0_No6.obj";replot;set term X11
!cp pG-t_yth0_No6.obj ~/13iconip/speech/draft/
#gnuplot
set term x11
set style data l
set xtics (0,5,10,15,20,25,30,35,40,45,50);set ytics (0,20,40,60,80,100);set grid
plot [-10:60][-10:100] "test2_s+d1000_C1_v-2_yth0_No6.dat" using ($1):($10*0.1) t "C1FA" lt 1, "test2_s+d1000_C2_v-2_yth0_No6.dat" using ($1):($14*0.1) t "C2FR" lt 2, "test2_s+d1000_C3_v-2_yth0_No6.dat" using ($1):($10*0.1) t "C3FA" lt 3, "test2_s+d1000_C4_v-2_yth0_No6.dat" using ($1):($10*0.1) t "C4FA" lt 4
set term tgif;set output "FAFR-t_yth0_No6.obj";replot;set term X11
!cp FAFR-t_yth0_No6.obj ~/13iconip/speech/draft/

#Exp3:ytm:-1 yth=0 T=50
t15 ps0.017U0.019Um0.006Up0.041LC0.001-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.942 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA984 pd0.986U0.017Um0.041Up0.004
t15 ps0.982U0.027Um0.059Up0.007LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.942 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA980 pd0.986U0.014Um0.032Up0.004
t15 ps0.982U0.029Um0.065Up0.008LC0.002-0.999 iC1000=TR152:FA848:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.942 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA848 pd0.960U0.057Um0.112Up0.020
t15 ps0.982U0.026Um0.057Up0.007LC0.002-0.999 iC1000=TR992:FA8:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.942 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA8 pd0.817U0.125Um0.198Up0.069


t15 ps0.982U0.027Um0.059Up0.007LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA978:FR22:SA0 pApAd0.5:0.945 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA978 pd0.986U0.014Um0.032Up0.004
t15 ps0.982U0.027Um0.059Up0.007LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.943 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA980 pd0.986U0.014Um0.032Up0.004
t15 ps0.982U0.027Um0.059Up0.007LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.942 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA980 pd0.986U0.014Um0.032Up0.004
t15 ps0.982U0.027Um0.059Up0.007LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA982:FR18:SA0 pApAd0.5:0.941 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA982 pd0.986U0.014Um0.032Up0.004
t15 ps0.982U0.027Um0.059Up0.007LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA983:FR17:SA0 pApAd0.5:0.94 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA983 pd0.986U0.014Um0.032Up0.004

#########
#Exp2:gibbs=gibbs:0; ==bayes #bayesでは分散が大きく、バラつく
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=18;for C in 1 2 3 4; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4; do 
No=6;T=5;nA=0;TD=50;for C in 1 2 3 4; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No6
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.965:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2  #for No5
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2  #for No4
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fs $fd $nSDL $pmin $ytm $PNr $void gibbs:0 $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_bayes_No${No}.dat"
echo $cmd1; $cmd1;
done
#for No6
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,5,10,15);set ytics (0,0.5,0.96,1.0);set grid 
plot [-2:15.9][-0.2:1.1] "test2_s+d1000_C2_v-2_bayes_No6.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_bayes_No6.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_bayes_No6.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_bayes_No6.obj";replot;set term X11
!cp pGd-t_bayes_No6.obj ~/13iconip/speech/draft/
cd ~/sotu/2012/12voicedata/allpole/
set term x11
set style data l
set xtics (0,5,10,15);set ytics (0,0.5,1.0);set grid
plot [-2:15.9][-0.2:1.1] "test2_s+d1000_C2_v-2_bayes_No6.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_bayes_No6.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_bayes_No6.obj";replot;set term X11
!cp pG-t_bayes_No6.obj ~/13iconip/speech/draft/
#Exp2
t15 ps0.013U0.028Um0.003Up0.101LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA949 pd0.959U0.144Um0.621Up0.031
t15 ps0.966U0.124Um0.557Up0.024LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA944:FR56:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA963 pd0.970U0.115Um0.590Up0.020
t15 ps0.960U0.142Um0.627Up0.030LC0.003-0.998 iC1000=TR295:FA705:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA725 pd0.827U0.289Um0.508Up0.160
t15 ps0.965U0.126Um0.584Up0.025LC0.003-0.998 iC1000=TR563:FA437:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA445 pd0.655U0.386Um0.456Up0.322



2013/05/26 for iconip2013 old
####################################################################################################
話者＋数字照合：ver=-2でしきい値の最適化
(1)0/5指定話者＋5/5指定数字列のテスト, 
(2)5/5指定話者＋5/5指定数字列のテスト,
(3)5/5指定話者＋4/5指定数字列のテスト, 
(4)5/5指定話者＋3/5指定数字列のテスト, 
(5)5/5指定話者＋2/5指定数字列のテスト, 
#Exp1:after setting default environment 2013/02/27
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=48;for C in 1 2 3 4 ; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4 ; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No5
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.96:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No4
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_No${No}.dat"
echo $cmd1; $cmd1;
done

#for No4
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,0.96,1.0);set grid #set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_No4.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_No4.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_No4.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3,0,1,0.97
set term tgif;set output "pGd-t_gibbs_No4.obj";replot;set term X11
!cp pGd-t_gibbs_No4.obj ~/13iconip/speech/draft/

cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,1.0);set grid
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_No4.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_No4.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_gibbs_No4.obj";replot;set term X11
!cp pG-t_gibbs_No4.obj ~/13iconip/speech/draft/
#########
#Exp1:gibbs No4
#T=48
t18 ps0.020U0.015Um0.007Up0.027LC0.002-0.858 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA976 pd0.987U0.017Um0.042Up0.003
t18 ps0.981U0.030Um0.070Up0.008LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA980 pd0.987U0.012Um0.030Up0.003
t18 ps0.980U0.029Um0.066Up0.009LC0.003-0.998 iC1000=TR159:FA841:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA841 pd0.971U0.035Um0.071Up0.014
t18 ps0.979U0.041Um0.097Up0.010LC0.003-0.998 iC1000=TR955:FA45:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA45 pd0.896U0.085Um0.142Up0.044

t6 ps0.969U0.061Um0.136Up0.018LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA924:FR76:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA924 pd0.981U0.039Um0.100Up0.009
t12 ps0.978U0.037Um0.084Up0.011LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA963:FR37:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA963 pd0.986U0.014Um0.032Up0.004
t18 ps0.981U0.030Um0.070Up0.008LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA980 pd0.987U0.012Um0.030Up0.003
t24 ps0.982U0.027Um0.063Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA987:FR13:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA987 pd0.988U0.009Um0.023Up0.002
t30 ps0.983U0.024Um0.056Up0.006LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA992:FR8:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA992 pd0.988U0.006Um0.014Up0.002
t36 ps0.983U0.023Um0.055Up0.006LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA993:FR7:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA993 pd0.988U0.006Um0.014Up0.001
t42 ps0.984U0.021Um0.049Up0.005LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA994:FR6:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA994 pd0.989U0.004Um0.010Up0.001
t48 ps0.984U0.019Um0.043Up0.005LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA994:FR6:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA994 pd0.989U0.004Um0.009Up0.001

t6 ps0.961U0.089Um0.203Up0.025LC0.003-0.998 iC1000=TR849:FA151:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA151 pd0.842U0.152Um0.232Up0.087
t12 ps0.975U0.047Um0.109Up0.013LC0.003-0.998 iC1000=TR933:FA67:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA67 pd0.882U0.106Um0.178Up0.055
t18 ps0.979U0.041Um0.097Up0.010LC0.003-0.998 iC1000=TR955:FA45:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA45 pd0.896U0.085Um0.142Up0.044
t24 ps0.980U0.034Um0.080Up0.009LC0.003-0.998 iC1000=TR960:FA40:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA40 pd0.903U0.075Um0.125Up0.039
t30 ps0.982U0.028Um0.064Up0.008LC0.003-0.998 iC1000=TR965:FA35:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA35 pd0.905U0.073Um0.120Up0.038
t36 ps0.983U0.022Um0.049Up0.006LC0.003-0.998 iC1000=TR973:FA27:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA27 pd0.908U0.068Um0.110Up0.036
t42 ps0.983U0.019Um0.042Up0.006LC0.003-0.998 iC1000=TR984:FA16:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA16 pd0.910U0.063Um0.100Up0.034
t48 ps0.984U0.018Um0.039Up0.005LC0.003-0.998 iC1000=TR985:FA15:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA15 pd0.912U0.060Um0.096Up0.033

#T=18
#t18 ps0.020U0.016Um0.007Up0.029LC0.002-0.870 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA986 pd0.987U0.014Um0.034Up0.003
#t18 ps0.979U0.030Um0.067Up0.009LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA976:FR24:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA976 pd0.987U0.009Um0.022Up0.003
#t18 ps0.980U0.037Um0.089Up0.009LC0.003-0.998 iC1000=TR147:FA853:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA853 pd0.972U0.038Um0.076Up0.013
#t18 ps0.981U0.026Um0.056Up0.008LC0.003-0.998 iC1000=TR943:FA57:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA57 pd0.897U0.090Um0.155Up0.045

#for No5
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18,24);set ytics (0,0.5,0.965,1.0);set grid #set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-2:26][-0.1:1.1] "test2_s+d1000_C2_v-2_No5.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_No5.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_No5.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_gibbs.obj";replot;set term X11
!cp pGd-t_gibbs.obj ~/13iconip/speech/draft/

cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18,24);set ytics (0,0.5,1.0);set grid
plot [-2:26][-0.1:1.1] "test2_s+d1000_C2_v-2_No5.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_No5.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_gibbs.obj";replot;set term X11
!cp pG-t_gibbs.obj ~/13iconip/speech/draft/
#for No5
t24 ps0.021U0.015Um0.007Up0.025LC0.002-0.868 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA992 pd0.988U0.007Um0.017Up0.002
t24 ps0.983U0.026Um0.057Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA984:FR16:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA984 pd0.988U0.009Um0.023Up0.002
t24 ps0.981U0.023Um0.050Up0.008LC0.003-0.998 iC1000=TR127:FA873:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA873 pd0.976U0.022Um0.041Up0.010
t24 ps0.981U0.029Um0.065Up0.008LC0.003-0.998 iC1000=TR979:FA21:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA21 pd0.902U0.077Um0.128Up0.040


#Result is saved in tmp/testsd_stat.dat(same oder as above) and tmp/testsd.dat.
#Done for test:5:1000:0:0:6;pART:.85:.20:10;LAR:0.5:0:0
cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C2_v-2_No4.dat


t24 ps0.021U0.015Um0.007Up0.025LC0.002-0.868 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA989 pd0.988U0.007Um0.017Up0.002
t24 ps0.983U0.026Um0.057Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA981:FR19:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA981 pd0.988U0.009Um0.023Up0.002
t24 ps0.981U0.023Um0.050Up0.008LC0.003-0.998 iC1000=TR157:FA843:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA843 pd0.976U0.022Um0.041Up0.010
t24 ps0.981U0.029Um0.065Up0.008LC0.003-0.998 iC1000=TR996:FA4:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA4 pd0.902U0.077Um0.128Up0.040


#Exp1:gibbs No4??
t18 ps0.021U0.015:0.010-0.127 LC0.002-0.997 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA961 pd0.987U0.012
t18 ps0.979U0.037:0.338-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA963:FR37:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA963 pd0.987U0.014
t18 ps0.979U0.038:0.482-0.990 LC0.003-0.998 iC1000=TR191:FA809:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA810 pd0.973U0.037
t18 ps0.979U0.034:0.390-0.990 LC0.003-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA2 pd0.890U0.094
t18 ps0.980U0.034:0.420-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/6 mid1v-2 dA0 pd0.624U0.137

t24 ps0.021U0.015:0.010-0.202 LC0.002-0.868 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA980 pd0.988U0.007
t24 ps0.983U0.026:0.580-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA977:FR23:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA977 pd0.988U0.009
t24 ps0.981U0.023:0.688-0.990 LC0.003-0.998 iC1000=TR187:FA813:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA813 pd0.976U0.022
t24 ps0.981U0.029:0.460-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA0 pd0.902U0.077

t24 ps0.021U0.015Um0.007Up0.025LC0.002-0.868 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA992 pd0.988U0.007Um0.017Up0.002
t24 ps0.983U0.026Um0.057Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA984:FR16:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA984 pd0.988U0.009Um0.023Up0.002
t24 ps0.981U0.023Um0.050Up0.008LC0.003-0.998 iC1000=TR127:FA873:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA873 pd0.976U0.022Um0.041Up0.010
t24 ps0.981U0.029Um0.065Up0.008LC0.003-0.998 iC1000=TR979:FA21:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA21 pd0.902U0.077Um0.128Up0.040

t6 ps0.969U0.061Um0.136Up0.018LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA895:FR105:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA895 pd0.981U0.039Um0.100Up0.009
t12 ps0.978U0.037Um0.084Up0.011LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA946:FR54:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA946 pd0.986U0.014Um0.032Up0.004
t18 ps0.981U0.030Um0.070Up0.008LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA966:FR34:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA966 pd0.987U0.012Um0.030Up0.003
t24 ps0.982U0.027Um0.063Up0.007LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA977:FR23:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA977 pd0.988U0.009Um0.023Up0.002
t30 ps0.983U0.024Um0.056Up0.006LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA980:FR20:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA980 pd0.988U0.006Um0.014Up0.002
t36 ps0.983U0.023Um0.055Up0.006LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA984:FR16:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA984 pd0.988U0.006Um0.014Up0.001
t42 ps0.984U0.021Um0.049Up0.005LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA989:FR11:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA989 pd0.989U0.004Um0.010Up0.001
t48 ps0.984U0.019Um0.043Up0.005LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA989:FR11:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA989 pd0.989U0.004Um0.009Up0.001



t6 ps0.021U0.025:0.010-0.322 LC0.002-0.997 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA898 pd0.981U0.043
t6 ps0.965U0.077:0.053-0.990 LC0.004-0.998 iC0=TR0:FA0:SR0 C1000=TA872:FR128:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA876 pd0.979U0.049
t6 ps0.961U0.092:0.105-0.990 LC0.003-0.998 iC1000=TR500:FA500:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA505 pd0.947U0.084
t6 ps0.962U0.081:0.110-0.990 LC0.003-0.998 iC1000=TR989:FA11:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA11 pd0.840U0.153


t18 ps0.021U0.015:0.010-0.127 LC0.002-0.997 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.98 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA932 pd0.987U0.012
t18 ps0.979U0.037:0.338-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA916:FR84:SA0 pApAd0.5:0.98 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA916 pd0.987U0.014
t18 ps0.979U0.038:0.482-0.990 LC0.003-0.998 iC1000=TR353:FA647:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.98 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA648 pd0.973U0.037
t18 ps0.979U0.034:0.390-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.98 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA0 pd0.890U0.094
t18 ps0.980U0.034:0.420-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.98 LAR0.5:0:0 iCT0:3/6 mid1v-2 dA0 pd0.624U0.137


cd ../12voicedata/allpole/
gnuplot
set xtics (0,5,10,15,20);set ytics (0,0.2,0.4,0.6,0.8,1.0);
#set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-0.5:20.5][-0.2:1.4] "test2_s+d1000_C1_v-2_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, "test2_s+d1000_C2_v-2_No2.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
set term tgif;set output "test2_s+d1000-gibbs_No2.obj";replot
!cp test2_s+d1000-gibbs_No2.obj ~/13iconip/speech/draft/
#Exp1:by speakerdigit_v2
t20 ps0.021U0.015:0.010-0.145 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA971 pd0.987U0.010
t20 ps0.980U0.030:0.491-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA971:FR29:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA971 pd0.987U0.009
t20 ps0.981U0.024:0.701-0.990 LC0.004-0.998 iC1000=TR304:FA696:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA696 pd0.966U0.039
t20 ps0.979U0.036:0.466-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.822U0.114
t20 ps0.978U0.045:0.313-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.375U0.106
t5 ps0.023U0.037:0.010-0.483 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA880 pd0.974U0.066
t5 ps0.957U0.096:0.101-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA886:FR114:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA889 pd0.976U0.063
t5 ps0.959U0.082:0.181-0.990 LC0.003-0.998 iC1000=TR579:FA421:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA422 pd0.922U0.123
t5 ps0.958U0.093:0.074-0.990 LC0.003-0.998 iC1000=TR996:FA4:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA4 pd0.741U0.202
t5 ps0.951U0.110:0.078-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.354U0.174
t5 ps0.957U0.087:0.069-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.077U0.055
t5 ps0.955U0.096:0.024-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.014U0.027

t50 ps0.020U0.013:0.010-0.142 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA992 pd0.989U0.004
t50 ps0.983U0.023:0.678-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA989:FR11:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA989 pd0.989U0.004
t50 ps0.984U0.021:0.549-0.990 LC0.003-0.998 iC1000=TR240:FA760:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA760 pd0.974U0.026
t50 ps0.983U0.022:0.747-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.837U0.091
t50 ps0.982U0.025:0.628-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.378U0.087
t50 ps0.983U0.024:0.605-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.062U0.014
t50 ps0.984U0.021:0.741-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.010U0.001

t100 ps0.020U0.011:0.010-0.093 LC0.002-0.870 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.988 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA918 pd0.989U0.002
t100 ps0.986U0.014:0.809-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA928:FR72:SA0 pApAd0.5:0.988 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA928 pd0.989U0.002
t100 ps0.986U0.013:0.812-0.990 LC0.003-0.998 iC1000=TR702:FA298:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.988 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA298 pd0.976U0.020
t100 ps0.985U0.016:0.831-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.988 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.845U0.075
t100 ps0.984U0.017:0.763-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.988 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.381U0.077

t100 ps0.020U0.011:0.010-0.093 LC0.002-0.870 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA962 pd0.989U0.002
t100 ps0.986U0.014:0.809-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA975:FR25:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA975 pd0.989U0.002
t100 ps0.986U0.013:0.812-0.990 LC0.003-0.998 iC1000=TR517:FA483:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA483 pd0.976U0.020
t100 ps0.985U0.016:0.831-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.845U0.075

t50 ps0.020U0.013:0.010-0.142 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA937 pd0.989U0.004
t50 ps0.983U0.023:0.678-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA929:FR71:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA929 pd0.989U0.004
t50 ps0.984U0.021:0.549-0.990 LC0.003-0.998 iC1000=TR577:FA423:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA423 pd0.974U0.026
t50 ps0.983U0.022:0.747-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.837U0.091
t50 ps0.982U0.025:0.628-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.378U0.087

t20 ps0.021U0.015:0.010-0.145 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA886 pd0.987U0.010
t20 ps0.980U0.030:0.491-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA871:FR129:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA871 pd0.987U0.009
t20 ps0.981U0.024:0.701-0.990 LC0.004-0.998 iC1000=TR764:FA236:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA236 pd0.966U0.039
t20 ps0.979U0.036:0.466-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.822U0.114
t20 ps0.978U0.045:0.313-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.375U0.106
t20 ps0.981U0.025:0.632-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.064U0.022

t5 ps0.023U0.037:0.010-0.483 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA766 pd0.974U0.066
t5 ps0.957U0.096:0.101-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA781:FR219:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA784 pd0.976U0.063
t5 ps0.959U0.082:0.181-0.990 LC0.003-0.998 iC1000=TR872:FA128:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA129 pd0.922U0.123
t5 ps0.958U0.093:0.074-0.990 LC0.003-0.998 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA1 pd0.741U0.202
t5 ps0.951U0.110:0.078-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.985 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.354U0.174

t20 ps0.021U0.015:0.010-0.145 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA726 pd0.987U0.010
t20 ps0.980U0.030:0.491-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA701:FR299:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA701 pd0.987U0.009
t20 ps0.981U0.024:0.701-0.990 LC0.004-0.998 iC1000=TR997:FA3:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA3 pd0.966U0.039
t20 ps0.979U0.036:0.466-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.822U0.114
t20 ps0.978U0.045:0.313-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.375U0.106

#t50 ps0.020U0.013:0.010-0.142 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA998 pd0.989U0.004
#t50 ps0.983U0.023:0.678-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA998:FR2:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA998 pd0.989U0.004
#t50 ps0.984U0.021:0.549-0.990 LC0.003-0.998 iC1000=TR114:FA886:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA886 pd0.974U0.026
#t50 ps0.983U0.022:0.747-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.837U0.091
#t5 ps0.023U0.037:0.010-0.483 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA728 pd0.974U0.066
#t5 ps0.957U0.096:0.101-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA746:FR254:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA749 pd0.976U0.063
#t5 ps0.959U0.082:0.181-0.990 LC0.003-0.998 iC1000=TR875:FA125:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA126 pd0.922U0.123
#t50 ps0.020U0.013:0.010-0.142 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA712 pd0.989U0.004
#t50 ps0.983U0.023:0.678-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA719:FR281:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA719 pd0.989U0.004
#t50 ps0.984U0.021:0.549-0.990 LC0.003-0.998 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA1 pd0.974U0.026
#t50 ps0.983U0.022:0.747-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.837U0.091
#t50 ps0.982U0.025:0.628-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.378U0.087
#t50 ps0.983U0.024:0.605-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.062U0.014
#t50 ps0.984U0.021:0.741-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.010U0.001
#
#t10 ps0.973U0.063:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA881:FR119:SA0 pApAd0.5:0.98 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA882 pd0.983U0.029
#t10 ps0.973U0.063:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA933:FR67:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA934 pd0.983U0.029
#t10 ps0.977U0.039:0.369-0.990 LC0.003-0.998 iC1000=TR344:FA656:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA657 pd0.957U0.055
#
#t5 ps0.021U0.027:0.010-0.345 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA750 pd0.975U0.073
#t5 ps0.960U0.093:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA746:FR254:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA750 pd0.975U0.064
#t5 ps0.961U0.086:0.069-0.990 LC0.003-0.998 iC1000=TR864:FA136:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA136 pd0.929U0.104
#t5 ps0.956U0.099:0.062-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.730U0.201
#t5 ps0.960U0.089:0.040-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.349U0.172
#t5 ps0.952U0.101:0.101-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.076U0.060
#t5 ps0.953U0.102:0.053-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.013U0.011
#
#t10 ps0.020U0.018:0.010-0.222 LC0.002-0.859 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA750 pd0.984U0.033
#t10 ps0.973U0.063:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA754:FR246:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA755 pd0.983U0.029
#t10 ps0.977U0.039:0.369-0.990 LC0.003-0.998 iC1000=TR986:FA14:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA14 pd0.957U0.055
#t10 ps0.974U0.049:0.381-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.796U0.145
#t10 ps0.976U0.041:0.601-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.371U0.134
#t10 ps0.972U0.058:0.308-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.068U0.036
#t10 ps0.973U0.056:0.144-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.99 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.011U0.004

#Exp2:gibbs=gibbs:0; ==bayes #bayesでは分散が大きく、バラつく
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=18;for C in 1 2 3 4; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.965:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2  #for No5
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2  #for No4
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fs $fd $nSDL $pmin $ytm $PNr $void gibbs:0 $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_bayes_No${No}.dat"
echo $cmd1; $cmd1;
done
#for No5
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18,24);set ytics (0,0.5,0.965,1.0);set grid 
plot [-2:26][-0.1:1.1] "test2_s+d1000_C2_v-2_bayes_No5.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_bayes_No5.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_bayes_No5.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_bayes.obj";replot;set term X11
!cp pGd-t_bayes.obj ~/13iconip/speech/draft/
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18,24);set ytics (0,0.5,1.0);set grid
plot [-2:26][-0.1:1.1] "test2_s+d1000_C2_v-2_bayes_No5.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_bayes_No5.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_bayes.obj";replot;set term X11
!cp pG-t_bayes.obj ~/13iconip/speech/draft/
#No5 Exp2: gibbs=gibbs:0; ==bayes #bayesでは分散が大きく、バラつく
t24 ps0.013U0.026Um0.003Up0.108LC0.002-0.868 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA963 pd0.969U0.116Um0.596Up0.021
t24 ps0.966U0.122Um0.583Up0.024LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA935:FR65:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA959 pd0.965U0.130Um0.630Up0.025
t24 ps0.967U0.121Um0.564Up0.023LC0.003-0.998 iC1000=TR261:FA739:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA752 pd0.840U0.281Um0.520Up0.149
t24 ps0.968U0.114Um0.546Up0.022LC0.003-0.998 iC1000=TR478:FA522:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA531 pd0.703U0.367Um0.475Up0.278

#for No4
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,0.96,1.0);set grid 
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_bayes_No4.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_bayes_No4.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_bayes_No4.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_bayes_No4.obj";replot;set term X11
!cp pGd-t_bayes_No4.obj ~/13iconip/speech/draft/
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,1.0);set grid
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_bayes_No4.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_bayes_No4.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_bayes_No4.obj";replot;set term X11
!cp pG-t_bayes_No4.obj ~/13iconip/speech/draft/
#
#
#cd ~/sotu/2012/12voicedata/allpole/
#gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,1.0);set grid
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_bayes_No4.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_bayes_No4.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_bayes_No4.obj";replot;set term X11
!cp pG-t_baye4.obj ~/13iconip/speech/draft/

#cd ../12voicedata/allpole/
#gnuplot
#set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
#plot [-2:20][-0.2:1.4] "test2_s+d1000_C1_v-2_bayes_No4.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, "test2_s+d1000_C2_v-2_bayes_No4.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
#set term tgif;set output "test2_s+d1000-bayes_No4.obj";replot
#!cp test2_s+d1000-bayes_No4.obj ~/13iconip/speech/draft/

#Exp2: gibbs=gibbs:0; ==bayes #bayesでは分散が大きく、バラつく
t18 ps0.012U0.012:0.010-0.262 LC0.002-0.870 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA965 pd0.970U0.114
t18 ps0.962U0.139:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA933:FR67:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA959 pd0.965U0.133
t18 ps0.966U0.127:0.010-0.990 LC0.003-0.998 iC1000=TR252:FA748:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA765 pd0.852U0.266
t18 ps0.961U0.136:0.010-0.990 LC0.003-0.998 iC1000=TR458:FA542:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA559 pd0.724U0.361
t18 ps0.970U0.118:0.010-0.990 LC0.003-0.998 iC1000=TR686:FA314:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/6 mid1v-2 dA321 pd0.545U0.423

t6 ps0.015U0.047:0.010-0.922 LC0.002-0.998 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA954 pd0.962U0.140
t6 ps0.968U0.120:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA944:FR56:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA965 pd0.972U0.103
t6 ps0.967U0.121:0.010-0.990 LC0.003-0.998 iC1000=TR233:FA767:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA781 pd0.856U0.270
t6 ps0.960U0.144:0.010-0.990 LC0.004-0.998 iC1000=TR458:FA542:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA551 pd0.724U0.359

t24 ps0.013U0.026:0.010-0.598 LC0.002-0.868 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA963 pd0.969U0.116
t24 ps0.966U0.122:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA935:FR65:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA959 pd0.965U0.130
t24 ps0.967U0.121:0.010-0.990 LC0.003-0.998 iC1000=TR262:FA738:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA751 pd0.840U0.281
t24 ps0.968U0.114:0.010-0.990 LC0.003-0.998 iC1000=TR479:FA521:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA530 pd0.703U0.367




#for No2
cd ../12voicedata/allpole/
gnuplot
set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-0.5:18.5][-0.2:1.4] "test2_s+d1000_C1_v-2_bayes_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, "test2_s+d1000_C2_v-2_bayes_No2.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
set term tgif;set output "test2_s+d1000-bayes_No2.obj";replot
!cp test2_s+d1000-bayes_No2.obj ~/13iconip/speech/draft/
#Exp2 by speakerdigit_v2
#Exp2 by speakerdigit_v2
t20 ps0.014U0.041:0.010-0.973 LC0.002-0.998 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA961 pd0.968U0.117
t20 ps0.958U0.141:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA926:FR74:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA952 pd0.958U0.146
t20 ps0.964U0.122:0.010-0.990 LC0.004-0.998 iC1000=TR272:FA728:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA742 pd0.839U0.278
t20 ps0.955U0.150:0.010-0.990 LC0.003-0.998 iC1000=TR559:FA441:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA453 pd0.659U0.383
t20 ps0.955U0.159:0.010-0.990 LC0.003-0.998 iC1000=TR839:FA161:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA164 pd0.424U0.426
t20 ps0.962U0.132:0.010-0.990 LC0.003-0.998 iC1000=TR997:FA3:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA3 pd0.184U0.337
t20 ps0.962U0.135:0.010-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.014U0.051
t5 ps0.018U0.069:0.010-0.973 LC0.002-0.998 iC1000=TR997:FA3:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA955 pd0.961U0.142
t5 ps0.957U0.152:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA934:FR66:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA962 pd0.970U0.115
t5 ps0.969U0.120:0.010-0.990 LC0.003-0.998 iC1000=TR280:FA720:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA735 pd0.836U0.282
t5 ps0.961U0.141:0.010-0.990 LC0.003-0.998 iC1000=TR567:FA433:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA443 pd0.668U0.373
t5 ps0.955U0.154:0.010-0.990 LC0.003-0.998 iC1000=TR829:FA171:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA178 pd0.418U0.422
t5 ps0.967U0.124:0.010-0.990 LC0.003-0.998 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA5 pd0.177U0.334
t5 ps0.959U0.135:0.010-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.014U0.047

t10 ps0.017U0.065:0.010-0.973 LC0.002-0.998 iC1000=TR996:FA4:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA962 pd0.968U0.121
t10 ps0.957U0.145:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA925:FR75:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA960 pd0.968U0.116
t10 ps0.969U0.112:0.010-0.990 LC0.003-0.998 iC1000=TR272:FA728:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA741 pd0.838U0.282
t10 ps0.960U0.139:0.010-0.990 LC0.003-0.998 iC1000=TR540:FA460:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA472 pd0.685U0.374
t10 ps0.962U0.136:0.010-0.990 LC0.003-0.998 iC1000=TR827:FA173:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA177 pd0.435U0.428
t10 ps0.960U0.143:0.010-0.990 LC0.003-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA5 pd0.181U0.339
t10 ps0.963U0.134:0.010-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.014U0.047

t15 ps0.013U0.028:0.010-0.806 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA949 pd0.959U0.144
t15 ps0.966U0.124:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA944:FR56:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA963 pd0.970U0.115
t15 ps0.960U0.142:0.010-0.990 LC0.003-0.998 iC1000=TR295:FA705:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA725 pd0.827U0.289
t15 ps0.965U0.126:0.010-0.990 LC0.003-0.998 iC1000=TR563:FA437:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA445 pd0.655U0.386
t15 ps0.965U0.125:0.010-0.990 LC0.003-0.998 iC1000=TR820:FA180:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA183 pd0.452U0.428
t15 ps0.967U0.122:0.010-0.990 LC0.003-0.998 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA5 pd0.194U0.350
t15 ps0.963U0.137:0.010-0.990 LC0.003-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0 pd0.012U0.033

#Exp3:ytm:-1 yth=0
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
#No=4;T=6;nA=0;TD=48;for C in 1 2 3 4; do 
#No=5;T=6;nA=0;TD=24;for C in 1 2 3 4; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.959:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No5
test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.945:${TD};LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 #for No4
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.963:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
#test=test:5:1000:${iCs}:${iCd}:${T};pApAdT=pApAdT:0.5:0.97:50;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v2 $fs $fd $nSDL $pmin ytm:-1 $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pApAdT $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd1="cp tmp/testsd_stat.dat ../12voicedata/allpole/test2_s+d1000_C${C}_v-2_yth0_No${No}.dat"
echo $cmd1; $cmd1;
done
#for No4
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,0.945,1.0);set grid #set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_yth0_No4.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_yth0_No4.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_yth0_No4.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_yth0_No4.obj";replot;set term X11
!cp pGd-t_yth0_No4.obj ~/13iconip/speech/draft/

cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,1.0);set grid
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_yth0_No4.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_yth0_No4.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_yth0_No4.obj";replot;set term X11
!cp pG-t_yth0_No4.obj ~/13iconip/speech/draft/
#cd ../12voicedata/allpole/
#gnuplot
#set xtics (0,6,12,18,24);set ytics (0,0.2,0.4,0.6,0.8,1.0);
##set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
#plot [-0.5:18.5][-0.2:1.4] "test2_s+d1000_C1_v-2_yth0_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, "test2_s+d1000_C2_v-2_yth0_No2.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
#set term tgif;set output "test2_s+d1000-gibbs_yth0_No2.obj";replot
#!cp test2_s+d1000-gibbs_yth0_No2.obj ~/13iconip/speech/draft/
#Exp3:ytm:-1 yth=0 T=48
t18 ps0.015U0.012Um0.004Up0.023LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.945 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA985 pd0.986U0.020Um0.049Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA978:FR22:SA0 pApAd0.5:0.945 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA978 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.023Um0.050Up0.006LC0.002-0.999 iC1000=TR136:FA864:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.945 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA864 pd0.968U0.044Um0.089Up0.016
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC1000=TR778:FA222:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.945 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA222 pd0.893U0.088Um0.145Up0.046



t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA983:FR17:SA0 pApAd0.5:0.94 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA983 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA981:FR19:SA0 pApAd0.5:0.943 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA981 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA981:FR19:SA0 pApAd0.5:0.944 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA981 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA978:FR22:SA0 pApAd0.5:0.945 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA978 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA976:FR24:SA0 pApAd0.5:0.95 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA976 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA969:FR31:SA0 pApAd0.5:0.953 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA969 pd0.986U0.016Um0.039Up0.004

t18 ps0.015U0.012Um0.004Up0.023LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA980 pd0.986U0.020Um0.049Up0.004
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA967:FR33:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA967 pd0.986U0.016Um0.039Up0.004
t18 ps0.983U0.023Um0.050Up0.006LC0.002-0.999 iC1000=TR148:FA852:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA852 pd0.968U0.044Um0.089Up0.016
t18 ps0.983U0.025Um0.060Up0.006LC0.002-0.999 iC1000=TR899:FA101:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA101 pd0.893U0.088Um0.145Up0.046



#Exp3:ytm:-1 yth=0 T=18
t18 ps0.015U0.014Um0.004Up0.027LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA974 pd0.986U0.020Um0.049Up0.004
t18 ps0.983U0.021Um0.044Up0.006LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA976:FR24:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA976 pd0.986U0.017Um0.039Up0.004
t18 ps0.983U0.023Um0.053Up0.006LC0.002-0.999 iC1000=TR144:FA856:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA856 pd0.970U0.042Um0.086Up0.015
t18 ps0.983U0.021Um0.047Up0.006LC0.002-0.999 iC1000=TR872:FA128:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.954 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA128 pd0.895U0.096Um0.166Up0.045


#for No5
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18,24);set ytics (0,0.5,0.965,1.0);set grid 
plot [-2:26][-0.1:1.1] "test2_s+d1000_C2_v-2_yth0_No5.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_yth0_No5.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_yth0_No5.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_yth0.obj";replot;set term X11
!cp pGd-t_yth0.obj ~/13iconip/speech/draft/;quit
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18,24);set ytics (0,0.5,1.0);set grid
plot [-2:26][-0.1:1.1] "test2_s+d1000_C2_v-2_yth0_No5.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_yth0_No5.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_yth0.obj";replot;set term X11
!cp pG-t_yth0.obj ~/13iconip/speech/draft/
#Exp3:ytm:-1 yth=0 No5
t24 ps0.016U0.015Um0.005Up0.029LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.959 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA984 pd0.987U0.011Um0.026Up0.002
t24 ps0.986U0.013Um0.025Up0.004LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA983:FR17:SA0 pApAd0.5:0.959 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA983 pd0.987U0.014Um0.035Up0.003
t24 ps0.984U0.017Um0.037Up0.005LC0.002-0.999 iC1000=TR132:FA868:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.959 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA868 pd0.975U0.027Um0.051Up0.011
t24 ps0.985U0.017Um0.036Up0.005LC0.002-0.999 iC1000=TR979:FA21:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.959 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA21 pd0.902U0.075Um0.122Up0.039

t24 ps0.016U0.015Um0.005Up0.029LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA984 pd0.987U0.011Um0.026Up0.002
t24 ps0.986U0.013Um0.025Up0.004LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA982:FR18:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA982 pd0.987U0.014Um0.035Up0.003
t24 ps0.984U0.017Um0.037Up0.005LC0.002-0.999 iC1000=TR138:FA862:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA862 pd0.975U0.027Um0.051Up0.011
t24 ps0.985U0.017Um0.036Up0.005LC0.002-0.999 iC1000=TR987:FA13:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.96 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA13 pd0.902U0.075Um0.122Up0.039

t24 ps0.016U0.015Um0.005Up0.029LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA976 pd0.987U0.011Um0.026Up0.002
t24 ps0.986U0.013Um0.025Up0.004LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA979:FR21:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA979 pd0.987U0.014Um0.035Up0.003
t24 ps0.984U0.017Um0.037Up0.005LC0.002-0.999 iC1000=TR165:FA835:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA835 pd0.975U0.027Um0.051Up0.011
t24 ps0.985U0.017Um0.036Up0.005LC0.002-0.999 iC1000=TR994:FA6:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA6 pd0.902U0.075Um0.122Up0.039


#for No4
#for check pG and pG_d and errorbars
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,0.962,1.0);set grid #set xtics (0,6,12,18);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_yth0_No4.dat" using ($1):($27) t "pGd" lt 1, "" using ($1):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C3_v-2_yth0_No4.dat" using ($1+0.2):($27) t "" lt 2, "" using ($1+0.2):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 2, "test2_s+d1000_C4_v-2_yth0_No4.dat" using ($1+0.4):($27) t "" lt 3, "" using ($1+0.4):($27):($27-$29):($27+$30) with yerrorbars t "" pt 6 lt 3
set term tgif;set output "pGd-t_yth0_No4.obj";replot;set term X11
!cp pGd-t_yth0_No4.obj ~/13iconip/speech/draft/

cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data l
set xtics (0,6,12,18);set ytics (0,0.5,1.0);set grid
plot [-2:20][-0.1:1.1] "test2_s+d1000_C2_v-2_yth0_No4.dat" using ($1):($2) t "pG" lt 1, "" using ($1):($2):($2-$4):($2+$5) with yerrorbars t "" pt 6 lt 1, "test2_s+d1000_C1_v-2_yth0_No4.dat" using ($1+0.2):($2) t "" lt 2, "" using ($1+0.2):($2):($2-$4):($2+$5) with yerrorbars t "" pt 4 lt 2
set term tgif;set output "pG-t_yth0_No4.obj";replot;set term X11
!cp pG-t_yth0_No4.obj ~/13iconip/speech/draft/
#cd ../12voicedata/allpole/
#gnuplot
#set xtics (0,6,12,18,24);set ytics (0,0.2,0.4,0.6,0.8,1.0);
##set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
#plot [-0.5:18.5][-0.2:1.4] "test2_s+d1000_C1_v-2_yth0_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, "test2_s+d1000_C2_v-2_yth0_No2.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
#set term tgif;set output "test2_s+d1000-gibbs_yth0_No2.obj";replot
#!cp test2_s+d1000-gibbs_yth0_No2.obj ~/13iconip/speech/draft/
#Exp3:ytm:-1 yth=0
#t18 ps0.015U0.014:0.010-0.310 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA967 pd0.986U0.020
t18 ps0.983U0.021:0.703-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA962:FR38:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA962 pd0.986U0.017
t18 ps0.983U0.023:0.697-0.990 LC0.002-0.999 iC1000=TR171:FA829:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA829 pd0.970U0.042
t18 ps0.983U0.021:0.760-0.990 LC0.002-0.999 iC1000=TR976:FA24:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA24 pd0.895U0.096
t18 ps0.983U0.024:0.563-0.990 LC0.003-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:3/6 mid1v-2 dA0 pd0.642U0.127
#Exp3:ytm:-1 yth=0
t24 ps0.016U0.015:0.010-0.206 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA967 pd0.987U0.011
t24 ps0.986U0.013:0.747-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA974:FR26:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA974 pd0.987U0.014
t24 ps0.984U0.017:0.746-0.990 LC0.002-0.999 iC1000=TR200:FA800:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA800 pd0.975U0.027
t24 ps0.985U0.017:0.704-0.990 LC0.002-0.999 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA2 pd0.902U0.075

t6 ps0.020U0.049:0.010-0.925 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA872 pd0.977U0.043
t6 ps0.972U0.056:0.257-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA885:FR115:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA887 pd0.979U0.057
t6 ps0.969U0.067:0.286-0.990 LC0.002-0.999 iC1000=TR479:FA521:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA521 pd0.944U0.097
t6 ps0.968U0.076:0.066-0.990 LC0.002-0.999 iC1000=TR988:FA12:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA12 pd0.840U0.154

#
t24 ps0.016U0.015:0.010-0.206 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.968 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA972 pd0.987U0.011
t24 ps0.986U0.013:0.747-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA979:FR21:SA0 pApAd0.5:0.968 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA979 pd0.987U0.014
t24 ps0.984U0.017:0.746-0.990 LC0.002-0.999 iC1000=TR187:FA813:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.968 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA813 pd0.975U0.027
t24 ps0.985U0.017:0.704-0.990 LC0.002-0.999 iC1000=TR996:FA4:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.968 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA4 pd0.902U0.075

t5 ps0.018U0.069:0.010-0.990 LC0.002-0.998 iC1000=TR997:FA3:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA957 pd0.963U0.135
t5 ps0.963U0.133:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA926:FR74:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA951 pd0.960U0.141
t5 ps0.955U0.158:0.010-0.990 LC0.003-0.998 iC834=TR218:FA616:SR0 C166=TA156:FR10:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA798 pd0.872U0.255
t5 ps0.958U0.146:0.010-0.990 LC0.003-0.998 iC1000=TR481:FA519:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA533 pd0.709U0.366



t24 ps0.986U0.013:0.747-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA975:FR25:SA0 pApAd0.5:0.969 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA975 pd0.987U0.014




t24 ps0.016U0.015:0.010-0.206 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA982 pd0.987U0.011
t24 ps0.986U0.013:0.747-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA981:FR19:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA981 pd0.987U0.014
t24 ps0.984U0.017:0.746-0.990 LC0.002-0.999 iC1000=TR150:FA850:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA850 pd0.975U0.027
t24 ps0.985U0.017:0.704-0.990 LC0.002-0.999 iC1000=TR989:FA11:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.962 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA11 pd0.902U0.075


t18 ps0.015U0.014:0.010-0.310 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA965 pd0.986U0.020
t18 ps0.983U0.021:0.703-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA958:FR42:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA958 pd0.986U0.017
t18 ps0.983U0.023:0.697-0.990 LC0.002-0.999 iC1000=TR175:FA825:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA825 pd0.970U0.042
t18 ps0.983U0.021:0.760-0.990 LC0.002-0.999 iC1000=TR981:FA19:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA19 pd0.895U0.096
t18 ps0.983U0.024:0.563-0.990 LC0.003-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:3/6 mid1v-2 dA0 pd0.642U0.127

t18 ps0.015U0.014:0.010-0.310 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/6 mid1v-2 dA950 pd0.986U0.020
t18 ps0.983U0.021:0.703-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA947:FR53:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/6 mid1v-2 dA947 pd0.986U0.017
t18 ps0.983U0.023:0.697-0.990 LC0.002-0.999 iC1000=TR224:FA776:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/6 mid1v-2 dA776 pd0.970U0.042
t18 ps0.983U0.021:0.760-0.990 LC0.002-0.999 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/6 mid1v-2 dA5 pd0.895U0.096
t18 ps0.983U0.024:0.563-0.990 LC0.003-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/6 mid1v-2 dA0 pd0.642U0.127

#for check pGd for 1,5/6, 4/6
cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data lp
set style data l
plot [-0.5:10.5][-0.1:1.1] "test2_s+d1000_C2_v-2_No4.dat" using 1:($27) t "pGd" lt 2, "" using 1:27:28 w errorbars, "test2_s+d1000_C3_v-2_No4.dat" using ($1+0.1):($27) t "pGd" lt 2, "" using ($1+0.1):27:28 w errorbars, "test2_s+d1000_C4_v-2_No4.dat" using ($1+0.2):($27) t "pGd" lt 2, "" using ($1+0.2):27:28 w errorbars ,0.97

set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-0.5:10.5][-0.1:1.1] "test2_s+d1000_C2_v-2_No4.dat" using 1:($13*0.001) t "A" lt 1, "" using 1:($14*0.001) t "R" lt 1, "" using 1:($15*0.001) t "S" lt 1, "" using 1:($26*0.001) t "AD" w l lt 2, "test2_s+d1000_C2_v-2_bayes_No4.dat" using 1:($13*0.001) t "A" lt 2,"" using 1:($14*0.001) t "R" lt 2, "" using 1:($15*0.001) t "S" lt 2, "test2_s+d1000_C2_v-2_yth0_No4.dat" using 1:($13*0.001) t "A" lt 3,"" using 1:($14*0.001) t "R" lt 3, "" using 1:($15*0.001) t "S" lt 3, "" using 1:($26*0.001) t "AD" lt 3, 0,1

set term tgif;set output "ARS-t-2.obj";replot;set term X11
!cp ARS-t-2.obj ~/13iconip/speech/draft/




###########################
#for No2
cd ../12voicedata/allpole/
gnuplot
set xtics (0,5,10,15,20);set ytics (0,0.2,0.4,0.6,0.8,1.0);
#set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-0.5:20.5][-0.2:1.4] "test2_s+d1000_C1_v-2_yth0_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, "test2_s+d1000_C2_v-2_yth0_No2.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
set term tgif;set output "test2_s+d1000-gibbs_yth0_No2.obj";replot
!cp test2_s+d1000-gibbs_yth0_No2.obj ~/13iconip/speech/draft/
#Exp3:ytm:-1 yth=0
#pApAd0.5:0.966
t20 ps0.016U0.016:0.010-0.222 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.966 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA967 pd0.987U0.014
t20 ps0.983U0.023:0.589-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA972:FR28:SA0 pApAd0.5:0.966 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA972 pd0.987U0.011
t20 ps0.984U0.016:0.757-0.990 LC0.002-0.999 iC1000=TR281:FA719:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.966 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA719 pd0.964U0.044
t20 ps0.983U0.026:0.552-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.966 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.823U0.116
t20 ps0.982U0.033:0.398-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.966 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.399U0.107
t20 ps0.984U0.021:0.698-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.966 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0 pd0.078U0.032
#0.967
t20 ps0.016U0.016:0.010-0.222 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.967 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA966 pd0.987U0.014
t20 ps0.983U0.023:0.589-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA968:FR32:SA0 pApAd0.5:0.967 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA968 pd0.987U0.011
t20 ps0.984U0.016:0.757-0.990 LC0.002-0.999 iC1000=TR286:FA714:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.967 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA714 pd0.964U0.044
t20 ps0.983U0.026:0.552-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.967 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.823U0.116
t20 ps0.982U0.033:0.398-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.967 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.399U0.107
#0.965
t20 ps0.016U0.016:0.010-0.222 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA968 pd0.987U0.014
t20 ps0.983U0.023:0.589-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA973:FR27:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA973 pd0.987U0.011
t20 ps0.984U0.016:0.757-0.990 LC0.002-0.999 iC1000=TR273:FA727:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA727 pd0.964U0.044
t20 ps0.983U0.026:0.552-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.823U0.116
t20 ps0.982U0.033:0.398-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.965 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.399U0.107


t20 ps0.016U0.016:0.010-0.222 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.964 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA969 pd0.987U0.014
t20 ps0.983U0.023:0.589-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA974:FR26:SA0 pApAd0.5:0.964 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA974 pd0.987U0.011
t20 ps0.984U0.016:0.757-0.990 LC0.002-0.999 iC1000=TR267:FA733:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.964 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA733 pd0.964U0.044
t20 ps0.983U0.026:0.552-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.964 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.823U0.116
t20 ps0.982U0.033:0.398-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.964 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.399U0.107

t20 ps0.016U0.016:0.010-0.222 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA971 pd0.987U0.014
t20 ps0.983U0.023:0.589-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA978:FR22:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA978 pd0.987U0.011
t20 ps0.984U0.016:0.757-0.990 LC0.002-0.999 iC1000=TR262:FA738:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA738 pd0.964U0.044
t20 ps0.983U0.026:0.552-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.823U0.116
t20 ps0.982U0.033:0.398-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.963 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.399U0.107




t20 ps0.016U0.016:0.010-0.222 LC0.001-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA963 pd0.987U0.014
t20 ps0.983U0.023:0.589-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA959:FR41:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA959 pd0.987U0.011
t20 ps0.984U0.016:0.757-0.990 LC0.002-0.999 iC1000=TR319:FA681:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA681 pd0.964U0.044
t20 ps0.983U0.026:0.552-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0 pd0.823U0.116
t20 ps0.982U0.033:0.398-0.990 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0 pd0.399U0.107
t5 ps0.020U0.044:0.010-0.458 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA855 pd0.971U0.076
t5 ps0.965U0.081:0.072-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA878:FR122:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA880 pd0.974U0.072
t5 ps0.965U0.079:0.087-0.990 LC0.002-0.999 iC1000=TR590:FA410:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA411 pd0.918U0.135
t5 ps0.966U0.068:0.434-0.990 LC0.002-0.999 iC1000=TR995:FA5:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA5 pd0.745U0.202
t5 ps0.959U0.106:0.079-0.990 LC0.002-0.999 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pApAd0.5:0.97 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA1 pd0.368U0.172



2013/05/26 for iconip2013
#new pART:
#new uncertainty k=1.65 --> k=1(means standard deviation)
pApAdT=pApAdT:<pA>:<pAd>:<T># ex. pApAdT:.5:.97:20;
   for <pA>=accept_prob, for speaker (conventional pR=pA)
       <pAd>=accept_prob for digits,	
       <T>=decision_time.

make DEBUG=-g speakerdigit_v2
speakerdigit_v2 fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:0.99:10 LAR:0.5:0:0 test:5:1000:0:0:5

speakerdigit_v2 fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 ytm:1:0.9:1000 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 pApAdT:0.5:0.99:10 LAR:0.5:0:0 test:5:1000:0:0:5

2013/05/20 for iconip2013
#set environment variable by the script on 2013/02/27 
話者＋数字照合：ver=-2でしきい値の最適化
(1)0/5指定話者＋5/5指定数字列のテスト, 
(2)5/5指定話者＋5/5指定数字列のテスト,
(3)5/5指定話者＋4/5指定数字列のテスト, 
(4)5/5指定話者＋3/5指定数字列のテスト, 
(5)5/5指定話者＋2/5指定数字列のテスト, 
(6)5/5指定話者＋1/5指定数字列のテスト, 
(7)5/5指定話者＋0/5指定数字列のテスト, 
#Exp1:
No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
#No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=0;for C in 2; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pART=pART:0.5:0.5:10;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.7:0.15:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:0.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
if [ "$T" = "10" ]; then LAR=LAR:0.5:0:2; fi
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_C${C}_v-2_No${No}.dat"
echo $cmd; $cmd;
done
#
cd ../12voicedata/allpole/
gnuplot
set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-0.5:10.5][-0.2:1.4] "test_s+d1000_C1_v-2_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, \
"test_s+d1000_C2_v-2_No2.dat" using ($1):2 w l, "" using ($1):2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
set term tgif;set output "test_s+d1000-gibbs_No2.obj";replot
!cp test_s+d1000-gibbs_No2.obj ~/13iconip/speech/draft/
### for change of TP
#No=1;T=5;nA=1;for C in 1 2 3 4 5 6 7; do 
(1)t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT1:0/5 mid1v-2 dA967
(2)t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA951:FR10:SA39 pAR0.5:0.5 LAR0.5:0:1 iCT0:0/5 mid1v-2 dA961
(3)t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA866:FR4:SA130 pAR0.5:0.5 LAR0.5:0:1 iCT0:1/5 mid1v-2 dA870
(4)t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR4:FA23:SR973 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:2/5 mid1v-2 dA27
(5)t5 <p>0.960U0.146:0.040-0.990 LC0.003-0.998 iC1000=TR0:FA2:SR998 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:3/5 mid1v-2 dA2
(6)t5 <p>0.952U0.167:0.101-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:4/5 mid1v-2 dA0
(7)t5 <p>0.953U0.169:0.053-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:5/5 mid1v-2 dA0

(1)t10 <p>0.020U0.030:0.010-0.222 LC0.002-0.859 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT1:0/5 mid1v-2 dA907
(2)t10 <p>0.973U0.105:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA878:FR1:SA121 pAR0.5:0.5 LAR0.5:0:1 iCT0:0/5 mid1v-2 dA879
(3)t10 <p>0.977U0.065:0.369-0.990 LC0.003-0.998 iC1000=TR0:FA22:SR978 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:1/5 mid1v-2 dA22
(4)t10 <p>0.974U0.081:0.381-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:2/5 mid1v-2 dA0
(5)t10 <p>0.976U0.068:0.601-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:3/5 mid1v-2 dA0
(6)t10 <p>0.972U0.095:0.308-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:4/5 mid1v-2 dA0
(7)t10 <p>0.973U0.092:0.144-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:5/5 mid1v-2 dA0

#No=2;T=5;nA=0;pA=pR=LA=0.5,gibbs
(1)t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA838
(2)t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA831:FR8:SA161 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA839
(3)t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC1000=TR1:FA16:SR983 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA17
(4)t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR1:FA0:SR999 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA1
(5)t5 <p>0.960U0.146:0.040-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0
(6)t5 <p>0.952U0.167:0.101-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0
(7)t5 <p>0.953U0.169:0.053-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0
t10 <p>0.973U0.105:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA759:FR1:SA240 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA760

t1 <p>0.012U0.042:0.010-0.795 LC0.002-0.997 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA963
t1 <p>0.668U0.491:0.010-0.823 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA811:FR139:SA50 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA950
t1 <p>0.666U0.493:0.010-0.823 LC0.003-0.998 iC218=TR6:FA0:SR212 C782=TA629:FR119:SA34 pAR0.5:0.5 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA754
t1 <p>0.665U0.496:0.010-0.823 LC0.003-0.998 iC392=TR6:FA1:SR385 C608=TA489:FR98:SA21 pAR0.5:0.5 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA594
t1 <p>0.683U0.469:0.010-0.823 LC0.003-0.998 iC602=TR6:FA4:SR592 C398=TA329:FR54:SA15 pAR0.5:0.5 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA393
t1 <p>0.677U0.477:0.010-0.823 LC0.003-0.998 iC784=TR18:FA6:SR760 C216=TA177:FR29:SA10 pAR0.5:0.5 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA230
t1 <p>0.675U0.481:0.010-0.823 LC0.003-0.998 iC1000=TR18:FA5:SR977 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA23





##No1;T=5;nA=1;pA=pR=LA=0.5
#t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA951:FR10:SA39 pAR0.5:0.5 LAR0.5:0:1 iCT0:0/5 mid1v-2 dA961
#t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA866:FR4:SA130 pAR0.5:0.5 LAR0.5:0:1 iCT0:1/5 mid1v-2 dA870
#t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR4:FA23:SR973 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:2/5 mid1v-2 dA27
#t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT1:0/5 mid1v-2 dA967
#
##No=2;T=5;nA=0;pA=pR=LA=0.5
#t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA831:FR8:SA161 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA839 small dA NG?
#t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC1000=TR1:FA16:SR983 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA17
#t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR1:FA0:SR999 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA1
#t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA838
#
#
#t10 <p>0.973U0.105:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA759:FR1:SA240 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA760 smaller-dA NG
#
#
#t10 <p>0.973U0.105:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA965:FR3:SA32 pAR0.5:0.5 LAR0.5:0:2 iCT0:0/10 mid1v-2 dA968
#t10 <p>0.973U0.099:0.171-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA907:FR3:SA90 pAR0.5:0.5 LAR0.5:0:2 iCT0:1/10 mid1v-2 dA910
#t10 <p>0.978U0.055:0.593-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA803:FR0:SA197 pAR0.5:0.5 LAR0.5:0:2 iCT0:2/10 mid1v-2 dA803
#t10 <p>0.973U0.107:0.251-0.990 LC0.003-0.998 iC1000=TR0:FA44:SR956 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:2 iCT0:3/10 mid1v-2 dA44
#t10 <p>0.020U0.030:0.010-0.222 LC0.002-0.859 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:2 iCT1:0/10 mid1v-2 dA970
#
#
##Table 1
#(1)t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA937:FR2:SA61 pAR0.7:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2 dA957
#(2)t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA850:FR0:SA150 pAR0.7:0.15 LAR0.7:0:1 iCT0:1/5 mid1v-2 dA863
#(3)t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA14:SR986 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT0:2/5 mid1v-2 dA19
#(4)t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR995:FA0:SR5 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT1:0/5 mid1v-2 dA967
#
#t10 <p>0.973U0.105:0.172-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA866:FR0:SA134 pAR0.8:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2 dA872
#
##tmp/testd.dat for (2)
#n0t0 0.01000 0.99000 #t,pGC,pGiC
#xxxxOoxxxxLC0.82269 n0t1 0.04477 0.95523 #t,pGC,pGiC sdP3:4 sdT3:4 lT4 iCdT0(A1R0S0)
#xxxOxxooxxLC0.81778 n0t2 0.31442 0.68558 #t,pGC,pGiC sdP3:3 sdT3:3 lT4 iCdT0(A2R0S0)
#xxoxxxxxxOLC0.91731 n0t3 0.57014 0.42986 #t,pGC,pGiC sdP3:9 sdT3:9 lT4 iCdT0(A3R0S0)
#XxxxooxxxxLC0.00180 n0t4 0.20296 0.79704 #t,pGC,pGiC sdP3:0 sdT3:5 lT4 iCdT1(A3R0S1)  x
#xxOxxxxxxxLC0.99921 n0t5 0.58255 0.41745 #t,pGC,pGiC sdP3:2 sdT3:2 lT4 iCdT1(A4R0S1)
##tmp/testd.dat for (2)
#xxxOxxxxxxLC0.99921 n6t1 0.92709 0.07291 #t,pGC,pGiC sdP4:3 sdT4:3 lT2 iCdT0(A1R0S0)
#xoXxxxxxxxLC0.00772 n6t2 0.23922 0.76078 #t,pGC,pGiC sdP4:2 sdT4:2 lT2 iCdT0(A1R0S1) ?
#xxxxOxxxoxLC0.89809 n6t3 0.48853 0.51147 #t,pGC,pGiC sdP4:4 sdT4:4 lT2 iCdT0(A2R0S1)
#xxxxxXxoxxLC0.00753 n6t4 0.22190 0.77810 #t,pGC,pGiC sdP4:5 sdT4:7 lT2 iCdT1(A2R0S2) x
#xoXxxxxxxxLC0.00772 n6t5 0.12185 0.87815 #t,pGC,pGiC sdP4:2 sdT4:2 lT2 iCdT1(A2R0S3)
#
#
##!Error Rate: FP FN ER yth [%] involving void=m7.
6.000 2.000 5.429 -0.893 m0
6.000 4.000 5.714 -0.900 m1
6.000 5.000 5.857 -0.855 m2
5.333 4.000 5.143 -0.900 m3
6.000 3.000 5.571 -0.842 m4
6.000 4.000 5.714 -0.601 m5
6.000 4.000 5.714 -0.617 m6
#<FP>=0.0590476(+-0.0038492) <FN>=0.0371429+-0.0145304 TotalUncertainty+-0.0106289(k1.65) <ERR>=0.0559184 nS7 nD10
##!Error Rate: FP FN ER yth [%] involving void=m10.
1.905 2.857 2.000 -0.815 m0
1.905 4.286 2.143 -0.346 m1
1.905 4.286 2.143 -0.821 m2
1.905 4.286 2.143 -0.563 m3
1.905 5.714 2.286 0.027 m4
1.000 4.286 0.857 -0.900 m5
1.905 5.714 2.286 -0.682 m6
1.905 2.857 2.000 -0.650 m7
1.905 4.286 2.143 -0.569 m8
1.587 1.000 1.429 -0.900 m9
#<FP>=0.0173016(+-0.0046594) <FN>=0.0385714+-0.0221245 TotalUncertainty+-0.0159876(k1.65) <ERR>=0.0194286 nS7 nD10

#Exp2: gibbs=gibbs:0; ==bayes #bayesでは分散が大きく、バラつく
#No=1;T=5;nA=1;#for C in 1 2 3 4 5 6 7; do 
No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=1;for C in 1 2 3 4 5; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pART=pART:0.5:0.5:10;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:0.5:10;LAR=LAR:0.5:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.7:.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void gibbs:0 $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_C${C}_v-2-bayes_No${No}.dat"
echo $cmd; $cmd;
done
###
cd ../12voicedata/allpole/
gnuplot
set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);
plot [-0.5:10.5][-0.2:1.4] "test_s+d1000_C1_v-2-bayes_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, \
"test_s+d1000_C2_v-2-bayes_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
set term tgif;set output "test_s+d1000-bayes_No2.obj";replot
!cp test_s+d1000-bayes_No2.obj ~/13iconip/speech/draft/

#No=2;T=5;nA=0;pA=pR=LA=0.5,bayes
(1)t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA838
(2)t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA825:FR14:SA161 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA839
(3)t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC1000=TR1:FA16:SR983 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA17
(4)t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC1000=TR1:FA0:SR999 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA1
(5)t5 <p>0.965U0.209:0.010-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0
(6)t5 <p>0.956U0.245:0.010-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0
(7)t5 <p>0.961U0.228:0.010-0.990 LC0.003-0.998 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0


#nouse##0.5
#nouse#t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA938:FR23:SA39 pAR0.5:0.5 LAR0.5:0:1 iCT0:0/5 mid1v-2 dA961
#nouse#t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA856:FR14:SA130 pAR0.5:0.5 LAR0.5:0:1 iCT0:1/5 mid1v-2 dA870
#nouse#t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC1000=TR4:FA23:SR973 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:2/5 mid1v-2 dA27
#nouse#t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT1:0/5 mid1v-2 dA967
#nouse#
#nouse#(1)t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA932:FR9:SA59 pAR0.6:0.1 LAR0.7:0:1 iCT0:0/5 mid1v-2 dA957
#nouse#(2)t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA848:FR2:SA150 pAR0.6:0.1 LAR0.7:0:1 iCT0:1/5 mid1v-2 dA863
#nouse#(3)t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC999=TR0:FA16:SR983 C1=TA0:FR1:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT0:2/5 mid1v-2 dA19
#nouse#(4)t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT1:0/5 mid1v-2 dA967


#Exp3:ytm:-1 no-tuning of yth
#yth=0では、pAを小さくしても、TAが大きくできない。なぜか？FNが大きい？pGの分散も大きいはず？
#No=1;T=5;nA=1;#for C in 1 2 3 4 5 6 7; do 
No=2;T=5;nA=0;for C in 1 2 3 4 5 6 7; do 
#No=3;T=10;nA=1;for C in 1 2 3 4 5; do 
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pART=pART:0.5:0.5:10;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.5:10;LAR=LAR:0.5:0.0:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.15:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin ytm:-1 $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_C${C}_v-2-yth0_No${No}.dat"
echo $cmd; $cmd;
done
####
cd ../12voicedata/allpole/
gnuplot
set xtics (0,1,2,3,4,5,6,7,8,9,10);set ytics (0,0.2,0.4,0.6,0.8,1.0);

plot [-0.5:10.5][-0.2:1.4] "test_s+d1000_C1_v-2-yth0_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 4 lt 1, \
"test_s+d1000_C2_v-2-yth0_No2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 6 lt 1, 0, 0.5, 1
set term tgif;set output "test_s+d1000-yth0_No2.obj";replot
!cp test_s+d1000-yth0_No2.obj ~/13iconip/speech/draft/

#Exp3.No=2;T=5;nA=0;pA=pR=LA=0.5, bayes, yth=0
(1)t5 <p>0.018U0.075:0.010-0.888 LC0.002-0.999 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT1:0/5 mid1v-2 dA778
(2)t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA773:FR3:SA224 pAR0.5:0.5 LAR0.5:0:0 iCT0:0/5 mid1v-2 dA776
(3)t5 <p>0.964U0.144:0.089-0.990 LC0.002-0.999 iC1000=TR1:FA13:SR986 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:1/5 mid1v-2 dA14
(4)t5 <p>0.961U0.150:0.089-0.990 LC0.002-0.999 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:2/5 mid1v-2 dA0
(5)t5 <p>0.965U0.148:0.025-0.990 LC0.002-0.999 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:3/5 mid1v-2 dA0
(6)t5 <p>0.959U0.154:0.072-0.990 LC0.002-0.999 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:4/5 mid1v-2 dA0
(7)t5 <p>0.959U0.160:0.065-0.990 LC0.002-0.999 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:0 iCT0:5/5 mid1v-2 dA0


#0.5
t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA928:FR4:SA68 pAR0.5:0.5 LAR0.5:0:1 iCT0:0/5 mid1v-2 dA932
t5 <p>0.964U0.144:0.089-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA814:FR3:SA183 pAR0.5:0.5 LAR0.5:0:1 iCT0:1/5 mid1v-2 dA817
t5 <p>0.961U0.150:0.089-0.990 LC0.002-0.999 iC1000=TR2:FA24:SR974 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT0:2/5 mid1v-2 dA26
t5 <p>0.018U0.075:0.010-0.888 LC0.002-0.999 iC1000=TR999:FA1:SR0 C0=TA0:FR0:SA0 pAR0.5:0.5 LAR0.5:0:1 iCT1:0/5 mid1v-2 dA943


t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA914:FR0:SA86 pAR0.6:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2 dA918
t5 <p>0.964U0.144:0.089-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA765:FR1:SA234 pAR0.6:0.15 LAR0.7:0:1 iCT0:1/5 mid1v-2 dA768
t5 <p>0.961U0.150:0.089-0.990 LC0.002-0.999 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.6:0.15 LAR0.7:0:1 iCT0:2/5 mid1v-2 dA9
t5 <p>0.018U0.075:0.010-0.888 LC0.002-0.999 iC1000=TR995:FA0:SR5 C0=TA0:FR0:SA0 pAR0.6:0.15 LAR0.7:0:1 iCT1:0/5 mid1v-2 dA933

##!Error Rate: FP FN ER yth [%] involving void=m7.
2.000 3.000 2.143 0.000 m0
1.000 8.000 2.000 0.000 m1
2.833 7.000 3.429 0.000 m2
2.333 9.000 3.286 0.000 m3
2.667 5.000 3.000 0.000 m4
2.333 7.000 3.000 0.000 m5
3.333 8.000 4.000 0.000 m6
#<FP>=0.0235714(+-0.011236) <FN>=0.0671429+-0.0314482 TotalUncertainty+-0.0236139(k1.65) <ERR>=0.0297959 nS7 nD10
##!Error Rate: FP FN ER yth [%] involving void=m10.
1.000 7.143 1.571 0.000 m0
1.000 5.714 1.143 0.000 m1
1.270 11.429 2.286 0.000 m2
1.111 5.714 1.571 0.000 m3
2.063 5.714 2.429 0.000 m4
1.000 10.000 1.000 0.000 m5
1.000 7.143 1.571 0.000 m6
1.000 10.000 1.429 0.000 m7
1.746 7.143 2.286 0.000 m8
1.000 1.429 0.429 0.000 m9
#<FP>=0.00952381(+-0.00738646) <FN>=0.0714286+-0.0447236 TotalUncertainty+-0.0320528(k1.65) <ERR>=0.0157143 nS7 nD10


Exp4: check bayes and gibbs
No=4;T=5;nA=5;C=2;for g in 0 1 2; do 
if [ "$g" = "0" ]; then gibbs=gibbs:0; _ytm=ytm:1:0.9:1000; fi
if [ "$g" = "1" ]; then gibbs=gibbs:1; _ytm=ytm:1:0.9:1000; fi
if [ "$g" = "2" ]; then gibbs=gibbs:1; _ytm=ytm:-1; fi
if [ "$C" = "1" ]; then iCs=1; iCd=0; fi
if [ "$C" = "2" ]; then iCs=0; iCd=0; fi
if [ "$C" = "3" ]; then iCs=0; iCd=1; fi
if [ "$C" = "4" ]; then iCs=0; iCd=2; fi
if [ "$C" = "5" ]; then iCs=0; iCd=3; fi
if [ "$C" = "6" ]; then iCs=0; iCd=4; fi
if [ "$C" = "7" ]; then iCs=0; iCd=5; fi
test=test:5:1000:${iCs}:${iCd}:${T};pART=pART:0.5:0.5:10;LAR=LAR:0.5:0:${nA};ver=ver:-2; #best for ver:-2 
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.7:0.15:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:0.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#if [ "$T" = "10" ]; then LAR=LAR:0.5:0:2; fi
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin ${_ytm} $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
#cmd="speakerdigit_v $fs $fd $nSDL $pmin ytm:-1 $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_C${C}_v-2_gibbs${g}_No${No}.dat"
echo $cmd; $cmd;
done


plot [-0.5:10.5]"test_s+d1000_C2_v-2_No2.dat" using 1:($13*0.1) t "A" pt 6 lt 1, "" using 1:($14*0.1) t "R" pt 6 lt 1, "" using 1:($15*0.1) t "S" pt 6 lt 1, "" using 1:($26*0.1) t "AD" w l lt 2, "test_s+d1000_C2_v-2-bayes_No2.dat" using 1:($13*0.1) t "A" pt 8 lt 1,"" using 1:($14*0.1) t "R" pt 8 lt 1, "" using 1:($15*0.1) t "S" pt 8 lt 1, "test_s+d1000_C2_v-2-yth0_No2.dat" using 1:($13*0.1) t "A" pt 10 lt 1,"" using 1:($14*0.1) t "R" pt 10 lt 1, "" using 1:($15*0.1) t "S" pt 10 lt 1, "" using 1:($26*0.1) t "AD" w l lt 2
set term tgif;set output "ARS-t-1.obj";replot;set term X11
!cp ARS-t-1.obj ~/13iconip/speech/draft/

cd ~/sotu/2012/12voicedata/allpole/
gnuplot
set style data lp
plot [-0.5:10.5] "test_s+d1000_C2_v-2_gibbs1_No4.dat" using 1:($13*0.1) t "A" pt 7 lt 1, "" using 1:($14*0.1) t "R" pt 7 lt 1, "" using 1:($15*0.1) t "S" pt 7 lt 1, "test_s+d1000_C2_v-2_gibbs0_No4.dat" using 1:($13*0.1) t "A" pt 8 lt 1,"" using 1:($14*0.1) t "R" pt 8 lt 1, "" using 1:($15*0.1) t "S" pt 8 lt 1, "test_s+d1000_C2_v-2_gibbs2_No4.dat" using 1:($13*0.1) t "A" pt 10 lt 1,"" using 1:($14*0.1) t "R" pt 10 lt 1, "" using 1:($15*0.1) t "S" pt 10 lt 1
set term tgif;set output "ARS-t-0.obj";replot;set term X11
!cp ARS-t-0.obj ~/13iconip/speech/draft/








#############
2013/05/17 for iconip2013
oob4speakerdigit+

#set environment variable by the script on 2013/02/27 
話者＋数字照合：ver=-2でしきい値の最適化
#Exp1:
(1)指定話者＋指定数字列のテスト,
(2)指定話者＋1/5非指定数字列のテスト,
(3)非指定話者＋指定数字列のテスト,
(4)非指定話者＋1/5非指定数字列のテスト,
(5)指定話者＋2/5非指定数字列のテスト,

for iCs in 0 1; do for iCd in 0 1; do  #for (1),(2),(3),(4)
#for iCs in 0; do for iCd in 2; do  # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.7:0.15:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:0.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2.dat"
echo $cmd; $cmd;
done;done
#
cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 6 lt 1, \
"test_s+d1000_1_0_5_v-2.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "" pt 4 lt 1, 0.7, 0.15,1
set term tgif;set output "test_s+d1000-gibbs.obj";replot

(1)t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA937:FR2:SA61 pAR0.7:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA850:FR0:SA150 pAR0.7:0.15 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR995:FA0:SR5 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR994:FA0:SR6 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA14:SR986 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT0:2/5 mid1v-2

(1)t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA937:FR1:SA62 pAR0.7:0.1 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA850:FR0:SA150 pAR0.7:0.1 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR978:FA0:SR22 C0=TA0:FR0:SA0 pAR0.7:0.1 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR979:FA0:SR21 C0=TA0:FR0:SA0 pAR0.7:0.1 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA14:SR986 C0=TA0:FR0:SA0 pAR0.7:0.1 LAR0.7:0:1 iCT0:2/5 mid1v-2

########tmp/testsd.dat
##!Error Rate: FP FN ER yth [%] involving void=m7.
6.000 2.000 5.429 -0.893 m0
6.000 4.000 5.714 -0.900 m1
6.000 5.000 5.857 -0.855 m2
5.333 4.000 5.143 -0.900 m3
6.000 3.000 5.571 -0.842 m4
6.000 4.000 5.714 -0.601 m5
6.000 4.000 5.714 -0.617 m6
#<FP>=0.0590476(+-0.0038492) <FN>=0.0371429+-0.0145304 TotalUncertainty+-0.0106289(k1.65) <ERR>=0.0559184 nS7 nD10
########tmp/testd.dat
##!Error Rate: FP FN ER yth [%] involving void=m10.
1.905 2.857 2.000 -0.815 m0
1.905 4.286 2.143 -0.346 m1
1.905 4.286 2.143 -0.821 m2
1.905 4.286 2.143 -0.563 m3
1.905 5.714 2.286 0.027 m4
1.000 4.286 0.857 -0.900 m5
1.905 5.714 2.286 -0.682 m6
1.905 2.857 2.000 -0.650 m7
1.905 4.286 2.143 -0.569 m8
1.587 1.000 1.429 -0.900 m9
#<FP>=0.0173016(+-0.0046594) <FN>=0.0385714+-0.0221245 TotalUncertainty+-0.0159876(k1.65) <ERR>=0.0194286 nS7 nD10

#Exp2: gibbs=gibbs:0; ==bayes #bayesでは分散が大きく、バラつく
for iCs in 0 1; do for iCd in 0 1; do  #for (1),(2),(3),(4)
#for iCs in 0; do for iCd in 2; do  # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.7:.1:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void gibbs:0 $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2-bayes.dat"
echo $cmd; $cmd;
done;done

cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2-bayes.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 6 lt 1, \
"test_s+d1000_1_0_5_v-2-bayes.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "" pt 4 lt 1, 0.6, 0.1,1
set term tgif;set output "test_s+d1000-bayes.obj";replot

(1)t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA932:FR9:SA59 pAR0.6:0.1 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA848:FR2:SA150 pAR0.6:0.1 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.012U0.024:0.010-0.294 LC0.002-0.858 iC1000=TR997:FA0:SR3 C0=TA0:FR0:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC999=TR0:FA16:SR983 C1=TA0:FR1:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT0:2/5 mid1v-2

(1)t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA925:FR9:SA66 pAR0.7:0.1 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA842:FR2:SA156 pAR0.7:0.1 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR998:FA1:SR1 C0=TA0:FR0:SA0 pAR0.7:0.1 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.012U0.024:0.010-0.294 LC0.002-0.858 iC1000=TR997:FA0:SR3 C0=TA0:FR0:SA0 pAR0.7:0.1 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC999=TR0:FA15:SR984 C1=TA0:FR1:SA0 pAR0.7:0.1 LAR0.7:0:1 iCT0:2/5 mid1v-2


(1)t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA932:FR9:SA59 pAR0.6:0.1 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA848:FR2:SA150 pAR0.6:0.1 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR998:FA2:SR0 C0=TA0:FR0:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.012U0.024:0.010-0.294 LC0.002-0.858 iC1000=TR997:FA0:SR3 C0=TA0:FR0:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC999=TR0:FA16:SR983 C1=TA0:FR1:SA0 pAR0.6:0.1 LAR0.7:0:1 iCT0:2/5 mid1v-2


#Exp3:ytm:-1 no-tuning of yth
#yth=0では、pAを小さくしても、TAが大きくできない。なぜか？FNが大きい？pGの分散も大きいはず？
for iCs in 0 1; do for iCd in 0 1; do  #for (1),(2),(3),(4)
#for iCs in 0; do for iCd in 2; do  # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.15:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin ytm:-1 $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2-yth-no-tune.dat"
echo $cmd; $cmd;
done;done
cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2-yth-no-tune.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "" pt 6 lt 1, \
"test_s+d1000_1_0_5_v-2-yth-notune.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "" pt 6 lt 1, 0.7, 0.15
set term tgif;set output "test_s+d1000-yth-no-tune.obj";replot

(1)t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA917:FR0:SA83 pAR0.3:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2
(1)t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA917:FR0:SA83 pAR0.4:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2
(1)t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA914:FR0:SA86 pAR0.6:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.964U0.144:0.089-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA765:FR1:SA234 pAR0.6:0.15 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.018U0.075:0.010-0.888 LC0.002-0.999 iC1000=TR995:FA0:SR5 C0=TA0:FR0:SA0 pAR0.6:0.15 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.018U0.053:0.010-0.473 LC0.001-0.999 iC1000=TR998:FA0:SR2 C0=TA0:FR0:SA0 pAR0.6:0.15 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.961U0.150:0.089-0.990 LC0.002-0.999 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.6:0.15 LAR0.7:0:1 iCT0:2/5 mid1v-2
   t5 <p>0.961U0.150:0.089-0.990 LC0.002-0.999 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT0:2/5 mid1v-2

(1)t5 <p>0.962U0.158:0.185-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA913:FR0:SA87 pAR0.7:0.15 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2)t5 <p>0.964U0.144:0.089-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA762:FR1:SA237 pAR0.7:0.15 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3)t5 <p>0.018U0.075:0.010-0.888 LC0.002-0.999 iC1000=TR995:FA0:SR5 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4)t5 <p>0.018U0.053:0.010-0.473 LC0.001-0.999 iC1000=TR998:FA0:SR2 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5)t5 <p>0.961U0.150:0.089-0.990 LC0.002-0.999 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.7:0.15 LAR0.7:0:1 iCT0:2/5 mid1v-2

##!Error Rate: FP FN ER yth [%] involving void=m7.
2.000 3.000 2.143 0.000 m0
1.000 8.000 2.000 0.000 m1
2.833 7.000 3.429 0.000 m2
2.333 9.000 3.286 0.000 m3
2.667 5.000 3.000 0.000 m4
2.333 7.000 3.000 0.000 m5
3.333 8.000 4.000 0.000 m6
#<FP>=0.0235714(+-0.011236) <FN>=0.0671429+-0.0314482 TotalUncertainty+-0.0236139(k1.65) <ERR>=0.0297959 nS7 nD10
##!Error Rate: FP FN ER yth [%] involving void=m10.
1.000 7.143 1.571 0.000 m0
1.000 5.714 1.143 0.000 m1
1.270 11.429 2.286 0.000 m2
1.111 5.714 1.571 0.000 m3
2.063 5.714 2.429 0.000 m4
1.000 10.000 1.000 0.000 m5
1.000 7.143 1.571 0.000 m6
1.000 10.000 1.429 0.000 m7
1.746 7.143 2.286 0.000 m8
1.000 1.429 0.429 0.000 m9
#<FP>=0.00952381(+-0.00738646) <FN>=0.0714286+-0.0447236 TotalUncertainty+-0.0320528(k1.65) <ERR>=0.0157143 nS7 nD10





############




##old
for iCs in 0 1; do for iCd in 0 1; do  #for (1),(2),(3),(4)
#for iCs in 0; do for iCd in 2; do  # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.3:0.001:1;ver=ver:-1;#best for ver:-1
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2.dat"
echo $cmd; $cmd;
done;done
###best pART=pART:0.5:.008:10;LAR=LAR:0.7:0.001:1;ver=ver:-2;
(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA947:FR0:SA53 pAR0.5:0.008 LAR0.7:0:1 iCT0:0/5 mid1v-2
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA859:FR0:SA141 pAR0.5:0.008 LAR0.7:0:1 iCT0:1/5 mid1v-2
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR33:FA0:SR967 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT1:0/5 mid1v-2
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR128:FA0:SR872 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT1:1/5 mid1v-2
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA16:SR984 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT0:2/5 mid1v-2
cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d1000_1_0_5_v-2.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.5, 0.008
set term tgif;set output "test_s+d1000-gibbs.obj";replot

#Exp2: gibbs=gibbs:0;
for iCs in 0 1; do for iCd in 0 1; do  #for (1),(2),(3),(4)
#for iCs in 0; do for iCd in 2; do  # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.3:0.001:1;ver=ver:-1;#best for ver:-1
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void gibbs:0 $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2-bayes.dat"
echo $cmd; $cmd;
done;done
t5 <p>0.966U0.209:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA934:FR0:SA66 pAR0.5:0.008 LAR0.7:0:1 iCT0:0/5 mid1v-2
t5 <p>0.963U0.212:0.010-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA850:FR0:SA150 pAR0.5:0.008 LAR0.7:0:1 iCT0:1/5 mid1v-2
t5 <p>0.013U0.065:0.010-0.806 LC0.002-0.998 iC1000=TR33:FA2:SR965 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT1:0/5 mid1v-2
t5 <p>0.012U0.024:0.010-0.294 LC0.002-0.858 iC1000=TR128:FA0:SR872 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT1:1/5 mid1v-2
t5 <p>0.960U0.234:0.010-0.990 LC0.003-0.998 iC1000=TR0:FA16:SR984 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT0:2/5 mid1v-2

cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2-bayes.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d1000_1_0_5_v-2-bayes.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.5, 0.008
set term tgif;set output "test_s+d1000-bayes.obj";replot

#Exp3:ytm:-1 no-tuning of yth
for iCs in 0 1; do for iCd in 0 1; do  #for (1),(2),(3),(4)
#for iCs in 0; do for iCd in 2; do  # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.000:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.3:0.001:1;ver=ver:-1;#best for ver:-1
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin ytm=ytm:-1 $PNr $void gibbs:0 $beta $sdP $lT $sdT $ver $pART $LAR $test";
echo $cmd; $cmd;
echo "#Done for $test;$pART;$LAR"
cmd="cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2-yth-no-tune.dat"
echo $cmd; $cmd;
done;done
t5 <p>0.960U0.227:0.010-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA865:FR0:SA135 pAR0.5:0.008 LAR0.7:0:1 iCT0:0/5 mid1v-2
t5 <p>0.960U0.215:0.010-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA692:FR0:SA308 pAR0.5:0.008 LAR0.7:0:1 iCT0:1/5 mid1v-2
t5 <p>0.016U0.112:0.010-0.990 LC0.001-0.998 iC1000=TR102:FA3:SR895 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT1:0/5 mid1v-2
t5 <p>0.017U0.120:0.010-0.990 LC0.001-0.999 iC1000=TR320:FA3:SR677 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0:1 iCT1:1/5 mid1v-2

cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2-yth-no-tune.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d1000_1_0_5_v-2-yth-notune.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.5, 0.008
set term tgif;set output "test_s+d1000-yth-no-tune.obj";replot
############

2013/02/27
###0. set the following default environment variables 
#########################################################
pART=pART:.85:.20:10;#pART:<pA>:<pR>:<T> for <pA>=accept_prob, <pR>=reject_prob, <T>=terminal_time.
LAR=LAR:0.9:0.001:1;   #LAR:<LA>:<LR>:<LAn>  for <LA>=accept_Likelihood, <LR>=reject_Likelihood,
                       #              allow <LAn>-mismatching of digits　（<LAn>
                       #if(pG->C[t]>=th->pA) fprintf(fpp, "<Accept!");
                       #if(pG->C[t]<=th->pR) fprintf(fpp, "<Reject!");
                       #th->T   terminal_time.
                       #th->LA,  digit accept
                       #th->LR,  digit reject
                       #th->LAn
test=test:5:1000:0:4:5;#test:5:<n>:<riCs>:<t_iCd>:<tD>; for <n>:number_of_samples, 
                      #<riCs>:incorrect_speakers_rate (0 or 1)
                      # <t_iCd>:<tD> for number <t_iCd> of incorrrect digits in <tD> digits
#test=test:4:1000:0:0;#test:4:<n>:<riCs>:<riCd>, for <n>=num_of_samples, <riCs>=inCorrect_speakers_rate, <riCd>=inCorrect_digits_rate.
#test=test:0;         #test:0 for testing given sdP and sdT, 
sdP=sdP:0:0:1:2:3:4:5:6:7:8:9; #sdP:<speaker>:<digit1>:<digit2>:... for prompted speaker and digits when test_id=0
sdT=sdT:0:0:1:2:3:4:5:6:7:8:9; #sdT:<speaker>:<digit1>:<digit2>:... for testing  speaker and digits
lT=lT:1;                       #lT:<l>    for testing data of <l>-th date
ver=ver:-2;                    #method of calculating probability 
fsd=fsd:../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.y;fd="" #file name of y of speakerdigit
fs=fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y; #file name of y of speaker
fd=fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y; #file name of y of digit
nSDL=nSDL:7:10:10              #nSDL:<nS>:<nD>:<nL> for number of speakers, digits and dates
gibbs=gibbs:1;                 #1 for Gibbs, 0 for Bayes
beta=beta:1;                   #inverse temperature beta
pmin=pmin:0.01;                 #threshold of probability p for pmin<p<1-pmin
ytm=ytm:1:0.9:1000;PNr="";     #ytm:1:<a>:<n> for method to get <n> samples for -a < yth < +a 
#ytm=ytm:0;PNr=PNr:0.9;        #ytm:0 for method to determine yth using PNr:0.9 (see ICONIP2012)
#ytm=ytm:-1;                   #ytm:-1 for yth=0
void=void:0;                   #void:1 for use void (see ICONIP2012) not available now
########################################
4. 話者数字照合：ver=-2でしきい値の最適化
4.1 実験
for iCs in 0 1; do for iCd in 0 1; do # for (1)-(4)
#for iCs in 0; do for iCd in 2; do    # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.3:0.005:1;ver=ver:-2;#best for ver:-2
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_1000_${iCs}_${iCd}_5_v-2.dat
done;done
#best
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.3:0.005:1;ver=ver:-2;#best for ver:-2
(1)t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA942:FR0:SA58 pAR0.6:0.09 LAR0.3:0.005:1 iCT0:0/5 mid3v-2
(2)t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA839:FR0:SA161 pAR0.6:0.09 LAR0.3:0.005:1 iCT0:1/5 mid3v-2
(3)t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:1 iCT1:0/5 mid3v-2
(4)t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:1 iCT1:1/5 mid3v-2
(5)t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA39:SR958 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:1 iCT0:2/5 mid3v-2

#n_A=0 許容誤り数を０にすると受理率が82.0%まで下がる
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.3:0.005:0;ver=ver:-2;#best for ver:-2
(1)t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA820:FR0:SA180 pAR0.6:0.09 LAR0.3:0.005:0 iCT0:0/5 mid3v-2
(2)t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC1000=TR32:FA25:SR943 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:0 iCT0:1/5 mid3v-2
(3)t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:0 iCT1:0/5 mid3v-2
(4)t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:0 iCT1:1/5 mid3v-2
(5)t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR72:FA1:SR927 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:0 iCT0:2/5 mid3v-2
#n_A=0 許容誤り数を０にすると
#(1)で受理率がFA82まで下がる
#(2)でFA25と大きくなる

#nA=5：許容誤り数を用いないで、多段話者数字認識のみ?1/5でもアクセプト？TAではなく、FA
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.3:0.005:5;ver=ver:-2;#best for ver:-2
(1)t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA993:FR0:SA7 pAR0.6:0.09 LAR0.3:0.005:5 iCT0:0/5 mid3v-2
(2)t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA983:FR0:SA17 pAR0.6:0.09 LAR0.3:0.005:5 iCT0:1/5 mid3v-2
(3)t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR963:FA0:SR37 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:5 iCT1:0/5 mid3v-2
(4)t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR967:FA0:SR33 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:5 iCT1:1/5 mid3v-2
(5)t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC0=TR0:FA0:SR0 C1000=TA882:FR1:SA117 pAR0.6:0.09 LAR0.3:0.005:5 iCT0:2/5 mid3v-2

2013/02/23
1.しきい値pART と　LARの最適化を試みた。
(1)指定話者＋指定数字列のテスト,
(2)指定話者＋1/5非指定数字列のテスト,
(3)非指定話者＋指定数字列のテスト,
(4)非指定話者＋1/5指定数字列のテスト,
(5)指定話者＋2/5非指定数字列のテスト,
に対し、(1)-(4)ではFA,FRが0, (5)でFA50(5%)以下となるもののうち、(1)のTAが大きいもの。
以下の2-5の結果を得た。まとめると以下のようになるが、もっといいものはない？
　話者＋数字照合：ver=-2→(1)C1000=TA944:FR0:SA56
  話者＋数字照合：ver=-1→(1)C1000=TA954:FR0:SA46
  話者数字照合：ver=-2  →(1)C1000=TA942:FR0:SA58
  話者数字照合：ver=-1  →(1)C1000=TA909:FR0:SA91

2. 話者＋数字照合：ver=-2でしきい値の最適化
2.1 実験
for iCs in 0 1; do for iCd in 0 1; do
#for iCs in 0; do for iCd in 2; do
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.001:1;ver=ver:-2; #best for ver:-2
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.3:0.001:1;ver=ver:-1;#best for ver:-1
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-2.dat
done;done
(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA944:FR0:SA56 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1v-2
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA850:FR0:SA150 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1v-2
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR35:FA0:SR965 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1v-2
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR137:FA0:SR863 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1v-2
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA12:SR988 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1v-2

(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA945:FR0:SA55 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1v-2
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA850:FR0:SA150 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1v-2
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR35:FA0:SR965 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1v-2
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR137:FA0:SR863 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1v-2
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA13:SR987 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1v-2

(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA946:FR0:SA54 pAR0.4:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1v-2
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA851:FR0:SA149 pAR0.4:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1v-2
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR35:FA0:SR965 C0=TA0:FR0:SA0 pAR0.4:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1v-2
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR137:FA1:SR862 C0=TA0:FR0:SA0 pAR0.4:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1v-2 NG FA1
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA13:SR987 C0=TA0:FR0:SA0 pAR0.4:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1v-2

###best pART=pART:0.5:.008:10;LAR=LAR:0.7:0.001:1;ver=ver:-2;
(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA947:FR0:SA53 pAR0.5:0.008 LAR0.7:0.001:1 iCT0:0/5 mid1v-2
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA859:FR0:SA141 pAR0.5:0.008 LAR0.7:0.001:1 iCT0:1/5 mid1v-2
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR33:FA0:SR967 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0.001:1 iCT1:0/5 mid1v-2
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR128:FA0:SR872 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0.001:1 iCT1:1/5 mid1v-2
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA16:SR984 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0.001:1 iCT0:2/5 mid1v-2

(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA951:FR0:SA49 pAR0.5:0.008 LAR0.6:0.001:1 iCT0:0/5 mid1v-2
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA865:FR0:SA135 pAR0.5:0.008 LAR0.6:0.001:1 iCT0:1/5 mid1v-2
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR33:FA0:SR967 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.6:0.001:1 iCT1:0/5 mid1v-2
(4) t5 <p>0.920U0.205:0.062-0.990 LC0.001-1.000 iC1000=TR0:FA9:SR991 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.6:0.001:1 iCT1:1/5 mid2v-2 NG FA9 for LAR0.6
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA20:SR980 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.6:0.001:1 iCT0:2/5 mid1v-2


2.2 検討 以下
(a) pAT≧0.5 (pART:.5:.008:10)上で誤受理は０（FA0）だが、pAT=0.4の偽話者1/5比指定数字(iCT1:1/5 mid1v-2)
    でFA1がでた。pAT≧0.5 とすべき！？

2.3 視覚化
cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-2.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d1000_1_0_5_v-2.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.2,0.008

3. 話者＋数字照合：ver=-1でしきい値の最適化
3.1 実験
for iCs in 0 1; do for iCd in 0 1; do
#for iCs in 0; do for iCd in 2; do
#test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.7:0.001:1;ver=ver:-2; #best for ver:-2
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.5:.008:10;LAR=LAR:0.3:0.001:1;ver=ver:-1;#best for ver:-1
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-1.dat
done;done
(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA926:FR0:SA74 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA806:FR0:SA194 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR47:FA0:SR953 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR170:FA0:SR830 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA933:FR0:SA67 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA817:FR0:SA183 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR47:FA0:SR953 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR170:FA0:SR830 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA934:FR0:SA66 pAR0.4:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA818:FR0:SA182 pAR0.4:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR47:FA1:SR952 C0=TA0:FR0:SA0 pAR0.4:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR170:FA1:SR829 C0=TA0:FR0:SA0 pAR0.4:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1v-1 NG FA1 for pA0.4
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA8:SR992 C0=TA0:FR0:SA0 pAR0.4:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA946:FR0:SA54 pAR0.5:0.008 LAR0.7:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA859:FR0:SA141 pAR0.5:0.008 LAR0.7:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR33:FA0:SR967 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR128:FA0:SR872 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA15:SR985 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.7:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA950:FR0:SA50 pAR0.5:0.008 LAR0.6:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA865:FR0:SA135 pAR0.5:0.008 LAR0.6:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR33:FA0:SR967 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.6:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR122:FA0:SR878 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.6:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA19:SR981 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.6:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA950:FR0:SA50 pAR0.5:0.008 LAR0.5:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA866:FR0:SA134 pAR0.5:0.008 LAR0.5:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR33:FA0:SR967 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.5:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR121:FA0:SR879 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.5:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA22:SR978 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.5:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA954:FR0:SA46 pAR0.5:0.008 LAR0.4:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA876:FR0:SA124 pAR0.5:0.008 LAR0.4:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR30:FA0:SR970 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.4:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR114:FA0:SR886 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.4:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA23:SR977 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.4:0.001:1 iCT0:2/5 mid1v-1
#best pART=pART:0.5:.008:10;LAR=LAR:0.3:0.001:1;ver=ver:-1;
(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA954:FR0:SA46 pAR0.5:0.008 LAR0.3:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA876:FR0:SA124 pAR0.5:0.008 LAR0.3:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR30:FA0:SR970 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.3:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR114:FA0:SR886 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.3:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA23:SR977 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.3:0.001:1 iCT0:2/5 mid1v-1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA973:FR0:SA27 pAR0.5:0.008 LAR0.2:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA969:FR0:SA31 pAR0.5:0.008 LAR0.2:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR13:FA0:SR987 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.2:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR28:FA0:SR972 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.2:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA860:SR140 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.2:0.001:1 iCT0:2/5 mid1v-1 BIG FA860

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA985:FR0:SA15 pAR0.5:0.008 LAR0.1:0.001:1 iCT0:0/5 mid1v-1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA990:FR0:SA10 pAR0.5:0.008 LAR0.1:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.1:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.1:0.001:1 iCT1:1/5 mid1v-1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA971:SR29 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.1:0.001:1 iCT0:2/5 mid1v-1 Big FA971

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA985:FR0:SA15 pAR0.5:0.008 LAR0.01:0.001:1 iCT0:0/5 mid1v-1 same for LA0.1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA990:FR0:SA10 pAR0.5:0.008 LAR0.01:0.001:1 iCT0:1/5 mid1v-1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.01:0.001:1 iCT1:0/5 mid1v-1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR0:FA0:SR1000 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.01:0.001:1 iCT1:1/5 mid1v-1
(5) 

3.2 検討 以下
(a) ver:-2と同様に、pAT≧0.5 (pART:.5:.008:10)上で誤受理は０（FA0）だが、pAT=0.4の偽話者1/5比指定数字(iCT1:1/5 mid1v-2)
    でFA1がでた。pAT≧0.5 とすべき！？
3.3 視覚化
cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-1.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d1000_1_0_5_v-1.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.2,0.008

4. 話者数字照合：ver=-2でしきい値の最適化
4.1 実験
for iCs in 0 1; do for iCd in 0 1; do # for (1)-(4)
#for iCs in 0; do for iCd in 2; do    # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.3:0.005:1;ver=ver:-2;#best for ver:-2
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_1000_${iCs}_${iCd}_5_v-2.dat
done;done
#ver:-2のとき
(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA925:FR0:SA75 pAR0.6:0.09 LAR0.7:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA788:FR0:SA212 pAR0.6:0.09 LAR0.7:0.005:1 iCT0:1/5 mid3v-2 SA212 by LA
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.7:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.7:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA17:SR980 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.7:0.005:1 iCT0:2/5 mid3v-2

(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA925:FR0:SA75 pAR0.6:0.09 LAR0.6:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA788:FR0:SA212 pAR0.6:0.09 LAR0.6:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.6:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.6:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA17:SR980 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.6:0.005:1 iCT0:2/5 mid3v-2

(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA942:FR0:SA58 pAR0.6:0.09 LAR0.5:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA839:FR0:SA161 pAR0.6:0.09 LAR0.5:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.5:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.5:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA39:SR958 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.5:0.005:1 iCT0:2/5 mid3v-2

(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA942:FR0:SA58 pAR0.6:0.09 LAR0.4:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA839:FR0:SA161 pAR0.6:0.09 LAR0.4:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.4:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.4:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA39:SR958 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.4:0.005:1 iCT0:2/5 mid3v-2

#selected? FA39=3.9%≦5% for 2/5比指定数字列 ver:-2
(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA942:FR0:SA58 pAR0.6:0.09 LAR0.3:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA839:FR0:SA161 pAR0.6:0.09 LAR0.3:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA39:SR958 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.3:0.005:1 iCT0:2/5 mid3v-2 FA39=3.9%<5% OK
#
(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA944:FR0:SA56 pAR0.6:0.09 LAR0.2:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA849:FR0:SA151 pAR0.6:0.09 LAR0.2:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.2:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.2:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA69:SR928 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.2:0.005:1 iCT0:2/5 mid3v-2 FA69=6.9%>5% NG

(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA942:FR0:SA58 pAR0.5:0.09 LAR0.3:0.005:1 iCT0:0/5 mid3v-2
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA839:FR0:SA161 pAR0.5:0.09 LAR0.3:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.3:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.3:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA39:SR958 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.3:0.005:1 iCT0:2/5 mid3v-2

(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA943:FR0:SA57 pAR0.1:0.09 LAR0.3:0.005:1 iCT0:0/5 mid3v-2 check pAT 
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA841:FR0:SA159 pAR0.1:0.09 LAR0.3:0.005:1 iCT0:1/5 mid3v-2
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.1:0.09 LAR0.3:0.005:1 iCT1:0/5 mid3v-2
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.1:0.09 LAR0.3:0.005:1 iCT1:1/5 mid3v-2
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA41:SR956 C0=TA0:FR0:SA0 pAR0.1:0.09 LAR0.3:0.005:1 iCT0:2/5 mid3v-2

t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA943:FR0:SA57 pAR0.01:0.09 LAR0.3:0.005:1 iCT0:0/5 mid3v-2   check pAT same as above
t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA841:FR0:SA159 pAR0.01:0.09 LAR0.3:0.005:1 iCT0:1/5 mid3v-2
t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.01:0.09 LAR0.3:0.005:1 iCT1:0/5 mid3v-2
t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.01:0.09 LAR0.3:0.005:1 iCT1:1/5 mid3v-2
t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR3:FA41:SR956 C0=TA0:FR0:SA0 pAR0.01:0.09 LAR0.3:0.005:1 iCT0:2/5 mid3v-2

5. 話者数字照合：ver=-1でしきい値の最適化
5.1 実験
for iCs in 0 1; do for iCd in 0 1; do # for (1)-(4)
#for iCs in 0; do for iCd in 2; do    # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.3:0.005:1;ver=ver:-2;#best for ver:-2
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:0.6:.09:10;LAR=LAR:0.8:0.005:1;ver=ver:-1;#best for ver:-1
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_1000_${iCs}_${iCd}_5_v-1.dat
done;done
#selected? FA24=2.5%≦5% for 2/5比指定数字列 ver:-1
(1) t5 <p>0.786U0.088:0.401-0.822 LC0.441-0.920 iC0=TR0:FA0:SR0 C1000=TA909:FR0:SA91 pAR0.6:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3v-1
(2) t5 <p>0.679U0.127:0.283-0.813 LC0.080-0.920 iC0=TR0:FA0:SR0 C1000=TA769:FR0:SA231 pAR0.6:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3v-1
(3) t5 <p>0.196U0.152:0.054-0.526 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3v-1
(4) t5 <p>0.195U0.149:0.056-0.493 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3v-1
(5) t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA24:SR976 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3v-1 FA24=2.4%<5% OK

(5)t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA83:SR917 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.7:0.005:1 iCT0:2/5 mid3v-1 FA83=8.3%>5% NG
(5)t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA136:SR864 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.6:0.005:1 iCT0:2/5 mid3v-1 FA136=13.6%>5% NG
(5)t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA332:SR668 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.4:0.005:1 iCT0:2/5 mid3v-1

t5 <p>0.786U0.088:0.401-0.822 LC0.441-0.920 iC0=TR0:FA0:SR0 C1000=TA909:FR0:SA91 pAR0.5:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3v-1
t5 <p>0.679U0.127:0.283-0.813 LC0.080-0.920 iC0=TR0:FA0:SR0 C1000=TA779:FR0:SA221 pAR0.5:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3v-1
t5 <p>0.196U0.152:0.054-0.526 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3v-1
t5 <p>0.195U0.149:0.056-0.493 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3v-1
t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA33:SR967 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3v-1

t5 <p>0.786U0.088:0.401-0.822 LC0.441-0.920 iC0=TR0:FA0:SR0 C1000=TA909:FR0:SA91 pAR0.4:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3v-1 same as above
t5 <p>0.679U0.127:0.283-0.813 LC0.080-0.920 iC0=TR0:FA0:SR0 C1000=TA779:FR0:SA221 pAR0.4:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3v-1
t5 <p>0.196U0.152:0.054-0.526 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.4:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3v-1
t5 <p>0.195U0.149:0.056-0.493 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.4:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3v-1
t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA33:SR967 C0=TA0:FR0:SA0 pAR0.4:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3v-1

################
2013/02/21
1. 全CAN2に対する話者数字(s,d)の尤度 p(v^{SxD}|s,d)として、(s,d)に対する尤度しか使わない、
すなわち、p(v^{SxD}|s,d)=p(v^[s,d]|s,d)とする尤度については、
事後確率を使って各数字の受理と棄却をした方が良いことを、2013/02/19の5.で書いている（つもり）だが、
間違いがいくつかあった。まず、ver=ver:-1とすべきのところを ver=-1 としていたので修正した。次に
そのとき使ったプログラムspeakerdigit_v.cの1184行目のif(vsesion==-1)の処理のところで
事後分布(posterior)を使うようにしいたが、それではうまく行かなかった。そこでver:-2と同様に、
尤度(likelihood)の行を使うとともに、しきい値をpART:.6:.09:10などに変えるとうまく行った。
その結果を以下に示す。

2. 話者数字認識：(s,d)に対する尤度しか使わない尤度を用いる数字列判定
2.1 pART:.6:.09:10;LAR:0.8:0.005:1として話者数字
for iCs in 0 1; do for iCd in 0 1; do # for (1)-(4)
#for iCs in 0; do for iCd in 2; do    # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.6:.09:10;LAR=LAR:0.8:0.005:1;ver=ver:-1;
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_1000_${iCs}_${iCd}_5_v-1.dat
done;done
(1) t5 <p>0.786U0.088:0.401-0.822 LC0.441-0.920 iC0=TR0:FA0:SR0 C1000=TA909:FR0:SA91 pAR0.7:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3
(2) t5 <p>0.679U0.127:0.283-0.813 LC0.080-0.920 iC0=TR0:FA0:SR0 C1000=TA513:FR0:SA487 pAR0.7:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3
(3) t5 <p>0.196U0.152:0.054-0.526 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.7:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3
(4) t5 <p>0.195U0.149:0.056-0.493 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.7:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3
(5) t7 <p>0.598U0.170:0.265-0.809 LC0.081-0.920 iC1000=TR0:FA13:SR987 C0=TA0:FR0:SA0 pAR0.7:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3

(1) t5 <p>0.786U0.088:0.401-0.822 LC0.441-0.920 iC0=TR0:FA0:SR0 C1000=TA909:FR0:SA91 pAR0.6:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3
(2) t5 <p>0.679U0.127:0.283-0.813 LC0.080-0.920 iC0=TR0:FA0:SR0 C1000=TA769:FR0:SA231 pAR0.6:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3
(3) t5 <p>0.196U0.152:0.054-0.526 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3
(4) t5 <p>0.195U0.149:0.056-0.493 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3
(5) t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA24:SR976 C0=TA0:FR0:SA0 pAR0.6:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3

(1) t5 <p>0.786U0.088:0.401-0.822 LC0.441-0.920 iC0=TR0:FA0:SR0 C1000=TA909:FR0:SA91 pAR0.5:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3
(2) t5 <p>0.679U0.127:0.283-0.813 LC0.080-0.920 iC0=TR0:FA0:SR0 C1000=TA779:FR0:SA221 pAR0.5:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3
(3) t5 <p>0.196U0.152:0.054-0.526 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3
(4) t5 <p>0.195U0.149:0.056-0.493 LC0.067-0.920 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3
(5) t5 <p>0.539U0.160:0.264-0.776 LC0.067-0.920 iC1000=TR0:FA33:SR967 C0=TA0:FR0:SA0 pAR0.5:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3



2.2 検討 以下
(a)誤受理は、(1)-(4)すべてで無かった(FA0)．(2)で1/5非数字であるが指定話者なので1/5以下の非数字は受理する。
(b)誤棄却は、(1)-(4)すべてで無かった(FR0)。
(c)pAR0.6:0.09で、指定話者が全て指定数字を発した(1)の場合、受理が90.9%(TA907)、受理保留が9.1%(SA91) 。
(d)pAR0.6:0.09で、指定話者が1/5非指定数字を発した(2)の場合、受理が76.9%(TA769)、受理保留が23.1%(SA231)。1/5非指定数字なので容認。
(e)非指定話者(3)と(4)では正棄却が100%(TR=1000)。
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　pAR0.6:0.09で、指定話者＋2/5非指定数字列の(5)の場合、誤受理が2.4%(FA24)あったが、「指定話者は数字間違いが少なければ受理する」という観点からは
　　容認できる。(i)と(ii)の両面で容認できると考える。
(g)ver:-1では pART:<pA>:<pR>:<T>の<pR>の設定、LAR:<LA>:<LR>:<LAn>の<LA>の設定は難しく、試行錯誤で行った。

3 話者＋数字認識：(s,d)に対する尤度しか使わない尤度を用いる数字列判定
3.1 LAR:0.6:0.008:1, pART=pART:.8:.008:10として話者＋数字
for iCs in 0 1; do for iCd in 0 1; do
#for iCs in 0; do for iCd in 2; do
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.6:.008:10;LAR=LAR:0.8:0.001:1;ver=ver:-1;
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-1.dat
done;done
(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA900:FR0:SA100 pAR0.7:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA778:FR0:SA222 pAR0.7:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR47:FA0:SR953 C0=TA0:FR0:SA0 pAR0.7:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR170:FA0:SR830 C0=TA0:FR0:SA0 pAR0.7:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.7:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA926:FR0:SA74 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA806:FR0:SA194 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR47:FA0:SR953 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR170:FA0:SR830 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.6:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1

(1) t5 <p>0.855U0.160:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA933:FR0:SA67 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1
(2) t5 <p>0.853U0.154:0.163-0.915 LC0.038-0.964 iC0=TR0:FA0:SR0 C1000=TA817:FR0:SA183 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1
(3) t5 <p>0.105U0.072:0.038-0.447 LC0.024-0.963 iC1000=TR47:FA0:SR953 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1
(4) t5 <p>0.108U0.076:0.035-0.449 LC0.024-0.837 iC1000=TR170:FA0:SR830 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1
(5) t5 <p>0.847U0.169:0.164-0.915 LC0.038-0.964 iC1000=TR0:FA7:SR993 C0=TA0:FR0:SA0 pAR0.5:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1

5.2.4 検討
(a)誤受理は、(1)-(4)すべてで無かった(FA0)．なお(2)で1/5非数字であるが指定話者なので1/5以下の非数字は受理する。
(b)誤棄却は、(1)-(4)すべてで無かった(FR0)。
(c)pAR0.6:0.008で、指定話者が全て指定数字を発した(1)の場合、受理が92.6%(TA926)、受理保留が7.4%(SA74) 。
(d)pAR0.6:0.008で、指定話者が1/5非指定数字を発した(2)の場合、受理が80.6%(TA806)、受理保留が19.4%(SA194)。1/5非指定数字なので容認。
(e)pAR0.6:0.008で、非指定話者(3)と(4)では正棄却が4.7%(TR47)と17.0%(TR170)とかなり低い。（低すぎ？）
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　pAR0.6:0.008で、指定話者＋2/5非指定数字列の(5)の場合、誤受理が0.7%(FA7)あったが、「指定話者は数字間違いが少なければ受理する」という観点からは
　　容認できる。(i)と(ii)の両面で容認できると考える。
(g)ver:-1では pART:<pA>:<pR>:<T>の<pR>の設定、LAR:<LA>:<LR>:<LAn>の<LA>の設定は難しく、試行錯誤で行った。


#############
2013/02/19
1. 2013/02/18の「3.3 検討」と「4.3 検討」の
(f)セキュリティの面からは(i)誤受理は無くしたい。一方、実用面からは(ii)正解入力時の誤棄却は無くし、受理率は高く、保留は少なくしたい、
という点について、次の案を導入した。
(案) 指定話者については数字間違いが十分少なければ（下の例では<tD>=5個の数字のうち<LAn>=1個程度が間違っていても）
　　　受理する。ただし偽話者については数字がすべて正しくても受理しない。
これによってセキュリティを保ちながら実用性が格段に増す結果を得た！？

2. デフォールトオプション（以下の3,4,...の実行の前に次の設定をすること）
pART=pART:.85:.20:10;#pART:<pA>:<pR>:<T> for <pA>=accept_prob, <pR>=reject_prob, <T>=terminal_time.
LAR=LAR:0.9:0.001:1;   #LAR:<LA>:<LR>:<LAn>  for <LA>=accept_Likelihood, <LR>=reject_Likelihood,
                       #              allow <LAn>-mismatching of digits　（<LAn>
test=test:5:1000:0:4:5;#test:5:<n>:<riCs>:<t_iCd>:<tD>; for <n>:number_of_samples, 
                      #<riCs>:incorrect_speakers_rate (0 or 1)
                      # <t_iCd>:<tD> for number <t_iCd> of incorrrect digits in <tD> digits
#test=test:4:1000:0:0;#test:4:<n>:<riCs>:<riCd>, for <n>=num_of_samples, <riCs>=inCorrect_speakers_rate, <riCd>=inCorrect_digits_rate.
#test=test:0;         #test:0 for testing given sdP and sdT, 
sdP=sdP:0:0:1:2:3:4:5:6:7:8:9; #sdP:<speaker>:<digit1>:<digit2>:... for prompted speaker and digits when test_id=0
sdT=sdT:0:0:1:2:3:4:5:6:7:8:9; #sdT:<speaker>:<digit1>:<digit2>:... for testing  speaker and digits
lT=lT:1;                       #lT:<l>    for testing data of <l>-th date
ver=ver:-2;                    #method of calculating probability 
fsd=fsd:../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.y;fd="" #file name of y of speakerdigit
fs=fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y; #file name of y of speaker
fd=fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y; #file name of y of digit
nSDL=nSDL:7:10:10              #nSDL:<nS>:<nD>:<nL> for number of speakers, digits and dates
gibbs=gibbs:1;                 #1 for Gibbs, 0 for Bayes
beta=beta:1;                   #inverse temperature beta
pmin=pmin:0.01;                 #threshold of probability p for pmin<p<1-pmin
ytm=ytm:1:0.9:1000;PNr="";     #ytm:1:<a>:<n> for method to get <n> samples for -a < yth < +a 
#ytm=ytm:0;PNr=PNr:0.9;        #ytm:0 for method to determine yth using PNr:0.9 (see ICONIP2012)
void=void:0;                   #void:1 for use void (see ICONIP2012) not available now

3. 話者数字列照合（塚崎）:
3.1 実行
(1)指定話者＋指定数字列のテスト
(2)指定話者＋1/5非指定数字列のテスト
(3)非指定話者＋指定数字列のテスト
(4)非指定話者＋1/5指定数字列のテスト
(5)指定話者＋2/5非指定数字列のテスト
### 以下をコピペして実行する
for iCs in 0 1; do for iCd in 0 1; do  #for (1)-(4)
#for iCs in 0; do for iCd in 2; do    #for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.85:.09:10;LAR=LAR:0.91:0.001:1;
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd1000_${iCs}_${iCd}_5.dat
done;done
### 以上をコピペして実行する

3.2 結果
(1) t5 <p>0.977U0.092:0.236-0.990 LC0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA902:FR0:SA98 pAR0.85:0.09 LAR0.91:0.001:1 iCT0:0/5 mid3
(2) t5 <p>0.943U0.151:0.147-0.990 LC0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA765:FR0:SA235 pAR0.85:0.09 LAR0.91:0.001:1 iCT0:1/5 mid3
(3) t5 <p>0.035U0.065:0.010-0.583 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.85:0.09 LAR0.91:0.001:1 iCT1:0/5 mid3
(4) t5 <p>0.033U0.042:0.010-0.268 LC0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.85:0.09 LAR0.91:0.001:1 iCT1:1/5 mid3
(5) t5 <p>0.800U0.276:0.059-0.990 LC0.002-0.999 iC1000=TR0:FA6:SR994 C0=TA0:FR0:SA0 pAR0.85:0.09 LAR0.91:0.001:1 iCT0:2/5 mid3

3.3 検討
(a)誤受理は、(1)-(4)すべてで無かった(FA0)．(2)で1/5非指定数字であるが指定話者なので1/5以下の非数字は受理する。
(b)誤棄却は、(1)-(4)すべてで無かった(FR0)。
(c)指定話者が全て指定数字を発した(1)の場合、受理が90.2%(TA902)、受理保留が9.8%(SA98) 。
(d)指定話者が1/5非指定数字を発した(2)の場合、受理が76.5%(TA765)、受理保留が23.5%(SA235)。1/5非指定数字なので容認。
(e)非指定話者(3)と(4)では正棄却が100%(TR=1000)。
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　指定話者＋2/5非指定数字列の(5)の場合、誤受理が0.6%(FA6)あったが、「指定話者は数字間違いが少なければ受理する」という観点からは
　　容認できる。(i)と(ii)の両面で容認できると考える。
(g)尤度による数字列判定は未解析だが、解析必須。

4. 話者+数字（植木）:
4.1 実行
(1)指定話者＋指定数字列のテスト
(2)指定話者＋1/5非指定数字列のテスト
(3)非指定話者＋指定数字列のテスト
(4)非指定話者＋1/5指定数字列のテスト
(5)指定話者＋2/5非指定数字列のテスト
### 以下をコピペして実行する
for iCs in 0 1; do for iCd in 0 1; do #for (1)-(4)
#for iCs in 0; do for iCd in 2; do   # for (5)
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.8:.05:10;LAR=LAR:0.91:0.001:1;
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5.dat
done;done
###　以上をコピペして実行する。
4.2　結果
(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA864:FR0:SA136 pAR0.8:0.05 LAR0.91:0.001:1 iCT0:0/5 mid1
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA665:FR0:SA335 pAR0.8:0.05 LAR0.91:0.001:1 iCT0:1/5 mid1
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR971:FA0:SR29 C0=TA0:FR0:SA0 pAR0.8:0.05 LAR0.91:0.001:1 iCT1:0/5 mid1
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR980:FA0:SR20 C0=TA0:FR0:SA0 pAR0.8:0.05 LAR0.91:0.001:1 iCT1:1/5 mid1
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA2:SR998 C0=TA0:FR0:SA0 pAR0.8:0.05 LAR0.91:0.001:1 iCT0:2/5 mid1

4.3 検討
(a)誤受理は、(1)-(4)すべてで無かった(FA0)．なお(2)で1/5非指定数字であるが指定話者なので1/5以下の非数字は受理する。
(b)誤棄却は、(1)-(4)すべてで無かった(FR0)。
(c)指定話者が全て指定数字を発した(1)の場合、受理が86.4%(TA864)、受理保留が13.6%(SA136) 。
(d)指定話者が1/5非指定数字を発した(2)の場合、受理が66.5%(TA665)、受理保留が33.5%(SA335)。1/5非指定数字なので容認。
(e)非指定話者(3)と(4)では正棄却が97.1%(TR971)と98.0%(TR980)である。
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　指定話者＋2/5非指定数字列の(5)の場合、誤受理が0.2%(FA2)あったが、「指定話者は数字間違いが少なければ受理する」という観点からは
　　容認できる。(i)と(ii)の両面で容認できると考える。
(g)尤度による数字列判定は未解析だが、解析必須。

####
5. 尤度による数字列判定について
5.1 ver:-2で尤度を使った結果(上）は、ver:-1で事後分布を使った結果とほぼ同じになった?
(if(version==-1){のところ参照;version1は尤度の計算を指定CAN2のみの結果を使うもの）
ver:-1で事後分布が使えるなら、オプション「LAR:<LA>:<LR>:<LAn>」の<LA>は2クラス分類器CAN2のTPの確率より少し小さな値、
     <LR>はFNより少し小さめに設定すればよいと考えられる。

5.2.1 pART:.85:.09:10;LAR:0.8:0.005:1として話者数字
for iCs in 0 1; do for iCd in 0 1; do
#for iCs in 0; do for iCd in 2; do
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.85:.09:10;LAR=LAR:0.8:0.005:1;ver=-1;
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_1000_${iCs}_${iCd}_5_v-1.dat
done;done
(1) t5 <p>0.977U0.092 p0.236-0.990 LC:0.022-0.999 iC0=TR0:FA0:SR0 C1000=TA907:FR0:SA93 pAR0.85:0.09 LAR0.8:0.005:1 iCT0:0/5 mid3
(2) t5 <p>0.943U0.151 p0.147-0.990 LC:0.003-0.999 iC0=TR0:FA0:SR0 C1000=TA768:FR0:SA232 pAR0.85:0.09 LAR0.8:0.005:1 iCT0:1/5 mid3
(3) t5 <p>0.035U0.065 p0.010-0.583 LC:0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.85:0.09 LAR0.8:0.005:1 iCT1:0/5 mid3
(4) t5 <p>0.033U0.042 p0.010-0.268 LC:0.002-0.999 iC1000=TR1000:FA0:SR0 C0=TA0:FR0:SA0 pAR0.85:0.09 LAR0.8:0.005:1 iCT1:1/5 mid3
(5) t5 <p>0.800U0.276 p0.059-0.990 LC:0.002-0.999 iC1000=TR3:FA6:SR991 C0=TA0:FR0:SA0 pAR0.85:0.09 LAR0.8:0.005:1 iCT0:2/5 mid3

5.2.2 検討
(a)誤受理は、(1)-(4)すべてで無かった(FA0)．(2)で1/5非数字であるが指定話者なので1/5以下の非数字は受理する。
(b)誤棄却は、(1)-(4)すべてで無かった(FR0)。
(c)指定話者が全て指定数字を発した(1)の場合、受理が90.7%(TA907)、受理保留が9.3%(SA93) 。3.2より良い。
(d)指定話者が1/5非指定数字を発した(2)の場合、受理が76.8%(TA768)、受理保留が23.2%(SA232)。1/5非指定数字なので容認。
(e)非指定話者(3)と(4)では正棄却が100%(TR=1000)。
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　指定話者＋2/5非指定数字列の(5)の場合、誤受理が0.6%(FA6)あったが、「指定話者は数字間違いが少なければ受理する」という観点からは
　　容認できる。(i)と(ii)の両面で容認できると考える。
(g)ver:-1では尤度でなく事後確率でも良い。
   pART:<pA>:<pR>:<T>の<pR>の設定、LAR:<LA>:<LR>:<LAn>の<LA>の設定は難しく、試行錯誤で行った。

5.2.3 LAR:0.8:0.005:1, pART=pART:.8:.008:10として話者＋数字
for iCs in 0 1; do for iCd in 0 1; do
#for iCs in 0; do for iCd in 2; do
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.8:.008:10;LAR=LAR:0.8:0.001:1;ver=-1;
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d1000_${iCs}_${iCd}_5_v-1.dat
done;done
(1) t5 <p>0.960U0.153:0.072-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA928:FR0:SA72 pAR0.8:0.008 LAR0.8:0.001:1 iCT0:0/5 mid1
(2) t5 <p>0.961U0.142:0.069-0.990 LC0.003-0.998 iC0=TR0:FA0:SR0 C1000=TA833:FR0:SA167 pAR0.8:0.008 LAR0.8:0.001:1 iCT0:1/5 mid1
(3) t5 <p>0.021U0.044:0.010-0.345 LC0.002-0.998 iC1000=TR35:FA0:SR965 C0=TA0:FR0:SA0 pAR0.8:0.008 LAR0.8:0.001:1 iCT1:0/5 mid1
(4) t5 <p>0.022U0.049:0.010-0.456 LC0.002-0.858 iC1000=TR137:FA0:SR863 C0=TA0:FR0:SA0 pAR0.8:0.008 LAR0.8:0.001:1 iCT1:1/5 mid1
(5) t5 <p>0.956U0.163:0.062-0.990 LC0.003-0.998 iC1000=TR0:FA12:SR988 C0=TA0:FR0:SA0 pAR0.8:0.008 LAR0.8:0.001:1 iCT0:2/5 mid1

5.2.4 検討
(a)誤受理は、(1)-(4)すべてで無かった(FA0)．なお(2)で1/5非数字であるが指定話者なので1/5以下の非数字は受理する。
(b)誤棄却は、(1)-(4)すべてで無かった(FR0)。
(c)指定話者が全て指定数字を発した(1)の場合、受理が92.8%(TA928)、受理保留が7.2%(SA72) 。
(d)指定話者が1/5非指定数字を発した(2)の場合、受理が83.3%(TA833)、受理保留が16.7%(SA167)。1/5非指定数字なので容認。
(e)非指定話者(3)と(4)では正棄却が3.5%(TR35)と13.7%(TR137)とかなり低い。（低すぎ？）
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　指定話者＋2/5非指定数字列の(5)の場合、誤受理が1.2%(FA12)あったが、「指定話者は数字間違いが少なければ受理する」という観点からは
　　容認できる。(i)と(ii)の両面で容認できると考える。
(g)ver:-1では尤度でなく事後確率でも良い。
   pART:<pA>:<pR>:<T>の<pR>の設定、LAR:<LA>:<LR>:<LAn>の<LA>の設定は難しく、試行錯誤で行った。

5.2.4 視覚化
cd ../12voicedata/allpole/
gnuplot
plot  "test_s+d1000_0_0_5_v-1.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d1000_1_0_5_v-1.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.2,0.008



####
2013/02/18
1. 過日（2013/02/13）の1.の考えに従って、次の要領のプログラムを作成し、実験した：
「数字指定形では数字を正しく発声したと判断できるときのみ受理判定をする」手法について、
指定数字列に対し、受理(Accept)、棄却(Reject)、保留(Suspend)の判定を以下の手順で行う。
（過日（2013/02/13）と少し違う）
   誤受理(FA)と誤棄却(FR)を０にすることを目的とする。ただし保留はあってもよい。（可能？）
　　(1) 各段（各ステップ，各指定数字）で指定数字とその他数字の尤度LCを求める。
　　　　（尤度L=(p(v|s,d)でなく事後確率p(s,d|v)=(1/Z) p(s,d) p(v|s,d)を使うとうまく
　　　　　いかなかった.why?）
   　　　 指定数字の尤度LCがしきい値th->LA以上の場合、そのステップに受理マーク、
 　　　　 指定数字の尤度LCがしきい値th->LR以下ならば、そのステップに棄却マーク。
　　(2)すべてのステップに受理マークがあれば指定数字列は受理(A)、
　　　　いずれかのステップに棄却マークがあれば数字列全体を棄却(R)、
　　　　それ以外は保留(S)。

2. プログラム：speakerdigit_v.c
2.1 デフォールトオプション（以下の3,4,...の実行の前に次の設定をすること）
pART=pART:.85:.20:10;#pART:<pA>:<pR>:<T> for <pA>=accept_prob, <pR>=reject_prob, <T>=terminal_time.
LAR=LAR:0.9:0.001:0;   #LAR:<LA>:<LR>:<LAn>  for <LA>=accept_Likelihood, <LR>=reject_Likelihood,
                       #              allow <LAn>-mismatching of digits
test=test:5:1000:0:4:5;#test:5:<n>:<riCs>:<t_iCd>:<tD>; for <n>:number_of_samples, 
                      #<riCs>:incorrect_speakers_rate (0 or 1)
                      # <t_iCd>:<tD> for number <t_iCd> of incorrrect digits in <tD> digits
#test=test:4:1000:0:0;#test:4:<n>:<riCs>:<riCd>, for <n>=num_of_samples, <riCs>=inCorrect_speakers_rate, <riCd>=inCorrect_digits_rate.
#test=test:0;         #test:0 for testing given sdP and sdT, 
sdP=sdP:0:0:1:2:3:4:5:6:7:8:9; #sdP:<speaker>:<digit1>:<digit2>:... for prompted speaker and digits when test_id=0
sdT=sdT:0:0:1:2:3:4:5:6:7:8:9; #sdT:<speaker>:<digit1>:<digit2>:... for testing  speaker and digits
lT=lT:1;                       #lT:<l>    for testing data of <l>-th date
ver=ver:-2;                    #method of calculating probability 
fsd=fsd:../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.y;fd="" #file name of y of speakerdigit
fs=fs:../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y; #file name of y of speaker
fd=fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y; #file name of y of digit
nSDL=nSDL:7:10:10              #nSDL:<nS>:<nD>:<nL> for number of speakers, digits and dates
gibbs=gibbs:1;                 #1 for Gibbs, 0 for Bayes
beta=beta:1;                   #inverse temperature beta
pmin=pmin:0.01;                 #threshold of probability p for pmin<p<1-pmin
ytm=ytm:1:0.9:1000;PNr="";     #ytm:1:<a>:<n> for method to get <n> samples for -a < yth < +a 
#ytm=ytm:0;PNr=PNr:0.9;        #ytm:0 for method to determine yth using PNr:0.9 (see ICONIP2012)
void=void:0;                   #void:1 for use void (see ICONIP2012) not available now

3. 話者数字列照合（塚崎）:
3.1 実行
### 以下をコピペして実行する
for iCs in 0 1; do for iCd in 0 1; do
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.85:.09:10;LAR=LAR:0.91:0.001:0;
cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_test1000_${iCs}_${iCd}_5.dat
done;done
### 以上をコピペして実行する
#cmd="speakerdigit_v $fsd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd

3.2 結果
#(1)#指定話者＋指定数字列のテスト結果#Done for test:5:1000:0:0:5;pART:.85:.09:10;LAR:0.91:0.001
t5 <p>0.977 U0.092 pm0.236 pM0.990 LCm0.022 LCM0.999 R0=TR0:FA0:SR0 A1000=TA742:FR0:SA258 pAR0.85:0.09 iC0:0/5 mid3

#(2)#指定話者＋1/5非指定数字列のテスト結果 #Done for test:5:1000:0:1:5;pART:.85:.09:10;LAR:0.91:0.001
t5 <p>0.943 U0.151 pm0.147 pM0.990 LCm0.003 LCM0.999 R1000=TR0:FA9:SR991 A0=TA0:FR0:SA0 pAR0.85:0.09 iC0:1/5 mid3

#(3)#非指定話者＋指定数字列のテスト結果 #Done for test:5:1000:1:0:5;pART:.85:.09:10;LAR:0.91:0.001;
t5 <p>0.035 U0.065 pm0.010 pM0.583 LCm0.002 LCM0.999 R1000=TR1000:FA0:SR0 A0=TA0:FR0:SA0 pAR0.85:0.09 iC1:0/5 mid3

#(4)#非指定話者＋1/5指定数字列のテスト結果 #Done for test:5:1000:1:1:5;pART:.85:.09:10;LAR:0.91:0.001;
t5 <p>0.033 U0.042 pm0.010 pM0.268 LCm0.002 LCM0.999 R1000=TR1000:FA0:SR0 A0=TA0:FR0:SA0 pAR0.85:0.09 iC1:1/5 mid3

3.3 検討
(a)誤受理は、上の(2)で0.9%(=9/1000; FA9)あったが、それ以外の誤受理は無かった(FA0)。
(b)誤棄却は、上の(1)-(4)すべてで無かった(FR0)。
(c)指定話者が指定数字を発した(1)の場合、受理が74.2%(TA742)、受理保留(SA；受理すべきだが保留と判断)が25.8%(SA258) 。（？まあまあ？）
(d)指定話者が1/5非指定数字列を発した(2)の場合、棄却保留が99.1%(SR991)でまあまあだが、誤受理が0.9%。
(e)非指定話者(3)と(4)では正解棄却が100%(TR=1000)。
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　この話者数字の手法は、(i)の点で良く無く、(ii)の点では良い。
(g)尤度による数字列判定は未解析だが、解析必須。

3.4 視覚化
cd ../12voicedata/allpole/
gnuplot
plot  "test_sd_test1000_0_0_5.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_sd_test1000_1_1_5.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "", 0.85,0.09

4. 話者+数字（植木）:
4.1 実行
### 以下をコピペして実行する
for iCs in 0 1; do for iCd in 0 1; do
test=test:5:1000:${iCs}:${iCd}:5;pART=pART:.8:.09:10;LAR=LAR:0.91:0.001:0;
echo "#$test;$pART;$LAR"
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd
echo "#Done for $test;$pART;$LAR"
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s+d_test1000_${iCs}_${iCd}_5.dat
done;done
###　以上をコピペして実行する。
test=test:5:1000:0:2:5;pART=pART:.8:.09:10;LAR=LAR:0.91:0.001;
cmd="speakerdigit_v $fs $fd $nSDL $pmin $ytm $PNr $void $gibbs $beta $sdP $lT $sdT $ver $pART $LAR $test";$cmd

4.2　結果
#(1)#指定話者＋指定数字列のテスト結果#Done for test:5:1000:0:0:5;pART:.8:.09:10;LAR:0.91:0.001
t5 <p>0.960 U0.153 pm0.072 pM0.990 LCm0.003 LCM0.998 R0=TR0:FA0:SR0 A1000=TA630:FR1:SA369 pAR0.8:0.09 iC0:0/5 mid1
t5 <p>0.960 U0.153 pm0.072 pM0.990 LCm0.003 LCM0.998 R0=TR0:FA0:SR0 A1000=TA630:FR0:SA370 pAR0.8:0.07 iC0:0/5 mid1  change pR=0.07

#(2)#指定話者＋1/5非指定数字列のテスト結果#Done for test:5:1000:0:1:5;pART:.8:.09:10;LAR:0.91:0.001
t5 <p>0.961 U0.142 pm0.069 pM0.990 LCm0.003 LCM0.998 R1000=TR10:FA0:SR990 A0=TA0:FR0:SA0 pAR0.8:0.09 iC0:1/5 mid1

#(3)#非指定話者＋指定数字列のテスト結果#Done for test:5:1000:1:0:5;pART:.8:.09:10;LAR:0.91:0.001

t5 <p>0.021 U0.044 pm0.010 pM0.345 LCm0.002 LCM0.998 R1000=TR991:FA0:SR9 A0=TA0:FR0:SA0 pAR0.8:0.09 iC1:0/5 mid1

#(4)#非指定話者＋1/5指定数字列のテスト結果#Done for test:5:1000:1:1:5;pART:.8:.09:10;LAR:0.91:0.001
t5 <p>0.022 U0.049 pm0.010 pM0.456 LCm0.002 LCM0.858 R1000=TR1000:FA0:SR0 A0=TA0:FR0:SA0 pAR0.8:0.09 iC1:1/5 mid1

4.3 検討
(a)誤受理は、上の(1)-(4)すべてで無かった(FA0)。
(b)誤棄却は、(1)以外では無かったが、(1)で0.1%(=1/1000; FR1)あった。これはpAR0.8:0.09を
  下のgnuplotの95%域から設定したものであるが、これをpAR0.8:0.07とすると上のようにFR0とできた。
(c)指定話者が指定数字を発した(1)の場合、受理は63.0%(TA630)、受理保留が36.9%、誤受理が0.1%となった（あまり良くない？）
(d)指定話者が1/5非指定数字列を発した(2)の場合、棄却保留が99.0%(SR99.0)となり話者数字とほぼ同じ。ただし、正解棄却は1%(TR10)となり話者数字より良い。
(e)非指定話者(3)と(4)の場合、正解棄却が、(3)でTR99.1%,(4)でTR100%となった。
(f)セキュリティの面からは(i)誤棄却はあっても良いが誤受理は無くしたい。一方、実用面からは(ii)正解入力の場合(1)の受理率は高くしたい。
　　この話者+数字の手法は、(i)の点で良いが、(ii)の点で良くない。
(g)尤度による数字列判定は未解析だが、解析必須。

4.4 視覚化
cd ../12voicedata/allpole/;
gnuplot
plot  "test_s+d_test1000_0_0_5.dat" using 1:2 w l, "" using 1:2:3 w errorbars t "", \
"test_s+d_test1000_1_1_5.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars t "",\
0.8,0.09



############################
2013/02/13
1.「数字指定形では数字を正しく発声したと判断できるときのみ受理判定をする」手法について。
　・2013/02/08（〜2013/02/11)では「全文字数の内50%以上の個数だけ異なる発声をした場合でないと、
　　100%正しく発声した場合との区別はできない。」との考えに基づいた実験を行っているが、これは数字列
　　全体でGEBIを行うことを前提とした考えであり、そもそもそのやり方が良くないとも考えられる。そこで、
　　以下の方法を考える。
　・指定数字列に対し、受理(Accept)、棄却(Reject)、保留(Suspend)の判定を以下の手順で行う。
   受理誤り(FA)と棄却誤り(FR)を０にすることを目的とする。ただし保留はあってもよい。（可能？）
　　各段（各tステップ、各指定数字）で全数字の一段GEBI推定の事後確率を求める。
　　　最大確率の数字がしきい値以上の場合
　　　　最大確率の数字が指定数字なら、指定数字は受理(A_t)
　　　　それ以外なら、指定数字は棄却(R_t)
　　　最大確率の数字がしきい値以下
　　　　保留(S_t)
　　すべてのステップで指定数字列が受理されれば指定数字列は受理(A)、
　　いずれかのステップで指定数字が棄却されれば数字列全体を棄却(R)、
　　それ以外は保留(S)。
2.　プログラム
　　これから

2013/02/11
(20130211) 1. 以下の点を変更して2013/02/08の内容を修正実験した。
(20130211) 1.1 N40の方が良いみたいなのでこれで実験
(20130211) 1.2 speakerdigit_v.c の結果(testsd_stat.dat)に，下の情報を書き出すようにした
1132行	if(i!=1) fprintf(fpop[i],"%d %g %g %g %g %g %g %g %g #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax",t,mpGC,UC,mpGC-UCminus,mpGC+UCplus,rA,rR,pGCmin,pGCmax);
t: 照合ステップ数
<p>：GEBIによる推定確率p_iの平均、(0<=i<test->n)(test->nはオプションtest:4:<test->n>:0:0で設定)
UC:不確かさ(Uncertainty): 誤差の標準偏差のk=1.65倍(-\inftyから1.65までの正規分布の累積)
UC-:平均<p>より大きな推定確率p_iについての誤差の標準偏差の２倍
UC+:平均<p>より大きな推定確率p_iについての誤差の標準偏差の２倍
rA:Accept数(p_i>pAとなった数)の全数(test->n=1000?)に対する割合 (pAはオプションpART:<pA>:<pR>で設定)
rA:Reject数(p_i<pRとなった数)の全数(test->n=1000?)に対する割合 (pRはオプションpART:<pA>:<pR>で設定)
pmin:p_iの最小値
pmin:p_iの最大値
(20130211) 1.3 以下の実験では、指定話者が指定数字列を入力したときは受理または保留とし（棄却することはない）、
	   ランダムな数字列は棄却または保留にし(受理しない)、誤った判定をしないことができることを示す。
	   結果として、数字を10個（または数字５個を２回入力）入力して判定すれば実現できる。が、。。。
          解釈：t=10で、偽陽性と偽陰性が０を達成できる。ただし、若干数の保留があり、非指定数字列が
　　　　　　ランダム数字列の場合である。

　　　　　　→「本人が100%指定通りに発声していると判断できるときのみ受理判定をする」というのは無理？
	  → 数字列の中で半分以上同じだと多段では受理率が高くなり、棄却できない。
	  →「本人が４個の数字中3個以上、指定通りに発声していると判断できるときのみ受理判定をする」ことは可能？
           「本人が５個の数字中4個以上、指定通りに発声していると判断できるときのみ受理判定をする」ことは可能？
　　　　　　→「テキスト指定形ではテキストを正しく発声したと判断できるときのみ受理判定をする」こととしていること
　　　　　　　と矛盾する？しない？

(20130211) 2. 評価実験を行う前に、まず、話者CAN2,数字CAN2,話者数字CAN2の分類性能を上げる。
(20130211) 2.1 話者CAN2
time oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:40
#result in '../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4s:-1N40mbas2:300:1.6:1.ystat'.
#real24m5.038suser20m23.496ssys1m8.308s
0.97000 0.98000 0.02000 0.03000 7.14286e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.92000 0.99000 0.01000 0.08000 1.28571e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.93000 0.97167 0.02833 0.07000 1.40476e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.91000 0.97667 0.02333 0.09000 1.61905e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.95000 0.97333 0.02667 0.05000 1.09524e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.93000 0.97667 0.02333 0.07000 1.33333e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.92000 0.96667 0.03333 0.08000 1.61905e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

(20130211) 2.2 数字CAN2
time oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole d:-1 N:40
#result in '../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.ystat'.
#real34m17.100suser29m7.989ssys1m37.926s
0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.94286 0.99365 0.00635 0.05714 9.07029e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.88571 0.98730 0.01270 0.11429 1.81406e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.94286 0.98889 0.01111 0.05714 9.75057e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.94286 0.97937 0.02063 0.05714 1.11111e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.90000 0.99524 0.00476 0.10000 1.49660e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.92857 0.98254 0.01746 0.07143 1.26984e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.98571 0.99683 0.00317 0.01429 2.49433e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9

(20130211) 2.3 話者数字CAN2
time oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:-1 N:40 
#result in '../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.ystat'.
#real244m38.641suser205m7.077ssys11m39.988s
0.80000 0.99565 0.00435 0.20000 2.91925e-04 700 0 0 #TP,TN,FP,FN,ERR,n,sm0 txm0
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 0 1 #TP,TN,FP,FN,ERR,n,sm0 txm1
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 2 #TP,TN,FP,FN,ERR,n,sm0 txm2
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 3 #TP,TN,FP,FN,ERR,n,sm0 txm3
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 0 4 #TP,TN,FP,FN,ERR,n,sm0 txm4
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 5 #TP,TN,FP,FN,ERR,n,sm0 txm5
1.00000 0.99420 0.00580 0.00000 8.28157e-06 700 0 6 #TP,TN,FP,FN,ERR,n,sm0 txm6
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 7 #TP,TN,FP,FN,ERR,n,sm0 txm7
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 0 8 #TP,TN,FP,FN,ERR,n,sm0 txm8
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 0 9 #TP,TN,FP,FN,ERR,n,sm0 txm9
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 1 0 #TP,TN,FP,FN,ERR,n,sm1 txm0
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 1 1 #TP,TN,FP,FN,ERR,n,sm1 txm1
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 1 2 #TP,TN,FP,FN,ERR,n,sm1 txm2
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 1 3 #TP,TN,FP,FN,ERR,n,sm1 txm3
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 1 4 #TP,TN,FP,FN,ERR,n,sm1 txm4
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 1 5 #TP,TN,FP,FN,ERR,n,sm1 txm5
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 1 6 #TP,TN,FP,FN,ERR,n,sm1 txm6
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 1 7 #TP,TN,FP,FN,ERR,n,sm1 txm7
0.60000 1.00000 0.00000 0.40000 5.71429e-04 700 1 8 #TP,TN,FP,FN,ERR,n,sm1 txm8
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 1 9 #TP,TN,FP,FN,ERR,n,sm1 txm9
0.80000 0.99565 0.00435 0.20000 2.91925e-04 700 2 0 #TP,TN,FP,FN,ERR,n,sm2 txm0
0.90000 0.98841 0.01159 0.10000 1.59420e-04 700 2 1 #TP,TN,FP,FN,ERR,n,sm2 txm1
0.70000 0.98986 0.01014 0.30000 4.43064e-04 700 2 2 #TP,TN,FP,FN,ERR,n,sm2 txm2
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 2 3 #TP,TN,FP,FN,ERR,n,sm2 txm3
1.00000 0.99130 0.00870 0.00000 1.24224e-05 700 2 4 #TP,TN,FP,FN,ERR,n,sm2 txm4
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 2 5 #TP,TN,FP,FN,ERR,n,sm2 txm5
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 2 6 #TP,TN,FP,FN,ERR,n,sm2 txm6
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 2 7 #TP,TN,FP,FN,ERR,n,sm2 txm7
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 2 8 #TP,TN,FP,FN,ERR,n,sm2 txm8
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 2 9 #TP,TN,FP,FN,ERR,n,sm2 txm9
1.00000 0.99420 0.00580 0.00000 8.28157e-06 700 3 0 #TP,TN,FP,FN,ERR,n,sm3 txm0
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 3 1 #TP,TN,FP,FN,ERR,n,sm3 txm1
0.90000 0.99420 0.00580 0.10000 1.51139e-04 700 3 2 #TP,TN,FP,FN,ERR,n,sm3 txm2
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 3 3 #TP,TN,FP,FN,ERR,n,sm3 txm3
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 3 4 #TP,TN,FP,FN,ERR,n,sm3 txm4
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 3 5 #TP,TN,FP,FN,ERR,n,sm3 txm5
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 3 6 #TP,TN,FP,FN,ERR,n,sm3 txm6
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 3 7 #TP,TN,FP,FN,ERR,n,sm3 txm7
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 3 8 #TP,TN,FP,FN,ERR,n,sm3 txm8
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 3 9 #TP,TN,FP,FN,ERR,n,sm3 txm9
1.00000 0.99275 0.00725 0.00000 1.03520e-05 700 4 0 #TP,TN,FP,FN,ERR,n,sm4 txm0
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 4 1 #TP,TN,FP,FN,ERR,n,sm4 txm1
0.80000 0.99565 0.00435 0.20000 2.91925e-04 700 4 2 #TP,TN,FP,FN,ERR,n,sm4 txm2
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 4 3 #TP,TN,FP,FN,ERR,n,sm4 txm3
1.00000 0.98841 0.01159 0.00000 1.65631e-05 700 4 4 #TP,TN,FP,FN,ERR,n,sm4 txm4
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 4 5 #TP,TN,FP,FN,ERR,n,sm4 txm5
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 4 6 #TP,TN,FP,FN,ERR,n,sm4 txm6
0.80000 0.99710 0.00290 0.20000 2.89855e-04 700 4 7 #TP,TN,FP,FN,ERR,n,sm4 txm7
0.90000 0.98986 0.01014 0.10000 1.57350e-04 700 4 8 #TP,TN,FP,FN,ERR,n,sm4 txm8
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 4 9 #TP,TN,FP,FN,ERR,n,sm4 txm9
0.90000 0.99275 0.00725 0.10000 1.53209e-04 700 5 0 #TP,TN,FP,FN,ERR,n,sm5 txm0
0.90000 0.98986 0.01014 0.10000 1.57350e-04 700 5 1 #TP,TN,FP,FN,ERR,n,sm5 txm1
0.90000 0.98986 0.01014 0.10000 1.57350e-04 700 5 2 #TP,TN,FP,FN,ERR,n,sm5 txm2
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 5 3 #TP,TN,FP,FN,ERR,n,sm5 txm3
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 5 5 #TP,TN,FP,FN,ERR,n,sm5 txm5
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 5 6 #TP,TN,FP,FN,ERR,n,sm5 txm6
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 5 7 #TP,TN,FP,FN,ERR,n,sm5 txm7
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 5 8 #TP,TN,FP,FN,ERR,n,sm5 txm8
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 5 9 #TP,TN,FP,FN,ERR,n,sm5 txm9
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 6 0 #TP,TN,FP,FN,ERR,n,sm6 txm0
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 6 1 #TP,TN,FP,FN,ERR,n,sm6 txm1
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 2 #TP,TN,FP,FN,ERR,n,sm6 txm2
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 6 3 #TP,TN,FP,FN,ERR,n,sm6 txm3
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 6 4 #TP,TN,FP,FN,ERR,n,sm6 txm4
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 6 5 #TP,TN,FP,FN,ERR,n,sm6 txm5
0.70000 0.99710 0.00290 0.30000 4.32712e-04 700 6 6 #TP,TN,FP,FN,ERR,n,sm6 txm6
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 7 #TP,TN,FP,FN,ERR,n,sm6 txm7
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 6 8 #TP,TN,FP,FN,ERR,n,sm6 txm8
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 9 #TP,TN,FP,FN,ERR,n,sm6 txm9

(20130211) 2.4 数字CAN2(N:20の確認）
oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole d:-1 N:20 
#real27m54.693suser23m4.139ssys1m31.494s
#result in '../12voicedata/allpole/oob4d:-1N20mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4d:-1N20mbas2:300:1.6:1.ystat'.
0.92857 0.98095 0.01905 0.07143 1.29252e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.97143 0.98571 0.01429 0.02857 6.12245e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.94286 0.99524 0.00476 0.05714 8.84354e-05 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.97143 0.97937 0.02063 0.02857 7.02948e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.95714 0.97302 0.02698 0.04286 9.97732e-05 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.91429 0.99841 0.00159 0.08571 1.24717e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.85714 0.97302 0.02698 0.14286 2.42630e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.88571 0.98254 0.01746 0.11429 1.88209e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.90000 0.98730 0.01270 0.10000 1.60998e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.97143 0.99365 0.00635 0.02857 4.98866e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9

(20130211) 2.5 数字CAN2(N:30の確認）
oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole d:-1 N:30 
#real30m58.751suser25m53.165ssys1m34.238s
#result in '../12voicedata/allpole/oob4d:-1N30mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4d:-1N30mbas2:300:1.6:1.ystat'.
0.95714 0.98571 0.01429 0.04286 8.16327e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.97143 0.98254 0.01746 0.02857 6.57596e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.91429 0.99524 0.00476 0.08571 1.29252e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.95714 0.98413 0.01587 0.04286 8.39002e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.94286 0.97302 0.02698 0.05714 1.20181e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.91429 0.99683 0.00317 0.08571 1.26984e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.85714 0.97619 0.02381 0.14286 2.38095e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.91429 0.99524 0.00476 0.08571 1.29252e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.90000 0.98730 0.01270 0.10000 1.60998e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
1.00000 0.99365 0.00635 0.00000 9.07029e-06 700 9 #TP,TN,FP,FN,ERR,n,txm9

(20130211) 3.4-1 話者数字列照合:指定話者＋指定数字列をテスト 
pART=pART:.85:.42:4 #下の 3.5-1 でriC0_0の95%の下限と、riC0_0.9の95%の上限として求めた
#pART=pART:.89:.38:5 #この図でt=5におけるriC0_0のエラーバ─の下限(95%)と、riC0_0.9のエラーバーの上限(95%)として求めた
# t=10でriC0_0でrR=0(間違ってRejectしない）, riC0_0.9でrA=0（間違ってAcceptしない）になる？
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_0ytm1_0.9N40.dat
#selected n18 <FP>0.00288564+-0.00501104 <FN>0.190625+-0.208323 TotalUncertainty0.0539505(k2)
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.89,pR0.38)
1 0.817384 0.428816 -0.282762 0.979942 0.853 0.088 0.01 0.920496 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.853Accept 0.088Reject(pA0.89,pR0.38)
2 0.940191 0.230776 0.395996 1.01958 0.857 0.014 0.0186579 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.857Accept 0.014Reject(pA0.89,pR0.38)
3 0.963334 0.166104 0.57719 1.00593 0.947 0.011 0.0413364 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.947Accept 0.011Reject(pA0.89,pR0.38)
4 0.974917 0.108818 0.687994 0.998528 0.96 0.004 0.164598 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.96Accept 0.004Reject(pA0.89,pR0.38)
5 0.979099 0.0764535 0.779294 0.996354 0.97 0.001 0.307785 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.97Accept 0.001Reject(pA0.89,pR0.38)
6 0.981443 0.0644398 0.819862 0.995096 0.98 0.001 0.226104 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.98Accept 0.001Reject(pA0.89,pR0.38)
7 0.983051 0.0514785 0.853169 0.994054 0.985 0 0.485062 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.985Accept 0Reject(pA0.89,pR0.38)
8 0.983888 0.0504856 0.856449 0.993614 0.988 0 0.384955 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.988Accept 0Reject(pA0.89,pR0.38)
9 0.984671 0.0435382 0.875499 0.993103 0.991 0 0.480712 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.991Accept 0Reject(pA0.89,pR0.38)
10 0.985513 0.037018 0.894984 0.992648 0.993 0 0.542637 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.993Accept 0Reject(pA0.89,pR0.38)
#t=4で0.97Acceptを達成（推定値はpA0.95)
#t=10で指定話者指定数字列（riC0_0）に対し間違ってRejectしない(0Reject)ことが分かる
#このとき99.3%受理し、残りの0.6%は保留される。
#
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.85,pR0.42)
1 0.817384 0.428816 -0.282762 0.979942 0.867 0.125 0.01 0.920496 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.867Accept 0.125Reject(pA0.85,pR0.42)
2 0.940191 0.230776 0.395996 1.01958 0.872 0.017 0.0186579 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.872Accept 0.017Reject(pA0.85,pR0.42)
3 0.963334 0.166104 0.57719 1.00593 0.965 0.011 0.0413364 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.965Accept 0.011Reject(pA0.85,pR0.42)
4 0.974917 0.108818 0.687994 0.998528 0.97 0.005 0.164598 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.97Accept 0.005Reject(pA0.85,pR0.42)
5 0.979099 0.0764535 0.779294 0.996354 0.983 0.001 0.307785 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.983Accept 0.001Reject(pA0.85,pR0.42)
6 0.981443 0.0644398 0.819862 0.995096 0.988 0.001 0.226104 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.988Accept 0.001Reject(pA0.85,pR0.42)
7 0.983051 0.0514785 0.853169 0.994054 0.99 0 0.485062 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.99Accept 0Reject(pA0.85,pR0.42)
8 0.983888 0.0504856 0.856449 0.993614 0.994 0.001 0.384955 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.994Accept 0.001Reject(pA0.85,pR0.42)
9 0.984671 0.0435382 0.875499 0.993103 0.995 0 0.480712 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.995Accept 0Reject(pA0.85,pR0.42)
10 0.985513 0.037018 0.894984 0.992648 0.996 0 0.542637 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.996Accept 0Reject(pA0.85,pR0.42)
#t=4で0.97Acceptを達成（推定値はpA0.95)
#t=10で指定話者指定数字列（riC0_0）に対し間違ってRejectしない(0Reject)ことが分かる
#このとき99.6%受理し、残りの0.4%は保留される。

(20130211) 3.4-5 話者数字列照合:指定話者＋90%非指定数字列をテスト 新手法 ytm:1:0.9:1000
pART=pART:.85:.42:4 #下の 3.5-1 でriC0_0の95%の下限と、riC0_0.9の95%の上限として求めた
pART=pART:.89:.38:5 #この図でt=5におけるriC0_0のエラーバ─の下限(95%)と、riC0_0.9のエラーバーの上限(95%)として求めた
# T=10でriC0_0でrR=0(間違ってRejectしない）, riC0_0.9でrA=0（間違ってAcceptしない）になる？
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_0.9ytm1_0.9N40.dat
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.89,pR0.38)
1 0.102411 0.446264 -0.0499006 1.38786 0.097 0.897 0.01 0.920496 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.097Accept 0.897Reject(pA0.89,pR0.38)
2 0.130447 0.399867 -0.0490734 0.959257 0.009 0.847 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.009Accept 0.847Reject(pA0.89,pR0.38)
3 0.125511 0.320454 -0.0375115 0.691599 0.014 0.89 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.014Accept 0.89Reject(pA0.89,pR0.38)
4 0.117781 0.28991 -0.0292019 0.593531 0.006 0.932 0.01 0.973665 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.006Accept 0.932Reject(pA0.89,pR0.38)
5 0.113414 0.260538 -0.0209097 0.53566 0.004 0.929 0.01 0.975335 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.004Accept 0.929Reject(pA0.89,pR0.38)
6 0.112645 0.24551 -0.0148863 0.50759 0.004 0.93 0.01 0.980499 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.004Accept 0.93Reject(pA0.89,pR0.38)
7 0.109683 0.225174 -0.0085591 0.471012 0.003 0.948 0.01 0.956176 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.003Accept 0.948Reject(pA0.89,pR0.38)
8 0.107311 0.207229 -0.00401402 0.437111 0.001 0.952 0.01 0.91361 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.001Accept 0.952Reject(pA0.89,pR0.38)
9 0.105211 0.199914 -0.00136658 0.423515 0.001 0.954 0.01 0.892408 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.001Accept 0.954Reject(pA0.89,pR0.38)
10 0.101247 0.181456 0.0023216 0.385828 0 0.965 0.01 0.839314 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 0.965Reject(pA0.89,pR0.38)
#t=5で0.929Rejectを達成（推定値はpR0.95)
#t=10で指定話者90%非指定数字列(riC0_0.9)を間違ってAcceptしない(0Accept)
#このとき、96.5%は棄却されるが、のこり3.5%は保留になる。
#
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.85,pR0.42)
1 0.102411 0.446264 -0.0499006 1.38786 0.098 0.902 0.01 0.920496 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.098Accept 0.902Reject(pA0.85,pR0.42)
2 0.130447 0.399867 -0.0490734 0.959257 0.009 0.85 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.009Accept 0.85Reject(pA0.85,pR0.42)
3 0.125511 0.320454 -0.0375115 0.691599 0.016 0.891 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.016Accept 0.891Reject(pA0.85,pR0.42)
4 0.117781 0.28991 -0.0292019 0.593531 0.008 0.945 0.01 0.973665 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.008Accept 0.945Reject(pA0.85,pR0.42)
5 0.113414 0.260538 -0.0209097 0.53566 0.006 0.932 0.01 0.975335 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.006Accept 0.932Reject(pA0.85,pR0.42)
6 0.112645 0.24551 -0.0148863 0.50759 0.005 0.94 0.01 0.980499 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.005Accept 0.94Reject(pA0.85,pR0.42)
7 0.109683 0.225174 -0.0085591 0.471012 0.003 0.96 0.01 0.956176 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.003Accept 0.96Reject(pA0.85,pR0.42)
8 0.107311 0.207229 -0.00401402 0.437111 0.002 0.958 0.01 0.91361 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.002Accept 0.958Reject(pA0.85,pR0.42)
9 0.105211 0.199914 -0.00136658 0.423515 0.001 0.968 0.01 0.892408 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.001Accept 0.968Reject(pA0.85,pR0.42)
10 0.101247 0.181456 0.0023216 0.385828 0 0.974 0.01 0.839314 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 0.974Reject(pA0.85,pR0.42)
#t=4で0.945Rejectを達成（推定値はpR0.95)
#t=10で指定話者90%非指定数字列(riC0_0.9)を間違ってAcceptしない(0Accept)
#このとき、98.5%は棄却されるが、のこり0.5%は保留になる。

(20130211) 3.5 結果の視覚化と考察
(20130211) 3.5-1 視覚化
cd ../12voicedata/allpole/
gnuplot
#(1) riC0_0の95%の下限と、riC0_0.9の95%の上限を求める
plot  "test_sd_riC0_0ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC0_0.9ytm1_0.9N40.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:3 w errorbars
#pART=pART:.85:.42:4 #この図でt=4におけるriC0_0のエラーバ─の下限(95%)と、riC0_0.9のエラーバーの上限(95%)として求めた
#pART=pART:.89:.38:5 #この図でt=5におけるriC0_0のエラーバ─の下限(95%)と、riC0_0.9のエラーバーの上限(95%)として求めた
## t=10でriC0_0でrR=0(間違ってRejectしない）, riC0_0.9でrA=0（間違ってAcceptしない）になる？
#
#plot  "test_sd_riC0_0ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:4:5 w errorbars, \
#"test_sd_riC0_0.9ytm1_0.9N40.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:4:5 w errorbars
#pART=pART:.68:.60:4 #正と負の不確かさでpA,pRを決定するのははあまり良くない
#
#(2) riC0_0でrR=0(間違ってRejectしない）, riC0_0.9でrA=0（間違ってAcceptしない）にするしきい値を求める
plot  "test_sd_riC0_0ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:8:9 w errorbars, \
"test_sd_riC0_0.9ytm1_0.9N40.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:8:9 w errorbars
# 0.85:t=10でのピンク(riC0_0.9)のエラーバーの上限の上、0.54:t=10で緑(riC0_0)のエラーバーの下限の下。
#t=10で、pR<=0.54(riC0_0のpmin(8)の下）ならば間違ってRejectしない
#t=10で、pA>=0.85(riC0_0.9のpmax(9)の上)のとき間違ってAcceptしない
#pART:.85:.42:4なので条件を満たす。

(20130211) 3.2 数字CAN2による数字列照合
(20130211) 3.2-1 数字列照合:指定話者＋指定数字列をテスト
pART=pART:.85:.33:4 
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0ytm1_0.9N40.dat
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.85,pR0.33)
1 0.827696 0.466146 -0.440086 0.999574 0.881 0.119 0.01 0.960305 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.881Accept 0.119Reject(pA0.85,pR0.33)
2 0.93825 0.261866 0.40357 1.02358 0.92 0.032 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.92Accept 0.032Reject(pA0.85,pR0.33)
3 0.960564 0.170734 0.481476 1.00622 0.922 0.008 0.0102785 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.922Accept 0.008Reject(pA0.85,pR0.33)
4 0.972646 0.11674 0.688721 1.00047 0.971 0.003 0.161477 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.971Accept 0.003Reject(pA0.85,pR0.33)
5 0.97551 0.109319 0.683509 0.998062 0.976 0.003 0.192456 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.976Accept 0.003Reject(pA0.85,pR0.33)
6 0.978459 0.0833552 0.748521 0.996558 0.978 0 0.339068 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.978Accept 0Reject(pA0.85,pR0.33)
7 0.981292 0.0561792 0.837127 0.995103 0.985 0 0.599457 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.985Accept 0Reject(pA0.85,pR0.33)
8 0.982735 0.0480098 0.856657 0.994101 0.992 0 0.436769 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.992Accept 0Reject(pA0.85,pR0.33)
9 0.983845 0.0360897 0.895882 0.993588 0.995 0 0.638087 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.995Accept 0Reject(pA0.85,pR0.33)
10 0.984919 0.0282113 0.918069 0.992969 0.996 0 0.772793 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.996Accept 0Reject(pA0.85,pR0.33)

(20130211) 3.2-5 数字列照合:指定話者＋90%非指定数字列をテスト 
pART=pART:.85:.33:4 
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0.9ytm1_0.9N40.dat
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.85,pR0.33)
1 0.0996139 0.44729 -0.0472901 1.44366 0.096 0.904 0.01 0.960305 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.096Accept 0.904Reject(pA0.85,pR0.33)
2 0.109456 0.392426 -0.0538924 0.925826 0.012 0.903 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.012Accept 0.903Reject(pA0.85,pR0.33)
3 0.090662 0.280044 -0.0347143 0.653857 0.011 0.871 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.011Accept 0.871Reject(pA0.85,pR0.33)
4 0.0759212 0.24855 -0.0267811 0.531535 0.004 0.945 0.01 0.959667 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.004Accept 0.945Reject(pA0.85,pR0.33)
5 0.0657406 0.210414 -0.0203905 0.427239 0.004 0.949 0.01 0.978402 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.004Accept 0.949Reject(pA0.85,pR0.33)
6 0.0592605 0.186865 -0.0109277 0.412665 0.004 0.971 0.01 0.958477 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.004Accept 0.971Reject(pA0.85,pR0.33)
7 0.05547 0.166966 -0.00429186 0.437194 0.003 0.975 0.01 0.902179 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.003Accept 0.975Reject(pA0.85,pR0.33)
8 0.0508659 0.14254 -0.00257269 0.346185 0 0.977 0.01 0.799977 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 0.977Reject(pA0.85,pR0.33)
9 0.0482388 0.134341 -0.00221911 0.309447 0.001 0.984 0.01 0.883136 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.001Accept 0.984Reject(pA0.85,pR0.33)
10 0.0439475 0.114665 -0.000294479 0.260095 0 0.985 0.01 0.791344 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 0.985Reject(pA0.85,pR0.33)

(20130211) 3.2-5 数字列照合:指定話者＋20%非指定数字列をテスト (1/4)
pART=pART:.85:.33:4 
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.2 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0.2ytm1_0.9N40.dat

(20130211) 3.2.6 視覚化
cd ../12voicedata/allpole/
gnuplot
#(1) riC0_0の95%の下限と、riC0_0.9の95%の上限を求める
plot "test_d_riC0_0ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_d_riC0_0.9ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#pART=pART:.85:.33:4 #この図でt=4におけるriC0_0のエラーバ─の下限(95%)と、riC0_0.9のエラーバーの上限(95%)として求めた
#(2) riC0_0でrR=0(間違ってRejectしない）, riC0_0.9でrA=0（間違ってAcceptしない）にするしきい値を求める
plot  "test_d_riC0_0ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:8:9 w errorbars, \
"test_d_riC0_0.9ytm1_0.9N40.dat" using ($1+0.1):2 w l, "" using ($1+0.1):2:8:9 w errorbars
# 0.85:t=10でのピンク(riC0_0.9)のエラーバーの上限の上、0.54:t=10で緑(riC0_0)のエラーバーの下限の下。
#t=10で、pR<=0.76(riC0_0のpmin(8)の下）ならば間違ってRejectしない
#t=10で、pA>=0.8(riC0_0.9のpmax(9)の上)のとき間違ってAcceptしない
#pART=pART:.85:.33:4 なので条件を満たす
#(3)



(20130211) 3.2-7 数字列照合:指定話者＋75%非指定数字列をテスト (4個のうち1個同じ)
pART=pART:.85:.33:4
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.75 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0.75ytm1_0.9N40.dat
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.89,pR0.38)
1 0.219216 0.632991 -0.12242 1.39343 0.225 0.775 0.01 0.960305 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.225Accept 0.775Reject(pA0.89,pR0.38)
2 0.268792 0.581868 -0.109759 1.17248 0.067 0.733 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.067Accept 0.733Reject(pA0.89,pR0.38)
3 0.251208 0.503033 -0.114739 0.890765 0.06 0.803 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.06Accept 0.803Reject(pA0.89,pR0.38)
4 0.23551 0.487417 -0.0555574 1.04488 0.046 0.746 0.01 0.987916 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.046Accept 0.746Reject(pA0.89,pR0.38)
5 0.222097 0.45032 -0.0620282 0.894208 0.054 0.744 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.054Accept 0.744Reject(pA0.89,pR0.38)
6 0.208079 0.41593 -0.056042 0.814112 0.025 0.828 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.025Accept 0.828Reject(pA0.89,pR0.38)
7 0.198164 0.381763 -0.0411152 0.76233 0.014 0.817 0.01 0.978173 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.014Accept 0.817Reject(pA0.89,pR0.38)
8 0.190521 0.364038 -0.0296354 0.757419 0.011 0.801 0.01 0.984885 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.011Accept 0.801Reject(pA0.89,pR0.38)
9 0.183133 0.352563 -0.0259613 0.730427 0.006 0.856 0.01 0.984246 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.006Accept 0.856Reject(pA0.89,pR0.38)
10 0.177904 0.332454 -0.0264351 0.670692 0.009 0.841 0.01 0.962098 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.009Accept 0.841Reject(pA0.89,pR0.38)

(20130211) 3.2-7 数字列照合:指定話者＋25%非指定数字列をテスト  (4個のうち3個同じ)
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.25 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0.25ytm1_0.9N40.dat
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.89,pR0.38)
1 0.616718 0.716298 -0.370352 1.13648 0.655 0.345 0.01 0.960305 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.655Accept 0.345Reject(pA0.89,pR0.38)
2 0.706183 0.59248 -0.205989 1.09932 0.502 0.284 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.502Accept 0.284Reject(pA0.89,pR0.38)
3 0.765904 0.4986 -0.0621846 1.06622 0.51 0.198 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.51Accept 0.198Reject(pA0.89,pR0.38)
4 0.801096 0.436134 0.135547 1.06392 0.604 0.093 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.604Accept 0.093Reject(pA0.89,pR0.38)
5 0.822882 0.398356 0.218365 1.05641 0.642 0.084 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.642Accept 0.084Reject(pA0.89,pR0.38)
6 0.846047 0.356016 0.267267 1.0408 0.66 0.074 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.66Accept 0.074Reject(pA0.89,pR0.38)
7 0.863127 0.322313 0.300576 1.02818 0.674 0.051 0.0407671 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.674Accept 0.051Reject(pA0.89,pR0.38)
8 0.875662 0.293551 0.373325 1.02462 0.682 0.037 0.0594502 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.682Accept 0.037Reject(pA0.89,pR0.38)
9 0.885078 0.276578 0.418625 1.02245 0.705 0.032 0.0490326 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.705Accept 0.032Reject(pA0.89,pR0.38)
10 0.889148 0.261737 0.447508 1.01981 0.711 0.027 0.057251 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.711Accept 0.027Reject(pA0.89,pR0.38)
cd ../12voicedata/allpole/
gnuplot
#(1) riC0_0の95%の下限と、riC0_0.9の95%の上限を求める
plot "test_d_riC0_0ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_d_riC0_0.25ytm1_0.9N40.dat" using 1:2 w l, "" using 1:2:3 w errorbars

3.2-7 数字列照合:指定話者＋20%非指定数字列をテスト  (5個のうち4個同じ)
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N40mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 $pART ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.2 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0.2ytm1_0.9N40.dat
0 0.01 2.06085e-16 0.01 0.01 0 1 0.01 0.01 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0Accept 1Reject(pA0.89,pR0.38)
1 0.6748 0.673173 -0.394186 1.09865 0.716 0.284 0.01 0.960305 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.716Accept 0.284Reject(pA0.89,pR0.38)
2 0.738737 0.5752 -0.20262 1.09876 0.572 0.258 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.572Accept 0.258Reject(pA0.89,pR0.38)
3 0.805286 0.464299 -0.000903325 1.06088 0.566 0.14 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.566Accept 0.14Reject(pA0.89,pR0.38)
4 0.837369 0.416046 0.117226 1.05471 0.693 0.086 0.01 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.693Accept 0.086Reject(pA0.89,pR0.38)
5 0.860582 0.359478 0.246606 1.04452 0.712 0.061 0.0147819 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.712Accept 0.061Reject(pA0.89,pR0.38)
6 0.875109 0.315229 0.316854 1.0313 0.718 0.047 0.020631 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.718Accept 0.047Reject(pA0.89,pR0.38)
7 0.884564 0.304433 0.331841 1.02809 0.735 0.045 0.0161059 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.735Accept 0.045Reject(pA0.89,pR0.38)
8 0.896988 0.269128 0.423134 1.02302 0.75 0.026 0.0146688 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.75Accept 0.026Reject(pA0.89,pR0.38)
9 0.905592 0.249603 0.442557 1.01819 0.775 0.024 0.0273286 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.775Accept 0.024Reject(pA0.89,pR0.38)
10 0.914911 0.226281 0.492345 1.01428 0.794 0.017 0.0397317 0.99 #t <p> UC <p>-UC- <p>+UC+ rA rR pmin pmax<-0.794Accept 0.017Reject(pA0.89,pR0.38)





########################################################################################################################
2013/02/08　まとめてみる
1. テキスト指定形話者照合（認識）のwhyとwhat。
テキスト指定形話者照合は、テキスト依存型話者照合と類似している。すなわち、
テキスト指定形では(a)「認識のたびに任意のテキストを指定する」ことを想定するが、
これはテキスト依存形でも同様である。違いは、(b)「テキスト指定形ではテキストを
正しく発声したと判断できるときのみ受理判定をする」こととしていることである。
例えば、テキスト依存やテキスト独立では、(c)「詐称者が本人の音声を録音して
装置の前で再生すれば、装置をだましやすい」ことに対処する手法であるとしている。

どのようなテキストを指定するか問題である。文献[2](松井、古井：テキスト指定形
話者認識,1996）では、20〜40文字数のテキストからなる学習とテストデータセット
はかなり類似度が低いテキストから構成されている。「テキスト照合では、指定された
テキストとは異なるテキストを発声した場合」と書かれているがどのように異なるか
示していない。文脈からすると用意したテストデータのうちのどれか異なるものを
使ったと考えられるが、それらの類似度はかなり低いと考えられる。
一般に、テキストを正しく発声したかどうかの判断は、指定テキストとテスト
テキストの類似度が影響する。下の実験では、多段照合を行っても、全文字数
の内50%以上の個数だけ異なる発声をした場合でないと、100%正しく発声した
場合との区別はできない。

そこで本研究では、数字列を直接提示するのではなく、例えば、電話番号、生年月日、
学生番号、何らかの暗唱番号等、一般には他人が知らない数字列に対する質問を行い、
それに答えさせることを想定する。これは現実的で実用的！

数字列指定形話者照合の評価実験としては、テキスト指定形(話者CAN2と数字CAN2、
または話者数字CAN2)の受理・棄却のしきい値が設定できるか、判定に必要な数字数は
いくらかなどの検討（植木、塚崎）

なお、
話者CAN2とは、テキスト（数字）独立で第s話者を２クラス分類するCAN2^s
数字CAN2とは、話者独立で第d数字を２クラス分類するCAN2^d
話者数字CAN2とは、第s話者の第d数字を２クラス分類するCAN2^{s,d}
のことを指す。

2. 評価実験を行う前に、まず、話者CAN2,数字CAN2,話者数字CAN2の分類性能を上げる。
バギング学習で、alpha=1.6のとき、与えられたデータの内、約80%=1-exp(-1.6)=0.798 を学習し、
残りを予想することとなり、予測性能が良くなる可能性がある。
（なお、alphaを大きくすると未知データに対する汎化能力の見積りのバラツキが大きくなるので、
通常は、alpha=0.7として50%学習し、残り50%を予測するものを使っている。今回は汎化能力の見積りは
あまり重視しないのでこれでやってみる。）

すべての場合で88％以上のTPで認識できた？

oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole s:-1 N:50
0.99000 0.98000 0.02000 0.01000 4.28571e-05 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.92000 0.99333 0.00667 0.08000 1.23810e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.93000 0.98167 0.01833 0.07000 1.26190e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.89000 0.98333 0.01667 0.11000 1.80952e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.91000 0.98333 0.01667 0.09000 1.52381e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.93000 0.96167 0.03833 0.07000 1.54762e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.93000 0.98833 0.01167 0.07000 1.16667e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#result in '../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.ystat'.

oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole d:-1 N:50
0.95714 0.99683 0.00317 0.04286 6.57596e-05 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.91429 0.98889 0.01111 0.08571 1.38322e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.91429 0.99206 0.00794 0.08571 1.33787e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.94286 0.99524 0.00476 0.05714 8.84354e-05 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.98571 0.98095 0.01905 0.01429 4.76190e-05 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.91429 0.99365 0.00635 0.08571 1.31519e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.88571 0.99365 0.00635 0.11429 1.72336e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.91429 0.98571 0.01429 0.08571 1.42857e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.98571 0.99365 0.00635 0.01429 2.94785e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9
#result in '../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.ystat'.

#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:-1 N:50 
1.00000 0.99275 0.00725 0.00000 1.03520e-05 700 0 0 #TP,TN,FP,FN,ERR,n,sm0 txm0
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 0 1 #TP,TN,FP,FN,ERR,n,sm0 txm1
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 0 2 #TP,TN,FP,FN,ERR,n,sm0 txm2
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 0 3 #TP,TN,FP,FN,ERR,n,sm0 txm3
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 4 #TP,TN,FP,FN,ERR,n,sm0 txm4
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 5 #TP,TN,FP,FN,ERR,n,sm0 txm5
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 0 6 #TP,TN,FP,FN,ERR,n,sm0 txm6
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 0 7 #TP,TN,FP,FN,ERR,n,sm0 txm7
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 0 8 #TP,TN,FP,FN,ERR,n,sm0 txm8
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 9 #TP,TN,FP,FN,ERR,n,sm0 txm9
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 1 0 #TP,TN,FP,FN,ERR,n,sm1 txm0
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 1 1 #TP,TN,FP,FN,ERR,n,sm1 txm1
0.50000 1.00000 0.00000 0.50000 7.14286e-04 700 1 2 #TP,TN,FP,FN,ERR,n,sm1 txm2 ? ->0.7below
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 1 3 #TP,TN,FP,FN,ERR,n,sm1 txm3
1.00000 0.99275 0.00725 0.00000 1.03520e-05 700 1 4 #TP,TN,FP,FN,ERR,n,sm1 txm4
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 1 5 #TP,TN,FP,FN,ERR,n,sm1 txm5 
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 1 6 #TP,TN,FP,FN,ERR,n,sm1 txm6 
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 1 7 #TP,TN,FP,FN,ERR,n,sm1 txm7
0.60000 0.99565 0.00435 0.40000 5.77640e-04 700 1 8 #TP,TN,FP,FN,ERR,n,sm1 txm8 ? ->0.7below
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 1 9 #TP,TN,FP,FN,ERR,n,sm1 txm9
0.80000 0.99710 0.00290 0.20000 2.89855e-04 700 2 0 #TP,TN,FP,FN,ERR,n,sm2 txm0
0.90000 0.99275 0.00725 0.10000 1.53209e-04 700 2 1 #TP,TN,FP,FN,ERR,n,sm2 txm1
0.50000 0.98841 0.01159 0.50000 7.30849e-04 700 2 2 #TP,TN,FP,FN,ERR,n,sm2 txm2 ? ->0.7below
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 2 3 #TP,TN,FP,FN,ERR,n,sm2 txm3
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 2 4 #TP,TN,FP,FN,ERR,n,sm2 txm4
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 2 5 #TP,TN,FP,FN,ERR,n,sm2 txm5
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 2 6 #TP,TN,FP,FN,ERR,n,sm2 txm6
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 2 7 #TP,TN,FP,FN,ERR,n,sm2 txm7
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 2 8 #TP,TN,FP,FN,ERR,n,sm2 txm8
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 2 9 #TP,TN,FP,FN,ERR,n,sm2 txm9
1.00000 0.98986 0.01014 0.00000 1.44928e-05 700 3 0 #TP,TN,FP,FN,ERR,n,sm3 txm0
1.00000 0.99275 0.00725 0.00000 1.03520e-05 700 3 1 #TP,TN,FP,FN,ERR,n,sm3 txm1
0.90000 0.99275 0.00725 0.10000 1.53209e-04 700 3 2 #TP,TN,FP,FN,ERR,n,sm3 txm2
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 3 3 #TP,TN,FP,FN,ERR,n,sm3 txm3 -
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 3 4 #TP,TN,FP,FN,ERR,n,sm3 txm4
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 3 5 #TP,TN,FP,FN,ERR,n,sm3 txm5
0.70000 0.99855 0.00145 0.30000 4.30642e-04 700 3 6 #TP,TN,FP,FN,ERR,n,sm3 txm6 
0.60000 1.00000 0.00000 0.40000 5.71429e-04 700 3 7 #TP,TN,FP,FN,ERR,n,sm3 txm7 ?
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 3 8 #TP,TN,FP,FN,ERR,n,sm3 txm8
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 3 9 #TP,TN,FP,FN,ERR,n,sm3 txm9
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 4 0 #TP,TN,FP,FN,ERR,n,sm4 txm0
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 4 1 #TP,TN,FP,FN,ERR,n,sm4 txm1
0.70000 0.98406 0.01594 0.30000 4.51346e-04 700 4 2 #TP,TN,FP,FN,ERR,n,sm4 txm2
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 4 3 #TP,TN,FP,FN,ERR,n,sm4 txm3
0.90000 0.99275 0.00725 0.10000 1.53209e-04 700 4 4 #TP,TN,FP,FN,ERR,n,sm4 txm4
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 4 5 #TP,TN,FP,FN,ERR,n,sm4 txm5
0.80000 0.99420 0.00580 0.20000 2.93996e-04 700 4 6 #TP,TN,FP,FN,ERR,n,sm4 txm6 
0.70000 0.99565 0.00435 0.30000 4.34783e-04 700 4 7 #TP,TN,FP,FN,ERR,n,sm4 txm7 
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 4 8 #TP,TN,FP,FN,ERR,n,sm4 txm8
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 4 9 #TP,TN,FP,FN,ERR,n,sm4 txm9
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 5 0 #TP,TN,FP,FN,ERR,n,sm5 txm0
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 5 1 #TP,TN,FP,FN,ERR,n,sm5 txm1
0.80000 0.99420 0.00580 0.20000 2.93996e-04 700 5 2 #TP,TN,FP,FN,ERR,n,sm5 txm2
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 5 3 #TP,TN,FP,FN,ERR,n,sm5 txm3
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 5 5 #TP,TN,FP,FN,ERR,n,sm5 txm5
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 5 6 #TP,TN,FP,FN,ERR,n,sm5 txm6
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 5 7 #TP,TN,FP,FN,ERR,n,sm5 txm7
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 5 8 #TP,TN,FP,FN,ERR,n,sm5 txm8
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 5 9 #TP,TN,FP,FN,ERR,n,sm5 txm9
0.80000 0.99565 0.00435 0.20000 2.91925e-04 700 6 0 #TP,TN,FP,FN,ERR,n,sm6 txm0 
0.90000 0.99130 0.00870 0.10000 1.55280e-04 700 6 1 #TP,TN,FP,FN,ERR,n,sm6 txm1
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 6 2 #TP,TN,FP,FN,ERR,n,sm6 txm2
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 6 3 #TP,TN,FP,FN,ERR,n,sm6 txm3
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 6 4 #TP,TN,FP,FN,ERR,n,sm6 txm4
1.00000 0.99855 0.00145 0.00000 2.07039e-06 700 6 5 #TP,TN,FP,FN,ERR,n,sm6 txm5
0.80000 0.99710 0.00290 0.20000 2.89855e-04 700 6 6 #TP,TN,FP,FN,ERR,n,sm6 txm6
1.00000 0.99710 0.00290 0.00000 4.14079e-06 700 6 7 #TP,TN,FP,FN,ERR,n,sm6 txm7
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 8 #TP,TN,FP,FN,ERR,n,sm6 txm8
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 9 #TP,TN,FP,FN,ERR,n,sm6 txm9
#result in '../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.ystat'.

#参考#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:1:2 N:30 
#参考#0.70000 0.99855 0.00145 0.30000 4.30642e-04 700 1 2 #TP,TN,FP,FN,ERR,n,sm1 txm2
#参考##result in '../12voicedata/allpole/oob4sd:1:2N30mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4sd:1:2N30mbas2:300:1.6:1.ystat'.
#参考#
#参考#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:2:2 N:30 
#参考#0.70000 0.98696 0.01304 0.30000 4.47205e-04 700 2 2 #TP,TN,FP,FN,ERR,n,sm2 txm2
#参考##result in '../12voicedata/allpole/oob4sd:2:2N30mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4sd:2:2N30mbas2:300:1.6:1.ystat'.
#参考#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:1:8 N:30 
#参考#0.70000 1.00000 0.00000 0.30000 4.28571e-04 700 1 8 #TP,TN,FP,FN,ERR,n,sm1 txm8
#参考##result in '../12voicedata/allpole/oob4sd:1:8N30mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4sd:1:8N30mbas2:300:1.6:1.ystat'.
#参考#
#参考#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.6:1 dir:../12voicedata/allpole sd:3:7 N:40 
#参考#0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 3 7 #TP,TN,FP,FN,ERR,n,sm3 txm7
#参考##result in '../12voicedata/allpole/oob4sd:3:7N40mbas2:300:1.6:1.y' and '../12voicedata/allpole/oob4sd:3:7N40mbas2:300:1.6:1.ystat'.
#参考#
#参考#d=../12voicedata/allpole
#参考#cp $d/oob4sd:-1N50mbas2:300:1.6:1.y $d/allpole/oob4sd.y
#参考#cat oob4sd:1:2N30mbas2:300:1.6:1.y >> $d/allpole/oob4sd.y
#参考#cat oob4sd:2:2N30mbas2:300:1.6:1.y >> $d/allpole/oob4sd.y
#参考#cat oob4sd:1:8N30mbas2:300:1.6:1.y >> $d/allpole/oob4sd.y


3. 数字列指定形話者照合の評価実験
3.1 話者CAN2による話者照合
3.1-1 話者照合:指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s_riC0_0ytm1_0.9.dat
#10 0.978426 0.0924571 #t <p> uncertainty_p(k2) <-- Accept!
#selected n337 <FP>0.03+-0 <FN>0.064+-0.0282135 TotalUncertainty0.0142409(k2)

3.1-2 話者照合:非指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s_riC1_0ytm1_0.9.dat
#10 0.0156562 0.0261476 #t <p> uncertainty_p(k2) <-- Reject!

3.1-3 話者照合:指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s_riC0_1ytm1_0.9.dat
#10 0.976367 0.112299 #t <p> uncertainty_p(k2) <-- Accept!

3.1-4 話者照合:非指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s_riC1_1ytm1_0.9.dat
#10 0.0178423 0.0450369 #t <p> uncertainty_p(k2) <-- Reject!

3.1-5 話者照合:指定話者＋90%非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4s:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_s_riC0_0.9ytm1_0.9.dat
#10 0.9783 0.0872684 #t <p> uncertainty_p(k2) <-- Accept!

3.2 数字CAN2による数字列照合
3.2-1 数字列照合:指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0ytm1_0.9.dat
#10 0.985457 0.0353956 #t <p> uncertainty_p(k2) <-- Accept!
#selected n266 <FP>0.0142857+-6.93889e-18 <FN>0.0605042+-0.0367064 TotalUncertainty0.0197034(k2)

3.2-2 数字列照合:非指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC1_0ytm1_0.9.dat
#10 0.984677 0.0446509 #t <p> uncertainty_p(k2) <-- Accept!

3.2-3 数字列照合:指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_1ytm1_0.9.dat
#10 0.0112802 0.00916423 #t <p> uncertainty_p(k2) <-- Reject!

3.2-4 数字列照合:非指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC1_1ytm1_0.9.dat
#10 0.0114425 0.00955936 #t <p> uncertainty_p(k2) <-- Reject!

3.2-5 数字列照合:指定話者＋90%非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9 ; grep selected tmp/testsd.dat 
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_d_riC0_0.9ytm1_0.9.dat
#10 0.0426942 0.132212 #t <p> uncertainty_p(k2) <-- Reject!

3.3 結果の視覚化と考察
3.3-1 視覚化
cd ../12voicedata/allpole/
gnuplot
plot "test_s_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC0_0.9ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars

plot "test_d_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_d_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_d_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_d_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_d_riC0_0.9ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars

3.3-2 考察
1.話者照合のみでは第２数字目から、受理すべき事後確率と棄却すべき事後確率の95%誤差範囲が
重ならない。受理のしきい値はpA=0.4、棄却のしきい値pR=0.2程度とすれば良い。
2.数字照合では第3ステップから、受理すべき事後確率と棄却すべき事後確率の95%誤差範囲が重
ならない。受理のしきい値はpA=0.69、棄却のしきい値pR=0.46程度とすれば良い。
3.数字0〜9までをランダムに発声すると1/10の割合で正解、あるいは0.9の確率で不正解に
なると期待できるので最後のriC0_0.9の例はその場合を示す。話者照合では受理となるが、数字
照合で棄却になるので、結果として棄却とする。判定数字数は3以上であれば良い。実用的でもある。

3.4 話者数字CAN2による数字列照合
3.4-1 話者数字列照合:指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_0ytm1_0.9.dat
#10 0.985792 0.0307949 #t <p> uncertainty_p(k2) <-- Accept!
#selected n0 <FP>0.00135046+-0.00401117 <FN>0.254545+-0.260958 TotalUncertainty0.065355(k2)

3.4-2 話者数字列照合:非指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC1_0ytm1_0.9.dat
#10 0.0481863 0.0765256 #t <p> uncertainty_p(k2) <-- Reject!

3.4-3 話者数字列照合:指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_1ytm1_0.9.dat
#10 0.0475519 0.066702 #t <p> uncertainty_p(k2) <-- Reject!

3.4-4 話者数字列照合:非指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC1_1ytm1_0.9.dat
#10 0.0457095 0.0539679 #t <p> uncertainty_p(k2) <-- Reject!

3.4-5 話者数字列照合:指定話者＋90%非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_0.9ytm1_0.9.dat
#10 0.122674 0.243889 #t <p> uncertainty_p(k2) <-- Reject!

3.5 結果の視覚化と考察
3.5-1 視覚化
cd ../12voicedata/allpole/
gnuplot
(1)
plot  "test_sd_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC0_0.9ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
(2)
plot "test_s_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC0_0.9ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
(3)
plot  "test_sd_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
(4)
plot "test_s_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_s_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars

3.5-2 考察
(1) (1)は指定話者と指定数字列の場合（riC0_0）のみ受理され、受理と棄却は第２数字目からしきい値
で分けることができることを示す。
(2) (3)と(4)はそれぞれテキスト依存とはテキスト独立の話者照合を表し、テキスト依存は
第１数字からしきい値による受理と棄却が可能であるが、テキスト独立は第２数字から可能となる。
(3)話者数字CAN2を使う場合、と話者CAN2と数字CAN2を使う場合との比較は、
　・前者は学習に時間がかかるが、後者は学習が少なくて済む。
　・前者は、棄却のとき話者が不正解か数字列が不正解か分からないが、後者は分かる。
　・

3.6 Bayes法との比較
3.6-1 話者数字列照合:指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:0 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_0ytm1_0.9_bayes.dat
10 0.986879 0.0491611 #t <p> uncertainty_p(k2) <-- Accept!

3.6-2 話者数字列照合:指定話者＋90%非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sd:-1N50mbas2:300:1.6:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:0 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9 ; grep selected tmp/testsd.dat
cp tmp/testsd_stat.dat ../12voicedata/allpole/test_sd_riC0_0.9ytm1_0.9_bayes.dat
10 0.133885 0.567313 #t <p> uncertainty_p(k2) <-- Reject!

3.6-3 視覚化と考察
cd ../12voicedata/allpole/
gnuplot
plot  "test_sd_riC0_0ytm1_0.9_bayes.dat" using 1:2 w l, "" using 1:2:3 w errorbars, \
"test_sd_riC0_0.9ytm1_0.9_bayes.dat" using 1:2 w l, "" using 1:2:3 w errorbars
(1)Bayes法では棄却域がかなり大きく、受理域と棄却域とも数字数の増加とともに変動する。
(2)Gibbsの受理域と棄却域は数字数の増加とともに減少し、受理、棄却はより正確になる？

3.7 今後の実験と考察、
(1)実際にしきい値を設定したときの受理と棄却の確率を求めること
(2)未登録話者が入力するとどうなるか

----------------------------------
2013/02/07
(1) speakerdigit_v.cのしきい値_ythの選択法を新しくした。
オプション　ytm:<method>:<ytha>:<nyth>
	<method>=0 従来のようにyの正例の平均ymeanP[m]と負例の平均ymeanN[m]の PNr で内分する点をyth
        <method>=1, <ytha>>0: -ythaからythaまでを<nyth>等分してythの値とし、p_{FN}とp_{FP}の分散
        が小さくなるyth
        本バージョンでは、p_{FP}とp_{FN}の分散は、FPとFNの各データに対する分散として求めた！
	 NEW: v_{FP}=(\sum_m ( p^{m}_{FP}- <p^{m}_{FP}> )^2 n^{m}_{FP} )/\sum_m n^{m}_{FP}
　　　　　
　　　　　なおp_{FP}とp_{FN}の分散を、次の式
　        OLD:  v_{FP}=(\sum_m ( p^{m}_{FP}- <p^{m}_{FP}> )^2 )/ M   (MはCAN2^mの個数)
　　　　　のように各mに対して求めるやり方が直感的にすぐに思い付く。下の #OLD#2013/02/07 のところはこの
　　　　　結果を示している。しかし、上のNEWの方法の結果の方が良かったので以下では検討しない。またこの機能は
　　　　　現プログラムでは使えない。また、次のオプションも可能。
        <method>=1, <ytha>=0: ymeanN[m]からymeanP[m]までを<nyth>等分してythの値とし、p_{FN}とp_{FP}の
　　　　　分散が小さくなるyth を使用。しかし、 <ytha>=0.9とした上の方法の方が良かったので以下では検討しない。


(2)使用例
ytm:1:0.9:1000 の方が良いように見える？
(2-1) 話者照合
(2-1-1) 話者照合:指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_0ytm1_0.9.dat
#10 0.90259 0.242171 #t <p> uncertainty_p(k2) <-- Accept!   test:4:1000:0:0                      ytm:1:0.9:1000 
#selected n0 <FP>0.00909144+-0.00554657 <FN>0.358986+-0.0966179 TotalUncertainty0.0320328(k2)   ytm:1:0.9:1000

(2-1-2) 話者照合:非指定話者＋正解数字列をテスト  新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 ; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC1_0ytm1_0.9.dat
#10 0.0897657 0.153849 #t <p> uncertainty_p(k2) <-- Reject! test:4:1000:1:0                      ytm:1:0.9:1000 

(2-1-2') 話者照合:指定話者＋非正解数字列をテスト  新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 ; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_1ytm1_0.9.dat
10 0.887656 0.275646 #t <p> uncertainty_p(k2) <-- Accept!

(2-1-2'') 話者照合:非指定話者＋非正解数字列をテスト  新手法 ytm:1:0.9:1000
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1 ; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC1_1ytm1_0.9.dat
10 0.0885816 0.14136 #t <p> uncertainty_p(k2) <-- Reject!

(2-1-3) 話者照合:指定話者＋指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_0ytm0.dat
#10 0.915434 0.242236 #t <p> uncertainty_p(k2) <-- Accept!  test:4:1000:0:0             uncertainty a little worse than (2-1-1)

(2-1-4) 話者照合:非指定話者＋指定数字列をテスト 従来法 ytm:0  PNr:0.9
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 ; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC1_0ytm0.dat                     
#10 0.0736496 0.150134 #t <p> uncertainty_p(k2) <-- Reject!                             uncertainty a little better than (2-1-2)

(2-1-4') 話者照合:指定話者＋非指定数字列をテスト 従来法 ytm:0  PNr:0.9
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 ; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_1ytm0.dat
#10 0.902209 0.269468 #t <p> uncertainty_p(k2) <-- Accept!

(2-1-4'') 話者照合:非指定話者＋非指定数字列をテスト 従来法 ytm:0  PNr:0.9
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1 ; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC1_1ytm0.dat
10 0.0692312 0.125634 #t <p> uncertainty_p(k2) <-- Reject!

(2-1-5) 結果を視覚的にチェック
cd ../12voicedata/allpole/
gnuplot
plot "testsd_stat_s_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
plot "testsd_stat_s_riC0_0ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_0ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC0_1ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_1ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#見た目にはほとんど差はない。両者とも３数字目から95%の誤差範囲(uncertainty)が重ならない。２数字目での誤差範囲の重なりは従来法より新手法の方が小さい。
棄却(Reject)の判断を行えるステップ数TRは両手法ともTR=３数字目と言える。

(2-2) 話者数字列照合
(2-2-1)話者数字列照合：指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0; grep selected tmp/testsd.dat  #correct speaker and correct digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm1_0.9.dat
#10 0.949231 0.136441 #t <p> uncertainty_p(k2) <-- Accept!
#selected n0 <FP>0.000798813+-0.00240937 <FN>0.386869+-0.355785 TotalUncertainty0.0879021(k2)

(2-2-2)話者数字列照合：非指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0; grep selected tmp/testsd.dat  #incorrect speaker and correct digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_0ytm1_0.9.dat
#10 0.155071 0.128962 #t <p> uncertainty_p(k2) <-- Reject!

(2-2-2')話者数字列照合：非指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1; grep selected tmp/testsd.dat  #incorrect speaker and incorrect digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_1ytm1_0.9.dat
10 0.151963 0.116225 #t <p> uncertainty_p(k2) <-- Reject!

(2-2-2'')話者数字列照合：非指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1; grep selected tmp/testsd.dat  #incorrect speaker and incorrect digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_1ytm1_0.9.dat
#10 0.150754 0.105353 #t <p> uncertainty_p(k2) <-- Reject!

(2-2-3)話者数字列照合：指定話者＋指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0; grep selected tmp/testsd.dat  #correct speaker and correct digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm0.dat
#10 0.924686 0.190069 #t <p> uncertainty_p(k2) <-- Accept!                             uncertainty worse than (2-2-1)

(2-2-4)話者数字列照合：非指定話者＋指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0; grep selected tmp/testsd.dat  #incorrect speaker and correct digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_0ytm0.dat        
#10 0.185655 0.15029 #t <p> uncertainty_p(k2) <-- Reject!                              uncertainty worse than (2-2-2)

(2-2-4')話者数字列照合：指定話者＋非指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1; grep selected tmp/testsd.dat  #incorrect speaker and correct digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_1ytm0.dat        
#10 0.185655 0.15029 #t <p> uncertainty_p(k2) <-- Reject!

(2-2-4'')話者数字列照合：非指定話者＋非指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1; grep selected tmp/testsd.dat  #incorrect speaker and correct digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_1ytm0.dat        
10 0.17378 0.0856736 #t <p> uncertainty_p(k2) <-- Reject!

(2-2-5) 結果を視覚的にチェック
cd ../12voicedata/allpole/
gnuplot
plot "testsd_stat_sd_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
plot "testsd_stat_sd_riC0_0ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_0ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC0_1ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_1ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars

#見た目にはそれほど差は無いようにも見えるが、新手法では第２数字目から、正解と不正解の95%誤差範囲が重ならない。
棄却(Reject)を行うしきい値pthRとステップ数TRは従来手法ではpthL=0.33(?)でTR=4数字目、新手法ではpthR=0.28でTR=3数字目ということがわかる。
（これらの数値はgnuplotの図上のマウスの位置の座標が左下に表れることから判断）

(2-3) 数字列照合
(2-3-1) 数字列照合：指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0ytm1_0.9.dat
#10 0.944957 0.194881 #t <p> uncertainty_p(k2) <-- Accept!
#selected n349 <FP>0.0349206+-1.38778e-17 <FN>0.119218+-0.0651669 TotalUncertainty0.0377743(k2)

(2-3-2) 数字列照合：指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_1ytm1_0.9.dat
#10 0.0360632 0.0445704 #t <p> uncertainty_p(k2) <-- Reject!

(2-3-2') 数字列照合：非指定話者＋指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC1_0ytm1_0.9.dat
#10 0.943795 0.183105 #t <p> uncertainty_p(k2) <-- Accept!

(2-3-3) 数字列照合：非指定話者＋非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC1_1ytm1_0.9.dat
10 0.0339631 0.0379863 #t <p> uncertainty_p(k2) <-- Reject!

(2-3-4) 数字列照合：指定話者＋指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0ytm0.dat
#10 0.937052 0.203156 #t <p> uncertainty_p(k2) <-- Accept!    uncertainty worse than (2-3-1)

(2-3-5) 数字列照合：指定話者＋非指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_1ytm0.dat
#10 0.0574392 0.074655 #t <p> uncertainty_p(k2) <-- Reject!  uncertainty worse than (2-3-2)

(2-3-4') 数字列照合：指定話者＋非指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC1_0ytm0.dat
10 0.934863 0.204551 #t <p> uncertainty_p(k2) <-- Accept!

(2-3-5) 数字列照合：非指定話者＋非指定数字列をテスト 従来法 ytm:0 PNr:0.9
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1; grep selected tmp/testsd.dat #correct speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC1_1ytm0.dat
#10 0.0545729 0.0706459 #t <p> uncertainty_p(k2) <-- Reject! uncertainty worse than (2-3-3)

(2-3-6) 結果を視覚的にチェック
cd ../12voicedata/allpole/
gnuplot
plot "testsd_stat_d_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC1_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
plot "testsd_stat_d_riC0_0ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC1_0ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC1_1ytm0.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#見た目にはあまり変わらないが、上の数字のuncertainty は新手法の方が良いことを示している。
両手法とも2数字目から受理と棄却の判断をして良いと考えられる。
数字列指定形話者認識を(2-2)で行う方法（塚崎）と(2-1)と(2-3)で行う方法（植木）を比べてみると

(2-4) 数字列照合：指定話者＋x%非指定数字列をテスト 新手法 ytm:1:0.9:1000
(2-4-0) 学習を行う
oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.0:1 dir:../12voicedata/allpole d:-1 N:50 
#cat ../12voicedata/allpole/oob4d:-1N50mbas2:300:1.0:1.ystat
0.87143 0.98889 0.01111 0.12857 1.99546e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.94286 0.99206 0.00794 0.05714 9.29705e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 O
0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 O
0.82857 0.97937 0.02063 0.17143 2.74376e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 --
0.85714 0.97619 0.02381 0.14286 2.38095e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.98571 1.00000 0.00000 0.01429 2.04082e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 O
0.87143 0.96825 0.03175 0.12857 2.29025e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 --
0.88571 0.96825 0.03175 0.11429 2.08617e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 --
0.94286 0.98254 0.01746 0.05714 1.06576e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.88571 1.00000 0.00000 0.11429 1.63265e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9
#saved in ../12voicedata/allpole/oob4d:-1N50mbas2:300:1.0:1.y

(2-4-1) 数字列照合：指定話者＋0%非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0ytm1_0.9_new.dat
#10 0.953373 0.162134 #t <p> uncertainty_p(k2) <-- Accept!
#selected n0 <FP>0.00479709+-0.00680731 <FN>0.324+-0.106666 TotalUncertainty0.0358999(k2)

(2-4-2) 数字列照合：指定話者＋90%非指定数字列をテスト 新手法 ytm:1:0.9:1000 ランダムに発すると9/nD=0.9=90%間違う
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.9; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0.9ytm1_0.9_new.dat
#10 0.108436 0.186707 #t <p> uncertainty_p(k2) <-- Reject!

(2-4-3) 数字列照合：指定話者＋100%非指定数字列をテスト 新手法 ytm:1:0.9:1000
speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1; grep selected tmp/testsd.dat #incorrect speaker and digit
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_1ytm1_0.9_new.dat
#10 0.0556793 0.0865766 #t <p> uncertainty_p(k2) <-- Reject!

(2-4-4) 結果を視覚的にチェック
cd ../12voicedata/allpole/
gnuplot
plot "testsd_stat_d_riC0_0ytm1_0.9_new.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_0.9ytm1_0.9_new.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm1_0.9_new.dat" using 1:2 w l, "" using 1:2:3 w errorbars
指定話者があらかじめ録音した数字列を用いる場合、指定数字列との違いの割合の期待値は90%であり、これを
実験したのが上の結果である．これはこのケースを除外できることを示す。

#Trial#(2-4-3) 数字列照合：指定話者＋20%非指定数字列をテスト 新手法 ytm:1:0.9:1000
#Trial#speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.2; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0.2ytm1_0.9_new.dat
#Trial##10 0.865368 0.296352 #t <p> uncertainty_p(k2) <-- Accept!
#Trial#
#Trial#(2-4-4) 数字列照合：指定話者＋50%非指定数字列をテスト 新手法 ytm:1:0.9:1000
#Trial#speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.5; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0.5ytm1_0.9_new.dat
#Trial#10 0.565011 0.4961 #t <p> uncertainty_p(k2) <-- Accept!
#Trial#
#Trial#(2-4-5) 数字列照合：指定話者＋50%非指定数字列をテスト 新手法 ytm:1:0.9:1000
#Trial#speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.55; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0.55ytm1_0.9_new.dat
#Trial##10 0.501704 0.49024 #t <p> uncertainty_p(k2) 
#Trial#
#Trial#(2-4-6) 数字列照合：指定話者＋60%非指定数字列をテスト 新手法 ytm:1:0.9:1000
#Trial#speakerdigit_v fd:../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9.1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.6; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0.6ytm1_0.9_new.dat
#Trial#10 0.431168 0.489644 #t <p> uncertainty_p(k2) 
#Trial#
#Trial#
#Trial# void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.1; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#
#Trial#
#Trial#
#Trial#
#Trial# void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.2; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#
#Trial#
#Trial#
#Trial#
#Trial# void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.3; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#
#Trial#
#Trial#
#Trial# void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.4; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#
#Trial#
#Trial#
#Trial#
#Trial# void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.5; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#
#Trial#
#Trial# void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.6; grep selected tmp/testsd.dat #incorrect speaker and digit
#Trial#
#Trial#
#Trial#
#Trial#
#Trial#
#Trial#
#Trial#2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#Trial#
#Trial#2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#Trial#
#Trial#1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_0.3ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_0.2ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_0.1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#Trial#
#Trial#
#Trial#
#Trial#.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0.5; grep selected tmp/testsd.dat  #incorrect speaker and incorrect digit
#Trial#
#Trial#
#Trial#
#Trial#.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0.5; grep selected tmp/testsd.dat  #incorrect speaker and incorrect digit
#Trial#
#Trial#
#Trial#
#Trial#
#Trial#
#Trial#g 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#Trial#
#Trial#1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC0_1ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars



#OLD#2013/02/07
#OLD#(1) speakerdigit_v.cのしきい値_ythの選択のymeanP[m]とymeanN[m]をいくつかの手法で求めた。
#OLD#オプション　ytm:<method>:<ytma>
#OLD#	<method>=0 従来のようにyの正例の平均ymeanP[m]と負例の平均ymeanN[m]のPNrの内点
#OLD#        <method>=1 <ytma>=0: ymeanN[m]からymeanP[m]までを100等分し、その内、FNとFPの分散が小さくなるyth
#OLD#        <method>=1 <ytma>>0: -ytmaからytmaまでを100等分し、その内、FNとFPの分散が小さくなるyth
#OLD#(2)使用例
#OLD#ytm:1:0.9:1000 の方が良いように見える？
#OLD#
#OLD#speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 ; grep selected tmp/testsd.dat #correct speaker and digit
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_0ytm1_0.dat
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_0ytm1_0.95.dat
#OLD#
#OLD##ytm:1:0:100 #selected n84 <FP>0.1402+-0.0246995 <FN>0.11+-0.0693084 TotalUncertainty0.0520275(k2) 従来手法　<--uncertainty は下のytm:1:0:1000より悪い
#OLD#10 0.85185 0.293764 #t <p> uncertainty_p(k2) <-- Accept! <--test:4:1000:0:0 
#OLD#10 0.0956575 0.134748 #t <p> uncertainty_p(k2) <-- Reject!<--test:4:1000:1:0 
#OLD#
#OLD##ytm:1:0:1000 #selected n813 <FP>0.136015+-0.0197726 <FN>0.11+-0.0691185 TotalUncertainty0.0508346(k2) OK?
#OLD#10 0.85417 0.291632 #t <p> uncertainty_p(k2) <-- Accept!  <--test:4:1000:0:0 
#OLD#10 0.0935893 0.129523 #t <p> uncertainty_p(k2) <-- Reject! <--test:4:1000:1:0 
#OLD#
#OLD##ytm:1:0:200 #selected n164 <FP>0.1371+-0.0213569 <FN>0.11+-0.06934 TotalUncertainty0.0513038(k2)　<--ytm:1:0:1000より悪い
#OLD#10 0.853244 0.2919 #t <p> uncertainty_p(k2) <-- Accept!     <--test:4:1000:0:0 
#OLD#10 0.0946697 0.133266 #t <p> uncertainty_p(k2) <-- Reject!  <--test:4:1000:1:0 
#OLD#
#OLD##ytm:1:0:500 selected n407 <FP>0.13617+-0.0199653 <FN>0.11+-0.0691185 TotalUncertainty0.0508723(k2)　<--ytm:1:0:1000とどっこいどっこい
#OLD#10 0.854434 0.29179 #t <p> uncertainty_p(k2) <-- Accept!    <--test:4:1000:0:0 　<--ytm:1:0:1000より悪い
#OLD#10 0.0932819 0.12936 #t <p> uncertainty_p(k2) <-- Reject!   <--test:4:1000:1:0 　<--ytm:1:0:1000より良い
#OLD#
#OLD#ytm:1:0:5000 #selected n4062 <FP>0.135922+-0.019678 <FN>0.11+-0.0690915 TotalUncertainty0.0507979(k2) <--ytm:1:0:1000と変わらない→1000で収束
#OLD#10 0.85417 0.291632 #t <p> uncertainty_p(k2) <-- Accept!    <--test:4:1000:0:0 
#OLD#10 0.0935893 0.129523 #t <p> uncertainty_p(k2) <-- Reject!  <--test:4:1000:1:0 
#OLD#
#OLD##ytm:1:0.9 #selected n77 <FP>0.13205+-0.0243105 <FN>0.115+-0.0709317 TotalUncertainty0.0530203(k2)
#OLD#10 0.850963 0.290294 #t <p> uncertainty_p(k2) <-- Accept! <--test:4:1000:0:0 
#OLD#10 0.0966184 0.133168 #t <p> uncertainty_p(k2) <-- Reject! <--test:4:1000:1:0 
#OLD#
#OLD##ytm:1:0.95 #selected n89 <FP>0.182817+-0.0261076 <FN>0.0916674+-0.0552135 TotalUncertainty0.0431864(k2)
#OLD#10 0.837014 0.278789 #t <p> uncertainty_p(k2) <-- Accept! <--test:4:1000:0:0 
#OLD#10 0.110728 0.141891 #t <p> uncertainty_p(k2) <-- Reject! <--test:4:1000:1:0 
#OLD#
#OLD##ytm:1:0.5 #selected n87 <FP>0.0825+-0.0352711 <FN>0.145+-0.0811162 TotalUncertainty0.0625455(k2)
#OLD#10 0.89648 0.275814 #t <p> uncertainty_p(k2) <-- Accept! <--test:4:1000:0:0 
#OLD#10 0.0712347 0.126106 #t <p> uncertainty_p(k2) <-- Reject! <--test:4:1000:1:0 
#OLD#
#OLD##NG ytm:1:1 #selected n99 <FP>0.990033+-0.0199333 <FN>7.01634e-33+-1.40327e-32 TotalUncertainty0.014095(k2)
#OLD#10 0.387102 1.34337e-14 #t <p> uncertainty_p(k2) <--test:4:1000:0:0 
#OLD#10 0.387102 1.34337e-14 #t <p> uncertainty_p(k2) <-- Reject! <--test:4:1000:1:0 
#OLD#
#OLD#speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1:0.9:1000 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0; grep selected tmp/testsd.dat  #correct speaker and correct digit
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm1_0.dat
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_0ytm1_0.dat
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm1_0.9.dat
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_0ytm1_0.9.dat
#OLD#cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm1_0.95.dat
#OLD#
#OLD##ytm:1:0.95:1000 #selected n0 <FP>0+-0 <FN>0.118841+-0 TotalUncertainty0(k2)
#OLD#10 0.94755 0.139864 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0 ytm:1:0.95:1000
#OLD#10 0.949231 0.136441 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0 ytm:1:0.9:1000
#OLD#10 0.948531 0.141483 #t <p> uncertainty_p(k2) <-- Accept!<-- test:4:1000:0:0 ytm:1:0.8:1000
#OLD#10 0.951637 0.138543 #t <p> uncertainty_p(k2) <-- Accept!<-- test:4:1000:0:0 ytm:1:0:1000
#OLD#
#OLD#
#OLD##ytm:1:0.95:1000 #selected n611 <FP>0.0805812+-0.00424036 <FN>0.118841+-0.239002 TotalUncertainty0.169026(k2)!!!?
#OLD##ytm:1:0.95:100  #selected n79 <FP>0.104188+-0.0194817 <FN>0.118841+-0.239002 TotalUncertainty0.16956(k2)
#OLD#10 0.91332 0.166299 #t <p> uncertainty_p(k2) <-- Accept!　<-- test:4:1000:0:0 ytm:1:0.95:5000
#OLD#10 0.912645 0.166307 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0 ytm:1:0.95:1000 !!!?
#OLD#10 0.911992 0.166701 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0 ytm:1:0.95:500
#OLD#10 0.900145 0.169229 #t <p> uncertainty_p(k2) <-- Accept!<-- test:4:1000:0:0 ytm:1:0.95:100
#OLD#10 0.201438 0.239999 #t <p> uncertainty_p(k2) <-- Reject! <-- test:4:1000:1:0;ytm:1:0.95:100
#OLD#
#OLD##ytm:1:0.9:1000 #selected n555 <FP>0.0297609+-0.012156 <FN>0.143478+-0.281847 TotalUncertainty0.199481(k2)
#OLD#10 0.940723 0.163286 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0 ytm:1:0.95:1000
#OLD#10 0.940846 0.163309 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0 ytm:1:0.95:100
#OLD#
#OLD#
#OLD##ytm:1:0.9 #selected n56 <FP>0.030029+-0.0126081 <FN>0.143478+-0.281847 TotalUncertainty0.199495(k2)
#OLD#10 0.940846 0.163309 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0;
#OLD#10 0.113298 0.195809 #t <p> uncertainty_p(k2) <-- Reject! <-- test:4:1000:1:0;
#OLD#
#OLD##ytm:1:0 #selected n71 <FP>0.174928+-0.0372717 <FN>0.0956522+-0.19706 TotalUncertainty0.141813(k2)
#OLD#10 0.870785 0.180705 #t <p> uncertainty_p(k2) <-- Accept! <-- test:4:1000:0:0;
#OLD#10 0.22628 0.244544 #t <p> uncertainty_p(k2) <-- Reject!  <-- test:4:1000:1:0;
#OLD#cd ../12voicedata/allpole/
#OLD#gnuplot
#OLD#plot "testsd_stat_sd_riC0_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_0ytm1_0.9.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#OLD#plot "testsd_stat_sd_riC0_0ytm1_0.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_0ytm1_0.dat" using 1:2 w l, "" using 1:2:3 w errorbars



2013/02/06
(1) speakerdigit_v.c
・オプションの修正　test:<id>:<n>:<riCs>:<riCd>
     <id>!=0 かつ riCd >=0のとき：話者誤り率riCs、数字誤り率riCdで生成する。
     <id>=0のとき：これまでと同じ
     <id>!=0で<riCd>を指定しないとき：これまでと同じ
・テキスト指定形話者識別のテストとしては
　正解例 test:4:1000:0:0 　　（指定話者が指定数字列を正しくテスト入力）を受理し、
　不正解例 test:4:1000:1:0 （非指定話者が指定数字列をテスト入力）を棄却する
　ためのしきい値を求めるのが自然？
・使用例は下の(3)。また、新しい学習結果(次の(2))を結合したファイルを読み込む
  ように修正した（下の(4-4)以下に結合の方法と実行結果）

(2) oob4speakerdigit+.c
・oob4speaker, oob4digit, oob4speakerdigitを1つにまとめるとともに、単一のCAN2を学習できるようにした。
・オプションは
   sd:<sm>:<dm>
   s:<sm>
   d:<dm>
のいずれかを使う。<sm>,<dm>は学習するマシンの番号。使用例は下の(4)

(3) (1)の使用例
(3-1) 話者照合(fs)：指定話者＋指定数字列をテストとして使う
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 #correct speaker and digit
#10 0.85185 0.293764 #t <pG> 2(std_pG) <-- OK because speaker verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_0ytm1.dat

(3-2) 話者照合(fs)：非指定話者＋指定数字列をテストとして使う
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #incorrect speaker and correct digits
#10 0.0956575 0.134748 #t <pG> 2(std_pG) <-- OK because speaker verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC1_0ytm1.dat

(3-3) 話者照合(fs)：指定話者＋非指定数字列をテストとして使う
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 #incorrect digits
#10 0.838315 0.299306 #t <pG> 2(std_pG) <-- OK because speaker verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_1ytm1.dat

(3-4) 数字列照合(fd)：指定話者＋指定数字列をテストとして使う
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0　#correct speaker and digit
#10 0.913209 0.224742 #t <pG> 2(std_pG) <-- OK because digit verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_0ytm1.dat

(3-5) 数字列照合(fd)：非指定話者＋指定数字列をテストとして使う
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s0d0ytm1.dat
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0　#incorrect speaker and  correct digit
#10 0.9128 0.213219 #t <pG> 2(std_pG) <-- OK because digit verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC1_0ytm1.dat

(3-6) 数字列照合(fd)：指定話者＋非指定数字列をテストとして使う
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1　#incorrect digits
#10 0.0539204 0.0658362 #t <pG> 2(std_pG) <-- OK because digit verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d_riC0_1ytm1.dat

(3-7) 話者数字列照合(fsd)：指定話者＋指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 #correct
#10 0.870785 0.180705 #t <pG> 2(std_pG) <-- OK because speakerdigit verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm1.dat

(3-8) 話者数字列照合(fsd)：非指定話者＋指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #incorrect speaker and correct digit
#10 0.22628 0.244544 #t <pG> 2(std_pG) <-- OK because speakerdigit verification
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_0ytm1.dat

(3-9) 話者数字列照合(fsd)：指定話者＋非指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:1 #incorrect digit
#10 0.214459 0.194148 #t <pG> 2(std_pG) <-- OK because speakerdigit verification

(3-10) 話者数字列照合(fsd)：非指定話者＋非指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:1 #incorrect speaker and incorrect digit
#10 0.202794 0.181141 #t <pG> 2(std_pG) <-- OK because speakerdigit verification

(3-11) 話者数字列照合(fsd)：非指定話者＋50%非指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0.5 #incorrect speaker and 50%incorrect digit
#10 0.219417 0.199372 #t <pG> 2(std_pG)

(3-12) ベイズ推定(gibbs:0)＋話者数字列照合(fsd)：指定話者＋指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:0 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 #correct
#10 0.817913 0.716401 #t <p> uncertainty_p(k2) <-- NG because big uncertainty(不確実性0.716401は変動が大きすぎる;予想外．予想ではpGが無限に単調増加）
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC0_0ytm1_b.dat

(3-13) ベイズ推定(gibbs:0)＋話者数字列照合(fsd)：非指定話者＋指定数字列をテストとして使う
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:0 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #
#10 0.112947 0.440701 #t <p> uncertainty_p(k2)<-- NG because big uncertainty(これも不確実性0.440701は変動が大きすぎる）
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd_riC1_0ytm1_b.dat

(3-15) gnuplotによる視覚化
cd ../12voicedata/allpole/
gnuplot
plot "testsd_stat_s_riC0_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars
plot "testsd_stat_d_riC0_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC1_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_d_riC0_1ytm1.dat" usplot "testsd_stat_sd_riC0_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars
ing 1:2 w l, "" using 1:2:3 w errorbars
plot "testsd_stat_sd_riC0_0ytm1_b.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd_riC1_0ytm1_b.dat" using 1:2 w l, "" using 1:2:3 w errorbars

(4) (2)の使用例
(4-1)まず、下の2013.01.24のoob4speaker.cと同じことを行った。
time oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole N:50 mbas:2:100:0.7:1 s:-1 N50 #learn speaker with all speaker (s:-1)
#real6m30.028s, user5m3.183s, sys0m21.873s
cat ../12voicedata/allpole/oob4s:-1N50mbas2:100:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole N:50 mbas:2:100:0.7:1 s:-1 N50 
0.90000 0.97000 0.03000 0.10000 1.85714e-04 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.84000 0.97500 0.02500 0.16000 2.64286e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.79000 0.96167 0.03833 0.21000 3.54762e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.82000 0.94833 0.05167 0.18000 3.30952e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.81000 0.98333 0.01667 0.19000 2.95238e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.80000 0.96000 0.04000 0.20000 3.42857e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.79000 0.96000 0.04000 0.21000 3.57143e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6

(4-2) 上のsm2の結果が悪いので、Nを変えて学習してみて、N=100で次の結果
oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu nL:10 k:36 mbas:2:100:0.7:1 dir:../12voicedata/allpole s:2 N:100 
cat ../12voicedata/allpole/oob4s:2N100mbas2:100:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu nL:10 k:36 mbas:2:100:0.7:1 dir:../12voicedata/allpole s:2 N:100 
#0.84000 0.96500 0.03500 0.16000 2.78571e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
#良くなった

(4-3) 上のsm6の結果も悪いので、Nを変えて学習してみて、N=40で次の結果
cat ../12voicedata/allpole/oob4s:6N40mbas2:100:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu nL:10 k:36 mbas:2:100:0.7:1 dir:../12voicedata/allpole s:6 N:40 
0.83000 0.95833 0.04167 0.17000 3.02381e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#良くなった

(4-4) 上の３つの結果のyファイルを結合したものを作る。
cp ../12voicedata/allpole/oob4s:-1N50mbas2:100:0.7:1.y ../12voicedata/allpole/oob4s.y
cat ../12voicedata/allpole/oob4s:2N100mbas2:100:0.7:1.y >> ../12voicedata/allpole/oob4s.y
cat ../12voicedata/allpole/oob4s:6N40mbas2:100:0.7:1.y >> ../12voicedata/allpole/oob4s.y

(4-5) 作ったもので認識
speakerdigit_v fs:../12voicedata/allpole/oob4s.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 #correct speaker and digit
#10 0.886566 0.271762 #t <p> uncertainty_p(k2)
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC0_0ytm1_new.dat

speakerdigit_v fs:../12voicedata/allpole/oob4s.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #correct speaker and digit
#10 0.0776555 0.119994 #t <p> uncertainty_p(k2)
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s_riC1_0ytm1_new.dat

(4-5) gnuplot で確認
cd ../12voicedata/allpole/
gnuplot
plot "testsd_stat_s_riC0_0ytm1_new.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_0ytm1_new.dat" using 1:2 w l, "" using 1:2:3 w errorbars
plot "testsd_stat_s_riC0_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_s_riC1_0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#newの方が良いように見える。差は僅か？

(4-6) 話者数字列でも行う。
(4-6-1) sm5 txm4が悪いので良いパラメタを探索(結果的にb=300が良かった）
oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole sd:5:4 N:50
0.40000 0.99710 0.00290 0.60000 8.61284e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N30
0.50000 0.99420 0.00580 0.50000 7.22567e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N40
0.30000 0.99710 0.00290 0.70000 1.00414e-03 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N50
0.40000 0.99855 0.00145 0.60000 8.59213e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N60
0.40000 0.99275 0.00725 0.60000 8.67495e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N80
0.40000 0.99710 0.00290 0.60000 8.61284e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N100
0.30000 0.99710 0.00290 0.70000 1.00414e-03 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N150

0.50000 0.98841 0.01159 0.50000 7.30849e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N50 mbas:2:50:0.7:1
0.70000 0.97681 0.02319 0.30000 4.61698e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N50 mbas:2:200:0.7:1
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N50 mbas:2:300:0.7:1
0.80000 0.99420 0.00580 0.20000 2.93996e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N50 mbas:2:400:0.7:1

0.50000 0.98841 0.01159 0.50000 7.30849e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N40 mbas:2:200:0.7:1
0.90000 0.99130 0.00870 0.10000 1.55280e-04 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 for check. N40 mbas:2:300:0.7:1

(4-6-2) yファイルを結合
cp ../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y ../12voicedata/allpole/oob4sd.y
cat ../12voicedata/allpole/oob4sd:5:4N50mbas2:300:0.7:1.y >> ../12voicedata/allpole/oob4sd.y

(4-6-3) 話者数字列照合：正解話者＋正解数字列
speakerdigit_v fsd:../12voicedata/allpole/oob4sd.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 #correct speaker and digit
#10 0.869749 0.179965 #t <p> uncertainty_p(k2) 
(4-6-4) 話者数字列照合：不正解話者＋正解数字列
speakerdigit_v fsd:../12voicedata/allpole/oob4sd.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #incorrect speaker and digit
10 0.219039 0.242057 #t <p> uncertainty_p(k2)

(4-6-5) 以前と比較：以前（次）よりuncertainty_pが僅かに小さくなった？
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:0:0 #correct speaker and digit
#10 0.870785 0.180705 #t <p> uncertainty_p(k2)
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #incorrect speaker and digit
#10 0.22628 0.244544 #t <p> uncertainty_p(k2)

(4-6-6) sm4 txm7でもNを探索
oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole sd:4:7 N:50
cat ../12voicedata/allpole/oob4sd:4:7N50mbas2:300:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole sd:4:7 N:50 
0.70000 0.99130 0.00870 0.30000 4.40994e-04 700 4 7 #TP,TN,FP,FN,ERR,n,sm4 txm7

(4-6-7) yファイルを結合
cp ../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y ../12voicedata/allpole/oob4sd.y
cat ../12voicedata/allpole/oob4sd:5:4N50mbas2:300:0.7:1.y >> ../12voicedata/allpole/oob4sd.y
cat ../12voicedata/allpole/oob4sd:4:7N50mbas2:300:0.7:1.y >> ../12voicedata/allpole/oob4sd.y

(4-6-8) 話者数字列照合：不正解話者＋正解数字列
speakerdigit_v fsd:../12voicedata/allpole/oob4sd.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #incorrect speaker and digit
10 0.873486 0.177889 #t <p> uncertainty_p(k2)
(4-6-9) 話者数字列照合：不正解話者＋正解数字列
speakerdigit_v fsd:../12voicedata/allpole/oob4sd.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:4:1000:1:0 #incorrect speaker and digit
10 0.208707 0.239441 #t <p> uncertainty_p(k2)
## さらによくなった：(4-6-4)や(4-6-5)よりUncertaintyが小さくなった。

###################
2013/02/05 夕方
(1) サンプルを生成しテストするプログラムを作成した。
・オプション　test:<id>:<n>:<riC>
　　　　　<id>=0:これまでと同じく、指定話者数字列sdP:<sP>:<dP1>:<dP2>:... に対し、テスト話者数字列sdT:<sT>:<dT1>:...のテスト。
　　　　　<id>=1,2,3のとき<n>個の指定話者数字列をランダムに生成し、テスト話者数字列を<riC>の誤り率で生成し、テスト。
        <id>=1のとき: speaker が riC の割合で正しくない．riC=0のとき正しい。
        <id>=2のとき: digit が riC の割合で正しくない．riC=0のとき正しい。
        <id>=3のとき: speaker と　digit、それぞれが、 riC の割合で正しくない．riC=0のとき正しい。
・結果はtmp/testsd.dat と tmp/testsd_stat.dat　に書き出す。
・tmp/testsd_stat.datの第3要素はカバレッジファクタk=2(約95%カバー)の拡張不確かさ（計測工学参照）
#try from here
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:3:1000:0 #correct
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd0ytm1.dat

speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:3:1000:0.8 #incorrect
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd0.8ytm1.dat
cd ../12voicedata/allpole
gnuplot
plot "testsd_stat_sd0ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars, "testsd_stat_sd0.8ytm1.dat" using 1:2 w l, "" using 1:2:3 w errorbars
#try to here

###ytm:0の方がいいかも？そうでもないかな？
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:3:1000:0 #correct
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd0ytm0.dat

speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:0 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:3:1000:0.8 #incorrect
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd0.8ytm0.dat
cd ../12voicedata/allpole
gnuplot
plot "testsd_stat_sd0ytm0.dat" using 1:2 w l, "testsd_stat_sd0ytm0.dat" using 1:2:3 w errorbars, "testsd_stat_sd0.8ytm0.dat" using 1:2 w l, "testsd_stat_sd0.8ytm0.dat" using 1:2:3 w errorbars

###
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:1:1000:0 #correct
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:1:1000:0.8 #incorrect

speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:2:1000:0　#correct
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:2:1000:0.8　#incorrect
###
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:3:1000:0 #correct
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_sd0.dat


speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:1:1000:1.0 #speaker incorrect
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_s1.dat
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 test:2:1000:0.5 #digit incorrect
cp tmp/testsd_stat.dat ../12voicedata/allpole/testsd_stat_d0.5.dat

cd ../12voicedata/allpole
gnuplot
plot "testsd_stat_sd0.dat" using 1:2 w l, "testsd_stat_sd0.dat" using 1:2:3 w errorbars, "testsd_stat_s1.dat" using 1:2 w l, "testsd_stat_s1.dat" using 1:2:3 w errorbars

plot "testsd_stat0.dat" using 1:2 w l, "testsd_stat0.dat" using 1:2:3 w errorbars, "testsd_stat0.8.dat" using 1:2 w l, "testsd_stat0.8.dat" using 1:2:3 w errorbars

2013/02/05 
(1) pFPとpFNの分散が最小のythを用いる手法(ytm:1)．従来手法(PNrを用いる場合）は ytm:0  
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 #correct
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 #correct
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.55:0.25:4 ytm:1 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 #correct

2013.01.30 午後
(1) beta_tが間違っていたので修正→あまりうまく行かない。前より悪い？ver:-2とver:2だけうまくいく？
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.75:0.25:4 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 #correct
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.75:0.25:4 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 #correct
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.75:0.25:4 PNr:0.9 void:0 gibbs:1 beta:1 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 ver:-2 #correct

####
2013.01.30 午前
versionオプション
ver:-2　尤度に全ての学習機械を使うp(v^[SxD]|s,d)=\prod_{s',d'} p(v^[s',d']|s,d)
　　　　←うまくいき理論的には納得
ver:-1　尤度に照合すべき学習機械だけを使うp(v^[SxD]|s,d)=p(v^[s,d]|s,d)
　　　　←うまくいかないが理論的には納得
ver:2 尤度に全ての学習機械を使うp(v^[SxD]|s,d)=\prod_{s',d'} p(v^[s',d']|s,d)
       ←うまくいってるみたいだけどif(method->id==1)...でPP[_m][m][sdP->d[t_1]]を使うのが変
ver:1 尤度に照合すべき学習機械だけを使うp(v^[SxD]|s,d)=p(v^[s,d]|s,d)
       ←うまくいってるみたいだけどLiC+=TN[m];とLiC+=FP[m];の行が変

2013.01.29
(1) 話者数字照合プログラム　speakerdigit_v.c (初版）が何とかできた。話者数字列が正解の時はOK？不正話者や不正数字列のときあまり上手く行かない？
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.95:0.25:4 PNr:0.9 void:0 gibbs:1 beta:0.2 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:0 sdT:0:0:1:2:3:4:5:6:7:8:9 #correct
speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.95:0.25:4 PNr:0.9 void:0 gibbs:1 beta:0.2 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 #correct
speakerdigit_v fsd:../12voicedata/allpole/oob4sdN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.95:0.25:4 PNr:0.9 void:0 gibbs:1 beta:0.2 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:0:1:2:3:4:5:6:7:8:9 #correct

speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.95:0.25:4 PNr:0.9 void:0 gibbs:1 beta:0.2 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:0:1:2:3:4:5:6:7:8:9:0 #incorrect sequence
speakerdigit_v fs:../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.95:0.25:4 PNr:0.9 void:0 gibbs:1 beta:0.2 sdP:0:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:1:0:1:2:3:4:5:6:7:8:9 #incorrect speaker

speakerdigit_v fd:../12voicedata/allpole/oob4dN50mbas2:100:0.7:1.y nSDL:7:10:10 pmin:0.01 pART:.95:0.25:4 PNr:0.9 void:0 gibbs:1 beta:0.2 sdP:1:0:1:2:3:4:5:6:7:8:9 lT:1 sdT:1:0:1:2:3:4:5:6:7:8:9 #correct but NG for lT:1

2013.01.24
(1) CAN2の話者数字照合出力をバグ外推定で求める→安定で高い正解率？
プログラム
oob4speakerdigit.c
oob4speaker.c
oob4digit.c
(2)実行例：
time oob4speaker sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 dir:../12voicedata/allpole N:50 mbas:2:100:0.7:1 
#../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y
0.90000 0.97000 0.03000 0.10000 1.85714e-04 700 0 #TP,TN,FP,FN,ERR,n,sm0
0.84000 0.97500 0.02500 0.16000 2.64286e-04 700 1 #TP,TN,FP,FN,ERR,n,sm1
0.79000 0.96167 0.03833 0.21000 3.54762e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
0.82000 0.94833 0.05167 0.18000 3.30952e-04 700 3 #TP,TN,FP,FN,ERR,n,sm3
0.81000 0.98333 0.01667 0.19000 2.95238e-04 700 4 #TP,TN,FP,FN,ERR,n,sm4
0.80000 0.96000 0.04000 0.20000 3.42857e-04 700 5 #TP,TN,FP,FN,ERR,n,sm5
0.79000 0.96000 0.04000 0.21000 3.57143e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
#../12voicedata/allpole/oob4s:2N100mbas2:100:0.7:1.y
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu nL:10 k:36 mbas:2:100:0.7:1 dir:../12voicedata/allpole s:2 N:100 
0.84000 0.96500 0.03500 0.16000 2.78571e-04 700 2 #TP,TN,FP,FN,ERR,n,sm2
#../12voicedata/allpole/oob4s:6N40mbas2:100:0.7:1.y
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu nL:10 k:36 mbas:2:100:0.7:1 dir:../12voicedata/allpole s:6 N:40 
0.83000 0.95833 0.04167 0.17000 3.02381e-04 700 6 #TP,TN,FP,FN,ERR,n,sm6
cp ../12voicedata/allpole/oob4sN50mbas2:100:0.7:1.y ../12voicedata/allpole/oob4s.y
cat ../12voicedata/allpole/oob4s:2N100mbas2:100:0.7:1.y >> ../12voicedata/allpole/oob4s.y
cat ../12voicedata/allpole/oob4s:6N40mbas2:100:0.7:1.y >> ../12voicedata/allpole/oob4s.y

#oob4digit sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:50 mbas:2:100:0.7:1 dir:../12voicedata/allpole 
0.85714 0.98413 0.01587 0.14286 2.26757e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.81429 0.98889 0.01111 0.18571 2.81179e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.82857 0.98413 0.01587 0.17143 2.67574e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.87143 0.98413 0.01587 0.12857 2.06349e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 o?
0.72857 0.97778 0.02222 0.27143 4.19501e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.92857 0.99365 0.00635 0.07143 1.11111e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5 o
0.87143 0.96667 0.03333 0.12857 2.31293e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 o?
0.85714 0.96984 0.03016 0.14286 2.47166e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 o?
0.77143 0.97778 0.02222 0.22857 3.58277e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.98571 0.99683 0.00317 0.01429 2.49433e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 o
cat ../12voicedata/allpole/oob4d:-1N50mbas2:300:1.0:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.0:1 dir:../12voicedata/allpole d:-1 N:50 
0.87143 0.98889 0.01111 0.12857 1.99546e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.94286 0.99206 0.00794 0.05714 9.29705e-05 700 1 #TP,TN,FP,FN,ERR,n,txm1 O
0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 O
0.82857 0.97937 0.02063 0.17143 2.74376e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 --
0.85714 0.97619 0.02381 0.14286 2.38095e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.98571 1.00000 0.00000 0.01429 2.04082e-05 700 5 #TP,TN,FP,FN,ERR,n,txm5 O
0.87143 0.96825 0.03175 0.12857 2.29025e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6 --
0.88571 0.96825 0.03175 0.11429 2.08617e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7 --
0.94286 0.98254 0.01746 0.05714 1.06576e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.88571 1.00000 0.00000 0.11429 1.63265e-04 700 9 #TP,TN,FP,FN,ERR,n,txm9
cat ../12voicedata/allpole/oob4d:-1N50mbas2:300:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole d:-1 N:50 
0.94286 0.97778 0.02222 0.05714 1.13379e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0 oO
0.90000 0.97302 0.02698 0.10000 1.81406e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1 o
0.74286 0.98730 0.01270 0.25714 3.85488e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 x
0.75714 0.97619 0.02381 0.24286 3.80952e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 x
0.94286 0.96667 0.03333 0.05714 1.29252e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4 oO
0.91429 0.99524 0.00476 0.08571 1.29252e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5 -
0.80000 0.99365 0.00635 0.20000 2.94785e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6x
0.81429 0.97460 0.02540 0.18571 3.01587e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7x
0.80000 0.99048 0.00952 0.20000 2.99320e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 x
0.95714 0.99365 0.00635 0.04286 7.02948e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9 -
cat ../12voicedata/allpole/oob4d:8N50mbas2:300:1.0:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.0:1 dir:../12voicedata/allpole d:8 N:50 
0.94286 0.98254 0.01746 0.05714 1.06576e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8o
cat ../12voicedata/allpole/oob4d:2N50mbas2:300:1.0:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:1.0:1 dir:../12voicedata/allpole d:2 N:50 
0.92857 0.99048 0.00952 0.07143 1.15646e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 o

cat ../12voicedata/allpole/oob4d:8N30mbas2:300:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole d:8 N:30 
0.84286 0.98889 0.01111 0.15714 2.40363e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8 x
cat ../12voicedata/allpole/oob4d:2N100mbas2:300:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole d:2 N:100 
0.84286 0.99524 0.00476 0.15714 2.31293e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2 o?
cat ../12voicedata/allpole/oob4d:3N100mbas2:300:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole d:3 N:100 
0.80000 0.97778 0.02222 0.20000 3.17460e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3 x
cat ../12voicedata/allpole/oob4d:8N100mbas2:300:0.7:1.ystat
#oob4speakerdigit+ sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 mbas:2:300:0.7:1 dir:../12voicedata/allpole d:8 N:100 
0.72857 0.98730 0.01270 0.27143 4.05896e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8x

#oob4digit sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:50 mbas:2:1000:0.7:1 dir:../12voicedata/allpole #time-consuming
0.92857 0.98889 0.01111 0.07143 1.17914e-04 700 0 #TP,TN,FP,FN,ERR,n,txm0
0.91429 0.97778 0.02222 0.08571 1.54195e-04 700 1 #TP,TN,FP,FN,ERR,n,txm1
0.87143 0.97302 0.02698 0.12857 2.22222e-04 700 2 #TP,TN,FP,FN,ERR,n,txm2
0.77143 0.97302 0.02698 0.22857 3.65079e-04 700 3 #TP,TN,FP,FN,ERR,n,txm3
0.85714 0.97778 0.02222 0.14286 2.35828e-04 700 4 #TP,TN,FP,FN,ERR,n,txm4
0.88571 0.99841 0.00159 0.11429 1.65533e-04 700 5 #TP,TN,FP,FN,ERR,n,txm5
0.78571 0.98254 0.01746 0.21429 3.31066e-04 700 6 #TP,TN,FP,FN,ERR,n,txm6
0.78571 0.96190 0.03810 0.21429 3.60544e-04 700 7 #TP,TN,FP,FN,ERR,n,txm7
0.77143 0.96984 0.03016 0.22857 3.69615e-04 700 8 #TP,TN,FP,FN,ERR,n,txm8
0.97143 0.99683 0.00317 0.02857 4.53515e-05 700 9 #TP,TN,FP,FN,ERR,n,txm9
4330.53user 323.78system 1:32:51elapsed 83%CPU (0avgtext+0avgdata 60816maxresident)k
#oob4speakerdigit sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:50 mbas:2:100:0.7:1 dir:../12voicedata/allpole 
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 0 0 #TP,TN,FP,FN,ERR,n,sm0 txm0
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 0 1 #TP,TN,FP,FN,ERR,n,sm0 txm1
0.60000 1.00000 0.00000 0.40000 5.71429e-04 700 0 2 #TP,TN,FP,FN,ERR,n,sm0 txm2
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 0 3 #TP,TN,FP,FN,ERR,n,sm0 txm3
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 0 4 #TP,TN,FP,FN,ERR,n,sm0 txm4
1.00000 1.00000 0.00000 0.00000 0.00000e+00 700 0 5 #TP,TN,FP,FN,ERR,n,sm0 txm5
0.90000 0.99420 0.00580 0.10000 1.51139e-04 700 0 6 #TP,TN,FP,FN,ERR,n,sm0 txm6
1.00000 0.99420 0.00580 0.00000 8.28157e-06 700 0 7 #TP,TN,FP,FN,ERR,n,sm0 txm7
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 0 8 #TP,TN,FP,FN,ERR,n,sm0 txm8
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 0 9 #TP,TN,FP,FN,ERR,n,sm0 txm9
0.70000 1.00000 0.00000 0.30000 4.28571e-04 700 1 0 #TP,TN,FP,FN,ERR,n,sm1 txm0
0.80000 0.98986 0.01014 0.20000 3.00207e-04 700 1 1 #TP,TN,FP,FN,ERR,n,sm1 txm1
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 1 2 #TP,TN,FP,FN,ERR,n,sm1 txm2 <
0.70000 0.99855 0.00145 0.30000 4.30642e-04 700 1 3 #TP,TN,FP,FN,ERR,n,sm1 txm3
0.80000 0.99420 0.00580 0.20000 2.93996e-04 700 1 4 #TP,TN,FP,FN,ERR,n,sm1 txm4
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 1 5 #TP,TN,FP,FN,ERR,n,sm1 txm5
0.70000 0.99565 0.00435 0.30000 4.34783e-04 700 1 6 #TP,TN,FP,FN,ERR,n,sm1 txm6
0.90000 0.99275 0.00725 0.10000 1.53209e-04 700 1 7 #TP,TN,FP,FN,ERR,n,sm1 txm7
0.50000 0.99855 0.00145 0.50000 7.16356e-04 700 1 8 #TP,TN,FP,FN,ERR,n,sm1 txm8 #NG? TP,ERR
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 1 9 #TP,TN,FP,FN,ERR,n,sm1 txm9
0.70000 0.99275 0.00725 0.30000 4.38923e-04 700 2 0 #TP,TN,FP,FN,ERR,n,sm2 txm0
0.60000 0.99565 0.00435 0.40000 5.77640e-04 700 2 1 #TP,TN,FP,FN,ERR,n,sm2 txm1
0.60000 0.99855 0.00145 0.40000 5.73499e-04 700 2 2 #TP,TN,FP,FN,ERR,n,sm2 txm2
0.70000 0.99565 0.00435 0.30000 4.34783e-04 700 2 3 #TP,TN,FP,FN,ERR,n,sm2 txm3
0.60000 0.99565 0.00435 0.40000 5.77640e-04 700 2 4 #TP,TN,FP,FN,ERR,n,sm2 txm4
1.00000 0.99275 0.00725 0.00000 1.03520e-05 700 2 5 #TP,TN,FP,FN,ERR,n,sm2 txm5
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 2 6 #TP,TN,FP,FN,ERR,n,sm2 txm6
1.00000 0.98841 0.01159 0.00000 1.65631e-05 700 2 7 #TP,TN,FP,FN,ERR,n,sm2 txm7
0.50000 0.99710 0.00290 0.50000 7.18427e-04 700 2 8 #TP,TN,FP,FN,ERR,n,sm2 txm8 #NG
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 2 9 #TP,TN,FP,FN,ERR,n,sm2 txm9
0.60000 0.99420 0.00580 0.40000 5.79710e-04 700 3 0 #TP,TN,FP,FN,ERR,n,sm3 txm0
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 3 1 #TP,TN,FP,FN,ERR,n,sm3 txm1
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 3 2 #TP,TN,FP,FN,ERR,n,sm3 txm2
0.80000 0.99130 0.00870 0.20000 2.98137e-04 700 3 3 #TP,TN,FP,FN,ERR,n,sm3 txm3
0.60000 0.98841 0.01159 0.40000 5.87992e-04 700 3 4 #TP,TN,FP,FN,ERR,n,sm3 txm4
0.80000 0.99710 0.00290 0.20000 2.89855e-04 700 3 5 #TP,TN,FP,FN,ERR,n,sm3 txm5
0.90000 0.99420 0.00580 0.10000 1.51139e-04 700 3 6 #TP,TN,FP,FN,ERR,n,sm3 txm6
0.70000 0.99275 0.00725 0.30000 4.38923e-04 700 3 7 #TP,TN,FP,FN,ERR,n,sm3 txm7
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 3 8 #TP,TN,FP,FN,ERR,n,sm3 txm8
0.80000 0.99710 0.00290 0.20000 2.89855e-04 700 3 9 #TP,TN,FP,FN,ERR,n,sm3 txm9
0.80000 0.99710 0.00290 0.20000 2.89855e-04 700 4 0 #TP,TN,FP,FN,ERR,n,sm4 txm0
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 4 1 #TP,TN,FP,FN,ERR,n,sm4 txm1
0.70000 0.98841 0.01159 0.30000 4.45135e-04 700 4 2 #TP,TN,FP,FN,ERR,n,sm4 txm2
0.70000 0.99710 0.00290 0.30000 4.32712e-04 700 4 3 #TP,TN,FP,FN,ERR,n,sm4 txm3
0.40000 0.99855 0.00145 0.60000 8.59213e-04 700 4 4 #TP,TN,FP,FN,ERR,n,sm4 txm4 #NG
1.00000 0.99565 0.00435 0.00000 6.21118e-06 700 4 5 #TP,TN,FP,FN,ERR,n,sm4 txm5
0.90000 1.00000 0.00000 0.10000 1.42857e-04 700 4 6 #TP,TN,FP,FN,ERR,n,sm4 txm6
0.30000 0.99710 0.00290 0.70000 1.00414e-03 700 4 7 #TP,TN,FP,FN,ERR,n,sm4 txm7 #NG
0.80000 0.99855 0.00145 0.20000 2.87785e-04 700 4 8 #TP,TN,FP,FN,ERR,n,sm4 txm8
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 4 9 #TP,TN,FP,FN,ERR,n,sm4 txm9
0.50000 0.99855 0.00145 0.50000 7.16356e-04 700 5 0 #TP,TN,FP,FN,ERR,n,sm5 txm0 #NG
0.70000 0.99420 0.00580 0.30000 4.36853e-04 700 5 1 #TP,TN,FP,FN,ERR,n,sm5 txm1
0.90000 0.99275 0.00725 0.10000 1.53209e-04 700 5 2 #TP,TN,FP,FN,ERR,n,sm5 txm2
0.60000 0.99420 0.00580 0.40000 5.79710e-04 700 5 3 #TP,TN,FP,FN,ERR,n,sm5 txm3
0.30000 0.99710 0.00290 0.70000 1.00414e-03 700 5 4 #TP,TN,FP,FN,ERR,n,sm5 txm4 #NG
0.80000 1.00000 0.00000 0.20000 2.85714e-04 700 5 5 #TP,TN,FP,FN,ERR,n,sm5 txm5
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 5 6 #TP,TN,FP,FN,ERR,n,sm5 txm6
0.90000 0.99565 0.00435 0.10000 1.49068e-04 700 5 7 #TP,TN,FP,FN,ERR,n,sm5 txm7
0.60000 0.99710 0.00290 0.40000 5.75569e-04 700 5 8 #TP,TN,FP,FN,ERR,n,sm5 txm8
0.90000 0.98986 0.01014 0.10000 1.57350e-04 700 5 9 #TP,TN,FP,FN,ERR,n,sm5 txm9
0.90000 0.98261 0.01739 0.10000 1.67702e-04 700 6 0 #TP,TN,FP,FN,ERR,n,sm6 txm0
0.40000 0.99855 0.00145 0.60000 8.59213e-04 700 6 1 #TP,TN,FP,FN,ERR,n,sm6 txm1 #NG
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 2 #TP,TN,FP,FN,ERR,n,sm6 txm2
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 3 #TP,TN,FP,FN,ERR,n,sm6 txm3
0.80000 0.99565 0.00435 0.20000 2.91925e-04 700 6 4 #TP,TN,FP,FN,ERR,n,sm6 txm4
0.70000 1.00000 0.00000 0.30000 4.28571e-04 700 6 5 #TP,TN,FP,FN,ERR,n,sm6 txm5
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 6 6 #TP,TN,FP,FN,ERR,n,sm6 txm6
0.70000 1.00000 0.00000 0.30000 4.28571e-04 700 6 7 #TP,TN,FP,FN,ERR,n,sm6 txm7
0.90000 0.99710 0.00290 0.10000 1.46998e-04 700 6 8 #TP,TN,FP,FN,ERR,n,sm6 txm8
0.90000 0.99855 0.00145 0.10000 1.44928e-04 700 6 9 #TP,TN,FP,FN,ERR,n,sm6 txm9



2013.01.20
(1) 特徴ベクトルファイルをleave-one-outでCAN2により学習予測するプログラム
loo4speaker.c      話者CAN2=不特定数字（テキスト独立）特定話者CAN2 <leave-one-out>
                   （ similar but not equal to 
                      loo4multistep-sr-ti-mine3.c:テキスト独立話者CAN2<leave-oneset-out>)
loo4digit.c        数字CAN2=不特定話者かつ特定数字
loo4speakerdigit.c 話者数字CAN2=特定数字（テキスト従属）特定話者CAN2
                    (similar but not equal to
                     loo4multistep-sr-td-mine.c :特定数字での話者CAN2<leave-oneset-out>）

(2)　使用例
D=数字集合={zero,ichi,ni,san,yon,go,roku,nana,hachi,kyu}
S=話者集合={fhs:fms:mkk:mko:mmt:mnh:mym}　
L=引数集合={1,2,\cdots,|L|=10?} とする。

(3) コマンド：
echo -n "date: ";date;
time oobspeaker sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:20 dir:../12voicedata/allpole  mbas:2:20:0.7:1
time loo4speaker sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:20 dir:../12voicedata/allpole
time loo4digit sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:20 dir:../12voicedata/allpole
time loo4speakerdigit sp:fhs:fms:mkk:mko:mmt:mnh:mym tx:zero:ichi:ni:san:yon:go:roku:nana:hachi:kyu ntxi:10 k:36 N:20 dir:../12voicedata/allpole
echo -n "date: ";date;
cat ../12voicedata/allpole/loo4sN60.ystat
#test# time loo4speaker sp:fhs tx:zero ntxi:1 k:36 N:20 dir:../12voicedata/allpole #for test
################
real93m54.088suser17m41.682ssys5m55.038s


(4) 出力ファイル(詳しくはプログラムを見よ）
../12voicedata/allpoleの下に
loo4sN20.y：第m行にCAN2^{s_m} (s_m\in S) の出力，各行は特徴x_{s,d,i} (s\in S, d\in D, l\in L)に対する出力列
loo4sN20.ystat：第m行にCAN2^{s_m} (s_m\in S) に対するTP,TN,FP,n,ERR,S,sm　などを保存
loo4dN20.y：第m行にCAN2^{d_m} (d_m\in S) の出力，各行は特徴x_{s,d,i} (s\in S, d\in D, l\in L)に対する出力列
loo4sdN20.y：各(ms*|D|+md)行にCAN2^{s_{ms},d_{md{} (s_{ms}\in S, d_{md}\in D) の出力，
            各行は特徴x_{s,d,i} (s\in S, d\in D, l\in L)に対する出力列

######################
110616 2011.06.16

%話者：msm,mss,mtn,mwk,mym
%テキスト：0daigaku,1fukuokaken,2gakusei,3kikai,4kyuukoudai
%テキスト：4kyuukoudai,0daigaku,3kikai,1fukuokaken,2gakusei,
######################
2013.01.17
see readme.mineishi (from original readme-mineishi.dat)
loo4multistep-sr-ti-mine sp:msm:mss:mtn:mwk:mym tx:daigaku:fukuokaken:gakusei:kikai:kyuukoudai ntxi:10 Ev1:0.108 Ev2:0.184 Ev3:0.180 Ev4:0.132 Ev5:0.112 k:36 N:20 dir:../i-voicedata/allpole rsa:2:0.7:1:20
loo4multistep-sr-td sp:fna:mkh:mki:mmo:mrn tx:daigaku1:daigaku2:daigaku3:daigaku4:daigaku5:daigaku6:daigaku7:daigaku8:daigaku9:daigaku10 k:36 N:20 dir:../i-voicedata/daigakup rsa:2:0.7:1:20
2012.06.16 ########## Version2 OK for ICONIP2012 with PIrth and usevoid:1
(1) summary (see 2012.06.15 for details
Table 2.
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:-1 
#Original Verification    FP Rate:0.005(1/200)0.000(0/200)0.010(2/200)0.015(3/200)0.000(0/200)
#Original Verification    FN Rate:0.200(10/50)0.180(9/50)0.340(17/50)0.240(12/50)0.300(15/50)
#Original Identification Error Rate:0.080(4/50)0.060(3/50)0.060(3/50)0.100(5/50)0.040(2/50)
#v1mex-1 response time steps=5.04=(4.40+4.00+7.60+5.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr2.55e-06<PIrth<minPIv1.00e+20
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.71 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:-1
#v1mex-1 response time steps=5.16=(4.40+4.00+7.80+5.60+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.76e-01<PIrth<minPIv1.00e+20

loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:0 
#v1mex0 response time steps=5.48=(4.40+4.00+7.40+6.60+5.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.45e-06<PIrth<minPIv1.49e-01
#v1mex1 response time steps=5.64=(4.60+4.00+8.40+6.20+5.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.26e-07<PIrth<minPIv1.21e-02
#v1mex2 response time steps=5.52=(5.00+4.00+7.60+6.40+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.45e-06<PIrth<minPIv1.56e-02
#v1mex3 response time steps=5.12=(4.60+4.00+7.80+4.60+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.45e-06<PIrth<minPIv6.76e-02
#v1mex4 response time steps=4.28=(4.40+4.00+4.00+5.00+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr7.27e-09<PIrth<minPIv1.25e-01
echo "print (5.48+5.64+5.52+5.12+4.28)/5"|gnuplot #5.208

loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.71 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:1
#v1mex0 response time steps=5.92=(5.40+4.00+8.20+6.80+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr2.75e-01<PIrth<minPIv8.26e-01
#v1mex1 response time steps=5.92=(5.60+4.00+8.00+6.80+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr2.16e-01<PIrth<minPIv6.43e-01
#v1mex2 response time steps=6=(5.60+4.00+8.80+6.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr2.75e-01<PIrth<minPIv6.59e-01
#v1mex3 response time steps=5.72=(5.60+4.00+8.20+5.60+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr2.75e-01<PIrth<minPIv7.64e-01
#v1mex4 response time steps=5.4=(5.20+5.20+5.20+6.20+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr1.54e-01<PIrth<minPIv8.12e-01  ##<pth:.71
echo "print (5.92+5.92+6+5.72+5.4)/5"|gnuplot #5.792

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:-1 
#Original Verification    FP Rate:0.010(2/200)0.010(2/200)0.020(4/200)0.060(12/200)0.050(10/200)
#Original Verification    FN Rate:0.360(18/50)0.300(15/50)0.400(20/50)0.340(17/50)0.320(16/50)
#Original Identification Error Rate:0.200(10/50)0.200(10/50)0.280(14/50)0.400(20/50)0.420(21/50)

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.9997 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:0
#v1mex-1 response time steps=6.84=(7.00+5.80+8.60+6.40+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.85e-05<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6.84=(7.40+5.40+8.20+7.00+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr5.01e-05<PIrth<minPIv6.73e-03
#v1mex1 response time steps=7.4=(7.20+6.60+8.00+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr3.73e-05<PIrth<minPIv4.19e-02
#v1mex2 response time steps=7.12=(6.60+6.40+10.00+6.80+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.43e-06<PIrth<minPIv4.10e-04
#v1mex3 response time steps=7=(6.60+6.60+8.60+6.40+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr3.37e-05<PIrth<minPIv1.14e-03
#v1mex4 response time steps=5.8=(5.40+4.20+6.00+6.60+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr3.37e-05<PIrth<minPIv1.11e-03
echo "print (6.84+7.4+7.12+7+5.8)/5"|gnuplot #6.832

##loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.9999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:-1
###v1mex-1 response time steps=7.16=(7.20+6.00+8.80+7.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.85e-05<PIrth<minPIv1.00e+20
#NGloo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:-1 
#NG because #v1mex1 response time steps=6.72=(6.00+6.20+8.00+6.80+6.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s1t4 #maxPIr3.73e-05<PIrth<minPIv4.19e-02
#NG#v1mex-1 response time steps=6=(5.20+5.40+7.80+6.20+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.85e-05<PIrth<minPIv1.00e+20
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.9999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:-1
#v1mex0 response time steps=7.48=(7.80+6.20+8.60+8.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.01e-05<PIrth<minPIv6.73e-03
#v1mex1 response time steps=7.88=(7.80+7.40+8.20+8.20+7.80+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.73e-05<PIrth<minPIv4.19e-02
#v1mex2 response time steps=7.48=(7.00+7.00+10.00+7.00+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr3.43e-06<PIrth<minPIv4.10e-04
#v1mex3 response time steps=7.32=(7.20+7.20+8.80+6.40+7.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.37e-05<PIrth<minPIv1.14e-03
#v1mex4 response time steps=6.32=(5.80+5.20+6.20+7.60+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.37e-05<PIrth<minPIv1.11e-03
echo "print (7.48+7.88+7.48+7.32+6.32)/5"|gnuplot #7.296
echo "print (5.01e-5+4.1e-4)/2"|gnuplot #0.00023005


#loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.9999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:-1
##v1mex0 response time steps=7.48=(7.80+6.20+8.60+8.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr5.01e-05<PIrth<minPIv6.73e-03

#NG
#NGloo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:0
#NG#v1mex0 response time steps=6.2=(6.00+5.40+7.60+6.80+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none      #maxPIr5.01e-05<PIrth<minPIv6.73e-03
#NG#v1mex1 response time steps=6.72=(6.00+6.20+8.00+6.80+6.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s1t4 #maxPIr3.73e-05<PIrth<minPIv4.19e-02
#NG#v1mex2 response time steps=6.6=(6.00+6.00+8.80+6.40+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none      #maxPIr3.43e-06<PIrth<minPIv4.10e-04
#NG#v1mex3 response time steps=6.32=(5.60+5.80+8.00+5.80+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr3.37e-05<PIrth<minPIv1.14e-03
#NG#v1mex4 response time steps=5.32=(5.20+4.00+5.40+6.40+5.60+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr3.37e-05<PIrth<minPIv1.11e-03
#NGecho "print (6.2+6.72+6.6+6.32+5.32)/5"|gnuplot #6.232

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.61 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:0
#v1mex-1 response time steps=5.64=(5.00+4.60+7.20+6.00+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none#maxPIr3.62e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6.4=(6.20+5.80+7.00+8.80+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.72e-01<PIrth<minPIv6.06e-01
#v1mex1 response time steps=6.84=(6.40+5.80+8.20+7.60+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.61e-01<PIrth<minPIv7.28e-01
#v1mex2 response time steps=6.24=(6.20+5.80+8.20+6.00+5.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.84e-01<PIrth<minPIv4.58e-01
#v1mex3 response time steps=5.8=(5.40+5.80+7.20+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.57e-01<PIrth<minPIv5.08e-01
#v1mex4 response time steps=5.28=(5.60+4.00+4.60+6.80+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.57e-01<PIrth<minPIv5.06e-01
echo "print (6.4+6.84+6.24+5.8+5.28)/5"|gnuplot #6.112

#loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.71 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:0
##v1mex0 response time steps=7.72=(7.40+6.00+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.72e-01<PIrth<minPIv6.06e-01
##v1mex1 response time steps=7.4=(7.80+6.20+8.80+7.60+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.61e-01<PIrth<minPIv7.28e-01
##v1mex2 response time steps=7.28=(7.40+6.20+9.00+6.40+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.84e-01<PIrth<minPIv4.58e-01
##v1mex3 response time steps=6.8=(6.60+6.20+8.80+5.60+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.57e-01<PIrth<minPIv5.08e-01
##v1mex4 response time steps=6.56=(5.60+5.20+6.20+7.60+8.20+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.57e-01<PIrth<minPIv5.06e-01
#echo "print (7.72+7.4+7.28+6.8+6.56)/5"|gnuplot #7.152
################
#Table 3.
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.61 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:20 pmin:0.0 pth:.9999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.6f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:1
#loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.9999 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:1

use tdisp:4 m2s1t4 because the result of pth:.99(gibbs:0) and pth:.60(gibbs:1) 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.99 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:1
#v1mex1 response time steps=5.4=(5.00+4.60+6.60+5.80+5.00+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s1t4 #maxPIr3.73e-05<PIrth<minPIv4.19e-02
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.60 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:1
#v1mex1 response time steps=6.68=(6.40+5.80+7.80+7.60+5.80+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s1t4 #maxPIr3.61e-01<PIrth<minPIv7.28e-01

print 0.41**(2),"=0.1681"
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:2 pth:.85 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.17 gibbs:1 mex:-1
#v1mex-1 response time steps=5.36=(4.80+4.80+7.00+6.00+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr1.31e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6=(6.20+4.60+7.00+8.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none        #maxPIr1.38e-01<PIrth<minPIv3.68e-01
#v1mex1 response time steps=6.52=(5.20+6.00+7.60+7.60+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.30e-01<PIrth<minPIv5.30e-01
#v1mex2 response time steps=5.64=(5.00+6.00+7.00+6.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr8.07e-02<PIrth<minPIv2.10e-01
#v1mex3 response time steps=5.44=(4.20+4.80+7.60+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.27e-01<PIrth<minPIv2.58e-01
#v1mex4 response time steps=4.8=(5.40+4.00+4.60+6.00+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none      #maxPIr1.27e-01<PIrth<minPIv2.56e-01
echo "print (6+6.52+5.4+5.44+4.8)/5"|gnuplot #5.632

print 0.41**(4),0.02825761
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:4 pth:.98 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.028 gibbs:1 mex:-1
#v1mex-1 response time steps=5.32=(4.80+4.80+7.00+6.00+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr1.72e-02<PIrth<minPIv1.00e+20
#v1mex0 response time steps=5.32=(5.60+4.80+5.80+6.40+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr1.91e-02<PIrth<minPIv1.35e-01
#v1mex1 response time steps=6.08=(5.20+4.80+7.60+7.60+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr1.69e-02<PIrth<minPIv2.81e-01
#v1mex2 response time steps=5.52=(5.00+4.80+7.60+6.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr6.52e-03<PIrth<minPIv4.41e-02
#v1mex3 response time steps=5.44=(4.20+4.80+7.60+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr1.63e-02<PIrth<minPIv6.65e-02
#v1mex4 response time steps=4.72=(5.00+4.00+4.60+6.00+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr1.63e-02<PIrth<minPIv6.58e-02
echo "print (5.53+6.08+5.52+5.44+4.72)/5"|gnuplot #5.458


2012.06.15
########## Version2 OK for ICONIP2012 with PIrth and usevoid:1
(1) PIrth は PIsecondmax/PImax (Version2,Version3で利用) with void
#beta:1.0での結果 better Use this?
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.61 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.41 gibbs:1 mex:-1
#v1mex-1 response time steps=5.64=(5.00+4.60+7.20+6.00+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.62e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6.4=(6.20+5.80+7.00+8.80+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.72e-01<PIrth<minPIv6.06e-01
#v1mex1 response time steps=6.84=(6.40+5.80+8.20+7.60+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr3.61e-01<PIrth<minPIv7.28e-01
#v1mex2 response time steps=6.24=(6.20+5.80+8.20+6.00+5.00+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr2.84e-01<PIrth<minPIv4.58e-01
#v1mex3 response time steps=5.8=(5.40+5.80+7.20+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.57e-01<PIrth<minPIv5.08e-01
#v1mex4 response time steps=5.28=(5.60+4.00+4.60+6.80+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr3.57e-01<PIrth<minPIv5.06e-01
#maxPI at tEND での結果 mex1で,m2のPIが大きいのでvoidの反応を高くする必要がある→PNr調整(Version1)→応答が遅くなる
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.61 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1 gibbs:1 mex:-1
#v1mex-1 response time steps=5.64=(5.00+4.60+7.20+6.00+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none　#maxPIr3.62e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6.4=(6.20+5.80+7.00+8.80+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.72e-01<PIrth<minPIv6.06e-01
#v1mex1 response time steps=6.84=(6.40+5.80+8.20+7.60+6.20+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s1t4 #maxPIr3.61e-01<PIrth<minPIv7.28e-01
                       v1 s1t4_2i10 m0:0:0.039  um1:0:0.000  m2:0:0.452  m3:1:0.329  m4:0:0.011  m5:0:0.168 
#v1mex2 response time steps=6.24=(6.20+5.80+8.20+6.00+5.00+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr2.84e-01<PIrth<minPIv4.58e-01
#v1mex3 response time steps=5.8=(5.40+5.80+7.20+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.57e-01<PIrth<minPIv5.08e-01
#v1mex4 response time steps=5.28=(5.60+4.00+4.60+6.80+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr3.57e-01<PIrth<minPIv5.06e-01

#beta:0.5
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.46 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.64 gibbs:1 mex:-1 ##pth:.64 for depdata2 , mex4
#v1mex-1 response time steps=7.4=(6.80+6.20+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr6.02e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=7.68=(7.20+6.00+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr6.10e-01<PIrth<minPIv7.79e-01
#v1mex1 response time steps=7.28=(7.60+6.00+8.80+7.60+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr6.01e-01<PIrth<minPIv8.53e-01
#v1mex2 response time steps=7.24=(7.40+6.00+9.00+6.40+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.33e-01<PIrth<minPIv6.77e-01
#v1mex3 response time steps=6.64=(6.40+6.00+8.80+5.60+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.98e-01<PIrth<minPIv7.13e-01
#v1mex4 response time steps=6.52=(5.80+5.20+6.20+7.20+8.20+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.98e-01<PIrth<minPIv7.12e-01

loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.46 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.64 gibbs:1 mex:-1 #pth:.64 for mex4
#v1mex-1 response time steps=5.24=(4.40+4.00+8.20+5.60+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.25e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=5.84=(5.40+4.00+7.80+6.80+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr5.24e-01<PIrth<minPIv9.09e-01
#v1mex1 response time steps=5.76=(5.60+4.00+7.40+6.60+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr4.65e-01<PIrth<minPIv8.02e-01
#v1mex2 response time steps=5.92=(5.60+4.00+8.40+6.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr5.24e-01<PIrth<minPIv8.12e-01
#v1mex3 response time steps=5.36=(5.60+4.00+6.60+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr5.24e-01<PIrth<minPIv8.74e-01
#v1mex4 response time steps=5.44=(5.20+5.20+5.40+6.20+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.92e-01<PIrth<minPIv9.01e-01

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.42 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.64 gibbs:1 mex:-1 #use case tdisp:4 mex:1 for speech s1.<--search with pth:.41 mex:1 #maxPIr.61<minPIv.677
#v1mex-1 response time steps=6.6=(5.60+4.80+8.80+6.40+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr6.02e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6.92=(6.40+5.80+8.00+8.80+5.60+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr6.10e-01<PIrth<minPIv7.79e-01
#v1mex1 response time steps=6.88=(6.60+5.80+8.20+7.60+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr6.01e-01<PIrth<minPIv8.53e-01
#v1mex2 response time steps=6.52=(6.40+5.80+8.20+6.00+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.33e-01<PIrth<minPIv6.77e-01
#v1mex3 response time steps=6.12=(5.60+5.80+7.60+5.40+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.98e-01<PIrth<minPIv7.13e-01
#v1mex4 response time steps=5.56=(5.60+4.00+6.00+6.80+5.40+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.98e-01<PIrth<minPIv7.12e-01  -->0.64


#ntxi:10:20での結果
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.42 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.9 void:1:.65 gibbs:1 mex:-1
#v1mex-1 response time steps=8.76=(5.60+4.80+13.60+10.40+9.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr6.02e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=10.52=(8.40+7.80+12.00+16.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr6.10e-01<PIrth<minPIv7.79e-01
#v1mex1 response time steps=9.28=(8.60+7.80+10.20+11.60+8.20+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr6.01e-01<PIrth<minPIv8.53e-01
#v1mex2 response time steps=8.52=(8.40+7.80+10.20+8.00+8.20+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr5.33e-01<PIrth<minPIv6.77e-01
#v1mex3 response time steps=8.12=(7.60+7.80+9.60+7.40+8.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr5.98e-01<PIrth<minPIv7.13e-01
#v1mex4 response time steps=7.16=(7.60+4.00+8.00+8.80+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr5.98e-01<PIrth<minPIv7.12e-01
#beta:2での結果 much faster
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:2 pth:.85 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.18 gibbs:1 mex:-1
#v1mex-1 response time steps=5.36=(4.80+4.80+7.00+6.00+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr1.31e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=6=(6.20+4.60+7.00+8.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none        #maxPIr1.38e-01<PIrth<minPIv3.68e-01
#v1mex1 response time steps=6.52=(5.20+6.00+7.60+7.60+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.30e-01<PIrth<minPIv5.30e-01
#v1mex2 response time steps=5.64=(5.00+6.00+7.00+6.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr8.07e-02<PIrth<minPIv2.10e-01
#v1mex3 response time steps=5.44=(4.20+4.80+7.60+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.27e-01<PIrth<minPIv2.58e-01
#v1mex4 response time steps=4.8=(5.40+4.00+4.60+6.00+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none      #maxPIr1.27e-01<PIrth<minPIv2.56e-01
#beta:2, ntxi:10:20 での結果
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:2 pth:.85 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:1:.18 gibbs:1 mex:-1
#v1mex-1 response time steps=5.76=(4.80+4.80+7.00+8.00+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr1.31e-01<PIrth<minPIv1.00e+20
#v1mex0 response time steps=7.2=(6.20+4.60+9.00+12.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.38e-01<PIrth<minPIv3.68e-01
#v1mex1 response time steps=8.12=(5.20+8.00+7.60+11.60+8.20+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr1.30e-01<PIrth<minPIv5.30e-01
#v1mex2 response time steps=6.44=(5.00+8.00+7.00+8.20+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr8.07e-02<PIrth<minPIv2.10e-01
#v1mex3 response time steps=6.64=(4.20+4.80+9.60+7.40+7.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.27e-01<PIrth<minPIv2.58e-01
#v1mex4 response time steps=5.2=(5.40+4.00+4.60+8.00+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none      #maxPIr1.27e-01<PIrth<minPIv2.56e-01

#gibbs:0での結果
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.8f:1 PNr:.9 void:1:1e-4 gibbs:0 mex:1 
#v1mex-1 response time steps=7.16=(7.20+6.00+8.80+7.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.85e-05<PIrth<minPIv1.00e+20
#v1mex0 response time steps=7.48=(7.80+6.20+8.60+8.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.01e-05<PIrth<minPIv6.73e-03
#v1mex1 response time steps=7.88=(7.80+7.40+8.20+8.20+7.80+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr3.73e-05<PIrth<minPIv4.19e-02
#v1mex2 response time steps=7.48=(7.00+7.00+10.00+7.00+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.43e-06<PIrth<minPIv4.10e-04
#v1mex3 response time steps=7.32=(7.20+7.20+8.80+6.40+7.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr3.37e-05<PIrth<minPIv1.14e-03
#v1mex4 response time steps=6.32=(5.80+5.20+6.20+7.60+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr3.37e-05<PIrth<minPIv1.11e-03  1e-4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:20 pmin:0.0 pth:.99 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.8f:1 PNr:.9 void:1:1e-8 gibbs:0 mex:4
#v1mex-1 response time steps=7.36=(7.20+6.00+9.80+7.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr1.48e-09<PIrth<minPIv1.00e+20
#v1mex0 response time steps=7.68=(7.80+6.20+9.60+8.20+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr2.51e-09<PIrth<minPIv4.53e-05
#v1mex1 response time steps=8.16=(7.80+7.40+8.20+8.20+9.20+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s1t4 #maxPIr1.39e-09<PIrth<minPIv1.75e-03
#v1mex2 response time steps=8.44=(7.00+7.00+12.80+9.00+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr1.18e-11<PIrth<minPIv1.68e-07
#v1mex3 response time steps=8.32=(7.20+7.20+9.80+8.40+9.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.13e-09<PIrth<minPIv1.30e-06
#v1mex4 response time steps=6.32=(5.80+5.20+6.20+7.60+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr1.13e-09<PIrth<minPIv1.23e-06  1e-8

########## NG-Version3 for ICONIP2012
########## Version3 NG for ICONIP2012 with PIrth and usevoid:0
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0 beta:1 pth:.66 ith:4 ts:4:0:3:1:2 tdisp:4 fmt:%.3f:1 PNr:.9 void:0:.41 gibbs:1 mex:-1
#v0mex-1 response time steps=4.48=(4.40+4.00+4.40+5.60+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr3.22e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=5.76=(5.60+5.20+5.20+7.60+5.20+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s0t0 #maxPIr3.22e-01<PIrth<minPIv1.89e-01
(1) PIrth は PIsecondmax/PImax (Version2,Version3で利用) without void
#NG#loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.54 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.9 void:0:.6 gibbs:1 mex:4 #maxPIr6.12 > inPIv6.07
#v0mex-1 response time steps=6.84=(5.60+4.60+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr5.88e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=6.96=(6.20+5.40+7.00+8.80+7.40+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s1t3 #maxPIr6.12e-01<PIrth<minPIv7.79e-01
#v0mex1 response time steps=6.32=(6.20+5.60+6.00+7.60+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.88e-01<PIrth<minPIv8.28e-01
#v0mex2 response time steps=6.36=(6.00+5.60+7.80+6.20+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.37e-01<PIrth<minPIv6.13e-01
#v0mex3 response time steps=5.52=(5.40+5.60+6.00+5.40+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.27e-01<PIrth<minPIv6.07e-01
#v0mex4 response time steps=7=(5.80+5.20+7.80+7.60+8.60+)/5, (fp+FP)/All=(0+0)/25 Err:none        #maxPIr5.88e-01<PIrth<minPIv7.07e-01

#NG with beta=1#loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:1 pth:.8 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.9 void:0:.45 gibbs:1 mex:-1  #NG maxPIr3.74>minPIv3.69
#v0mex-1 response time steps=6.32=(5.40+4.40+7.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr3.46e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=7=(6.20+5.40+7.00+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none        #maxPIr3.74e-01<PIrth<minPIv6.06e-01
#v0mex1 response time steps=6.6=(6.20+5.60+6.00+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none      #maxPIr3.46e-01<PIrth<minPIv6.85e-01
#v0mex2 response time steps=6.44=(6.20+5.60+7.80+6.40+6.20+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2 #maxPIr2.89e-01<PIrth<minPIv3.76e-01
#v0mex3 response time steps=6.32=(5.60+5.60+7.20+5.60+7.60+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s3t4 #maxPIr2.78e-01<PIrth<minPIv3.69e-01

#NG#loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:.1 pth:.31 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.9 void:0:.93 gibbs:1 mex:1 #NG maxPIr9.06> minPIv9.05
#v0mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr8.99e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=7.48=(6.60+5.60+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr9.06e-01<PIrth<minPIv9.51e-01
#v0mex1 response time steps=7.08=(6.80+5.80+8.80+7.60+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr8.99e-01<PIrth<minPIv9.63e-01
#v0mex2 response time steps=6.76=(6.80+5.80+8.80+6.00+6.40+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2 #maxPIr8.83e-01<PIrth<minPIv9.07e-01
#v0mex3 response time steps=6.16=(5.60+5.80+7.80+5.40+6.20+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s3t4 #maxPIr8.80e-01<PIrth<minPIv9.05e-01
#v0mex4 response time steps=7.56=(6.20+5.20+8.80+8.80+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr8.99e-01<PIrth<minPIv9.33e-01


2012.06.13
(2)あたらしいvoid:0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999999999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.8f:1 PNr:.8:.9:.8:.5:.8 void:0:5e-05 gibbs:0 mex:1
#v0mex-1 response time steps=8.64=(8.80+7.80+8.80+9.40+8.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr4.35e-06<PIrth<minPIv1.00e+20
#v0mex0 response time steps=8.28=(7.80+6.40+8.80+10.00+8.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr1.85e-05<PIrth<minPIv2.81e-03
#v0mex1 response time steps=8.64=(8.60+8.80+8.80+8.20+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr4.35e-06<PIrth<minPIv2.81e-03
#v0mex2 response time steps=8.92=(9.40+8.60+9.80+9.20+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr2.15e-06<PIrth<minPIv1.74e-04
#v0mex3 response time steps=8.32=(8.40+7.80+8.80+8.60+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr2.73e-06<PIrth<minPIv9.45e-05
#v0mex4 response time steps=8.72=(8.40+7.20+8.80+9.60+9.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr4.35e-06<PIrth<minPIv9.84e-04

#v0mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr4.35e-06<PIrth<minPIv1.00e+20
#v0mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr4.35e-06<PIrth<minPIv2.81e-03
#v0mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr2.15e-06<PIrth<minPIv1.74e-04
#v0mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr2.73e-06<PIrth<minPIv9.45e-05
#v0mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr4.35e-06<PIrth<minPIv9.84e-04

f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:1.0 pth:.83 ith:10 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.8:.5:.8 void:0:.35 gibbs:1 mex:-1
#v0mex-1 response time steps=6.68=(6.60+4.60+8.60+6.40+7.20+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.91e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=7.44=(7.60+5.60+7.60+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr3.36e-01<PIrth<minPIv5.56e-01
#v0mex1 response time steps=7=(7.60+5.60+8.40+6.40+7.00+)/5, (fp+FP)/All=(1+0)/25 Err:IDm4s1t3 #maxPIr2.91e-01<PIrth<minPIv5.56e-01
#v0mex2 response time steps=6.96=(7.80+5.60+9.80+5.20+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr2.71e-01<PIrth<minPIv4.21e-01
#v0mex3 response time steps=6.16=(5.60+5.60+8.60+4.00+7.00+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 #maxPIr2.78e-01<PIrth<minPIv3.96e-01
#v0mex4 response time steps=7.16=(6.00+5.20+8.60+7.60+8.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.91e-01<PIrth<minPIv5.00e-01

f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:1.0 pth:.83 ith:10 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.8:.5:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr2.91e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm1s0t0 IDm1s0t2 IDm1s0t3 #maxPIr3.36e-01<PIrth<minPIv5.56e-01
#v0mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm4s1t3                    #maxPIr2.91e-01<PIrth<minPIv5.56e-01
#v0mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm1s2t2 IDm3s2t3          #maxPIr2.71e-01<PIrth<minPIv4.21e-01
#v0mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm1s3t2 IDm2s3t3 IDm2s3t4 #maxPIr2.78e-01<PIrth<minPIv3.96e-01
#v0mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1                   #maxPIr2.91e-01<PIrth<minPIv5.00e-01

f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.83 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.8:.5:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=9.76=(10.00+10.00+10.00+10.00+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.39e-01<PIrth<minPIv1.00e+20
#v0mex0 response time steps=8.8=(8.80+7.60+10.00+10.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none     #maxPIr5.80e-01<PIrth<minPIv7.46e-01
#v0mex1 response time steps=9.28=(8.80+10.00+10.00+8.80+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr5.39e-01<PIrth<minPIv7.45e-01
#v0mex2 response time steps=9.28=(10.00+8.80+10.00+10.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr5.21e-01<PIrth<minPIv6.49e-01
#v0mex3 response time steps=9.04=(8.80+8.80+10.00+10.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none    #maxPIr5.27e-01<PIrth<minPIv6.29e-01
#v0mex4 response time steps=9.52=(8.80+8.80+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr5.39e-01<PIrth<minPIv7.07e-01
##################
(1)あたらしいvoid:0
### PI1/PI0  search apropreate PNr
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.83 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.8:.5:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=9.76=(10.00+10.00+10.00+10.00+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex0 response time steps=8.8=(8.80+7.60+10.00+10.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex1 response time steps=9.28=(8.80+10.00+10.00+8.80+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex2 response time steps=9.28=(10.00+8.80+10.00+10.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex3 response time steps=9.04=(8.80+8.80+10.00+10.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex4 response time steps=9.52=(8.80+8.80+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.8:.5:.8 void:0:.60 gibbs:1 mex:-1  #void:0:.58-void:0:.62 is possible
#v0mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none maxPIr=54t4
#v0mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=58t4 minPIv=75t2
#v0mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=54t4 minPIv=75t3
#v0mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=52t2 minPIv=65t2
#v0mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=53t2 minPIv=63t4
#v0mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=53t2 minPIv=71t2
#v0mex-1 response time steps=5.88=(6.00+4.40+8.60+4.20+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex0 response time steps=6.04=(6.00+5.40+6.60+5.80+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v0mex1 response time steps=5.4=(6.00+5.60+6.80+4.00+4.60+)/5, (fp+FP)/All=(2+0)/25 Err:IDm4s1t3 IDm2s1t4 
#v0mex2 response time steps=5.6=(6.00+5.60+7.20+4.00+5.20+)/5, (fp+FP)/All=(1+0)/25 Err:IDm3s2t3 
#v0mex3 response time steps=5=(5.20+5.40+6.40+4.00+4.00+)/5, (fp+FP)/All=(2+0)/25 Err:IDm2s3t3 IDm2s3t4 
#v0mex4 response time steps=6.36=(5.60+5.20+8.40+5.20+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none

### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.8:.5:.8 void:0:.58 gibbs:1 mex:-1  #void:0:.58-void:0:.62 is possible
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none maxPIr=54t4
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=58t4 minPIv=76
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=54t4 minPIv=75t3
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=52t2 minPIv=65t2
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=53t2 minPIv=63t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=54t4 minPIv=71t1


### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.5:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none maxPIr=53t3
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=58t4 minPIv=75t3
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=54t4 minPIv=74t1
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=41t3 minPIv=65t2
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=53t3 minPIv=63t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1 maxPIr=54t4 minPIv=58t2

### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none    maxPIr=59t3
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s1t3 maxPIr=61t3

### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.9:.8:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none    maxPIr=59t3
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s1t3 maxPIr=61t3 minPIv=76t1 decrease PIrt3
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=59t3 minPIv=87t1
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=50t3 minPIv=61t1
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=53t2 minPIv=63t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=59t3 minPIv=71t2
### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.9:.8:.8 void:0:.60 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none    maxPIr=59t3
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s1t3 maxPIr=61t3 minPIv=76t1
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=59t3 minPIv=87t1
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=50t3 minPIv=61t1
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=53t2 minPIv=63t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=59t3 minPIv=71t2
### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.9:.8:.8 void:0:.70 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none maxPIr=59t3
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=59t3 minPIv=76t1
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  maxPIr=59t3 minPIv=87t1
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2 maxPIr=50t3 minPIv=61t3
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s3t4 maxPIr=53t2 minPIv=63t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none   maxPIr=59t3 minPIv=71t2

### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.9:.8:1. void:0:.70 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none    maxPIr=69t4
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s2t4 maxPIr=74t4 minPIv76t1 xx
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=69t4 minPIv81t4
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2 maxPIr=49t2 minPIv61t2 xx
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=65t4 minPIv71t2
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=69t4 minPIv71t1

### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:1.:.8:1. void:0:.70 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=69t4
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s2t4  maxPIr=74t4<minPIv76t1 xx
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none      maxPIr=69t4<minPIv81t4
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2  maxPIr=50t3<minPIv61t2 xx-->increase
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none      maxPIr=65t4<minPIv=72t3
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none      maxPIr=69t4<minPIv=71t2


### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.9:1. void:0:.70 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none    maxPIr=69t4
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s2t4 maxPIr=74t4 minPIv=75t3
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=69t4 minPIv=74t2
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2 maxPIr=54t3 minPIv=65t2
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     maxPIr=65t4 minPIv=76t2
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1 maxPIr=69t4 minPIv=58t1

### PI1/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.9:.9:.8:1. void:0:.70 gibbs:1 mex:-1
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:0:.70 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none                maxPIr=69t4
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s2t4 minPIv=75t3 maxPIr=75t4 xx
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     minPIv=74t2 maxPIr=69t4
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm1s2t2 minPIv=65t3 maxPIr=50t2t3 xx
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none     minPIv=76t2 maxPIr=65t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1 minPIv=58t2 maxPIr=69t4 xx

### PI3/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:0:.47 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none             maxPIr=46t3
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none              maxPIr=28t4 minPIv=55
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s1t4          maxPIr=28t4 minPIv=37t4
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm1s2t2 IDm3s2t3 maxPIr=35t4 minPIv=26t3
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s3t3          maxPIr=26t4 minPIv=24t3
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1          maxPIr=37t4 minPIv=41t2

### PI2/PI0
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:0:.66 gibbs:1 mex:-1
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none                                  maxPIr=65
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm3s0t1 IDm5s2t4          minPIv=55t2 maxPIr=70t4
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s1t4                   minPIv=42t4 maxPIr=37t4
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm0s2t1 IDm1s2t2 IDm3s2t3 minPIv=36t3 maxPIv=39t4
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm0s3t1 IDm2s3t3 IDm2s3t4 minPIv=32t3 maxPIv=37t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1                   minPIv=55t2 maxPIv=49t3

f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:0:.50 gibbs:1 mex:0
# with 4mean
#v0mex-1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+0)/25 Err:none                maxPIr=50t4
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm3s0t1 minPIv=47t2 maxPIr=35t4
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s0t4 minPIv=51t4 maxPIr=53t4
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm3s2t3 minPIv=46t3 maxPIr=49t4
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm5s0t4 IDm2s3t3 minPIv=.421t3 maxPIr=57t4
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm5s0t4 IDm5s2t4 minPIv=.63 maxPIr=.52t4

### PI0/[(PI1+PI2)/2]
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:0.5 pth:.51 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:0:.60 gibbs:1 mex:1
# with 3mean
#v0mex1 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm2s1t4                   minPIv=.54,maxPIr=.44
#v0mex2 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm0s2t1 IDm1s2t2 IDm3s2t3 minPIv=.53,maxPIr=.41
#v0mex3 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm2s3t3 IDm2s3t4          minPIv=.46,maxPIr=.43
#v0mex4 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1                   minPIv=.41 maxPIr=.57

f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:20 pmin:0.0 beta:1.0 pth:.78 ith:100 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:0:.55 gibbs:1 mex:-1
#v0mex0 response time steps=20=(20.00+20.00+20.00+20.00+20.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s2t4          minPI=.56mex0, maxPI=0.56reg
#v0mex2 response time steps=30=(30.00+30.00+30.00+30.00+30.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm0s2t1 IDm1s2t2 minPI=.42mex2, maxPI=
#v0mex4 response time steps=30=(30.00+30.00+30.00+30.00+30.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm0s4t1          minPI=.33mex4
###################################################
#NG2012.06.10-13 replace the result of beta=0.5 by 1.0 for gibbs:1
#NG###
#NGf=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:.1 pth:.26 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:4
#NG#v1mex-1 response time steps=9.76=(10.00+8.80+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex1 response time steps=7.76=(8.40+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex2 response time steps=7.88=(9.00+5.20+10.00+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex3 response time steps=7.44=(8.00+5.20+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex4 response time steps=7.36=(6.40+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG
#NGf=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:2 pth:.97 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:-1
#NG#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex1 response time steps=7.76=(8.40+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex2 response time steps=7.56=(8.60+5.20+10.00+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex3 response time steps=7=(7.40+5.20+8.80+6.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex4 response time steps=7.12=(5.60+5.20+8.40+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NGprint (7.6+7.76+7.56+7+7.12)/5,"=7.408"
#NGf=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:1.0 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:1 
#NGf=../mineishi/text-depdata2.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:1.0 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:1 
#NG#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none indepdata beta:1
#NG#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex1 response time steps=7.72=(8.20+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex2 response time steps=7.48=(8.20+5.20+10.00+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex3 response time steps=6.92=(7.40+5.20+8.80+5.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex4 response time steps=7.2=(5.80+5.20+8.60+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NGprint (7.6+7.72+7.48+6.92+7.2)/5,"=7.384"
#NG###
2012.06.14 not for ICONIP2012?
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.51 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:1
#v1mex-1 response time steps=7.08=(7.40+4.00+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr7.09e-01<PIrth<minPIv1.00e+20 beta=0.5
#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr7.93e-01<PIrth<minPIv7.44e-01
#v1mex1 response time steps=7.72=(8.20+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr7.08e-01<PIrth<minPIv7.99e-01
#v1mex2 response time steps=7.48=(8.20+5.20+10.00+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #maxPIr5.41e-01<PIrth<minPIv6.97e-01
#v1mex3 response time steps=6.84=(7.00+5.20+8.80+5.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr6.89e-01<PIrth<minPIv8.34e-01
#v1mex3 response time steps=6.84=(7.00+5.20+8.80+5.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr6.89e-01<PIrth<minPIv8.34e-01
#v1mex4 response time steps=7.2=(5.80+5.20+8.60+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none   #maxPIr7.08e-01<PIrth<minPIv6.15e-01
maxPIr7.9<<minPIv6.15
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr9.55e-01<PIrth<minPIv9.42e-01 beta=0.1
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr6.29e-01<PIrth<minPIv5.53e-01 beta=1.0
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none  #maxPIr9.77e-01<PIrth<minPIv9.71e-01 beta=0.05


2012.06.13 not for ICONIP2012
#NGPI[s][t][0][m]=PI0=FN[m][t]; // better but hard to explain
#NGf=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.37 ith:5 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 p0:1 mex:-1
#NG#v1mex-1 response time steps=6.56=(5.40+5.00+8.60+5.80+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex0 response time steps=6.72=(6.40+5.00+7.00+7.20+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex1 response time steps=6.68=(6.40+5.00+7.40+6.60+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex2 response time steps=6.64=(6.40+5.00+7.60+6.20+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#NG#v1mex3 response time steps=6.2=(6.00+5.00+7.00+5.00+8.00+)/5, (fp+FP)/All=(1+0)/25 Err:IDm5s3t3 
#NG#v1mex4 response time steps=5.84=(6.00+5.00+5.80+5.40+7.00+)/5, (fp+FP)/All=(0+0)/25 Err:none

####################
p0:1 ==> PI[s][t][0][m]=PI0=FN[m][t]; // better but hard to explain
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.45 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 p0:1 mex:1
#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=7.64=(7.80+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=7.36=(7.80+5.20+10.00+6.20+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=6.68=(6.40+5.20+8.80+5.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=6.76=(5.80+5.20+8.40+6.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (7.6+7.64+7.36+6.68+6.76)/5=7.208
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.99 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.8f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:0 p0:1 mex:-1
#v1mex-1 response time steps=5.28=(4.60+4.00+6.20+5.20+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex0 response time steps=5.32=(5.20+4.00+6.00+5.40+6.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=5.64=(5.00+4.00+6.40+5.20+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm5s1t3 
#v1mex2 response time steps=5.72=(5.00+4.00+7.40+5.80+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.56=(4.80+4.00+6.00+5.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.96=(4.80+4.00+5.00+5.20+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none

2012.06.10 use the result for gibbs:0 ########## OK-Version1 for ICONIP2012 described in iconip12speech0614Version1.tex
(1)PP の計算を変更 used for ICONIP2012
###############PNr:.8:.8:.8:.8:.99 better than below PNr:.7:.7:.7:.7:.99 for ntxi:10:12
f=../mineishi/text-indepdata.dat
#f=../mineishi/text-depdata2.dat
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.8f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:0 mex:1 
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 beta:0.5 pth:.51 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:1 #use loo4gp.dat for table.
#f=../mineishi/text-depdata2.dat
####Original Verification Error Rate:0.024(6/250)0.024(6/250)0.056(14/250)0.056(14/250)0.072(18/250)
#Original Verification    FP Rate:0.005(1/200)0.000(0/200)0.010(2/200)0.015(3/200)0.000(0/200)
#Original Verification    FN Rate:0.100(5/50)0.120(6/50)0.240(12/50)0.220(11/50)0.360(18/50)
#Original Identification Error Rate:0.080(4/50)0.060(3/50)0.060(3/50)0.100(5/50)0.040(2/50)
#v1mex-1 response time steps=4.84=(4.00+4.00+5.60+5.00+5.60+)/5, (fp+FP)/All=(0+0)/25 Err:none gibbs:0 bayes
#v1mex-1 response time steps=5.24=(4.00+4.00+6.40+5.80+6.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:0.5 pth:.51
#v1mex-1 response time steps=5.16=(4.00+4.00+6.40+5.60+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:1.0 pth:.78

#v1mex0 response time steps=5.2=(4.00+4.00+6.20+6.00+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none  gibbs:0 depdata2
#v1mex1 response time steps=5.28=(4.00+4.00+6.60+6.00+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=5.28=(4.00+4.00+6.40+6.20+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=4.92=(4.00+4.00+6.20+4.60+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.2=(4.40+4.00+4.00+4.60+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (5.2+5.28*2+4.92+4.2)/5,"=4.976"
#v1mex0 response time steps=6.28=(5.20+5.20+7.40+7.00+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none gibbs:1 depdata2
#v1mex1 response time steps=5.72=(5.20+4.00+6.00+6.80+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=6=(5.20+4.00+7.60+6.40+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.28=(4.00+5.20+5.20+5.60+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=5.36=(5.20+5.20+5.20+6.00+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (6.28+5.72+6+5.28+5.36)/5,"=5.728"

#f=../mineishi/text-indepdata.dat;
####Original Verification Error Rate:0.076(19/250)0.052(13/250)0.108(27/250)0.120(30/250)0.132(33/250)
#Original Verification    FP Rate:0.015(3/200)0.015(3/200)0.040(8/200)0.070(14/200)0.040(8/200)
#Original Verification    FN Rate:0.320(16/50)0.200(10/50)0.380(19/50)0.320(16/50)0.500(25/50)
#Original Identification Error Rate:0.200(10/50)0.200(10/50)0.280(14/50)0.400(20/50)0.420(21/50)
#v1mex-1 response time steps=6.08=(5.40+4.00+7.80+5.80+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:0 bayes pth:.999
#v1mex-1 response time steps=9.76=(10.00+8.80+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:0.1 pth:.26
#v1mex-1 response time steps=7.12=(7.60+4.00+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:0.4 pth:.44
#v1mex-1 response time steps=7.08=(7.40+4.00+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:0.5 pth:.51
#v1mex-1 response time steps=7.08=(7.40+4.00+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:0.6 pth:.57
#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:0.8 pth:.68
#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:1.0 pth:.78
#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:1.5 pth:.91
#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:2.0 pth:.97
#v1mex-1 response time steps=6.72=(6.80+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 beta:4.0 pth:.999

#v1mex0 response time steps=6.28=(5.80+4.00+8.00+6.80+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:0 indepdata beta:0.5
#v1mex1 response time steps=6.64=(6.20+4.20+7.40+6.80+8.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=6.2=(6.00+4.20+8.20+6.00+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=6.24=(6.00+4.20+8.00+5.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=5.76=(5.20+4.20+5.80+6.60+7.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (6.28+6.64+6.2+6.24+5.76)/5,"=6.224"
#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none #gibbs:1 indepdata beta:0.5
#v1mex1 response time steps=7.72=(8.20+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=7.48=(8.20+5.20+10.00+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=6.84=(7.00+5.20+8.80+5.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=7.2=(5.80+5.20+8.60+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (7.6+7.72+7.48+6.84+7.2)/5,"7.368"
f=../mineishi/text-depdata2.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 beta:1.0 PNr:.8:.8:.8:.8:.99 void:1 gibbs:1 mex:-1
#v1mex-1 response time steps=6.76=(7.00+4.00+8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex0 response time steps=7.6=(7.60+5.20+8.80+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=7.72=(8.20+5.20+8.80+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=7.48=(8.20+5.20+10.00+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=6.92=(7.40+5.20+8.80+5.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=7.2=(5.80+5.20+8.60+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none


##
loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.99999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.10f:1 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1

############## result
#####f=../mineishi/text-depdata2.dat ,pth:.99999
#v1mex-1 response time steps=5.56=(4.00+4.00+4.60+6.00+9.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex0 response time steps=6.16=(4.60+4.40+5.20+7.20+9.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=6.2 =(4.60+4.40+5.60+6.60+9.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=6.16=(4.60+4.20+6.00+6.80+9.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=6.28=(4.80+5.20+5.60+6.60+9.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.64=(4.60+4.40+4.60+5.00+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (4.6*4+4.8)/5=4.64, (4.4*3+4.2*2)/5,(5.2+5.6+6.0+5.6+4.6)/5, (7.2+6.6+6.8+6.6+5.0)/5, (9.4+9.8+9.2+9.2+4.6)/5, "4.64 4.32 5.4 6.44 8.44"
print (6.16+6.2+6.16+6.28+4.64)/5,"=5.888"

pth:.99999   Err:none for all
pth:0.999   Err:none for all
pth:0.99  Err:none for all
loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.99999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.10f:1 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#####f=../mineishi/text-indepdata.dat
#v1mex-1 response time steps=7=(7.00+4.80+8.00+7.20+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none

#v1mex0 response time steps=7.68=(8.00+4.60+8.80+8.40+8.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=7.72=(8.20+6.00+7.80+7.60+9.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=7.8 =(8.20+5.60+9.40+7.20+8.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=7.44=(7.60+5.60+8.80+6.80+8.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=7.16=(6.60+5.40+7.40+8.40+8.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (8+8.2*2+7.6+6.6)/5,(4.6+6+5.6*2+5.4)/5,(8.8*2+7.8+9.4+7.4)/5,(8.4*2+7.6+7.2+6.8)/5,(8.6*2+9.0+8.4+8)/5,"=7.72 5.44 8.44 7.68 8.52"
print (7.68+7.72+7.8+7.44+7.16)/5,"=7.56"

f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.99999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.9f:1 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:1

pth:.99999   Err:none for all
pth:0.999 
#v1mex1 response time steps=6.04=(6.00+4.20+5.40+6.00+8.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 
pth:.99
#v1mex1 response time steps=5.44=(5.00+4.00+4.80+5.60+7.80+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 
#v1mex3 response time steps=5.16=(4.80+4.00+5.00+4.40+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 
pth:.98
#v1mex1 response time steps=5.36=(4.80+4.00+4.80+5.60+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 
#v1mex2 response time steps=5=(4.60+4.20+5.20+5.60+5.40+)/5, (fp+FP)/All=(1+0)/25 Err:IDm5s0t4 
#v1mex3 response time steps=5.08=(4.60+4.00+5.00+4.20+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 
pth:0.97
#v1mex-1 response time steps=4.8=(4.60+4.00+4.80+5.20+5.40+)/5, (fp+FP)/All=(1+0)/25 Err:IDm5s0t4 
#v1mex1 response time steps=5.04=(4.60+4.00+4.60+5.40+6.60+)/5, (fp+FP)/All=(2+0)/25 Err:IDm5s0t4 IDm0s1t3 
#v1mex2 response time steps=4.96=(4.60+4.20+5.00+5.60+5.40+)/5, (fp+FP)/All=(1+0)/25 Err:IDm5s0t4 
#v1mex3 response time steps=5.04=(4.40+4.00+5.00+4.20+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 

loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.10f:1 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=5.68=(5.40+4.00+5.60+6.00+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex0 response time steps=5.88=(6.00+4.00+5.80+6.80+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=6.04=(6.00+4.20+5.40+6.00+8.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 
#v1mex2 response time steps=6.24=(7.00+4.60+7.20+5.80+6.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.84=(5.80+4.20+6.20+5.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=5.88=(5.20+4.20+6.20+6.80+7.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.999 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.10f:1 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:1
v1 s1t1_3i0 m1:-:0.2000000000  um1:-:0.0000000000  m1:-:0.2000000000  m1:-:0.2000000000  m1:-:0.2000000000  m1:-:0.2000000000  
v1 s1t1_3i1 m0:1:0.9346232728  um1:1:0.0000000000  m2:0:0.0040753195  m3:0:0.0035120640  m4:0:0.0210475342  m5:0:0.0367418096 
v1 s1t1_3i2 m0:1:0.9979186410  um1:1:0.0000000000  m2:0:0.0000189734  m3:0:0.0000140912  m4:0:0.0005060861  m5:0:0.0015422083 
v1 s1t1_3i3 m0:1:0.9999276950  um1:0:0.0000000000  m2:0:0.0000000829  m3:0:0.0000000531  m4:0:0.0000114199  m5:0:0.0000607492 
v1 s1t1_3i4 m0:0:0.9991505757x um1:1:0.0000000000  m2:0:0.0000002332  m3:0:0.0000001511  m4:0:0.0000205242  m5:1:0.0008285157 
v1 s1t1_3i5 m0:1:0.9999669387  um1:1:0.0000000000  m2:0:0.0000000010  m3:0:0.0000000006  m4:0:0.0000004626  m5:0:0.0000325971 
v1 s1t1_3i6 m0:0:0.9995544320  um1:1:0.0000000000  m2:0:0.0000000029  m3:0:0.0000000016  m4:0:0.0000008317  m5:1:0.0004447318 
v1 s1t1_3i7 m0:0:0.9876324087  um1:0:0.0000000000  m2:0:0.0000000110  m3:0:0.0000000054  m4:1:0.0005935852  m5:0:0.0117739898 
v1 s1t1_3i8 m0:0:0.8592574376  um1:0:0.0000000000  m2:0:0.0000000269  m3:0:0.0000000133  m4:0:0.0009288664  m5:1:0.1398136558 
v1 s1t1_3i9 m0:0:0.3102872424  um1:1:0.0000000000  m2:0:0.0000000274  m3:0:0.0000000137  m4:0:0.0006033038  m5:1:0.6891094128 
v1 s1t1_3i10 m0:0:0.0196494162  um1:1:0.0000000000  m2:0:0.0000000741  m3:1:0.0000004303  m4:0:0.0000696902  m5:0:0.9802803892 
#v1  mex1 Case2:Err @4 by  IDm0s1t3 fP=1 fP=1 Number of Responses 2=tP(1)-fP(1)
############
v1 s1t1_3i0 m1:-:0.200  um1:-:0.000  m1:-:0.200  m1:-:0.200  m1:-:0.200  m1:-:0.200  
v1 s1t1_3i1 m0:1:0.935  um1:1:0.000  m2:0:0.004  m3:0:0.004  m4:0:0.021  m5:0:0.037 
v1 s1t1_3i2 m0:1:0.998  um1:1:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.001  m5:0:0.002 
v1 s1t1_3i3 m0:1:1.000  um1:0:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.000  m5:0:0.000 
v1 s1t1_3i4 m0:0:0.999x um1:1:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.000  m5:1:0.001 
v1 s1t1_3i5 m0:1:1.000  um1:1:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.000  m5:0:0.000 
v1 s1t1_3i6 m0:0:1.000  um1:1:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.000  m5:1:0.000 
v1 s1t1_3i7 m0:0:0.988  um1:0:0.000  m2:0:0.000  m3:0:0.000  m4:1:0.001  m5:0:0.012 
v1 s1t1_3i8 m0:0:0.859  um1:0:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.001  m5:1:0.140 
v1 s1t1_3i9 m0:0:0.310  um1:1:0.000  m2:0:0.000  m3:0:0.000  m4:0:0.001  m5:1:0.689 
v1 s1t1_3i10 m0:0:0.020  um1:1:0.000  m2:0:0.000  m3:1:0.000  m4:0:0.000  m5:0:0.980 
#v1  mex1 Case2:Err @4 by  IDm0s1t3 fP=1 fP=1 Number of Responses 2=tP(1)-fP(1)
#v1mex1 response time steps=6.04=(6.00+4.20+5.40+6.00+8.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 

###
f=../mineishi/text-indepdata.dat
#f=../mineishi/text-depdata2.dat
loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.55 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.2f:1 beta:0.5 PNr:.7:.7:.7:.7:.99 void:1 gibbs:1 mex:-1
#f=../mineishi/text-depdata2.dat
#v1mex-1 response time steps=5.48=(4.00+4.00+4.00+6.00+9.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#
#v1mex0 response time steps=6.52=(5.20+5.20+5.20+7.60+9.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=5.96=(5.20+4.00+5.20+5.40+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=5.44=(5.20+4.00+5.20+5.40+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.72=(5.20+5.20+5.20+5.60+7.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=5.2 =(5.20+5.20+5.20+5.20+5.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
print 5.2,(5.2*3+4*2)/5, 5.2,(7.6+5.4*2+5.6+5.2)/5,(9.4+10+7.4*2+5.2)/5,"=5.2 4.72 5.2 5.84 7.88"
print (6.52+5.96+5.44+5.72+5.2)/5,"=5.768"

###f=../mineishi/text-indepdata.dat  
f=../mineishi/text-indepdata.dat;loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.55 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.3f:1 beta:0.5 PNr:.7:.7:.7:.7:.99 void:1 gibbs:1 mex:1
#pth:.55
#v1mex-1 response time steps=7.28=(8.40+4.00+8.80+7.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none 

#v1mex0 response time steps=7.36=(7.60+5.20+ 7.60+8.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=7.52=(8.40+5.20+ 7.60+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=7.72=(9.00+5.20+10.00+6.80+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=7.24=(8.20+5.20+ 8.80+6.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=7.32=(6.60+5.20+ 8.40+7.60+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (7.6+8.4+9+8.2+6.6)/5,5.2, (7.6*2+10+8.8+8.4)/5, (8.8+7.6*2+6.8+6.4)/5,(7.6*3+8.8*2)/5,"=7.96 5.2 8.48 7.44 8.08"
print (7.36+7.52+7.72+7.24+7.32)/5,"=7.432"
#pth:0.55 Error none
#v1mex1 response time steps=7.28=(8.20+5.20+7.60+6.60+8.80+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 pth:.54
#v1mex1 response time steps=6.92=(7.80+5.20+6.40+6.40+8.80+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 pth:.45
#v1mex3 response time steps=5.8=(5.60+4.00+7.60+4.20+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3  pth:.45
#v1mex1 response time steps=6=(6.60+4.00+6.00+5.80+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3    pth:.40
#v1mex3 response time steps=5.4=(5.20+4.00+6.20+4.00+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3  pth:.40
#v1mex4 response time steps=5.4=(5.80+4.00+4.20+5.40+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3  pth:.40
#v1mex1 response time steps=5.6=(6.60+4.00+5.40+4.40+7.60+)/5, (fp+FP)/All=(2+0)/25 Err:IDm0s1t3 IDm2s3t3 pth:.38
#v1mex3 response time steps=5.32=(5.20+4.00+5.80+4.00+7.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 pth:.38
#v1mex4 response time steps=5.12=(5.60+4.00+4.20+5.40+6.40+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 pth:.38

#v1mex-1 response time steps=4.92=(5.00+4.00+5.00+4.20+6.40+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 pth:.35
#v1mex1 response time steps=4.8=(4.80+4.00+4.00+4.40+6.80+)/5, (fp+FP)/All=(2+0)/25 Err:IDm0s1t3 IDm2s3t3 pth:.35
#v1mex2 response time steps=4.72=(4.60+4.00+5.80+4.00+5.20+)/5, (fp+FP)/All=(1+0)/25 Err:IDm3s2t3 pth:.35
#v1mex3 response time steps=4.96=(4.20+4.00+5.80+4.00+6.80+)/5, (fp+FP)/All=(1+0)/25 Err:IDm2s3t3 pth:.35
#v1mex4 response time steps=4.76=(5.60+4.00+4.00+4.00+6.20+)/5, (fp+FP)/All=(2+0)/25 Err:IDm3s2t3 IDm2s3t3 pth:.35

###f=../mineishi/text-depdata2.dat
#v1mex-1 response time steps=5.48=(4.00+4.00+4.00+6.00+9.40+)/5, (fp+FP)/All=(0+0)/25 Err:none  pth:0.55

loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.54 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.2f:1 beta:0.5 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:1
v1 s1t1_3i0 m1:-:0.20  um1:-:0.00  m1:-:0.20  m1:-:0.20  m1:-:0.20  m1:-:0.20  
v1 s1t1_3i1 m0:1:0.68  um1:1:0.00  m2:0:0.04  m3:0:0.04  m4:0:0.10  m5:0:0.13 
v1 s1t1_3i2 m0:1:0.68  um1:1:0.00  m2:0:0.04  m3:0:0.04  m4:0:0.10  m5:0:0.13 
v1 s1t1_3i3 m0:1:0.68  um1:0:0.00  m2:0:0.04  m3:0:0.04  m4:0:0.10  m5:0:0.13 
v1 s1t1_3i4 m0:0:0.51  um1:1:0.00  m2:0:0.08  m3:0:0.07  m4:0:0.13  m5:1:0.21 
v1 s1t1_3i5 m0:1:0.55x um1:1:0.00  m2:0:0.07  m3:0:0.06  m4:0:0.13  m5:0:0.19 
v1 s1t1_3i6 m0:0:0.45  um1:1:0.00  m2:0:0.09  m3:0:0.08  m4:0:0.14  m5:1:0.24 
v1 s1t1_3i7 m0:0:0.35  um1:0:0.00  m2:0:0.10  m3:0:0.09  m4:1:0.21  m5:0:0.26 
v1 s1t1_3i8 m0:0:0.31  um1:0:0.00  m2:0:0.11  m3:0:0.10  m4:0:0.20  m5:1:0.28 
v1 s1t1_3i9 m0:0:0.28  um1:1:0.00  m2:0:0.11  m3:0:0.11  m4:0:0.20  m5:1:0.29 
v1 s1t1_3i10 m0:0:0.24  um1:1:0.00  m2:0:0.13  m3:1:0.14  m4:0:0.18  m5:0:0.30 
#v1  mex1 Case2:Err @5 by  IDm0s1t3 fP=1 fP=1 Number of Responses 2=tP(1)-fP(1)

#test of void:0
loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.22 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.2f:1 beta:0.06 PNr:.7:.7:.7:.7:.99 void:1:0.28 gibbs:1 mex:0

loo4gibbs-sr fn:$f ns:5 ntx:5 ntxi:10:10 pmin:0.0 pth:.3 ith:4 ts:4:0:3:1:2 tdisp:3 fmt:%.2f:1 beta:0.1 PNr:.7:.7:.7:.7:.99 void:0:0.28 gibbs:1 mex:0


####
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
####
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:3 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:10 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:2




loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1

#v1mex-1 response time steps=4.28=(4.20+4.20+4.00+4.60+4.40+)/5, (fp+FP)/All=(0+0)/25 Err:none


2012.05.30
(1) See 2012.02.14 for void:<n>, mex:<m>, pth:<pth1>:<pth2>:..
> 2012.02.14
> (1) ギブス分布を使う話者識別プログラム（loo4gibbs-sr.c）を作成し，単純ベイズを使う話者識別プログラム(loo4bayes-sr.c)
>     も同等の機能を持つように改変した．
> (2) 次のオプション　void:<n>, mex:<m>, pth:<pth1>:<pth2>:..　を追加した
> void:0　void識別器を使わない
> void:1　void識別器を使う．初期確率はすべての学習機械で均一．
> void:2　void識別器を使う．初期確率はvoidの学習機械が1(=1-pmin),他の学習機械は0(=pmint=0.01?)
> mex:<m> 学習機械<m>を識別に用いない．m=-1のときはすべて使う．
> pth:<pth1>:<pth2>:.. テキスト毎に認識のしきい値を設定する．
> (2) text-indepdata.datに対し，loo4gibbs-sr でvoid:2を使って，mex:-1で識別率100%,mex:4で1個間違いとできた．
>     text-indepdata.datに対し，loo4bayes-srではvoid:0,1,2 のいづれも，mex:-1で識別率100%，mex:4でこれより
> 　　良い識別率を達成するパラメタは見つかっていない（見つかるかもしれないが…）．

(2) void:0 を修正した．gibbs:0 でも良くなった！?
　　修正内容：最後までしきい値に達しなかったらvoidとする．
(3) New PP; see the paper iconip2012speech.pdf
2012.06.06
(1) void:0:[PIrth]　<=void:0 にオプションを追加
     最終判断で，max PI >=PIrth であればそのマシンで認識，
                max PI <PIrth ならば未登録(m=ns=5)と判断
    ==No Good
NG:loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.8 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:0:0.5 gibbs:1 mex:-1
(2) PNr を PNr[t] とし，text毎にyth[m][t]=PNr[t]*ymeanP[m][t]+(1.-PNr[t])*ymeanN[m][t];と設定できるようにした．
(3) i<ith では認識判断しないようにした
[1]
gibbs:0,ith:4
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=4.2=(4.00+4.00+4.00+4.40+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none

gibbs:0,ith:10
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:10 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s3t4 

[2]gibbs:1,ith:4
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 response time steps=4.52=(4.00+4.20+4.00+4.60+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
gibbs:1,ith:10
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:10 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none

bayes=gibbs:0,ith:4,unreg
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex0 response time steps=4.2 =(4.00+4.00+4.00+4.40+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=4.16=(4.00+4.00+4.00+4.40+4.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=4.16=(4.00+4.00+4.00+4.20+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=4.28=(4.00+4.40+4.20+4.20+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.16=(4.20+4.00+4.00+4.40+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
%4.04+4.08+4.04+4.32+4.48
print (4.4*3+4.2*2)/5=4.32
print (4.6*3+4.4+4.2)/5=4.48
bayes=gibbs:0,ith:4, unreg
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:10 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s3t4 
#v1mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s3t4 
#v1mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s3t4 
#v1mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+1)/25 Err:IDm5s3t4 
#####
gibbs:1,ith:4,unreg
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex0 response time steps=4.68=(4.00+4.20+4.00+4.40+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=4.6 =(4.00+4.20+4.00+4.40+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=4.52=(4.00+4.00+4.00+4.20+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=4.68=(4.00+4.80+4.20+4.20+6.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.24=(4.40+4.20+4.00+4.40+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
%4.08+4.28+4.04+4.32+6.0
print (4.2*3+4+4.8)/5=4.28
print (4.4*3+4.2*2)/5=4.32
print (6.8+6.4*2+6.2+4.2)/5=6.0
#gibbs:1,ith:10,unreg
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:10 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:0
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#########text-independent
#text-independent,bayes=gibbs:0 ith:4, 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=5.04=(4.60+4.20+4.60+5.00+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#text-independent,gibbs:1 ith:4, 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 response time steps=5.8=(5.20+4.20+5.40+6.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#text-independent,bayes=gibbs:0 ith:10, 

##worst case???
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:10 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+4)/25 Err:IDm5s0t0 IDm5s1t4 IDm2s3t1 IDm5s4t4 

#text-independent,gibbs:1 ith:10, 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
##
#text-independent,bayes=gibbs:0 ith:4, unreg
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:0
#v1mex0 response time steps=4.96=(5.20+4.00+4.80+5.00+5.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=5.2 =(4.60+4.20+4.60+5.20+7.40+)/5, (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 <==mex:1 tdisp:3 ==tag1
#v1mex2 response time steps=5.16=(4.60+4.20+5.00+5.60+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.12=(4.60+4.00+5.00+5.20+6.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.48=(4.60+4.00+4.20+5.00+4.60+)/5, (fp+FP)/All=(1+0)/25 Err:IDm5s0t4 <==mex:4 tdisp:4 ==tag2
#                                4.72+4.08+4.72+5.2+6.2
print (5.2+4.6*4)/5=4.72
print (4*3+4.2*2)/5=4.08
print (4.8+4.6+5+5+4.2)/5=4.72
print (5+5.2+5.6+5.2+5)/5=5.2
print (5.8+7.4+6.4+6.8+4.6)/5=6.2
##########################
#text-independent,gibbs:1 ith:4, ureg
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:0
#v1mex0 response time steps=6.04=(6.20+4.20+5.60+6.60+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=6.04=(5.00+4.20+4.80+7.40+8.80+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=5.68=(5.20+4.60+6.40+5.80+6.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.76=(5.60+4.00+6.20+5.40+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=5.52=(5.60+4.20+4.20+6.00+7.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
print (6.2+5+5.2+5.6*2)/5     =5.52
print (4.2*3+4.6+4)/5         =4.24
print (5.6+4.8+6.4+6.2+4.2)/5 =5.44
print (6.6+7.4+5.8+5.4+6)/5   =6.24
print (7.6+8.8+6.4+7.6*2)/5   =7.60
##############
#text-independent,bayes=gibbs:0 ith:10, unreg
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:10 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:0
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm2s3t1 IDm5s4t4 
#v1mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm3s1t3 IDm2s3t1 IDm5s4t4 
#v1mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+4)/25 Err:IDm5s1t0 IDm5s1t4 IDm1s2t2 IDm5s4t4?worst
#v1mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+2)/25 Err:IDm2s3t1 IDm5s4t4 
#v1mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+3)/25 Err:IDm5s0t0 IDm5s1t4 IDm2s3t1 
Err:14= t0:2 t1:4, t2:1 t3:1, t4:6
#text-independent,gibbs:1 ith:10, ureg
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:10 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:0
#v1mex0 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#corresponding worstcase?
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:10 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:2
#v1mex2 response time steps=10=(10.00+10.00+10.00+10.00+10.00+)/5, (fp+FP)/All=(0+4)/25 Err:IDm5s1t0 IDm5s1t4 IDm1s2t2 IDm5s4t4 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:10 ts:4:0:3:1:2 tdisp:4 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:2

#######################################################################################
####dont beleve so much?? below
#######################################################################################
[1]loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=5.04=(4.60+4.20+4.60+5.00+6.80+)/5, (fp+FP)/All=(0+-1)/25 Err:none

#v1mex0 response time steps=4.96=(5.2+ 4   +4.8 +5   +4.75+)/5 (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=5.2= (4.6+ 4.2 +4.6 +5.25+6.75+)/5 (fp+FP)/All=(1+0)/25 Err:IDm0s1t3 <==mex:1 tdisp:3 ==tag1
#v1mex2 response time steps=5.16=(4.6+ 4.2 +5   +4.5 +5.5+)/5 (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.12=(4.6+ 4   +5   +5.2 +6+)/5 (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.48=(4.6+ 4   +4.2 +5   +4.5+)/5 (fp+FP)/All=(1+0)/25 Err:IDm5s0t4 <==mex:4 tdisp:4 ==tag2
                                 4.72+ 4.08+4.72+4.99+5.5
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:2 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 response time steps=4.2=(4.00+4.00+4.00+4.40+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none

#v1mex0 response time steps=4.2 =(4.00+4.00+4.00+4.40+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=4.16=(4.00+4.00+4.00+4.40+4.40+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=4.16=(4.00+4.00+4.00+4.20+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=4.28=(4.00+4.40+4.20+4.20+4.60+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.16=(4.20+4.00+4.00+4.40+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
                                  4.04+4.08+4.04+4.32+4.52

[2] use for ICONIP2012 ?
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 response time steps=5.8=(5.2 +4.2+5.4+5.75+4+)/5, (fp+FP)/All=(0+0)/25 Err:none

#v1mex0 response time steps=6.04=(5.25+4.2 +4.5+6.6+4+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=6.04=(5   +4.2 +4.8+6.75+4+)/5, (fp+FP)/All=(0+0)/25 Err:none   <==mex:1 tdisp:3 == see tag1 above
#v1mex2 response time steps=5.68=(5.2 +4.6 +5.5+4.75+4+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=5.76=(4.5 +4   +5.25+4.25+4+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=5.52=(4.5 +4.2 +4.2+6+4+)/5, (fp+FP)/All=(0+0)/25 Err:none   <==mex:4 tdisp:4 == see tag2 above
                                 4.89
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 response time steps=4.52=(4+4.2+4+4.6+4.75+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex0 response time steps=4.68=(4.00+4.20+4.00+4.40+4.67+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex1 response time steps=4.6 =(4.00+4.20+4.00+4.40+4.00+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex2 response time steps=4.52=(4.00+4.00+4.00+4.20+5.50+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex3 response time steps=4.68=(4.00+4.80+4.20+4.20+5.25+)/5, (fp+FP)/All=(0+0)/25 Err:none
#v1mex4 response time steps=4.24=(4.40+4.20+4.00+4.40+4.20+)/5, (fp+FP)/All=(0+0)/25 Err:none
                                  4.08+4.28+4.04+4.32+4.724
                                  

###do not believe below
[1] use for ICONIP2012 ?
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:3 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=5.8 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=6.04 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=6.04 (Fp+fP)/All=(0+0)/25 Err:none <== see tag1 below
#v1mex2 mean response time steps=5.68 (Fp+fP)/All=(0+0)/25 Err:none <===for iconip2012 use this; tag2 mex:2 tdisp:2
#v1mex3 mean response time steps=5.76 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=5.52 (Fp+fP)/All=(0+0)/25 Err:none
mean time steps
#v1mex0 mean time steps:<t4>5.25<t0>4.2<t3>4.5<t1>6.6<t2>4
#v1mex1 mean time steps:<t4>5<t0>4.2<t3>4.8<t1>6.75<t2>4
#v1mex2 mean time steps:<t4>5.2<t0>4.6<t3>5.5<t1>4.75<t2>4
#v1mex3 mean time steps:<t4>4.5<t0>4<t3>5.25<t1>4.25<t2>4
#v1mex4 mean time steps:<t4>4.5<t0>4.2<t3>4.2<t1>6<t2>4
#v1mex0-4                  4.89  4.24   4.85 5.67 4

pth=1.0
#v1mex-1 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
逆温度betaが大きい(beta=3)と最終決定はNGになる,小さいと(10e-15はダメ）,1e-14=<beta=<2の範囲でOK
pth=1.0; beta=3; 
#v1mex-1 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=10 (Fp+fP)/All=(1+0)/25 Err:IDm2s1t4 
#v1mex2 mean response time steps=10 (Fp+fP)/All=(2+0)/25 Err:IDm5s1t4 IDm1s2t2 
#v1mex3 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
pth=1.0; beta=1e-15; 
#v1mex-1 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=10 (Fp+fP)/All=(3+0)/25 Err:IDm1s2t2 IDm3s2t3 IDm5s3t4 
#v1mex3 mean response time steps=10 (Fp+fP)/All=(1+0)/25 Err:IDm2s3t3 
#v1mex4 mean response time steps=10 (Fp+fP)/All=(0+0)/25 Err:none


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:4 beta:2. PNr:.8:.8:.8:.8:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=6.36 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=6.4 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=6.56 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=6.04 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=6.08 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=5.64 (Fp+fP)/All=(0+0)/25 Err:none
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.78 ith:4 ts:4:0:3:1:2 tdisp:4 beta:2. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=4.52 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=4.68 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=4.6 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=4.52 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=4.68 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=4.24 (Fp+fP)/All=(0+0)/25 Err:none

[2] Original Bayesian
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:3 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 mean response time steps=5.04 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=4.96 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=5.2 (Fp+fP)/All=(0+1)/25 Err:IDm0s1t3 <=== tag1
#v1mex2 mean response time steps=5.32 (Fp+fP)/All=(0+1)/25 Err:IDm1s2t2 <===use this; tag2 mex:2 tdisp:2
#v1mex3 mean response time steps=5.12 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=4.6 (Fp+fP)/All=(0+0)/25 Err:none
men time step[]
#v1mex0 mean time steps:<t4>5.2<t0>4<t3>4.8<t1>5<t2>4.75
#v1mex1 mean time steps:<t4>4.6<t0>4.2<t3>4.6<t1>5.25<t2>6.75
#v1mex2 mean time steps:<t4>4.6<t0>4.2<t3>5<t1>4.5<t2>5.5
#v1mex3 mean time steps:<t4>4.6<t0>4<t3>5<t1>5.2<t2>6
#v1mex4 mean time steps:<t4>4.6<t0>4<t3>4.2<t1>5<t2>5.2
                           4.72  4.08  4.72  4.99  5.64
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:1.0 ith:4 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 mean response time steps=10 (Fp+fP)/All=(4+0)/25 Err:IDm5s0t0 IDm5s1t4 IDm2s3t1 IDm5s4t4 
#v1mex0 mean response time steps=10 (Fp+fP)/All=(2+0)/25 Err:IDm2s3t1 IDm5s4t4 
#v1mex1 mean response time steps=10 (Fp+fP)/All=(3+0)/25 Err:IDm3s1t3 IDm2s3t1 IDm5s4t4 
#v1mex2 mean response time steps=10 (Fp+fP)/All=(4+0)/25 Err:IDm5s1t0 IDm5s1t4 IDm1s2t2 IDm5s4t4 
#v1mex3 mean response time steps=10 (Fp+fP)/All=(2+0)/25 Err:IDm2s3t1 IDm5s4t4 
#v1mex4 mean response time steps=10 (Fp+fP)/All=(3+0)/25 Err:IDm5s0t0 IDm5s1t4 IDm2s3t1 
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.7:.7:.7:.7:.99 void:1 gibbs:0 mex:-1
#v1mex-1 mean response time steps=4.2 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=4.2 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=4.16 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=4.16 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=4.28 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=4.16 (Fp+fP)/All=(0+0)/25 Err:none

###########
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.7 void:1 gibbs:0 mex:-1
#v1mex-1 mean response time steps=4.72 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=4.84 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=4.84 (Fp+fP)/All=(0+2)/25 Err:IDm0s1t3 IDm2s1t4 
#v1mex2 mean response time steps=4.92 (Fp+fP)/All=(0+1)/25 Err:IDm1s2t2 
#v1mex3 mean response time steps=4.56 (Fp+fP)/All=(0+1)/25 Err:IDm2s3t4 
#v1mex4 mean response time steps=4.6 (Fp+fP)/All=(0+0)/25 Err:none



loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ith:4 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
#v1mex-1 mean response time steps=4.72 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=4.8 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=5 (Fp+fP)/All=(0+1)/25 Err:IDm2s1t4 
#v1mex2 mean response time steps=5.2 (Fp+fP)/All=(1+0)/25 Err:IDm1s2t2 
#v1mex3 mean response time steps=4.88 (Fp+fP)/All=(0+1)/25 Err:IDm2s3t4 
#v1mex4 mean response time steps=4.44 (Fp+fP)/All=(0+0)/25 Err:none
pth:1.0
#v1mex-1 mean response time steps=10 (Fp+fP)/All=(4+0)/25 Err:IDm5s0t0 IDm5s1t0 IDm3s1t4 IDm2s3t1 
#v1mex0 mean response time steps=10 (Fp+fP)/All=(3+0)/25 Err:IDm5s1t0 IDm3s1t4 IDm2s3t1 
#v1mex1 mean response time steps=10 (Fp+fP)/All=(3+0)/25 Err:IDm3s1t3 IDm3s1t4 IDm2s3t1 
#v1mex2 mean response time steps=10 (Fp+fP)/All=(3+0)/25 Err:IDm5s1t0 IDm3s1t4 IDm1s2t2 
#v1mex3 mean response time steps=10 (Fp+fP)/All=(2+0)/25 Err:IDm5s1t0 IDm2s3t1 
#v1mex4 mean response time steps=10 (Fp+fP)/All=(4+0)/25 Err:IDm5s0t0 IDm5s1t0 IDm3s1t4 IDm2s3t1 

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
#v1mex-1 mean response time steps=3.52 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=3.6 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=3.56 (Fp+fP)/All=(0+2)/25 Err:IDm0s1t3 IDm2s1t4 
#v1mex2 mean response time steps=4.08 (Fp+fP)/All=(1+0)/25 Err:IDm1s2t2 
#v1mex3 mean response time steps=3.52 (Fp+fP)/All=(0+1)/25 Err:IDm2s3t4 
#v1mex4 mean response time steps=3.56 (Fp+fP)/All=(0+0)/25 Err:none


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.68 ith:4 ts:4:0:3:1:2 tdisp:4 beta:1. PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=7.04 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=7.12 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=7.4 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=7.36 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=6.8 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=6.84 (Fp+fP)/All=(0+0)/25 Err:none


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.65 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.9 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=7.52 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=7.36 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=7.68 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=7.8 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=7.28 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=7.44 (Fp+fP)/All=(0+0)/25 Err:none

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.65 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.8 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=7.56 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=7.6 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=7.88 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=7.92 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=7.44 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=7.76 (Fp+fP)/All=(0+0)/25 Err:none

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.61 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.7 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#v1mex-1 mean response time steps=7.68 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex0 mean response time steps=7.88 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex1 mean response time steps=7.88 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex2 mean response time steps=7.96 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex3 mean response time steps=7.72 (Fp+fP)/All=(0+0)/25 Err:none
#v1mex4 mean response time steps=7.72 (Fp+fP)/All=(0+0)/25 Err:none


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.55 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#mean response time steps=7.64 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=7.88 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=7.84 (Fp+fP)/All=(0+0)/25 v1mex1 Err:
#mean response time steps=7.96 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=7.72 (Fp+fP)/All=(0+0)/25 v1mex3 Err:
#mean response time steps=7.72 (Fp+fP)/All=(0+0)/25 v1mex4 Err:

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.5 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.5 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#mean response time steps=8.12 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=7.88 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=7.88 (Fp+fP)/All=(0+0)/25 v1mex1 Err:
#mean response time steps=8.24 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=7.84 (Fp+fP)/All=(0+0)/25 v1mex3 Err:
#mean response time steps=7.76 (Fp+fP)/All=(0+0)/25 v1mex4 Err:

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.45 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.4 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#mean response time steps=8.92 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=8.2 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=8.12 (Fp+fP)/All=(0+0)/25 v1mex1 Err:
#mean response time steps=8.56 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=7.84 (Fp+fP)/All=(0+0)/25 v1mex3 Err:
#mean response time steps=8.16 (Fp+fP)/All=(0+0)/25 v1mex4 Err:


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.5 ith:4 ts:4:0:3:1:2 tdisp:4 beta:.4 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#mean response time steps=9.28 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=8.84 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=9.08 (Fp+fP)/All=(0+0)/25 v1mex1 Err:
#mean response time steps=9.16 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=9.24 (Fp+fP)/All=(0+0)/25 v1mex3 Err:
#mean response time steps=8.64 (Fp+fP)/All=(0+0)/25 v1mex4 Err:


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.3 ts:4:0:3:1:2 tdisp:4 beta:.1 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:1
#mean response time steps=10 (Fp+fP)/All=(0+0)/25 v1mex-1 Err: 
#mean response time steps=10 (Fp+fP)/All=(0+0)/25 v1mex0 Err:  same for all mex0,1,2,3,4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.55 ts:4:0:3:1:2 tdisp:4 beta:.4 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#mean response time steps=8.92 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=8.56 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=9.28 (Fp+fP)/All=(0+0)/25 v1mex1 Err:
#mean response time steps=8.92 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=8.92 (Fp+fP)/All=(0+0)/25 v1mex3 Err:
#mean response time steps=8.92 (Fp+fP)/All=(0+0)/25 v1mex4 Err:
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.3 ts:4:0:3:1:2 tdisp:4 beta:.2 PNr:.7:.7:.7:.7:.99 void:1:0.4 gibbs:1 mex:-1
#mean response time steps=8.2 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:



loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
#mean response time steps=3.48 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=3.4 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=3.52 (Fp+fP)/All=(0+2)/25 v1mex1 Err:IDm0s1t3 IDm2s1t4 
#mean response time steps=4.04 (Fp+fP)/All=(1+0)/25 v1mex2 Err:IDm1s2t2 
#mean response time steps=3.44 (Fp+fP)/All=(0+1)/25 v1mex3 Err:IDm2s3t4 
#mean response time steps=3.52 (Fp+fP)/All=(0+0)/25 v1mex4 Err:
保守的に最後(T_th=10)に認識するためpth=0.99にしてもダメ
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.99 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
上のv1mex1のErrを除くため，PNr:.8:.8:.8:.99:.99とすると下の様になりダメ！
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8:.8:.8:.99:.99 void:1 gibbs:0 mex:1
#mean response time steps=4.56 (Fp+fP)/All=(1+0)/25 v1mex-1 Err:IDm5s1t3 
#mean response time steps=4.12 (Fp+fP)/All=(1+0)/25 v1mex0 Err:IDm5s1t3 
#mean response time steps=4.76 (Fp+fP)/All=(0+0)/25 v1mex1 Err:
#mean response time steps=5.08 (Fp+fP)/All=(2+0)/25 v1mex2 Err:IDm5s1t3 IDm1s2t2 
#mean response time steps=4.72 (Fp+fP)/All=(1+0)/25 v1mex3 Err:IDm5s1t3 
#mean response time steps=4.28 (Fp+fP)/All=(1+0)/25 v1mex4 Err:IDm5s1t3 

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
#mean response time steps=3.48 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=3.4 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=3.48 (Fp+fP)/All=(0+2)/25 v1mex1 Err:IDm0s1t3 IDm2s1t4 
#mean response time steps=3.76 (Fp+fP)/All=(1+0)/25 v1mex2 Err:IDm1s2t3 
#mean response time steps=3.28 (Fp+fP)/All=(0+1)/25 v1mex3 Err:IDm2s3t4 
#mean response time steps=3.52 (Fp+fP)/All=(0+0)/25 v1mex4 Err:


2012.06.05
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.8 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:1 gibbs:1 mex:-1
loo4gibbs-sr.c L242 if(s==mex) continue;//do not use speech s=mex(void).//check
v1*m1s1t3^1:16 1:49 1:48 0:36 1:41 1:43 1:43 0:39 0:35 1:36 0:34 <==mex:-1
v1*m1s1t3^1:16 0:16 0:16 0:16 1:20 1:23 0:22 0:23 0:22 0:21 0:22 <==mex:0 ??
//coment-out L242      if(s==mex) continue;//do not use speech s=mex(void).//check  ==use this from now 2012.06.06
mex:1  v1 m2s1t4^2:16 0:16 0:16 1:30 0:26 1:33 1:38 1:41 v1 m5s1t4^2:16 1:44 1:44 0:26 1:30 0:22 0:18 0:15 
mex:-1 v1 m2s1t4^2:16 0:10 0:09 1:12 0:11 1:17 1:17 1:21 v1 m5s1t4^2:16 0:05 0:05 0:05 0:05 0:05 0:05 0:05 v1*m1s1t4^2:16 1:61 1:61 1:65 1:63 0:54 1:57 0:50 
==>
[1"]loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
#mean response time steps=3.48 (Fp+fP)/All=(0+0)/25 v1mex-1  Err:
#mean response time steps=3.4 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=3.48 (Fp+fP)/All=(0+2)/25 v1mex1 Err:m0s1t3 m2s1t4 
#mean response time steps=3.76 (Fp+fP)/All=(1+0)/25 v1mex2 Err:m1s2t3 
#mean response time steps=3.28 (Fp+fP)/All=(0+1)/25 v1mex3 Err:m2s3t4 
#mean response time steps=3.52 (Fp+fP)/All=(0+0)/25 v1mex4 Err:
#mean response time steps=7 (Fp+fP)/All=(1+0)/25 v1mex-1 Err:m4s1t3                  <=pth:.94
#mean response time steps=7 (Fp+fP)/All=(2+0)/25 v1mex0 Err:m3s0t1 m4s1t3 
#mean response time steps=7 (Fp+fP)/All=(2+0)/25 v1mex1 Err:m4s1t3 m2s1t4 
#mean response time steps=7 (Fp+fP)/All=(2+0)/25 v1mex2 Err:m4s1t3 m1s2t3 
#mean response time steps=7 (Fp+fP)/All=(1+0)/25 v1mex3 Err:m4s1t3 
#mean response time steps=7 (Fp+fP)/All=(3+0)/25 v1mex4 Err:m5s1t2 m0s4t1 m0s4t2 


[3"]loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.7 void:1 gibbs:1 mex:-1
#mean response time steps=5.56 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=5.56 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=5.32 (Fp+fP)/All=(1+1)/25 v1mex1 Err:m0s1t3 m0s1t4 
#mean response time steps=5.44 (Fp+fP)/All=(1+0)/25 v1mex2 Err:m3s2t3 
#mean response time steps=5.56 (Fp+fP)/All=(2+0)/25 v1mex3 Err:m2s3t3 m2s3t4 
#mean response time steps=6.04 (Fp+fP)/All=(0+0)/25 v1mex4 Err:
#mean response time steps=7.84 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:   <==ntxi:10:10
#mean response time steps=7.84 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=7.48 (Fp+fP)/All=(0+1)/25 v1mex1 Err:m0s1t4 
#mean response time steps=7.6 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=7.84 (Fp+fP)/All=(1+0)/25 v1mex3 Err:m2s3t4 
#mean response time steps=8.56 (Fp+fP)/All=(0+0)/25 v1mex4 Err:
==> pth:.8 
#mean response time steps=10 (Fp+fP)/All=(1+0)/25 v1mex1 Err:m2s1t4 
    v1 m2s1t4^2:16 0:08 0:14 1:28 0:25 1:32 1:37 1:40 1:42 0:39 0:36>v1 m5s1t4^2:16 0:05 1:19 0:15 1:21 0:17 0:14 0:13 0:11 1:14 0:13 
#mean response time steps=10 (Fp+fP)/All=(1+0)/25 v1mex3 Err:m2s3t4 
    v1 m2s3t4^2:16 0:15 1:40 1:50 1:54 1:57 0:49 1:52 1:54 0:49 0:46 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.8 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.9 void:1 gibbs:1 mex:1
#mean response time steps=10 (Fp+fP)/All=(0+0)/25 v1mex-1 Err:
#mean response time steps=10 (Fp+fP)/All=(0+0)/25 v1mex0 Err:
#mean response time steps=10 (Fp+fP)/All=(1+0)/25 v1mex1 Err:m2s1t4 v1 m2s1t4^2:16 0:16 0:16 1:29 0:25 1:32 1:36 1:39 1:42 0:39 0:35 
#mean response time steps=10 (Fp+fP)/All=(0+0)/25 v1mex2 Err:
#mean response time steps=10 (Fp+fP)/All=(0+0)/25 v1mex3 Err:




2012.06.04-
以下の[1],[2],[3]が理論に合う結果？
・[1]のベイズでは，識別しきい値に達すると全て識別できるが，１人ずつ除くと誤認識する．そこでしきい値を大きくして
最後に最大値で識別するようにすると，[2]の誤識別が起こる．（ntxi:10:8にするとok?)[3]のGibbsではうまくいっている．
bag of loo4gibbs-sr for void:0
[1]loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:0 gibbs:0 mex:-1
(Cf.ICONIP2011? loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.95 ts:4:0:3:1:2 tdisp:4)
#mean response time steps=3.28 (Fp+fP)/All=(0+0)/25 v0mex-1
#mean response time steps=3.56 (Fp+fP)/All=(0+3)/25 v0mex0
#mean response time steps=3.8 (Fp+fP)/All=(0+2)/25 v0mex1
#mean response time steps=3.72 (Fp+fP)/All=(0+2)/25 v0mex2
#mean response time steps=3.48 (Fp+fP)/All=(0+1)/25 v0mex3
#mean response time steps=4 (Fp+fP)/All=(0+2)/25 v0mex4
[2]loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.96 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:0 gibbs:0 mex:-1
#mean response time steps=7 (Fp+fP)/All=(1+0)/25 v0mex-1 ==>m4s1t3 ==> v0*m1s1t3^1:20 1:73 1:92 0:60 1:93 1:94 1:94 0:41 
#mean response time steps=7 (Fp+fP)/All=(0+0)/25 v0mex1
#mean response time steps=7 (Fp+fP)/All=(0+0)/25 v0mex2
#mean response time steps=7 (Fp+fP)/All=(0+0)/25 v0mex3
#mean response time steps=7 (Fp+fP)/All=(0+0)/25 v0mex4
[3]loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.8 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:0 gibbs:1 mex:-1
#mean response time steps=6.28 (Fp+fP)/All=(0+0)/25 v0mex0
#mean response time steps=7 (Fp+fP)/All=(0+0)/25 v0mex1
#mean response time steps=6.76 (Fp+fP)/All=(0+0)/25 v0mex2
#mean response time steps=6.76 (Fp+fP)/All=(0+0)/25 v0mex3
#mean response time steps=6.76 (Fp+fP)/All=(0+0)/25 v0mex4

[1'] loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.94 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:0 gibbs:0 mex:-1
#mean response time steps=1.8 (Fp+fP)/All=(0+0)/25 v0mex-1 
#mean response time steps=2.96 (Fp+fP)/All=(0+0)/25 v0mex0
#mean response time steps=2.48 (Fp+fP)/All=(0+2)/25 v0mex1
#mean response time steps=2.92 (Fp+fP)/All=(0+0)/25 v0mex2
#mean response time steps=2.56 (Fp+fP)/All=(0+0)/25 v0mex3
#mean response time steps=2.48 (Fp+fP)/All=(0+1)/25 v0mex4
[3']loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.8 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:0 gibbs:1 mex:-1
#mean response time steps=5.08 (Fp+fP)/All=(0+0)/25 v0mex-1
#mean response time steps=5.8 (Fp+fP)/All=(0+0)/25 v0mex0
#mean response time steps=4.84 (Fp+fP)/All=(0+0)/25 v0mex1
#mean response time steps=6.04 (Fp+fP)/All=(0+0)/25 v0mex2
#mean response time steps=4.6 (Fp+fP)/All=(0+0)/25 v0mex3
#mean response time steps=4.6 (Fp+fP)/All=(0+0)/25 v0mex4


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.9 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.5 void:0 gibbs:1 mex:-1
#mean response time steps=7 (Fp+fP)/All=(0+0)/25 v0mex-1 <== all mex=-1,0,1,2,3,4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:0 gibbs:1 mex:-1
#mean response time steps=5.08 (Fp+fP)/All=(0+0)/25 v0mex-1
#mean response time steps=5.32 (Fp+fP)/All=(0+0)/25 v0mex0
#mean response time steps=4.2 (Fp+fP)/All=(0+3)/25 v0mex1
#mean response time steps=5.08 (Fp+fP)/All=(0+1)/25 v0mex2
#mean response time steps=4.84 (Fp+fP)/All=(0+1)/25 v0mex3
#mean response time steps=5.44 (Fp+fP)/All=(0+1)/25 v0mex4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:1 gibbs:1 mex:0
#mean response time steps=5.8 (Fp+fP)/All=(0+0)/25 v1mex-1
#mean response time steps=6.04 (Fp+fP)/All=(1+0)/25 v1mex0
#mean response time steps=6.52 (Fp+fP)/All=(1+0)/25 v1mex1
#mean response time steps=6.04 (Fp+fP)/All=(1+0)/25 v1mex2
#mean response time steps=6.12 (Fp+fP)/All=(1+1)/25 v1mex3
#mean response time steps=6.04 (Fp+fP)/All=(0+0)/25 v1mex4


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.6 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:0 gibbs:1 mex:-1
#mean response time steps=4.84 (Fp+fP)/All=(0+0)/25 v1mex-1

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:1 gibbs:1 mex:-1
#mean response time steps=5.8 (Fp+fP)/All=(0+0)/25 v1mex-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.96 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:0 gibbs:0 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.96 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.8 void:1 gibbs:0 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.98 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.5 void:0 gibbs:0 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.97 ts:4:0:3:1:2 tdisp:4 beta:0.6 PNr:.5 void:0 gibbs:0 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.8 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:0 gibbs:1 mex:-1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7 pmin:0.05 pth:.7 ts:4:0:3:1:2 tdisp:4 beta:.6 PNr:.8 void:1 gibbs:1 mex:-1

## donot belive below

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.9
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
#v1mex0:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;==>(1+0)/25
#v1mex1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;==>(1+0)/25

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.95
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[3]<t1> ID(5)!=s(1),mex2
Err:Case21:[3]<t1> ID(5)!=s(1),mex3
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.9
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.2
Err:Case21:[1]<t0> ID(1)!=ns(5),mex0
Err:Case21:[2]<t3> ID(1)!=ns(5),mex0
Err:Case21:[4]<t2> ID(4)!=ns(5),mex0
Err:Case21:[3]<t1> ID(4)!=ns(5),mex1
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
...
Err:Case21:[3]<t1> ID(1)!=ns(5),mex4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.3
Err:Case21:[1]<t0> ID(3)!=ns(5),mex0
Err:Case21:[2]<t3> ID(2)!=ns(5),mex1
Err:Case21:[3]<t1> ID(4)!=ns(5),mex1
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[0]<t4> ID(3)!=ns(5),mex2
Err:Case21:[2]<t3> ID(1)!=ns(5),mex2
Err:Case21:[3]<t1> ID(3)!=ns(5),mex2
Err:Case21:[1]<t0> ID(2)!=ns(5),mex3
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3
Err:Case21:[3]<t1> ID(1)!=ns(5),mex4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.4
Err:Case21:[2]<t3> ID(2)!=ns(5),mex1
Err:Case21:[3]<t1> ID(0)!=ns(5),mex1
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[2]<t3> ID(1)!=ns(5),mex2
Err:Case21:[3]<t1> ID(3)!=ns(5),mex2
Err:Case21:[1]<t0> ID(2)!=ns(5),mex3
Err:Case21:[3]<t1> ID(2)!=ns(5),mex3
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3
Err:Case21:[3]<t1> ID(1)!=ns(5),mex4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.5
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[2]<t3> ID(1)!=ns(5),mex2
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.6
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[3]<t1> ID(3)!=ns(5),mex2
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.7
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[3]<t1> ID(1)!=ns(5),mex2
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.8
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[3]<t1> ID(1)!=ns(5),mex2
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:2 gibbs:1 mex:-1 tdisp:4 beta:0.6 PNr:.8
Err:Case21:[2]<t3> ID(5)!=s(1),mex0
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[2]<t3> ID(5)!=s(1),mex3
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:4 tdisp:4 beta:0.6 PNr:.5
Err:Case21:[3]<t1> ID(5)!=s(1),mex0
Err:Case21:[4]<t2> ID(2)!=ns(5),mex1
Err:Case21:[2]<t3> ID(1)!=ns(5),mex2
Err:Case21:[4]<t2> ID(2)!=ns(5),mex3
#NG loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.97 ts:4:0:3:1:2 void:1 gibbs:1 mex:0 tdisp:4 beta:0.6 PNr:.3





loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.95:.95:.95:.95:.95 ts:4:0:3:1:2 void:2 gibbs:0 mex:-1 tdisp:4 beta:.7 PNr:.3 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10 pmin:0.05 pth:.95:.95:.95:.95:.95 ts:4:0:3:1:2 void:2 gibbs:0 mex:-1 tdisp:4 beta:.7 PNr:.3 


2012.02.22 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:5  pmin:0.05 pth:.54:.6:.6:.75:.58 ts:4:0:3:1:2 tdisp:4 void:2 beta:.5 PNr:.4 mex:-1
#v2mex-1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25
#v2mex0:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25
#v2mex1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;==>(1+0)/25
#v2mex2:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;==>(1+0)/25
#v2mex3:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.200(1+0)/5;==>(2+0)/25
#v2mex4:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;==>(1+0)/25
#void:0
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10  pmin:0.05 pth:.54:.6:.6:.84:.71 ts:4:0:3:1:2 tdisp:4 void:0 beta:.7 PNr:.3 mex:-1
#v0mex-1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25

2012.02.20
(1)認識率の計算を修正した？
###[1] 例 text-independent by gibbs 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10  pmin:0.05 pth:.54:.6:.6:.81:.71 ts:4:0:3:1:2 tdisp:4 void:2 beta:.7 PNr:.3 mex:-1
#OK#v2mex-1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25
#OK#v2mex0:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25
#NG#v2mex1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.200(1+0)/5;==>(2+0)/25
#NG#v2mex2:Case21 Identification Error(FP+fP)/Total:0.200(1+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;0.200(1+0)/5;==>(3+0)/25
#NG#v2mex3:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.200(1+0)/5;==>(2+0)/25
#OK#v2mex4:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25
###[2] 例 text-independent by bayes 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98:0.98:0.98:0.98:0.96 ts:4:0:3:1:2 tdisp:4 void:2 gibbs:0 PNr:.3 mex:-1
#OK#v2mex-1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(0+0)/25
#NG#v2mex0:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;0.400(1+1)/5;==>(2+1)/25
#NG#v2mex1:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.400(1+1)/5;0.400(1+1)/5;==>(2+2)/25
#NG#v2mex2:Case21 Identification Error(FP+fP)/Total:0.400(1+1)/5;0.000(0+0)/5;0.200(1+0)/5;0.200(1+0)/5;0.200(1+0)/5;==>(4+1)/25
#NG#v2mex3:Case21 Identification Error(FP+fP)/Total:0.200(1+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.400(1+1)/5;0.400(1+1)/5;==>(3+2)/25
#NG#v2mex4:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.400(1+1)/5;0.000(0+0)/5;==>(1+1)/25
###[3] 例 text-dependent by gibbs 
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:10  pmin:0.05 pth:.54:.6:.6:.81:.71 ts:4:0:3:1:2 tdisp:4 void:2 beta:.7 PNr:.3 mex:-1
###[4] 例 text-dependent by bayes 
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98:0.98:0.98:0.98:0.96 ts:4:0:3:1:2 tdisp:4 void:2 gibbs:0 PNr:.3 mex:-1
#NG#v2mex2:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;==>(1+0)/25
#NG#v2mex4:Case21 Identification Error(FP+fP)/Total:0.000(0+0)/5;0.000(0+0)/5;0.200(1+0)/5;0.000(0+0)/5;0.000(0+0)/5;==>(1+0)/25

2012.02.15a
(1) loo4gibbs-srにオプションgibbs:<mode>を使えるようにした．
    （必要無いところでプログラムの違いが出ないように．）
　　gibbs:<mode> gibbs:1でギブス分布，gibbs:0で従来のベイズ推定．
2012.02.15
(1) オプションPNr:<alpha>を追加
PNr:<alpha> CAN2の出力yの正例に対する平均ymeanPと負例に対する平均ymeanNに対し
    CAN2の1と-1を判定するしきい値yth[m][t]を，
　　yth[m][t]=alpha*ymeanP[m][t]+(1-alpha)*ymeanN[m][t];
　　で設定する
注意）オプションntxi:<ntxi>:<_ntxi> の,<ntxi>はデータファイル中の各テキストに
　　　対するデータの個数，<_ntxi>はCase1とCase2の認識打切ステップ数．

(2) できるだけ速く間違いの無い話者識別法として，まず，Case1 でFP(False Positive；間違って
　　1を出して識別する）を無くす．するとCase1ではTP(True Positive；正しく１を出す)か，指定
　　ステップ数までに識別できないこととなる．そこで後者の場合，認識打切ステップ数<_ntxi>において
　　Case2で識別することとする．これにより，より速く間違いのない話者識別ができる．すると，
loo4gibbs-sr ではpth, beta, PNrを調整してmex:-1,mex:0,mex:1,mex:2,mex:3,mex:4に対して実現できたが，
loo4bayse-sr ではpth,PNrを調整してもまだできていない．
(批判：初めからCase2だけを考えればいいのでは？いや，Case2だけでは遅い;ステップ数を計算せよ）

###[1] 例 OK for text-independent by gibbs for all mex:-1,mex:0,mex:1,mex:2,mex:3,mex:4
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:5  pmin:0.05 pth:.54:.6:.6:.75:.58 ts:4:0:3:1:2 tdisp:4 void:2 beta:.5 PNr:.3 mex:-1
###[2] 例 NG for text-independent by bayes for all mex:-1,mex:0,mex:1,mex:2,mex:3,mex:4
loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98:0.98:0.98:0.98:0.96 ts:4:0:3:1:2 tdisp:4 void:2 PNr:.3 mex:-1
###############
2012.02.14
(1) ギブス分布を使う話者識別プログラム（loo4gibbs-sr.c）を作成し，単純ベイズを使う話者識別プログラム(loo4bayes-sr.c)
    も同等の機能を持つように改変した．
(2) 次のオプション　void:<n>, mex:<m>, pth:<pth1>:<pth2>:..　を追加した
void:0　void識別器を使わない
void:1　void識別器を使う．初期確率はすべての学習機械で均一．
void:2　void識別器を使う．初期確率はvoidの学習機械が1(=1-pmin),他の学習機械は0(=pmint=0.01?)
mex:<m> 学習機械<m>を識別に用いない．m=-1のときはすべて使う．
pth:<pth1>:<pth2>:.. テキスト毎に認識のしきい値を設定する．

(2) text-indepdata.datに対し，loo4gibbs-sr でvoid:2を使って，mex:-1で識別率100%,mex:4で1個間違いとできた．
    text-indepdata.datに対し，loo4bayes-srではvoid:0,1,2 のいづれも，mex:-1で識別率100%，mex:4でこれより
　　良い識別率を達成するパラメタは見つかっていない（見つかるかもしれないが…）．

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.03 pth:.64:.6:.6:.91:.76 ts:4:0:3:1:2 tdisp:4 void:2 beta:1 mex:3
###[1] text-independent by gibbs
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:20  pmin:0.03 pth:.64:.6:.6:.91:.73 ts:4:0:3:1:2 tdisp:4 void:2 beta:0.7 mex:0


loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10  pmin:0.03 pth:.64:.6:.6:.80:.54 ts:4:0:3:1:2 tdisp:4 void:2 beta:1 mex:2
#v2:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)
#v2:Case2 usePP Identification Error:0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:10  pmin:0.03 pth:.64:.6:.6:.80:.54 ts:4:0:3:1:2 tdisp:4 void:2 beta:1 mex:-1
#v2:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v2:Case2 usePP Identification Error:0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:.54:.6:.6:.75:.54 ts:4:0:3:1:2 tdisp:4 void:2 beta:1 mex:-1
void:2 beta:1 mex:-1 Perfect!
#v2:usePP  Identification (tP,fP):<t4>5@(5,0)[3,0]<t0>5@(5,0)[3,0]<t3>5@(5,0)[2.8,0]<t1>5@(5,0)[3.8,0]<t2>5@(5,0)[3.2,0]
#v2:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v2:Case2 usePP Identification Error:0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:.54:.6:.6:.75:.54 ts:4:0:3:1:2 tdisp:4 void:2 beta:1 mex:4
void:2 beta:1 mex:4 NotPerfect!
#v2:usePP  Identification (tP,fP):<t4>4@(4,0)[3.25,0]<t0>4@(4,0)[3.25,0]<t3>4@(4,0)[2.75,0]<t1>4@(4,1)[3.5,2]<t2>4@(4,0)[3.5,0]
#v2:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)
#v2:Case2 usePP Identification Error:0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.050(1/20fP1)0.000(0/20fP0)
#void:1 beta:1 mex:-1 NotPerfect!
#v1:usePP  Identification (tP,fP):<t4>5@(5,1)[1.4,1]<t0>5@(5,0)[1.4,0]<t3>5@(5,0)[1.6,0]<t1>5@(5,2)[3.4,1]<t2>5@(5,1)[1.2,1]
#v1:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v1:Case2 usePP Identification Error:0.040(1/25fP1)0.000(0/25fP0)0.000(0/25fP0)0.080(2/25fP2)0.040(1/25fP1)
#void:1 beta:1 mex:4 NotPerfect!
#v1:usePP  Identification (tP,fP):<t4>4@(4,2)[1.5,1]<t0>4@(4,0)[1.5,0]<t3>4@(4,0)[1.75,0]<t1>4@(4,3)[3,1]<t2>4@(4,1)[1.25,1]
#v1:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)
#v1:Case2 usePP Identification Error:0.100(2/20fP2)0.000(0/20fP0)0.000(0/20fP0)0.150(3/20fP3)0.050(1/20fP1)
#void:0 beta:1 mex:-1 NotPerfect
#v0:usePP  Identification (tP,fP):<t4>5@(5,1)[1.4,1]<t0>5@(5,0)[1.4,0]<t3>5@(5,0)[1.6,0]<t1>5@(5,2)[3.2,1]<t2>5@(5,1)[1.2,1]
#v0:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v0:Case2 usePP Identification Error:0.040(1/25fP1)0.000(0/25fP0)0.000(0/25fP0)0.080(2/25fP2)0.040(1/25fP1)
#void:0 beta:1 mex:4 NotPerfect
#v0:usePP  Identification (tP,fP):<t4>4@(4,2)[1.5,1]<t0>4@(4,1)[1.75,6]<t3>4@(4,1)[1.75,3]<t1>4@(4,3)[3,1]<t2>4@(4,1)[1.25,1]
#v0:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)
#v0:Case2 usePP Identification Error:0.100(2/20fP2)0.050(1/20fP1)0.050(1/20fP1)0.150(3/20fP3)0.050(1/20fP1)
###[2] text-independent bayes
loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98:0.98:0.98:0.98:0.96 ts:4:0:3:1:2 tdisp:4 void:1 mex:-1
#void:1 mex:-1 Perfect!
#v1:usePP  Identification (tP,fP):<t4>5@(5,0)[3,0]<t0>5@(5,0)[2.8,0]<t3>5@(5,0)[2.4,0]<t1>5@(5,0)[3.4,0]<t2>5@(5,0)[3.4,0]
#v1:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v1:Case2 usePP Identification Error:0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)
#void:2 mex:-1 NotPerfect!
#v2:usePP  Identification (tP,fP):<t4>5@(4,0)[3.5,0]<t0>5@(5,0)[4,0]<t3>5@(5,0)[3.8,0]<t1>5@(5,0)[4,0]<t2>5@(5,0)[3.8,0]
#v2:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v2:Case2 usePP Identification Error:0.040(1/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)
loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98:0.98:0.98:0.98:0.96 ts:4:0:3:1:2 tdisp:4 void:1 mex:4
void:1 mex:4 NotPerfect
#v1:usePP  Identification (tP,fP):<t4>4@(4,0)[3.25,0]<t0>4@(4,0)[2.75,0]<t3>3@(4,0)[2.5,0]<t1>4@(4,1)[3.25,2]<t2>4@(3,0)[3.33333,0]
#v1:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.250(1/4)0.000(0/4)0.000(0/4)
#v1:Case2 usePP Identification Error:0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.050(1/20fP1)0.050(1/20fP0)
void:2 mex:4 NotPerfect
#v2:usePP  Identification (tP,fP):<t4>4@(3,0)[3,0]<t0>4@(4,0)[4.25,0]<t3>3@(4,0)[3.75,0]<t1>4@(4,1)[4,3]<t2>4@(3,0)[3.66667,0]
#v2:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.250(1/4)0.000(0/4)0.000(0/4)
#v2:Case2 usePP Identification Error:0.050(1/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.050(1/20fP1)0.050(1/20fP0)
####[3] text-dependent by gibbs
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:.6:.6:.6:.75:.57 ts:4:0:3:1:2 tdisp:4 void:2 beta:1 mex:-1
#void:2 beta:1 mex:-1 Perfect!
#v2:usePP  Identification (tP,fP):<t4>5@(5,0)[3,0]<t0>5@(5,0)[2,0]<t3>5@(5,0)[2.6,0]<t1>5@(5,0)[3.4,0]<t2>5@(5,0)[2,0]
#v2:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v2:Case2 usePP Identification Error:0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)
#void:2 beta:2 mex:4 Perfect!
#v2:usePP  Identification (tP,fP):<t4>4@(4,0)[2.25,0]<t0>4@(4,0)[2,0]<t3>4@(4,0)[2.5,0]<t1>4@(4,0)[4,0]<t2>4@(4,0)[2,0]
#v2:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)
#v2:Case2 usePP Identification Error:0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)

####[4] text-dependent by bayes
loo4bayes-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98:0.98:0.98:0.98:0.96 ts:4:0:3:1:2 tdisp:4 void:2 mex:-1
#void:2 mex:-1 Perfect
#v2:usePP  Identification (tP,fP):<t4>5@(5,0)[3.8,0]<t0>5@(5,0)[2.8,0]<t3>5@(5,0)[3.6,0]<t1>5@(5,0)[3.4,0]<t2>5@(5,0)[2.8,0]
#v2:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v2:Case2 usePP Identification Error:0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)0.000(0/25fP0)
#void:2 mex:4 Perfect
#v2:usePP  Identification (tP,fP):<t4>4@(4,0)[3.5,0]<t0>4@(4,0)[2.75,0]<t3>4@(4,0)[3.5,0]<t1>4@(4,0)[3.5,0]<t2>4@(4,0)[2.75,0]
#v2:Case1 usePP Identification Error:0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)0.000(0/4)
#v2:Case2 usePP Identification Error:0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)0.000(0/20fP0)

loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.55 ts:4:0:3:1:2 tdisp:4 void:1 beta:1 
loo4gibbs-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.60 ts:4:0:3:1:2 tdisp:4 void:1 beta:1.2
loo4gibbs-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.55 ts:4:0:3:1:2 tdisp:4 void:1 beta:1 

loo4bayes-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98 ts:4:0:3:1:2 tdisp:4 void:2
loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98 ts:4:0:3:1:2 tdisp:4 void:2

#Use iconip11
#experr dataG
(1)loo4bayes-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98 ts:4:0:3:1:2 tdisp:4

#Original Verification Error Rate:0.028(7/250)0.020(5/250)0.032(8/250)0.044(11/250)0.016(4/250)
#Original Verification    FP Rate:0.020(4/200)0.015(3/200)0.025(5/200)0.030(6/200)0.020(4/200)
#Original Verification    FN Rate:0.060(3/50)0.040(2/50)0.060(3/50)0.100(5/50)0.000(0/50)
#Original Identification Error Rate:0.080(4/50)0.060(3/50)0.060(3/50)0.100(5/50)0.040(2/50)
MinMmaxFN->Better to use'ts:2:0:3:4:1'?
MinMmaxFP->Better to use'ts:4:0:3:2:1'?
MinErr->Better to use'ts:2:0:4:3:1'?
#Bayes Verification (tP,fP):<t4>(5,0)[2.2,0]<t0>(5,0)[2,0]<t3>(5,0)[2.4,0]<t1>(5,0)[2.6,0]<t2>(5,0)[2,0]
#Bayes Verification Error Rate:0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)
#Bayes Verification FP:0.000(0/20)0.000(0/20)0.000(0/20)0.000(0/20)0.000(0/20)
#Bayes Verification FN:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
Err[t4]=0.028Err[t0]=0.02Err[t3]=0.032Err[t1]=0.044Err[t2]=0.016
#BIN Identification v1(tP,fP):<t4>@5(5,0)[2.2,0]<t0>@5(5,0)[1.8,0]<t3>@5(5,0)[2.2,0]<t1>@5(5,0)[2.4,0]<t2>@5(5,0)[1.4,0]
#v1:usePP  Identification (tP,fP):<t4>5@(5,0)[1.8,0]<t0>5@(5,0)[1.6,0]<t3>5@(5,0)[1.8,0]<t1>5@(5,0)[2.2,0]<t2>5@(5,0)[1.4,0]
#v1:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v1:Case2 usePP Identification Error:0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)

loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.95 ts:4:0:3:1:2 tdisp:4
#Original Verification Error Rate:0.092(23/250)0.056(14/250)0.096(24/250)0.140(35/250)0.132(33/250)
#Original Verification    FP Rate:0.070(14/200)0.045(9/200)0.080(16/200)0.135(27/200)0.120(24/200)
#Original Verification    FN Rate:0.180(9/50)0.100(5/50)0.160(8/50)0.160(8/50)0.180(9/50)
#Original Identification Error Rate:0.200(10/50)0.200(10/50)0.280(14/50)0.400(20/50)0.420(21/50)
MinMmaxFN->Better to use'ts:4:0:1:3:2'?
MinMmaxFP->Better to use'ts:0:4:3:1:2'?
MinErr->Better to use'ts:0:4:3:2:1'?
#Bayes Verification (tP,fP):<t4>(5,0)[3.2,0]<t0>(5,1)[2.2,2]<t3>(5,0)[2.6,0]<t1>(5,4)[3.6,3]<t2>(4,0)[4,0]
#Bayes Verification Error Rate:0.000(0/25)0.040(1/25)0.000(0/25)0.160(4/25)0.040(1/25)
#Bayes Verification FP:0.000(0/20)0.050(1/20)0.000(0/20)0.200(4/20)0.000(0/20)
#Bayes Verification FN:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.200(1/5)
Err[t4]=0.092Err[t0]=0.056Err[t3]=0.096Err[t1]=0.14Err[t2]=0.132
#BIN Identification v1(tP,fP):<t4>@5(5,1)[3.4,3]<t0>@4(4,2)[1.5,3.5]<t3>@4(4,1)[2.5,6]<t1>@3(3,2)[3,2]<t2>@3(3,1)[3.66667,4]
#v1:usePP  Identification (tP,fP):<t4>5@(5,0)[3,0]<t0>5@(5,1)[2.2,2]<t3>5@(5,0)[2.6,0]<t1>5@(5,0)[3,0]<t2>4@(4,0)[3,0]
#v1:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.200(1/5)
#v1:Case2 usePP Identification Error:0.000(0/25)0.040(1/25)0.000(0/25)0.000(0/25)0.040(1/25)

(2) emacs tmp/loo4gp.dat for table of tex
(3) gnuplot tmp/loo4bayes.plt for fig


#dataF
loo4bayes-sr fn:../mineishi/text-depdata2.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98 ts:4:0:3:1:2 tdisp:4
#Original Verification Error Rate:0.028(7/250)0.020(5/250)0.032(8/250)0.044(11/250)0.016(4/250)
#Original Verification    FP Rate:0.020(4/200)0.015(3/200)0.025(5/200)0.030(6/200)0.020(4/200)
#Original Verification    FN Rate:0.060(3/50)0.040(2/50)0.060(3/50)0.100(5/50)0.000(0/50)
#Original Identification Error Rate:0.080(4/50)0.060(3/50)0.060(3/50)0.100(5/50)0.040(2/50)
MinMmaxFN->Better to use'ts:2:0:3:4:1'?
MinMmaxFP->Better to use'ts:4:0:3:2:1'?
MinErr->Better to use'ts:2:0:4:3:1'?
#Bayes Verification (tP,fP):<t4>(5,0)[2.2,0]<t0>(5,0)[2,0]<t3>(5,0)[2.4,0]<t1>(5,0)[2.6,0]<t2>(5,0)[2,0]
#Bayes Verification Error Rate:0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)
#Bayes Verification FP:0.000(0/20)0.000(0/20)0.000(0/20)0.000(0/20)0.000(0/20)
#Bayes Verification FN:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
Err[t4]=0.028Err[t0]=0.02Err[t3]=0.032Err[t1]=0.044Err[t2]=0.016
#BIN Identification v1(tP,fP):<t4>@5(5,0)[2.2,0]<t0>@5(5,0)[1.8,0]<t3>@5(5,0)[2.2,0]<t1>@5(5,0)[2.4,0]<t2>@5(5,0)[1.4,0]
#v1:usePP  Identification (tP,fP):<t4>5@(5,0)[1.8,0]<t0>5@(5,0)[1.6,0]<t3>5@(5,0)[1.8,0]<t1>5@(5,0)[2.2,0]<t2>5@(5,0)[1.4,0]
#v1:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)
#v1:Case2 usePP Identification Error:0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)

loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10:7  pmin:0.05 pth:0.98 ts:4:0:3:1:2 tdisp:4
#Original Verification Error Rate:0.092(23/250)0.056(14/250)0.096(24/250)0.140(35/250)0.132(33/250)
#Original Verification    FP Rate:0.070(14/200)0.045(9/200)0.080(16/200)0.135(27/200)0.120(24/200)
#Original Verification    FN Rate:0.180(9/50)0.100(5/50)0.160(8/50)0.160(8/50)0.180(9/50)
#Original Identification Error Rate:0.200(10/50)0.200(10/50)0.280(14/50)0.400(20/50)0.420(21/50)
MinMmaxFN->Better to use'ts:4:0:1:3:2'?
MinMmaxFP->Better to use'ts:0:4:3:1:2'?
MinErr->Better to use'ts:0:4:3:2:1'?
#Bayes Verification (tP,fP):<t4>(5,0)[3.8,0]<t0>(5,1)[2.4,2]<t3>(5,0)[3,0]<t1>(5,2)[3.8,4.5]<t2>(4,0)[4.5,0]
#Bayes Verification Error Rate:0.000(0/25)0.040(1/25)0.000(0/25)0.080(2/25)0.040(1/25)
#Bayes Verification FP:0.000(0/20)0.050(1/20)0.000(0/20)0.100(2/20)0.000(0/20)
#Bayes Verification FN:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.200(1/5)
Err[t4]=0.092Err[t0]=0.056Err[t3]=0.096Err[t1]=0.14Err[t2]=0.132
#BIN Identification v1(tP,fP):<t4>@5(5,0)[3.8,0]<t0>@4(4,1)[2,2]<t3>@4(4,1)[2.75,6]<t1>@3(2,2)[3,2]<t2>@3(3,1)[3.66667,5]
#v1:usePP  Identification (tP,fP):<t4>5@(5,0)[3.2,0]<t0>5@(5,0)[2.4,0]<t3>5@(5,0)[2.8,0]<t1>5@(5,0)[3.4,0]<t2>4@(3,0)[2.33333,0]
#v1:Case1 usePP Identification Error:0.000(0/5)0.000(0/5)0.000(0/5)0.000(0/5)0.200(1/5)
#v1:Case2 usePP Identification Error:0.000(0/25)0.000(0/25)0.000(0/25)0.000(0/25)0.080(2/25)
#Error (FP,FN) Rate[%] for text 4,0,3,1,2: (nFP,nFN)=(10,40)
(  2.5, 30.0)(  5.0, 30.0)(  2.5,  0.0)( 20.0,  0.0)( 12.5, 20.0)#m0
(  2.5, 20.0)(  5.0,  0.0)( 15.0, 40.0)( 22.5, 30.0)(  0.0, 10.0)#m1
(  7.5, 10.0)(  5.0, 10.0)( 10.0, 20.0)(  7.5, 20.0)( 27.5, 20.0)#m2
( 15.0, 20.0)(  5.0, 10.0)(  5.0, 10.0)( 10.0, 20.0)( 17.5, 40.0)#m3
(  7.5, 10.0)(  2.5,  0.0)(  7.5, 10.0)(  7.5, 10.0)(  2.5,  0.0)#m4
(  7.0, 18.0)(  4.5, 10.0)(  8.0, 16.0)( 13.5, 16.0)( 12.0, 18.0)#Classification error for each text.



[1] loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10 yth:0 ist:0 ts:0:1:2:3:4
--> use min_t max_m FN[m][t]
[2] loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10 yth:0 ist:0 ts:4:3:0:1:2
[3] better? 
    loo4bayes-sr fn:../mineishi/text-indepdata.dat ns:5 ntx:5 ntxi:10 yth:-.5 ist:0 ts:4:3:0:1:2

080202
loo4vowels N:2 k:8 rsa:2:0.7:1:20 dir:../sato/vowels/512 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#Result of recognition: 5-class Acc(for correct,wrong), 2-class ACC(=for a,b,c,d).
#faf-a:+0.92 -0.96 -0.89 -0.76 -0.80 a->a OK.Acc=1(1,0). ACC=1(abcd4,0,0,1)
#faf-i:-0.89 +0.50 -0.79 -1.00 -0.96 i->i OK.Acc=1(2,0). ACC=1(abcd4,0,0,1)
#faf-u:-0.84 -0.68 +0.79 -0.84 -0.86 u->u OK.Acc=1(3,0). ACC=1(abcd4,0,0,1)
#faf-e:-0.98 -1.00 -0.81 +0.28 -0.91 e->e OK.Acc=1(4,0). ACC=1(abcd4,0,0,1)
#faf-o:-0.95 -0.81 -0.99 -0.78 +0.84 o->o OK.Acc=1(5,0). ACC=1(abcd4,0,0,1)
#ffs-a:+0.63 -1.00 -0.97 -0.97 -0.55 a->a OK.Acc=1(6,0). ACC=1(abcd4,0,0,1)
#ffs-i:-0.94 +0.53 -0.48 -0.69 -0.84 i->i OK.Acc=1(7,0). ACC=1(abcd4,0,0,1)
#ffs-u:-0.77 -0.62 +0.49 -0.97 -0.46 u->u OK.Acc=1(8,0). ACC=1(abcd4,0,0,1)
#ffs-e:-0.91 -0.88 -0.93 +0.37 -0.87 e->e OK.Acc=1(9,0). ACC=1(abcd4,0,0,1)
#ffs-o:-0.90 -0.79 -0.63 -0.71 +0.24 o->o OK.Acc=1(10,0). ACC=1(abcd4,0,0,1)
#fkm-a:+0.86 -0.92 -0.71 -0.58 -0.43 a->a OK.Acc=1(11,0). ACC=1(abcd4,0,0,1)
#fkm-i:-0.99 +0.20 -0.86 -0.97 -1.00 i->i OK.Acc=1(12,0). ACC=1(abcd4,0,0,1)
#fkm-u:-0.96 -0.82 +0.57 -0.79 -0.94 u->u OK.Acc=1(13,0). ACC=1(abcd4,0,0,1)
#fkm-e:-0.56 -0.66 -0.86 +0.51 -0.68 e->e OK.Acc=1(14,0). ACC=1(abcd4,0,0,1)
#fkm-o:-0.97 -0.94 -0.87 -0.80 +0.37 o->o OK.Acc=1(15,0). ACC=1(abcd4,0,0,1)
#fks-a:+0.40 -1.00 -0.86 -1.00 -1.00 a->a OK.Acc=1(16,0). ACC=1(abcd4,0,0,1)
#fks-i:-0.98 +0.58 -0.60 -0.99 -1.00 i->i OK.Acc=1(17,0). ACC=1(abcd4,0,0,1)
#fks-u:-0.91 -0.62 -0.74 -0.99 -0.77 u->i NG.Acc=0.944444(17,1). ACC=0.988889(abcd4,0,1,0)
#fks-e:-0.92 -0.79 -0.51 +0.97 -0.42 e->e OK.Acc=0.947368(18,1). ACC=0.989474(abcd4,0,0,1)
#fks-o:-0.53 -0.94 -0.64 -0.63 +0.79 o->o OK.Acc=0.95(19,1). ACC=0.99(abcd4,0,0,1)
#fms-a:+0.79 -0.97 -0.89 -0.91 -0.70 a->a OK.Acc=0.952381(20,1). ACC=0.990476(abcd4,0,0,1)
#fms-i:-1.00 -0.49 -0.76 -0.73 -0.97 i->i OK.Acc=0.954545(21,1). ACC=0.981818(abcd4,0,1,0)
#fms-u:-0.93 -0.44 +0.17 -0.88 -0.80 u->u OK.Acc=0.956522(22,1). ACC=0.982609(abcd4,0,0,1)
#fms-e:-0.90 -0.93 -0.74 +0.48 -0.81 e->e OK.Acc=0.958333(23,1). ACC=0.983333(abcd4,0,0,1)
#fms-o:-0.86 -0.54 -0.86 -0.83 +0.38 o->o OK.Acc=0.96(24,1). ACC=0.984(abcd4,0,0,1)
#fsu-a:+0.90 -1.00 -0.80 -0.98 -0.09 a->a OK.Acc=0.961538(25,1). ACC=0.984615(abcd4,0,0,1)
#fsu-i:-0.98 +0.38 -0.38 -0.88 -0.99 i->i OK.Acc=0.962963(26,1). ACC=0.985185(abcd4,0,0,1)
#fsu-u:-0.60 -0.74 -0.28 -0.94 -0.81 u->u OK.Acc=0.964286(27,1). ACC=0.978571(abcd4,0,1,0)
#fsu-e:-0.98 -0.63 -0.58 +0.82 -0.89 e->e OK.Acc=0.965517(28,1). ACC=0.97931(abcd4,0,0,1)
#fsu-o:-1.00 -0.86 -0.99 -0.90 +0.07 o->o OK.Acc=0.966667(29,1). ACC=0.98(abcd4,0,0,1)
#ftk-a:+0.35 -1.00 -0.78 -0.95 -0.60 a->a OK.Acc=0.967742(30,1). ACC=0.980645(abcd4,0,0,1)
#ftk-i:-0.97 +0.63 -0.02 -0.55 -0.96 i->i OK.Acc=0.96875(31,1). ACC=0.98125(abcd4,0,0,1)
#ftk-u:-0.94 -0.59 -0.53 -0.84 -0.58 u->u OK.Acc=0.969697(32,1). ACC=0.975758(abcd4,0,1,0)
#ftk-e:-0.59 -0.83 -0.70 +0.21 -0.95 e->e OK.Acc=0.970588(33,1). ACC=0.976471(abcd4,0,0,1)
#ftk-o:-0.69 -0.63 -0.92 -0.82 +0.65 o->o OK.Acc=0.971429(34,1). ACC=0.977143(abcd4,0,0,1)
#fyn-a:-0.13 -0.97 -0.89 -1.00 -0.73 a->a OK.Acc=0.972222(35,1). ACC=0.972222(abcd4,0,1,0)
#fyn-i:-0.89 +0.38 -0.24 -0.46 -0.61 i->i OK.Acc=0.972973(36,1). ACC=0.972973(abcd4,0,0,1)
#fyn-u:+0.16 -0.13 +0.33 -0.62 -0.35 u->u OK.Acc=0.973684(37,1). ACC=0.968421(abcd3,1,0,1)
#fyn-e:-0.99 -1.00 -1.00 -0.44 -0.97 e->e OK.Acc=0.974359(38,1). ACC=0.964103(abcd4,0,1,0)
#fyn-o:-0.76 -0.86 -0.70 -0.73 -0.28 o->o OK.Acc=0.975(39,1). ACC=0.96(abcd4,0,1,0)
#mau-a:+0.77 -0.96 -0.87 -0.77 -0.97 a->a OK.Acc=0.97561(40,1). ACC=0.960976(abcd4,0,0,1)
#mau-i:-0.82 +0.13 +0.08 -0.78 -0.68 i->i OK.Acc=0.97619(41,1). ACC=0.957143(abcd3,1,0,1)
#mau-u:-0.68 -0.59 +0.22 -0.18 -0.83 u->u OK.Acc=0.976744(42,1). ACC=0.95814(abcd4,0,0,1)
#mau-e:-0.97 -0.72 -0.99 +0.25 -0.88 e->e OK.Acc=0.977273(43,1). ACC=0.959091(abcd4,0,0,1)
#mau-o:-0.91 -0.91 -0.51 -1.00 +0.63 o->o OK.Acc=0.977778(44,1). ACC=0.96(abcd4,0,0,1)
#mms-a:+0.61 -0.88 -0.83 -0.95 -0.90 a->a OK.Acc=0.978261(45,1). ACC=0.96087(abcd4,0,0,1)
#mms-i:-0.92 -0.20 -0.78 -0.93 -0.56 i->i OK.Acc=0.978723(46,1). ACC=0.957447(abcd4,0,1,0)
#mms-u:-0.87 -0.54 +0.69 -0.87 -0.85 u->u OK.Acc=0.979167(47,1). ACC=0.958333(abcd4,0,0,1)
#mms-e:-0.90 -0.31 -0.87 +0.96 -0.71 e->e OK.Acc=0.979592(48,1). ACC=0.959184(abcd4,0,0,1)
#mms-o:-0.78 -0.87 -0.94 -0.80 +0.67 o->o OK.Acc=0.98(49,1). ACC=0.96(abcd4,0,0,1)
#mmy-a:+0.91 -0.86 -0.89 -0.86 -0.97 a->a OK.Acc=0.980392(50,1). ACC=0.960784(abcd4,0,0,1)
#mmy-i:-0.99 +0.36 -0.89 -0.84 -0.76 i->i OK.Acc=0.980769(51,1). ACC=0.961538(abcd4,0,0,1)
#mmy-u:-0.93 -0.61 +0.58 -0.73 -0.79 u->u OK.Acc=0.981132(52,1). ACC=0.962264(abcd4,0,0,1)
#mmy-e:-0.76 -0.58 -0.85 +0.59 -0.86 e->e OK.Acc=0.981481(53,1). ACC=0.962963(abcd4,0,0,1)
#mmy-o:-0.92 -1.00 -0.86 -0.98 +0.47 o->o OK.Acc=0.981818(54,1). ACC=0.963636(abcd4,0,0,1)
#mnm-a:+0.35 -0.97 -0.95 -0.94 -1.00 a->a OK.Acc=0.982143(55,1). ACC=0.964286(abcd4,0,0,1)
#mnm-i:-0.97 -0.61 -0.82 -0.91 -0.92 i->i OK.Acc=0.982456(56,1). ACC=0.961404(abcd4,0,1,0)
#mnm-u:-0.67 +0.40 +0.72 -0.76 -0.97 u->u OK.Acc=0.982759(57,1). ACC=0.958621(abcd3,1,0,1)
#mnm-e:-0.74 -0.75 -1.00 +0.63 -0.81 e->e OK.Acc=0.983051(58,1). ACC=0.959322(abcd4,0,0,1)
#mnm-o:-0.97 -0.91 -0.73 -0.86 +0.80 o->o OK.Acc=0.983333(59,1). ACC=0.96(abcd4,0,0,1)
#msh-a:+0.46 -0.94 -0.87 -0.88 -0.99 a->a OK.Acc=0.983607(60,1). ACC=0.960656(abcd4,0,0,1)
#msh-i:-0.96 +0.74 -0.42 -0.86 -0.87 i->i OK.Acc=0.983871(61,1). ACC=0.96129(abcd4,0,0,1)
#msh-u:-0.96 -0.59 +0.64 -0.73 -0.83 u->u OK.Acc=0.984127(62,1). ACC=0.961905(abcd4,0,0,1)
#msh-e:-0.93 -0.75 -0.99 +0.74 -0.79 e->e OK.Acc=0.984375(63,1). ACC=0.9625(abcd4,0,0,1)
#msh-o:-0.66 -1.00 -0.89 -1.00 +0.74 o->o OK.Acc=0.984615(64,1). ACC=0.963077(abcd4,0,0,1)
#mtm-a:+0.74 -0.93 -0.92 -0.90 -0.94 a->a OK.Acc=0.984848(65,1). ACC=0.963636(abcd4,0,0,1)
#mtm-i:-0.97 +0.45 -0.66 -0.82 -0.91 i->i OK.Acc=0.985075(66,1). ACC=0.964179(abcd4,0,0,1)
#mtm-u:-0.98 -0.89 +0.72 -0.91 -0.90 u->u OK.Acc=0.985294(67,1). ACC=0.964706(abcd4,0,0,1)
#mtm-e:-0.94 -0.14 -0.89 +0.95 -0.80 e->e OK.Acc=0.985507(68,1). ACC=0.965217(abcd4,0,0,1)
#mtm-o:-0.52 -1.00 -1.00 -1.00 +0.64 o->o OK.Acc=0.985714(69,1). ACC=0.965714(abcd4,0,0,1)
#mtt-a:+0.73 -1.00 -0.74 -0.94 -1.00 a->a OK.Acc=0.985915(70,1). ACC=0.966197(abcd4,0,0,1)
#mtt-i:-1.00 +0.88 -0.84 -0.87 -0.65 i->i OK.Acc=0.986111(71,1). ACC=0.966667(abcd4,0,0,1)
#mtt-u:-1.00 -0.66 +0.38 -0.95 -0.97 u->u OK.Acc=0.986301(72,1). ACC=0.967123(abcd4,0,0,1)
#mtt-e:-0.77 -0.75 -0.66 +0.95 -0.52 e->e OK.Acc=0.986486(73,1). ACC=0.967568(abcd4,0,0,1)
#mtt-o:-0.89 -1.00 -0.98 -1.00 +0.61 o->o OK.Acc=0.986667(74,1). ACC=0.968(abcd4,0,0,1)
#mxm-a:+0.34 -1.00 -0.95 -0.97 -0.99 a->a OK.Acc=0.986842(75,1). ACC=0.968421(abcd4,0,0,1)
#mxm-i:-0.91 +0.82 -0.40 -0.61 -0.77 i->i OK.Acc=0.987013(76,1). ACC=0.968831(abcd4,0,0,1)
#mxm-u:-0.77 -0.81 -0.40 -0.95 -0.91 u->u OK.Acc=0.987179(77,1). ACC=0.966667(abcd4,0,1,0)
#mxm-e:-0.96 -0.67 -0.47 +0.93 -0.84 e->e OK.Acc=0.987342(78,1). ACC=0.967089(abcd4,0,0,1)
#mxm-o:-0.72 -1.00 -0.88 -1.00 +0.62 o->o OK.Acc=0.9875(79,1). ACC=0.9675(abcd4,0,0,1)
#loo4vowels N:2 k:8 rsa:2:0.7:1:20 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#5-class Accuracy=0.9875=79/80
#2-class ACCURACY=0.9675=387/400=(317+70)/(317+3+10+70)
#loo4vowels N:2 k:9 rsa:2:0.7:1:20 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#5-class Accuracy=0.975=78/80
#2-class ACCURACY=0.9725=389/400=(317+72)/(317+3+8+72)
#rsa:2:0.7:1:20
#5-class Accuracy=0.975=78/80
#2-class ACCURACY=0.9725=389/400=(317+72)/(317+3+8+72)
#rsa:2:0.7:1:40
#5-class Accuracy=0.975=78/80.
#2-class ACCURACY=0.9675=387/400=(317+70)/(317+3+10+70)

loo4vowels N:2 k:8 rsa:2:0.7:1:20 r:2:1:-1 dir:../sato/vowels/512 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#5-class Accuracy=0.9625=77/80
#2-class ACCURACY=0.8325=333/400=(320+13)/(320+0+67+13)
loo4vowels N:2 k:8 rsa:2:0.7:1:20 r:2:1:0 dir:../sato/vowels/512 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#5-class Accuracy=0.8625=69/80
#2-class ACCURACY=0.97=388/400=(317+71)/(317+3+9+71)


(1) 図を描く
cd orig
for v in a i u e o; do
for name in faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm; do
f=${name}-${v}
echo $f
gnuplot <<EOF
#set terminal tgif
#set output "$f.obj"
set terminal gif
set output "$f.gif"
plot "$f.dat" using 0:1 w lp
EOF
#tgif -print -gif $f.obj; convert -size 120x120 $f.gif eps2:$f.eps
convert -size 120x120 $f.gif eps2:$f.eps
done
done
jlatex showvowels.tex
xdvi showvowels.dvi
cd ..

(2)　512個のデータを抽出　→絵を描く
export n=512
mkdir ${n}
for v in a i u e o; do
for name in faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm; do
f=${name}-${v}
echo $f
 head -${n} orig/${f}.dat > ${n}/${f}.dat
done
done
export f="ftk-i" ; head -1000 orig/${f}.dat | tail  -${n} > ${n}/${f}.dat
export f="ftk-e" ; head -1000 orig/${f}.dat | tail  -${n} > ${n}/${f}.dat
export f="fms-u" ; head -1000 orig/${f}.dat | tail  -${n} > ${n}/${f}.dat

cd $n
for v in a i u e o; do
for name in faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm; do
f=${name}-${v}
echo $f
gnuplot <<EOF
#set terminal tgif
#set output "$f.obj"
set terminal gif
set output "$f.gif"
plot "$f.dat" using 0:1 w lp
EOF
#tgif -print -gif $f.obj; convert -size 120x120 $f.gif eps2:$f.eps
convert -size 120x120 $f.gif eps2:$f.eps
done
done
cp ../showvowels.tex .
platex showvowels.tex; 
xdvi showvowels.dvi&

(3)　DCT+ケプストラム
cd ../../can2b
#melf=2595*log10(1+f/700)
export cmd="mkpat4ford08 method:2 flt:2:1:266 flt:3:273.013:58.7854 cep:1:256"
export cmd="mkpat4ford08 method:2 flt:2:1:266 flt:3:273.013:58.7854 cep:1:30"
mkpat4ford08 method:2 flt:2:1:266 flt:3:273.013:58.7854 cep:1:30 DISP:1 <../satovowels/512/faf-a.dat>tmp.dat
##mkpat4ford08 method:2 flt:2:1:266 DISP:1 <../satovowels/s512/faf-a.dat>tmp.dat
###Use 'flt:2:1:266 flt:3:268.793:57.8692' for faster or PC without mathematica.#k=266
mkpat4ford08 method:2 flt:2:1:266 flt:3:268.793:57.8692 cep:1:30 DISP:1 <../satovowels/512/faf-a.dat>tmp.dat

(4) Leave-One-Out method
loo4vowels N:2 k:9 rsa:2:0.7:1:20 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#ACC=0.995=398/400=(318+80)/(318+2+0+80) for N:2 k:9 rsa:2:0.7:1:20 ***
#ACC=0.995=398/400=(318+80)/(318+2+0+80) for N:2 k:9 rsa:2:0.7:1:30
#ACC=0.995=398/400=(318+80)/(318+2+0+80) for N:2 k:9 rsa:2:0.7:1:50

#ACC=0.9925=397/400=(317+80)/(317+3+0+80)for N:2 k:9 rsa:2:0.7:11:100
#ACC=0.99=396/400=(316+80)/(316+4+0+80)  for N:2 k:9 rsa:2:0.7:11:50
#ACC=0.985=394/400=(314+80)/(314+6+0+80) for N:2 k:9 rsa:2:0.7:11:20

#ACC=0.99=396/400=(316+80)/(316+4+0+80) for N:3 k:9 rsa:2:0.7:1:20
#ACC=0.99=396/400=(316+80)/(316+4+0+80) for N:1 k:9 rsa:2:0.7:1:20
#ACC=0.9925=397/400=(317+80)/(317+3+0+80) for N:2 k:8 rsa:2:0.7:1:20 
#ACC=0.985=394/400=(314+80)/(314+6+0+80) for N:2 k:9 rsa:1:1.0:1:50
#ACC=0.9925=397/400=(317+80)/(317+3+0+80) for N:2 k:9 rsa:2:0.8:1:50
#ACC=0.9925=397/400=(317+80)/(317+3+0+80) for N:2 k:9 rsa:2:0.6:1:50
#ACC=0.9875=395/400=(315+80)/(315+5+0+80) for N:2 k:10 rsa:2:0.7:1:20

#NG
#NG
#NGallname="faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm"
#NGloo4vowels N:1 k:20 B:20 faf ffs
#NGloo4vowels N:2 k:9 B:20 faf ffs fkm fks fms fsu ftk fyn mau mms mmy mnm msh mtm mtt mxm
#NG#ACC=0.89=356/400=(276+80)/(276+44+0+80) for N:2 k:30 B:20
#NG#ACC=0.91=364/400=(284+80)/(284+36+0+80) for N:2 k:20 B:20
#NG#ACC=0.9775=391/400=(311+80)/(311+9+0+80) for N:2 k:10 B:20
#NG#ACC=0.9825=393/400=(313+80)/(313+7+0+80) for N:2 k:9 B:20
#NG#ACC=0.9775=391/400=(311+80)/(311+9+0+80) for N:2 k:8 B:20
#NG
#NG#ACC=0.965=386/400=(306+80)/(306+14+0+80) for N:2 k:9 B:19 alpha:0.7
#NG#ACC=0.9825=393/400=(313+80)/(313+7+0+80) for N:2 k:9 B:20 alpha:0.7
#NG#ACC=0.9625=385/400=(305+80)/(305+15+0+80)for N:2 k:9 B:21 alpha:0.7
#NG#ACC=0.975=390/400=(310+80)/(310+10+0+80) for N:2 k:9 B:22 alpha:0.7 
#NG#ACC=0.9575=383/400=(303+80)/(303+17+0+80)for N:2 k:9 B:25
#NG#ACC=0.94=376/400=(296+80)/(296+24+0+80)  for N:2 k:9 B:30
#NG#ACC=0.9375=375/400=(295+80)/(295+25+0+80)for N:2 k:9 B:40
#NG#ACC=0.935=374/400=(294+80)/(294+26+0+80) for N:2 k:9 B:50 alpha:0.7 
#NG
#NG#ACC=0.94=376/400=(296+80)/(296+24+0+80)  for N:3 k:9 B:20
#NG#ACC=0.9425=377/400=(297+80)/(297+23+0+80)for N:3 k:9 B:20
#NG#ACC=0.975=390/400=(310+80)/(310+10+0+80) for N:1 k:9 B:20
#NG
#NG#ACC=0.96=384/400=(304+80)/(304+16+0+80)   N:2 k:9 B:20 alpha:0.8
#NG#ACC=0.95=380/400=(300+80)/(300+20+0+80)   N:2 k:9 B:30 alpha:0.8
#NG#ACC=0.9325=373/400=(293+80)/(293+27+0+80) N:2 k:9 B:30 alpha:0.6
#NG#ACC=0.9375=375/400=(295+80)/(295+25+0+80) N:2 k:9 B:20 alpha:0.6


070808 2007.08.08
(1) y(t)=y1(t)+y2(t)のような複数の時系列の和の時系列に対して、y(t)=f(x(t))=f(y(t-1),...,y(t-k))
    として学習・予測するための次元 k は個々に必要なk1,k2よりも大きくしないと(k=k1+k2または最小
    公倍数と関係?)学習できない。例えば、音声信号 y1(t), alias信号を y2(t) とすると、y1(t)を
    学習可能なk1よりもかなり大きくしないと学習がうまくいかず予測もうまくいかない。
    take-iをk=108, N=1で行うとOK。
    take-iを rsa:-1:0.7:1:20 k=9 N=33 で学習予測すると、予測の後半で大きく激しい振動が起こるが、
    これは次元k=9が小さすぎるため学習自体がうまくいかなかったと考えられる．
(2) bagging は予測のばらつきを小さくすることができる
    rsa:2:0.7:1:20 k=9 N=33 は、予測誤差は大きいが、発散しない⇔学習が悪くても予測は発散しない? 
    
(3) よって、大きいkのbaggingCAN2は，学習予測はうまくいく?が、計算時間は膨大。
(4) よって、大きいkのsingleCAN2は、学習予測はそこそこうまくいく?。計算時間小。
(5) 大きいkで学習予測がうまくいくと、母音情報以外の情報が含まれる。
   →y(t)=y1(t)+y2(t)のy1(t)のみが母音情報を含むとき，y(2)を除くには?

cmd='vowelrecogv3 te:kita tr:fuku:kita:kosi:sanuki:take:yama k:108 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.041724*  0.047265   0.050032   0.051740   0.044296  #te:kita-a->fuku-a
#  0.029946*  0.035564   0.036939   0.038957   0.037960  #te:kita-i->fuku-a
#  0.035444   0.034436*  0.035366   0.041246   0.039364  #te:kita-u->kita-i
#  0.053878   0.044872*  0.046004   0.052610   0.054538  #te:kita-e->fuku-i
#  0.051176   0.050905   0.051780   0.051260   0.050349* #te:kita-o->kosi-o
###te:kita-aiueo-t300+450 are recognized as aaiio (rate=2/5).###
cmd='vowelrecogv3 te:kita tr:fuku:kita:kosi:sanuki:take:yama k:54 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.037126*  0.050544   0.045928   0.050374   0.049715  #te:kita-a->kita-a
#  0.038120*  0.042463   0.039109   0.044229   0.040624  #te:kita-i->kita-a
#  0.090577   0.073495*  0.080941   0.079126   0.090917  #te:kita-u->kita-i
#  0.060020   0.055369   0.063042   0.046864*  0.059241  #te:kita-e->kita-e
#  0.038134   0.049173   0.046771   0.045823   0.035850* #te:kita-o->kosi-o
###te:kita-aiueo-t300+450 are recognized as aaieo (rate=3/5).###
cmd='vowelrecogv3 te:kita tr:fuku:kita:kosi:sanuki:take:yama k:27 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.088684*  0.125334   0.118831   0.113225   0.109768  #te:kita-a->kita-a
#  0.097601   0.065109*  0.106008   0.102770   0.104083  #te:kita-i->kita-i
#  0.084542   0.084308   0.067852*  0.080423   0.090796  #te:kita-u->kita-u
#  0.074266*  0.095642   0.083713   0.078753   0.086541  #te:kita-e->fuku-a
#  0.094603   0.085486   0.088332   0.087355   0.084728* #te:kita-o->take-o
###te:kita-aiueo-t300+450 are recognized as aiuao (rate=4/5).###


070807
bw=0
1dfftsmooth ../onsei07/take-a.dat 0 ${bw} 0
cp smooth_.dat smooth_${bw}.dat 
tf=1000;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=300;pt=`expr ${pf} + ${pl}` # 
#rsa=rsa:-1:0.7:1:20 k=10 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:-1:0.7:1:20 k=108 N=1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#rsa=rsa:2:0.7:1:20 k=54 N=1 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:2 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 smooth_${bw}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
time $cmd >/dev/null ;date
#MSE=4.850070e+05(NMSE1.075298e+00)(n300) 1000-2000:2000-2300k108N1mp1:1:1.000000H1-y #take-a not so bad??
#MSE=8.220460e+03(NMSE3.356675e-01)(n300) 1000-2000:2000-2300k108N1mp1:1:1.000000H1-y #take-i
#MSE=2.122831e+04(NMSE5.822037e-02)(n300) 1000-2000:2000-2300k108N1mp1:1:1.000000H1-y #take-u
#MSE=9.267949e+03(NMSE5.998219e-02)(n300) 1000-2000:2000-2300k108N1mp1:1:1.000000H1-y #take-e
#MSE=4.930433e+04(NMSE3.216551e-01)(n300) 1000-2000:2000-2300k108N1mp1:1:1.000000H1-y #take-o


bw=0
1dfftsmooth ../onsei07/take-i.dat 0 ${bw} 0
cp smooth_.dat smooth_${bw}.dat 
tf=1000;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=300;pt=`expr ${pf} + ${pl}` # 
#rsa=rsa:-1:0.7:1:20 k=10 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#rsa=rsa:-1:0.7:1:20 k=54 N=1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:2:0.7:1:20 k=54 N=1 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 smooth_${bw}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
time $cmd >/dev/null ;date
#MSE=8.434503e+03(NMSE3.444075e-01) MSEdy=1.570484e+04(NMSEdy1.157852e+00)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-dy #bw=0 rsa:2:0.7:1:20 k=54 N=1 take-i
#MSE=8.607817e+03(NMSE3.514845e-01)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 rsa:2:0.7:1:20 k=54 N=1 take-i

#checklorenz####################check
#checklorenz#070806
#checklorenz#fn=/home/kuro/tex/lecture/ChinoSystem/07/07ts1.dat
#checklorenz#tf=0;tl=1900;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=100;pt=`expr ${pf} + ${pl}` # 
#checklorenz#rsa=rsa:-1:0.7:1:20 k=5 N=200 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#checklorenz##rsa=rsa:-1:0.7:1:20 k=10 N=10 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#checklorenz##rsa=rsa:2:0.7:1:20 k=10 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#checklorenz#cmd="./tspredv3 $fn ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
#checklorenz#time $cmd >/dev/null ;date
#checklorenz#
#checklorenz##MSE=6.718251e+00(NMSE1.057440e-01)(n100) 0-1900:1900-2000k5N200mp1:1:1.000000H1-y
#checklorenz##MSE=6.774789e+00(NMSE1.066339e-01)(n100) 0-1900:1900-2000k8N200mp1:1:1.000000H1-y
#checklorenz##MSE=8.401854e+00(NMSE1.322436e-01)(n100) 0-1900:1900-2000k9N200mp1:1:1.000000H1-y
#checklorenz##MSE=9.796245e+00(NMSE1.541910e-01)(n100) 0-1900:1900-2000k10N200mp1:1:1.000000H1-y
#checklorenz##MSE=1.036681e+01(NMSE1.631716e-01)(n100) 0-1900:1900-2000k5N190mp1:1:1.000000H1-y
#checklorenz##MSE=1.096946e+02(NMSE1.726572e+00)(n100) 0-1900:1900-2000k5N210mp1:1:1.000000H1-y
#checklorenz##MSE=9.057635e+01(NMSE1.425654e+00)(n100) 0-1900:1900-2000k7N200mp1:1:1.000000H1-y
#checklorenz##MSE=9.965051e+01(NMSE1.568480e+00)(n100) 0-1900:1900-2000k6N200mp1:1:1.000000H1-y
#checklorenz#####
#checklorenz#k=8
#checklorenz#./can2 <<EOF
#checklorenz#0          0:時系列,1:関数,3:ijcnn04,4:距離データ               
#checklorenz#${k} 0       次元 k1 k2					        
#checklorenz#/home/kuro/tex/lecture/ChinoSystem/07/07ts1.dat						       	        
#checklorenz#0-2000:2000-2000			        
#checklorenz#0 0 0 0   #y正規化[ymin0:ymax0]→[ymin1:ymax1]
#checklorenz#quit
#checklorenz#EOF
#checklorenz#fn1=tmp/07train.dat
#checklorenz#cp tmp/train+test.dat ${fn1}
#checklorenz#export rsa=rsa:2:0.7:1:20 train=${fn1} pred=/dev/null
#checklorenz#rsa=rsa:-1:0.7:1:20 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#checklorenz#time ens2ge ${train} ${pred} N:1-500:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} >/dev/null   #search optimal
#checklorenz#k=5
#checklorenz#t:07train v:null LDnanLvar0.00e+00Lvar00.00e+00Ltrain4.794e-05HnanLval0=2.500e-13N:425-:1M:1rsa:-1:0.7:1:20bst:-1:0
#checklorenz#t:07train v:null LDnanLvar0.00e+00Lvar00.00e+00Ltrain5.389e-05HnanLval1=2.500e-13N:438-:1M:1rsa:-1:0.7:1:20bst:-1:0
#checklorenz#k=8
#checklorenz#t:07train v:null LDnanLvar0.00e+00Lvar00.00e+00Ltrain1.636e-04HnanLval0=1.600e-13N:171-:1M:1rsa:-1:0.7:1:20bst:-1:0
#checklorenz#t:07train v:null LDnanLvar0.00e+00Lvar00.00e+00Ltrain1.684e-04HnanLval1=2.500e-13N:169-:1M:1rsa:-1:0.7:1:20bst:-1:0
#checklorenz#
#checklorenz#fn=/home/kuro/tex/lecture/ChinoSystem/07/07ts1.dat
#checklorenz#tf=0;tl=1900;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=100;pt=`expr ${pf} + ${pl}` # 
#checklorenz##rsa=rsa:-1:0.7:1:20 k=5 N=200 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#checklorenz##rsa=rsa:-1:0.7:1:20 k=10 N=10 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#checklorenz#rsa=rsa:2:0.7:1:20 k=8 N=171 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#checklorenz#cmd="./tspredv3 $fn ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
#checklorenz#time $cmd >/dev/null ;date
#checklorenz#k=8;fn=/home/kuro/tex/lecture/ChinoSystem/07/07ts1.dat
#checklorenz#./can2 <<EOF
#checklorenz#0          0:時系列,1:関数,3:ijcnn04,4:距離データ               
#checklorenz#${k} 0       次元 k1 k2					        
#checklorenz#${fn}
#checklorenz#0-2000:2000-2000			        
#checklorenz#0 0 0 0   #y正規化[ymin0:ymax0]→[ymin1:ymax1]
#checklorenz#quit
#checklorenz#EOF
#checklorenz#fn1=tmp/07train.dat;cp tmp/train+test.dat ${fn1}
#checklorenz#train=${fn1};pred=/dev/null
#checklorenz##rsa=rsa:-1:0.7:1:20 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#checklorenz#rsa=rsa:2:0.7:1:40 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#checklorenz#time ens2ge ${train} ${pred} Ngs:1-500:1 Lstd:0:2 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null   #search optimal
#checklorenz##t:07train v:null Lval0=1.233e-03(uc2.386e-04)Lbias9.946e-04,LbiasPopB1.305e-03Ltrain7.835e-05LtrainE4.136e-04H0.7585N:90-:1M:1rsa:2:0.7:1:40bst:-1:0
#checklorenz#
#checklorenz#k=8;N=90;rsa=rsa:2:0.7:1:40;fn=/home/kuro/tex/lecture/ChinoSystem/07/07ts1.dat
#checklorenz#tf=0;tl=2000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=100;pt=`expr ${pf} + ${pl}` # 
#checklorenz#mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#checklorenz#cmd="./tspredv3 $fn ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
#checklorenz#time $cmd >/dev/null ;date
#checklorenz###########################

070804
###########bagging
#bw=8000; 
bw=0
1dfftsmooth ../onsei07/take-i.dat 0 ${bw} 0
cp smooth_.dat smooth_${bw}.dat 
tf=1000;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=300;pt=`expr ${pf} + ${pl}` # 
#rsa=rsa:-1:0.7:1:20 k=10 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#rsa=rsa:-1:0.7:1:20 k=10 N=10 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 smooth_${bw}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
time $cmd >/dev/null ;date
#MSE=3.836574e+03(NMSE1.742402e-01)(n300) 1000-2000:2000-2300k54N6mp1:1:1.000000H1-y #bw=8000#real127m17.958suser73m12.810s 
#MSE=7.282911e+03(NMSE2.973844e-01)(n300) 1000-2000:2000-2300k54N6mp1:1:1.000000H1-y #bw=0#real110m1.917suser73m3.700s bagging
#MSE=8.607817e+03(NMSE3.514845e-01)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 rsa:2:0.7:1:20 k=54 N=1 take-i
#MSE=1.649300e+04(NMSE6.734613e-01)(n300) 1000-2000:2000-2300k54N2mp1:1:1.000000H1-y #bw=0 rsa:-1:0.7:1:20 k=54 N=2 singleCAN2
#MSE=8.604056e+03(NMSE3.513309e-01)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 rsa:-1:0.7:1:20 k=54 N=1 singleCAN2 take-i
#MSE=4.280764e+04(NMSE2.792716e-01)(n300) 1000-2000:2000-2300k54N6mp1:1:1.000000H1-y #bw=0 rsa:2:0.7:1:20 k=54 N=6 take-o
#MSE=6.943526e+03(NMSE2.835262e-01)(n300) 1000-2000:2000-2300k108N6mp1:1:1.000000H1-y #bw=0 rsa:2:0.7:1:20 k=108 N=6 take-i

#MSE=3.771251e+05(NMSE8.361158e-01)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 k=54 N=1 singleCAN2 take-a
#MSE=4.229602e+05(NMSE1.160003e+00)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 k=54 N=1 singleCAN2 take-u
#MSE=3.341643e+05(NMSE2.162712e+00)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 k=54 N=1 singleCAN2 take-e
#MSE=4.191130e+05(NMSE2.734239e+00)(n300) 1000-2000:2000-2300k54N1mp1:1:1.000000H1-y #bw=0 k=54 N=1 singleCAN2 take-o
################

1dfftsmooth ../onsei07/take-i.dat 0 8000 0
tf=1000;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=300;pt=`expr ${pf} + ${pl}` # 
#rsa=rsa:-1:0.7:1:20 k=10 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:-1:0.7:1:20 k=10 N=10 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 smooth_.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
time $cmd >/dev/null ;date
#MSE=3.847903e+04(NMSE1.747548e+00)(n300) 1000-2000:2000-2300k10N10mp1:1:1.000000H1-y #1dfftsmooth ../onsei07/take-i.dat 0 8000 0
#MSE=4.195095e+04(NMSE1.712990e+00)(n300) 1000-2000:2000-2300k10N10mp1:1:1.000000H1-y #1dfftsmooth ../onsei07/take-i.dat 0 0 0

###################
1dfftsmooth ../onsei07/take-i.dat 0 8000 0
tf=500;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=150;pt=`expr ${pf} + ${pl}` # 
#rsa=rsa:-1:0.7:1:20 k=10 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:-1:0.7:1:20 k=10 N=10 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
#rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 smooth_.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
time $cmd >/dev/null ;date

#MSE=3.073411e+02(NMSE1.540332e-02)(n100) 500-1500:1500-1600k54N6mp1:1:1.000000H1-y bagging

#MSE=7.677453e+03(NMSE3.847785e-01)(n100) 500-1500:1500-1600k10N9mp1:1:1.000000H1-y N9 0 10000 0
#MSE=3.407013e+03(NMSE1.707527e-01)(n100) 500-1500:1500-1600k10N8mp1:1:1.000000H1-y N8 0 10000 0 print 4.*10000./32768=1.220703125
#MSE=4.457887e+03(NMSE2.234204e-01)(n100) 500-1500:1500-1600k10N7mp1:1:1.000000H1-y N7 0 10000 0

#MSE=3.530281e+03(NMSE1.752576e-01)(n100) 500-1500:1500-1600k10N8mp1:1:1.000000H1-y N8 0 9000 0 print 4.*9000./32768=1.0986328125
#MSE=5.498508e+03(NMSE2.461048e-01)(n100) 500-1500:1500-1600k10N8mp1:1:1.000000H1-y N8 0 8000 0 print 4.*8000./32768=0.9765625
#MSE=9.491524e+03(NMSE3.639910e-01)(n100) 500-1500:1500-1600k10N8mp1:1:1.000000H1-y N8 0 0 0 print 4.*0./32768=0.9765625=0

#MSE=2.836424e+03(NMSE1.087742e-01)(n100) 500-1500:1500-1600k54N6mp1:1:1.000000H1-y k=54 N=6 0 0 0


070209
### fig2 after(8)
set output "k9N33take-a.obj";plot "predictDM0:rsa-1k9N33t1000-1200-take-a.dat" using 2:3 w l, "predictDM0:rsa-1k9N33t1000-1200-take-a.dat" using 2:1 w l
set output "k9N33take-i.obj";plot "predictDM0:rsa-1k9N33t1000-1200-take-i.dat" using 2:3 w l, "predictDM0:rsa-1k9N33t1000-1200-take-i.dat" using 2:1 w l
set output "k9N33take-u.obj";plot "predictDM0:rsa-1k9N33t1000-1200-take-u.dat" using 2:3 w l, "predictDM0:rsa-1k9N33t1000-1200-take-u.dat" using 2:1 w l
set output "k9N33take-e.obj";plot "predictDM0:rsa-1k9N33t1000-1200-take-e.dat" using 2:3 w l, "predictDM0:rsa-1k9N33t1000-1200-take-e.dat" using 2:1 w l
set output "k9N33take-o.obj";plot "predictDM0:rsa-1k9N33t1000-1200-take-o.dat" using 2:3 w l, "predictDM0:rsa-1k9N33t1000-1200-take-o.dat" using 2:1 w l
### fig2 after (9)
set terminal tgif
set output "k54N6take-a.obj";plot "predictDM0:k54N6t1000-1200-take-a.dat" using 2:3 w l, "predictDM0:k54N6t1000-1200-take-a.dat" using 2:1 w l
set output "k54N6take-i.obj";plot "predictDM0:k54N6t1000-1200-take-i.dat" using 2:3 w l, "predictDM0:k54N6t1000-1200-take-i.dat" using 2:1 w l
set output "k54N6take-u.obj";plot "predictDM0:k54N6t1000-1200-take-u.dat" using 2:3 w l, "predictDM0:k54N6t1000-1200-take-u.dat" using 2:1 w l
set output "k54N6take-e.obj";plot "predictDM0:k54N6t1000-1200-take-e.dat" using 2:3 w l, "predictDM0:k54N6t1000-1200-take-e.dat" using 2:1 w l
set output "k54N6take-o.obj";plot "predictDM0:k54N6t1000-1200-take-o.dat" using 2:3 w l, "predictDM0:k54N6t1000-1200-take-o.dat" using 2:1 w l
###vowelrecogv3 tr:fuku te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:1 > /dev/null
cp tmp/_aiueo-take-poles0-N1.obj ../onsei07/
cp tmp/_aiueo-fuku-poles0-N1.obj ../onsei07/
### vowelrecogv3 tr:fuku te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:1 > /dev/null
cp tmp/_aiueo-take-poles0-N1.obj ../onsei07/_aiueo-take-poles0-N1bag.obj
cp tmp/_aiueo-fuku-poles0-N1.obj ../onsei07/_aiueo-fuku-poles0-N1bag.obj
###vowelrecogv3 tr:fuku te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:1 > /dev/null
cp tmp/_aiueo-take-poles0-N6.obj ../onsei07/_aiueo-take-poles0-N6bag.obj
cp tmp/_aiueo-fuku-poles0-N6.obj ../onsei07/_aiueo-fuku-poles0-N6bag.obj
###
for name in take ; do for v in a; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
#tf=0;tl=200;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # NG for take-i pl=200
#tf=0;tl=400;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # OK for take-i pl=200
#tf=0;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # vrry OK for take-i
tf=0;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=150;pt=`expr ${pf} + ${pl}`   # NG for take-i pl=200
#rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
rsa=rsa:2:0.7:1:20 k=27 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:$N-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat"
cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat
echo "### Done for $cmd ###"
done done

###(9'') 
set terminal tgif
set output "k54N6-s-take-a.obj";plot "predictDM0:k54N6t1600-1650-s-take-a.dat" using 2:3 w l, "predictDM0:k54N6t1600-1650-s-take-a.dat" using 2:1 w l
set output "k54N6-s-take-i.obj";plot "predictDM0:k54N6t1600-1650-s-take-i.dat" using 2:3 w l, "predictDM0:k54N6t1600-1650-s-take-i.dat" using 2:1 w l
set output "k54N6-s-take-u.obj";plot "predictDM0:k54N6t1600-1650-s-take-u.dat" using 2:3 w l, "predictDM0:k54N6t1600-1650-s-take-u.dat" using 2:1 w l
set output "k54N6-s-take-e.obj";plot "predictDM0:k54N6t1600-1650-s-take-e.dat" using 2:3 w l, "predictDM0:k54N6t1600-1650-s-take-e.dat" using 2:1 w l
set output "k54N6-s-take-o.obj";plot "predictDM0:k54N6t1600-1650-s-take-o.dat" using 2:3 w l, "predictDM0:k54N6t1600-1650-s-take-o.dat" using 2:1 w l
predictDM0:k54N6t1600-1650-s-take-a.dat
predictDM0:k54N6t1600-1650-s-take-e.dat
predictDM0:k54N6t1600-1650-s-take-i.dat
predictDM0:k54N6t1600-1650-s-take-o.dat
predictDM0:k54N6t1600-1650-s-take-u.dat
predictDM0:k54N6t1600-1650-take-a.dat
#MSE=3.103290e+04(NMSE6.284037e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-a good only 30steps
#MSE=5.016779e+02(NMSE6.303207e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-i good only 30steps
#MSE=9.183176e+02(NMSE3.631833e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-u good only 30steps
#MSE=4.709621e+03(NMSE2.866689e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-e good only 30steps
#MSE=9.486100e+01(NMSE1.193815e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-o good only 30steps


070207
(1) see 
    ###(2) for single CAN2 vowel recognition using M4 80.3%
    ###(2+1) single CAN2 for speaker and vowel recognition
    ###(3) Single CAN2 with k:9 N:1 m:poles4  with DISP:1 for unstable poles using rsa=-1, N=1
    ###(3+1) Single CAN2 with k:9 N:1 m:poles4 
    ###(4)  bagging CAN2 vowel recognition using bagging poles4 80.3%
    ###(4+1) bagging CAN2 for speaker and vowel recognition
    ###(5) for bagging vowel recognition using poles4, npt:0.7:1.1:1:179 90.0%
    ###(5''+1) for bagging speaker and vowel recognition with tl=150??
    information on neither vowels nor speakers
070205
(1)新しいデータファイル from  kurolab:/home/funatsu/kurogisensei
kita-a.dat  kosi-e.dat    sanuki-i.dat  take-o.dat  yama-u.dat
fuku-a.dat  kita-e.dat  kosi-i.dat    sanuki-o.dat  take-u.dat
fuku-e.dat  kita-i.dat  kosi-o.dat    sanuki-u.dat  yama-a.dat
fuku-i.dat  kita-o.dat  kosi-u.dat    take-a.dat    yama-e.dat
fuku-o.dat  kita-u.dat  sanuki-a.dat  take-e.dat    yama-i.dat
fuku-u.dat  kosi-a.dat  sanuki-e.dat  take-i.dat    yama-o.dat

fuku kita kosi sanuki take yama
HF   YK   YK   TS     YT   KY
 	
岡田 翔太 （Shota OKADA）E-mail : okada(at)kurolab.cntl.kyutech.ac.jp
古賀 洋嗣 （Hiroshi KOGA）E-mail : koga(at)kurolab.cntl.kyutech.ac.jp
桑原 大介 （Daisuke KUWAHARA）E-mail : kuwahara(at)kurolab.cntl.kyutech.ac.jp
田中 信也 （Shinya TANAKA）E-mail : tanaka(at)kurolab.cntl.kyutech.ac.jp
北山 陽一 （Yoichi KITAYAMA）E-mail : kitayama(at)kurolab.cntl.kyutech.ac.jp
小山 怜陛 （Ryohei KOYAMA）E-mail : koyama(at)kurolab.cntl.kyutech.ac.jp
竹村 祐二 （Yuji TAKEMURA）E-mail : takemura(at)kurolab.cntl.kyutech.ac.jp
根立 奈緒子 （Naoko NEDACHI）E-mail : nedati(at)kurolab.cntl.kyutech.ac.jp
越山　陽平　（Yohei KOSIYAMA）E-mail : koshiyama(at)kurolab.cntl.kyutech.ac.jp 	
佐貫　聖尚　（Toshihisa SANUKI）　E-mail : sanuki(at)kurolab.cntl.kyutech.ac.jp
福元 浩人　（Hiroto FUKUMOTO）E-mail : fukumoto(at)kurolab.cntl.kyutech.ac.jp
船津 由起　（Yuki Funatsu）E-mail : funatsu(at)kurolab.cntl.kyutech.ac.jp
山中　康一　（Koichi YAMANAKA）E-mail : yamanaka(at)kurolab.cntl.kyutech.ac.jp 	
分山　大輔　（Daisuke WAKEYAMA）E-mail : daisuke(at)kurolab.cntl.kyutech.ac.jp

###(1)Simple test
cmd='vowelrecogv3 te:fuku tr:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#  0.251188   0.289452   0.273946   0.230522*  0.274290  #te:fuku-a->kita-e
#  0.277696   0.243527   0.207579   0.194862*  0.313702  #te:fuku-i->kita-e
#  0.270130   0.247939   0.166579*  0.256530   0.285258  #te:fuku-u->sanuki-u
#  0.298425   0.223836   0.233917   0.205886*  0.299029  #te:fuku-e->kita-e
#  0.278223   0.183050   0.210656   0.142220*  0.281267  #te:fuku-o->kita-e
###te:fuku-aiueo-t0+150 are recognized as eeuee (rate=2/5).###

cmd='vowelrecogv3 te:fuku tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
#  0.108083*  0.247929   0.221171   0.191632   0.191277  #te:fuku-a->fuku-a
#  0.165985   0.113435*  0.165566   0.113744   0.184756  #te:fuku-i->fuku-i
#  0.183136   0.110464   0.067545*  0.151495   0.202858  #te:fuku-u->fuku-u
#  0.166914   0.119819   0.113022   0.103679*  0.142605  #te:fuku-e->fuku-e
#  0.130145   0.133907   0.153148   0.138211   0.096167* #te:fuku-o->fuku-o
###te:fuku-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:fuku tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
#  0.106760*  0.243959   0.192034   0.186021   0.176197  #te:fuku-a->fuku-a
#  0.196361   0.119138   0.097770*  0.139447   0.186448  #te:fuku-i->fuku-u
#  0.214931   0.155669   0.099476*  0.167155   0.208192  #te:fuku-u->fuku-u
#  0.182609   0.142115*  0.148231   0.151532   0.225142  #te:fuku-e->fuku-i
#  0.137889   0.137213   0.146075   0.130345   0.065218* #te:fuku-o->fuku-o
###te:fuku-aiueo-t300+450 are recognized as auuio (rate=3/5).###??????????????????????????????????

cmd='vowelrecogv3 te:kita tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.076874*  0.272932   0.210954   0.261790   0.183666  #te:kita-a->kita-a
#  0.240977   0.081283*  0.187353   0.193509   0.215924  #te:kita-i->kita-i
#  0.188135   0.209647   0.043969*  0.232553   0.195253  #te:kita-u->kita-u
#  0.242631   0.156704   0.242049   0.067676*  0.246207  #te:kita-e->kita-e
#  0.092591   0.209123   0.185004   0.117526   0.042896* #te:kita-o->kita-o
###te:kita-aiueo-t300+450 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:kosi tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.059511*  0.293378   0.162199   0.228046   0.128819  #te:kosi-a->kosi-a
#  0.227916   0.074924*  0.152499   0.186062   0.182666  #te:kosi-i->kosi-i
#  0.300150   0.262128   0.054477*  0.236945   0.289193  #te:kosi-u->kosi-u
#  0.219716   0.166361   0.146562   0.021249*  0.209015  #te:kosi-e->kosi-e
#  0.135283   0.223407   0.178139   0.129830   0.046887* #te:kosi-o->kosi-o
###te:kosi-aiueo-t300+450 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:sanuki tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.071148*  0.254616   0.206540   0.214213   0.118091  #te:sanuki-a->sanuki-a
#  0.228013   0.026058*  0.154901   0.116159   0.178745  #te:sanuki-i->sanuki-i
#  0.233500   0.201124   0.048794*  0.178335   0.238524  #te:sanuki-u->sanuki-u
#  0.237787   0.168038   0.118746   0.024772*  0.202297  #te:sanuki-e->sanuki-e
#  0.107646   0.210191   0.182643   0.125641   0.044079* #te:sanuki-o->sanuki-o
###te:sanuki-aiueo-t300+450 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:take tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.085112*  0.292421   0.250622   0.276690   0.242664  #te:take-a->take-a
#  0.228005   0.077978*  0.200184   0.156732   0.196061  #te:take-i->take-i
#  0.241206   0.173047   0.052097*  0.144352   0.217951  #te:take-u->take-u
#  0.229508   0.145160   0.203592   0.095600*  0.204258  #te:take-e->take-e
#  0.123427   0.151208   0.185801   0.148139   0.020437* #te:take-o->take-o
###te:take-aiueo-t300+450 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:yama tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.030461*  0.280675   0.221776   0.214289   0.110906  #te:yama-a->yama-a
#  0.246467   0.033778*  0.105744   0.127714   0.176953  #te:yama-i->yama-i
#  0.234355   0.190352   0.038242*  0.156828   0.212142  #te:yama-u->yama-u
#  0.219334   0.186834   0.107725   0.036482*  0.198610  #te:yama-e->yama-e
#  0.117158   0.213134   0.214295   0.144374   0.044473* #te:yama-o->yama-o
###te:yama-aiueo-t300+450 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:kita tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.082877*  0.316910   0.233240   0.262090   0.189425  #te:kita-a->kita-a
#  0.286755   0.091297*  0.200339   0.211450   0.229896  #te:kita-i->kita-i
#  0.206961   0.306336   0.026121*  0.271312   0.223268  #te:kita-u->kita-u
#  0.270694   0.202382   0.295251   0.023597*  0.292570  #te:kita-e->kita-e
#  0.105244*  0.247549   0.264671   0.167109   0.143561  #te:kita-o->kosi-a
###te:kita-aiueo-t300+450 are recognized as aiuea (rate=4/5).###

vowelrecogv3 te:fuku tr:fuku:kita:kosi:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:300:150 DISP:0 > /dev/null


cmd='vowelrecogv3 tr:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.306987*  0.438194   0.334278   0.419867   0.377099  #te:take-a->yama-a
#  0.347751   0.277841*  0.324760   0.310572   0.336098  #te:take-i->yama-i
#  0.274528   0.236659   0.135653*  0.162409   0.311970  #te:take-u->yama-u
#  0.234948   0.176925   0.242348   0.167168*  0.200151  #te:take-e->yama-e
#  0.175113   0.210354   0.227223   0.174402   0.147531* #te:take-o->yama-o
###te:take-aiueo-t0+100 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:yama tr:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#  0.202911   0.361889   0.274528   0.285740   0.174975* #te:yama-a->take-o
#  0.371540   0.197229   0.177868   0.152440*  0.357346  #te:yama-i->take-e
#  0.410672   0.354832   0.158464*  0.274512   0.407171  #te:yama-u->take-u
#  0.329157   0.254017   0.162409*  0.167168   0.389269  #te:yama-e->take-u
#  0.238726   0.233827   0.249551   0.183540   0.155713* #te:yama-o->take-o
###te:yama-aiueo-t0+100 are recognized as oeuuo (rate=2/5).###

vowelrecmd='vowelrecogv3 tr:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.244922*  0.362845   0.273489   0.332626   0.298705  #te:take-a->yama-a
#  0.267139   0.201203*  0.228153   0.237517   0.264166  #te:take-i->yama-i
#  0.238074   0.231723   0.104939*  0.146233   0.308894  #te:take-u->yama-u
#  0.240291   0.189822   0.208820   0.183532*  0.205159  #te:take-e->yama-e
#  0.144776   0.188260   0.195530   0.159814   0.124884* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 te:yama tr:take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#  0.194607   0.340131   0.260854   0.268021   0.168788* #te:yama-a->take-o
#  0.336227   0.131903   0.159408   0.126770*  0.345699  #te:yama-i->take-e
#  0.326748   0.301349   0.122559*  0.245673   0.393357  #te:yama-u->take-u
#  0.327160   0.227205   0.154628   0.140343*  0.388876  #te:yama-e->take-e
#  0.230497   0.218721   0.242605   0.169477   0.159118* #te:yama-o->take-o
###te:yama-aiueo-t0+150 are recognized as oeueo (rate=3/5).###


cmd='vowelrecogv3 te:yama tr:take k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#  0.027353*  0.030099   0.030371   0.029632   0.031408  #te:yama-a->take-a
#  0.035141   0.032877   0.034392   0.032709*  0.034988  #te:yama-i->take-e
#  0.033079   0.034936   0.032858   0.031489*  0.033040  #te:yama-u->take-e
#  0.033658   0.032565   0.031865   0.029577*  0.032181  #te:yama-e->take-e
#  0.027571   0.027317   0.030271   0.026712*  0.030141  #te:yama-o->take-e
###te:yama-aiueo-t0+150 are recognized as aeeee (rate=2/5).###

cogv3 te:fuku tr:sanuki:take:yama k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 > /dev/null
###te:fuku-aiueo-t0+100 are recognized as auuuu (rate=2/5).###
vowelrecogv3 te:fuku tr:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 > /dev/null
###te:fuku-aiueo-t0+150 are recognized as uuuuu (rate=1/5).###
vowelrecogv3 te:fuku tr:sanuki:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null
###te:fuku-aiueo-t0+150 are recognized as aeuee (rate=3/5).###
vowelrecogv3 te:fuku tr:sanuki:take:yama k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null
vowelrecogv3 te:fuku tr:take:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null

vowelrecogv3 te:s-fuku tr:s-fuku:s-take:s-yama k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null
#speaker recognition
vowelrecogv3 te:s-fuku tr:s-fuku:s-take k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null

###(2) Single CAN2 with k:9 N:1 LeaveOneOut (2+4+5+5+5+4)/6*5=25/30=80.3%
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of fuku and tr:kita are as follows.
#  0.407477*  0.751727   0.409287   0.551319   0.562409  #te:fuku-a->sanuki-a
#  0.480183   0.502228   0.411536*  0.446663   0.492282  #te:fuku-i->sanuki-u
#  0.491311   0.480237   0.234227*  0.379784   0.504245  #te:fuku-u->sanuki-u
#  0.579464   0.477857   0.326635*  0.427063   0.633442  #te:fuku-e->sanuki-u
#  0.497316   0.641807   0.404805*  0.503510   0.543913  #te:fuku-o->take-u
###te:fuku-aiueo-t150+300 are recognized as auuuu (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of kita and tr:fuku are as follows.
#  0.587487*  1.009897   0.983023   1.017119   0.873380  #te:kita-a->kosi-a
#  0.805538   0.308058*  0.511738   0.363631   0.720539  #te:kita-i->kosi-i
#  0.615258   0.700063   0.458601*  0.701968   0.581688  #te:kita-u->take-u
#  0.525575   0.358674   0.409994   0.293850*  0.479824  #te:kita-e->take-e
#  0.361517*  0.724536   0.829068   0.879538   0.465413  #te:kita-o->sanuki-a
###te:kita-aiueo-t150+300 are recognized as aiuea (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of kosi and tr:fuku are as follows.
#  0.388706*  0.539250   0.548485   0.659585   0.456272  #te:kosi-a->fuku-a
#  0.823336   0.345456*  0.587047   0.526930   0.781829  #te:kosi-i->kita-i
#  0.606682   0.703919   0.414796*  0.575287   0.687686  #te:kosi-u->yama-u
#  0.739452   0.453380   0.370635   0.182255*  0.769132  #te:kosi-e->sanuki-e
#  0.291458   0.498901   0.458769   0.678724   0.168524* #te:kosi-o->sanuki-o
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of sanuki and tr:fuku are as follows.
#  0.271751*  0.480614   0.496269   0.610206   0.332107  #te:sanuki-a->yama-a
#  1.284891   0.231208*  1.010507   0.343008   1.268682  #te:sanuki-i->yama-i
#  0.392792   0.429633   0.240981*  0.253015   0.414857  #te:sanuki-u->fuku-u
#  0.694350   0.400196   0.347110   0.127758*  0.703931  #te:sanuki-e->yama-e
#  0.353054   0.496028   0.525314   0.718309   0.157750* #te:sanuki-o->kosi-o
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
### mean distance of M4 of take and tr:fuku are as follows.
#  0.608058*  0.890702   0.842051   0.871414   0.802184  #te:take-a->sanuki-a
#  1.005218   0.284905*  0.708930   0.588350   1.022645  #te:take-i->kita-i
#  0.399036   0.433615   0.270047*  0.349060   0.416700  #te:take-u->fuku-u
#  0.771077   0.336446   0.475354   0.322768*  0.749987  #te:take-e->sanuki-e
#  0.703635   1.202413   1.236412   1.367676   0.685656* #te:take-o->kita-o
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of yama and tr:fuku are as follows.
#  0.215484*  0.517538   0.438501   0.611366   0.332810  #te:yama-a->sanuki-a
#  1.152698   0.198878*  0.795734   0.422780   1.176954  #te:yama-i->sanuki-i
#  0.388033   0.581574   0.215042*  0.374119   0.495175  #te:yama-u->sanuki-u
#  0.631126   0.432743   0.276713   0.147546*  0.656288  #te:yama-e->sanuki-e
#  0.625210*  0.963530   0.965306   0.997783   0.890018  #te:yama-o->kosi-a
###te:yama-aiueo-t150+300 are recognized as aiuea (rate=4/5).###

###(2+1) single CAN2 for speaker and vowel recognition with tl=150?? SR28/30 VR28/30
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of fuku and tr:fuku are as follows.
#  0.074079*  0.215606   0.250665   0.327101   0.198446  #te:fuku-a->fuku-a        1,1
#  0.197040*  0.198274   0.301202   0.198351   0.328599  #te:fuku-i->fuku-a NG4vr  1,0
#  0.245373   0.257898   0.105143*  0.263542   0.330746  #te:fuku-u->fuku-u        1,1
#  0.230027   0.132445   0.189227   0.114241*  0.270759  #te:fuku-e->fuku-e        1,1
#  0.160537*  0.216037   0.279859   0.257774   0.261205  #te:fuku-o->fuku-a NG4vr  1,0
###te:fuku-aiueo-t150+300 are recognized as aauea (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kita k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of kita and tr:fuku are as follows.
#  0.112022*  0.997833   1.044069   1.086252   0.991542  #te:kita-a->kita-a        1,1
#  0.770447   0.143665*  0.530783   0.465586   0.822982  #te:kita-i->kita-i        1,1
#  0.562055   0.717480   0.093536*  0.714193   0.722162  #te:kita-u->kita-u        1,1
#  0.498324   0.469301   0.469318   0.176524*  0.628839  #te:kita-e->kita-e        1,1
#  0.496398   0.834579   0.885334   0.954428   0.175984* #te:kita-o->kita-o        1,1
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kosi k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of kosi and tr:fuku are as follows.
#  0.185322*  0.580732   0.595732   0.640224   0.640588  #te:kosi-a->kosi-a          1,1
#  0.827653   0.117519*  0.666090   0.702691   0.841714  #te:kosi-i->kosi-i          1,1
#  0.630736   0.692600   0.022351*  0.655244   0.638011  #te:kosi-u->kosi-u          1,1
#  0.710037   0.587906   0.482442   0.036513*  0.825029  #te:kosi-e->kosi-e          1,1
#  0.292907   0.666376   0.597350   0.703346   0.140222* #te:kosi-o->sanuki-o  NG4sr 0,1
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:sanuki k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of sanuki and tr:fuku are as follows.
#  0.030568*  0.550856   0.547341   0.622268   0.262969  #te:sanuki-a->sanuki-a 1,1
#  1.274672   0.030978*  0.999409   0.492498   1.355704  #te:sanuki-i->sanuki-i 1,1
#  0.426487   0.444219   0.099343*  0.346805   0.547340  #te:sanuki-u->sanuki-u 1,1
#  0.657349   0.521560   0.375520   0.060190*  0.775002  #te:sanuki-e->sanuki-e 1,1
#  0.273431   0.681858   0.642811   0.723982   0.109500* #te:sanuki-o->sanuki-o 1,1
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of take and tr:fuku are as follows.
#  0.145062*  0.736448   0.778180   0.891481   0.683634  #te:take-a->take-a        1,1
#  1.043134   0.309448*  0.752427   0.406680   1.137431  #te:take-i->kita-i NG4sr  0,1
#  0.368964   0.416963   0.136737*  0.367270   0.521073  #te:take-u->take-u        1,1
#  0.768418   0.385483   0.505175   0.068935*  0.858788  #te:take-e->take-e        1,1
#  0.867934   1.364309   1.390461   1.429077   0.062832* #te:take-o->take-o        1,1
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:yama k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of yama and tr:fuku are as follows.
#  0.035035*  0.590513   0.550196   0.593218   0.300590  #te:yama-a->yama-a 1,1
#  1.163894   0.021790*  0.897307   0.467390   1.252698  #te:yama-i->yama-i 1,1
#  0.456522   0.528176   0.108153*  0.452975   0.564595  #te:yama-u->yama-u 1,1
#  0.606255   0.538784   0.312119   0.019809*  0.721754  #te:yama-e->yama-e 1,1
#  0.879002   1.080189   1.008249   1.046982   0.030328* #te:yama-o->yama-o 1,1
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

###(3) Single CAN2 with k:9 N:1 m:poles4 LeaveOneOut (1+3+4+5+3+4)/6*5=20/30=66.6% (see(6)) NG:a2i1u0e4o3
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#  0.309475   0.291781*  0.307753   0.293500   0.306913  #te:fuku-a->take-i    NG
#  0.270249   0.219370   0.255125   0.196988*  0.272130  #te:fuku-i->kita-e    NG
#  0.252974   0.281954   0.132941*  0.227304   0.292820  #te:fuku-u->sanuki-u  
#  0.314132   0.194152*  0.260530   0.213385   0.317982  #te:fuku-e->kita-i    NG
#  0.256175   0.200744   0.236747   0.194371*  0.249708  #te:fuku-o->kita-e    NG
###te:fuku-aiueo-t150+300 are recognized as ieuie (rate=1/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.098756*  0.350141   0.283625   0.291590   0.200658  #te:kita-a->kosi-a  
#  0.299346   0.173632*  0.230377   0.214466   0.254279  #te:kita-i->kosi-i
#  0.216082   0.326544   0.145216*  0.263606   0.221851  #te:kita-u->take-u 
#  0.281925   0.212205*  0.271630   0.264023   0.302068  #te:kita-e->fuku-i  NG
#  0.125793*  0.220061   0.225602   0.172519   0.152467  #te:kita-o->kosi-a  NG
###te:kita-aiueo-t150+300 are recognized as aiuia (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.204819   0.361258   0.277393   0.267755   0.203322* #te:kosi-a->kita-o  NG
#  0.256101   0.158774*  0.173090   0.199107   0.200671  #te:kosi-i->kita-i
#  0.325433   0.370328   0.248025*  0.334560   0.370216  #te:kosi-u->kita-u
#  0.323349   0.177268   0.156984   0.069353*  0.291818  #te:kosi-e->sanuki-e
#  0.136576   0.236344   0.202270   0.131693   0.034828* #te:kosi-o->sanuki-o
###te:kosi-aiueo-t150+300 are recognized as oiueo (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.092067*  0.319407   0.216082   0.210952   0.134948  #te:sanuki-a->yama-a
#  0.284272   0.096544*  0.180377   0.169320   0.221288  #te:sanuki-i->yama-i
#  0.250060   0.248704   0.106867*  0.189859   0.249053  #te:sanuki-u->yama-u
#  0.321361   0.185772   0.145301   0.065866*  0.254995  #te:sanuki-e->yama-e
#  0.139542   0.239069   0.216657   0.131538   0.034828* #te:sanuki-o->kosi-o
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.204819*  0.383365   0.266511   0.328965   0.299701  #te:take-a->kosi-a
#  0.223523   0.194553*  0.270739   0.226177   0.226920  #te:take-i->kita-i
#  0.256467   0.232687   0.139882*  0.145301   0.294628  #te:take-u->sanuki-u
#  0.231136   0.169320*  0.193280   0.178982   0.186992  #te:take-e->sanuki-i  NG
#  0.140460*  0.188672   0.227756   0.174335   0.163419  #te:take-o->sanuki-a  NG
###te:take-aiueo-t150+300 are recognized as aiuia (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.092067*  0.346349   0.257040   0.275322   0.127499  #te:yama-a->sanuki-a
#  0.296511   0.096544*  0.154129   0.144760   0.228259  #te:yama-i->sanuki-i
#  0.299324   0.277728   0.106867*  0.228232   0.294334  #te:yama-u->sanuki-u
#  0.291112   0.190364   0.155946   0.065866*  0.260193  #te:yama-e->sanuki-e NG
#  0.124825*  0.225242   0.245930   0.171509   0.126263  #te:yama-o->sanuki-a NG
###te:yama-aiueo-t150+300 are recognized as aiuea (rate=4/5).###

###(3+1) Single CAN2 with k:9 N:1 m:poles4 LeaveOneOut perfect SR30/30 VR30/30
vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
#  0.080891*  0.261461   0.306997   0.195553   0.181897  #te:fuku-a->fuku-a  1,1
#  0.158939   0.115972*  0.233341   0.120580   0.172350  #te:fuku-i->fuku-i  1,1
#  0.190260   0.216405   0.076389*  0.218599   0.207705  #te:fuku-u->fuku-u  1,1
#  0.158211   0.157149   0.231852   0.072219*  0.140279  #te:fuku-e->fuku-e  1,1
#  0.113988   0.151418   0.221712   0.141247   0.104643* #te:fuku-o->fuku-o  1,1
###te:fuku-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kita k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.018889*  0.323620   0.241490   0.265717   0.183200  #te:kita-a->kita-a  1,1
#  0.258391   0.069702*  0.216169   0.213176   0.243133  #te:kita-i->kita-i  1,1
#  0.209904   0.304397   0.023328*  0.266236   0.224075  #te:kita-u->kita-u  1,1
#  0.290288   0.192501   0.268763   0.062622*  0.297510  #te:kita-e->kita-e  1,1
#  0.130992   0.222529   0.227205   0.150499   0.043389* #te:kita-o->kita-o  1,1
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kosi k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.033023*  0.346225   0.260107   0.245950   0.230716  #te:kosi-a->kosi-a  1,1
#  0.245311   0.069442*  0.168449   0.203290   0.213490  #te:kosi-i->kosi-i  1,1
#  0.302772   0.316462   0.012245*  0.327591   0.327928  #te:kosi-u->kosi-u  1,1
#  0.223439   0.175857   0.176020   0.012517*  0.274037  #te:kosi-e->kosi-e  1,1
#  0.134790   0.237339   0.204792   0.132120   0.034353* #te:kosi-o->kosi-o  1,1
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.016996*  0.300208   0.208986   0.209439   0.136838  #te:sanuki-a->sanuki-a  1,1
#  0.234810   0.007911*  0.173560   0.150372   0.212071  #te:sanuki-i->sanuki-i  1,1
#  0.233495   0.251527   0.040963*  0.195887   0.246538  #te:sanuki-u->sanuki-u  1,1
#  0.251313   0.170868   0.155461   0.018511*  0.253067  #te:sanuki-e->sanuki-e  1,1
#  0.121148   0.229381   0.217217   0.131037   0.037003* #te:sanuki-o->sanuki-o  1,1
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.043459*  0.342469   0.262585   0.305449   0.313255  #te:take-a->take-a  1,1
#  0.232041   0.133783*  0.246157   0.214800   0.265347  #te:take-i->take-i  1,1
#  0.247404   0.230483   0.028410*  0.140841   0.251976  #te:take-u->take-u  1,1
#  0.225366   0.176238   0.157054   0.031646*  0.202618  #te:take-e->take-e  1,1
#  0.130718   0.188004   0.224620   0.173627   0.010389* #te:take-o->take-o  1,1
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.008562*  0.346678   0.257779   0.237559   0.130275  #te:yama-a->yama-a  1,1
#  0.248287   0.016706*  0.120310   0.138926   0.208766  #te:yama-i->yama-i  1,1
#  0.279984   0.229074   0.034868*  0.214289   0.282068  #te:yama-u->yama-u  1,1
#  0.221585   0.193326   0.159530   0.008479*  0.213803  #te:yama-e->yama-e  1,1
#  0.127029   0.223991   0.251038   0.161465   0.017940* #te:yama-o->yama-o  1,1
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###



###(4) bagging CAN2 with k:9 N:1 LeaveOneOut (2+4+5+5+4+5)/6*5=25/30=80.3%
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#  0.083882   0.162354   0.160639   0.144666   0.070717* #te:fuku-a->yama-o
#  0.054957   0.032687*  0.084952   0.066239   0.079237  #te:fuku-i->take-i
#  0.091615   0.046313   0.041559*  0.070389   0.081961  #te:fuku-u->sanuki-u
#  0.205291   0.080039*  0.106008   0.084099   0.175920  #te:fuku-e->sanuki-i
#  0.111500   0.083143   0.099299   0.073320*  0.100669  #te:fuku-o->kita-e
###te:fuku-aiueo-t150+300 are recognized as oiuie (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.061570*  0.289647   0.213317   0.205035   0.130746  #te:kita-a->sanuki-a
#  0.079028   0.093754   0.036391*  0.086641   0.109592  #te:kita-i->sanuki-u
#  0.135144   0.225720   0.083270*  0.188213   0.163039  #te:kita-u->sanuki-u
#  0.173741   0.099368   0.167561   0.051239*  0.116414  #te:kita-e->take-e
#  0.086470   0.169111   0.187185   0.104862   0.042426* #te:kita-o->sanuki-o
###te:kita-aiueo-t150+300 are recognized as auueo (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.038816*  0.270975   0.185391   0.187981   0.091081  #te:kosi-a->kita-a
#  0.118914   0.049714*  0.065236   0.084727   0.123472  #te:kosi-i->sanuki-i
#  0.194111   0.206688   0.133997*  0.175259   0.216970  #te:kosi-u->yama-u
#  0.235861   0.174632   0.120539   0.060725*  0.214344  #te:kosi-e->sanuki-e
#  0.108375   0.194473   0.173710   0.120148   0.048476* #te:kosi-o->sanuki-o
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.068241*  0.277261   0.192056   0.196789   0.111783  #te:sanuki-a->yama-a
#  0.185165   0.068197*  0.153744   0.092846   0.174541  #te:sanuki-i->yama-i
#  0.113883   0.123260   0.052062*  0.104786   0.135293  #te:sanuki-u->yama-u
#  0.210486   0.175569   0.117239   0.050075*  0.199091  #te:sanuki-e->yama-e
#  0.132475   0.201354   0.179126   0.116330   0.048826* #te:sanuki-o->kosi-o
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.051606*  0.270735   0.164568   0.224966   0.129985  #te:take-a->yama-a
#  0.078976   0.053179*  0.069006   0.074922   0.070692  #te:take-i->sanuki-i
#  0.206686   0.212280   0.061076*  0.108538   0.206462  #te:take-u->sanuki-u
#  0.148265   0.069969*  0.126252   0.093603   0.110936  #te:take-e->sanuki-i
#  0.121510   0.173216   0.194818   0.152451   0.110114* #te:take-o->yama-o
###te:take-aiueo-t150+300 are recognized as aiuio (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.059762*  0.301984   0.221282   0.262991   0.115543  #te:yama-a->sanuki-a
#  0.167603   0.071602*  0.125814   0.099637   0.150842  #te:yama-i->sanuki-i
#  0.218393   0.222365   0.077930*  0.158448   0.226057  #te:yama-u->take-u
#  0.213414   0.159304   0.126697   0.055586*  0.182807  #te:yama-e->sanuki-e
#  0.112428   0.205344   0.219146   0.152177   0.097377* #te:yama-o->kita-o
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.056159*  0.058805   0.059653   0.058980   0.057520  #te:yama-a->kosi-a
#  0.063551   0.055622*  0.056637   0.060175   0.059913  #te:yama-i->kosi-i
#  0.059359   0.053906   0.051958*  0.054665   0.053672  #te:yama-u->sanuki-u
#  0.058965   0.058288   0.057835   0.052226*  0.055385  #te:yama-e->sanuki-e
#  0.056136   0.059915   0.058478   0.055073   0.054051* #te:yama-o->kita-o
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

(4+1)bagging CAN2 for speaker and vowel recognition with poles4 tl=150?? SR29/30 VR=29/30
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
#  0.108083*  0.263645   0.304412   0.234141   0.222278  #te:fuku-a->fuku-a  1,1
#  0.165985   0.148806*  0.243067   0.154531   0.204228  #te:fuku-i->fuku-i  1,1
#  0.183136   0.225552   0.106668*  0.234476   0.219743  #te:fuku-u->fuku-u  1,1
#  0.166914   0.168280   0.239121   0.135952*  0.167608  #te:fuku-e->fuku-e  1,1
#  0.130145*  0.170161   0.233360   0.168228   0.149235  #te:fuku-o->fuku-a  1,0
###te:fuku-aiueo-t150+300 are recognized as aiuea (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kita k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.057653*  0.322430   0.253325   0.271757   0.198798  #te:kita-a->kita-a  1,1
#  0.246101   0.122711*  0.224054   0.211699   0.246910  #te:kita-i->kita-i  1,1
#  0.203900   0.294835   0.068115*  0.282015   0.240572  #te:kita-u->kita-u  1,1
#  0.274209   0.201349   0.272016   0.096163*  0.291090  #te:kita-e->kita-e  1,1
#  0.124806   0.244072   0.233601   0.152224   0.086975* #te:kita-o->kita-o  1,1
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kosi k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.033023*  0.346225   0.260107   0.245950   0.230716  #te:kosi-a->kosi-a  1,1
#  0.245311   0.069442*  0.168449   0.203290   0.213490  #te:kosi-i->kosi-i  1,1
#  0.302772   0.316462   0.012245*  0.327591   0.327928  #te:kosi-u->kosi-u  1,1
#  0.223439   0.175857   0.176020   0.012517*  0.274037  #te:kosi-e->kosi-e  1,1
#  0.134790   0.237339   0.204792   0.132120   0.034353* #te:kosi-o->kosi-o  1,1
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.016996*  0.300208   0.208986   0.209439   0.136838  #te:sanuki-a->sanuki-a  1,1
#  0.234810   0.007911*  0.173560   0.150372   0.212071  #te:sanuki-i->sanuki-i  1,1
#  0.233495   0.251527   0.040963*  0.195887   0.246538  #te:sanuki-u->sanuki-u  1,1
#  0.251313   0.170868   0.155461   0.018511*  0.253067  #te:sanuki-e->sanuki-e  1,1
#  0.121148   0.229381   0.217217   0.131037   0.037003* #te:sanuki-o->sanuki-o  1,1
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.109332*  0.330241   0.271895   0.321348   0.261746  #te:take-a->take-a  1,1
#  0.194954   0.191285*  0.256492   0.220032   0.263890  #te:take-i->kita-i  0,1
#  0.236305   0.232108   0.060772*  0.147681   0.254239  #te:take-u->take-u  1,1
#  0.218823   0.183011   0.210379   0.146165*  0.221799  #te:take-e->take-e  1,1
#  0.125036   0.178929   0.213499   0.163452   0.026177* #te:take-o->take-o  1,1
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.049321*  0.345569   0.255147   0.240279   0.140147  #te:yama-a->yama-a  1,1
#  0.238716   0.045764*  0.119299   0.139637   0.205557  #te:yama-i->yama-i  1,1
#  0.285665   0.232124   0.071507*  0.218586   0.286403  #te:yama-u->yama-u  1,1
#  0.226731   0.197169   0.164309   0.057605*  0.219443  #te:yama-e->yama-e  1,1
#  0.118203   0.231300   0.253333   0.163786   0.066238* #te:yama-o->yama-o  1,1
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

#??#vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null
#??#cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 > /dev/null'
#??#### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#??##  0.258898   0.265763   0.285528   0.246857*  0.285202  #te:fuku-a->kita-e
#??##  0.263791   0.176096*  0.229159   0.190222   0.271550  #te:fuku-i->take-i
#??##  0.265185   0.212757   0.120204*  0.219527   0.267506  #te:fuku-u->sanuki-u
#??##  0.304833   0.168526   0.227988   0.165942*  0.294790  #te:fuku-e->take-e
#??##  0.263908   0.175806   0.212883   0.157135*  0.255805  #te:fuku-o->take-e
#??####te:fuku-aiueo-t150+300 are recognized as eiuee (rate=3/5).###
#??#cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
#??#### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#??##  0.099342*  0.319351   0.262370   0.276596   0.192469  #te:kita-a->kosi-a
#??##  0.199110   0.149261*  0.198966   0.165193   0.196386  #te:kita-i->take-i
#??##  0.188953   0.243164   0.151663*  0.259386   0.212311  #te:kita-u->take-u
#??##  0.243456   0.169529*  0.253523   0.174155   0.231376  #te:kita-e->fuku-i
#??##  0.115694*  0.218111   0.205193   0.157609   0.144589  #te:kita-o->kosi-a
#??####te:kita-aiueo-t150+300 are recognized as aiuia (rate=3/5).###

###(5) bagging LeaveOneOut (3+5+4+5+5+5)/6*5=27/30=90%
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#  0.056198   0.059467   0.059382   0.056635   0.056120* #te:fuku-a->kita-o   NG
#  0.056657   0.053936*  0.055289   0.056590   0.056480  #te:fuku-i->kita-i
#  0.061087   0.059139   0.059202   0.057085*  0.059087  #te:fuku-u->sanuki-e  NG
#  0.059791   0.061926   0.061309   0.055295*  0.056667  #te:fuku-e->sanuki-e 
#  0.055147   0.054828   0.054598   0.052704   0.052388* #te:fuku-o->kita-o
###te:fuku-aiueo-t150+300 are recognized as oieeo (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.050618*  0.054102   0.055431   0.055521   0.052133  #te:kita-a->kosi-a
#  0.062392   0.055933*  0.056631   0.059023   0.057376  #te:kita-i->take-i
#  0.061795   0.056116   0.055021*  0.059073   0.056482  #te:kita-u->take-u
#  0.060510   0.059355   0.058568   0.054204*  0.055416  #te:kita-e->sanuki-e
#  0.058713   0.058778   0.059003   0.056355   0.053953* #te:kita-o->sanuki-o
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.054705*  0.058912   0.058987   0.058338   0.056698  #te:kosi-a->kita-a
#  0.062180   0.054514*  0.055519   0.056461   0.055905  #te:kosi-i->sanuki-i
#  0.062521   0.056265   0.055078*  0.057046   0.056634  #te:kosi-u->take-u
#  0.061498   0.058589   0.057690   0.052556*  0.055913  #te:kosi-e->sanuki-e
#  0.059503   0.057917   0.055851   0.052966*  0.054617  #te:kosi-o->sanuki-e NG
###te:kosi-aiueo-t150+300 are recognized as aiuee (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.056275*  0.058654   0.058299   0.058116   0.056956  #te:sanuki-a->kita-a
#  0.060394   0.051506*  0.053256   0.053326   0.053933  #te:sanuki-i->kosi-i
#  0.058962   0.053229   0.052411*  0.055868   0.052976  #te:sanuki-u->yama-u
#  0.059426   0.059461   0.056893   0.053971*  0.055077  #te:sanuki-e->fuku-e
#  0.056873   0.057829   0.057365   0.054001   0.052141* #te:sanuki-o->kita-o
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.051554*  0.053722   0.054502   0.054670   0.052657  #te:take-a->kita-a
#  0.060580   0.054463*  0.054632   0.058399   0.055588  #te:take-i->kosi-i
#  0.062573   0.057417   0.056111*  0.057915   0.057156  #te:take-u->kosi-u
#  0.059038   0.054655   0.055352   0.052304*  0.052740  #te:take-e->kita-e
#  0.056824   0.058350   0.055880   0.053431   0.052502* #te:take-o->yama-o
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

###(5')=improved than ###(5)?NO!!!! bagging LeaveOneOut 2+4+5+2+3=16/30 (3+5+4+5+5+5)/6*5=27/30=90%
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#  0.032046*  0.034921   0.035027   0.034205   0.033366  #te:fuku-a->sanuki-a
#  0.034453   0.033905   0.033602   0.033091*  0.035021  #te:fuku-i->take-e
#  0.033967   0.034585   0.033168   0.032742*  0.034274  #te:fuku-u->take-e
#  0.035658   0.035337   0.035399   0.034658*  0.034892  #te:fuku-e->sanuki-e
#  0.033620*  0.033936   0.034036   0.034567   0.034078  #te:fuku-o->sanuki-a
###te:fuku-aiueo-t150+300 are recognized as aeeea (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.030577*  0.031764   0.032993   0.033001   0.032099  #te:kita-a->sanuki-a
#  0.033548   0.029792*  0.032083   0.032644   0.032153  #te:kita-i->kosi-i
#  0.033520   0.033947   0.032897   0.032523*  0.034267  #te:kita-u->take-e
#  0.034611   0.033765   0.035119   0.031658*  0.034417  #te:kita-e->sanuki-e
#  0.030415   0.032216   0.034681   0.032402   0.029480* #te:kita-o->take-o
###te:kita-aiueo-t150+300 are recognized as aieeo (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.029449*  0.032627   0.032457   0.032441   0.031113  #te:kosi-a->kita-a
#  0.030717   0.027749*  0.028190   0.028719   0.029981  #te:kosi-i->kita-i
#  0.030362   0.031120   0.030089*  0.030312   0.031257  #te:kosi-u->kita-u
#  0.030610   0.031709   0.033328   0.030470*  0.031475  #te:kosi-e->sanuki-e
#  0.030406   0.031078   0.033003   0.029863   0.029188* #te:kosi-o->kita-o
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.032768   0.033974   0.034174   0.033794   0.032464* #te:sanuki-a->take-o
#  0.034958   0.030449   0.032396   0.030292*  0.033927  #te:sanuki-i->take-e
#  0.035287   0.033294*  0.033498   0.033671   0.035089  #te:sanuki-u->kosi-i
#  0.034520   0.033511   0.034206   0.031044*  0.031773  #te:sanuki-e->kita-e
#  0.033748   0.034589   0.034249   0.034189   0.031185* #te:sanuki-o->kosi-o
###te:sanuki-aiueo-t150+300 are recognized as oeieo (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.032486*  0.035533   0.034741   0.036364   0.034407  #te:take-a->sanuki-a
#  0.035032   0.030932*  0.035221   0.035865   0.036438  #te:take-i->sanuki-i
#  0.032683   0.032147   0.031970*  0.033103   0.032636  #te:take-u->kita-u
#  0.031631   0.031504*  0.031789   0.032004   0.033308  #te:take-e->fuku-i
#  0.029153*  0.031352   0.032771   0.032132   0.029261  #te:take-o->sanuki-a
###te:take-aiueo-t150+300 are recognized as aiuia (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.027329*  0.030420   0.028862   0.027631   0.030038  #te:yama-a->sanuki-a
#  0.032671   0.029237*  0.032981   0.031169   0.033834  #te:yama-i->take-i
#  0.033068   0.033217   0.033130   0.031861*  0.034559  #te:yama-u->take-e
#  0.030845   0.030888   0.030923   0.028556*  0.030967  #te:yama-e->sanuki-e
#  0.026742   0.025617   0.026893   0.025096*  0.028425  #te:yama-o->take-e
###te:yama-aiueo-t150+300 are recognized as aieee (rate=3/5).###

###(5+1) bagging LeaveOneOut for speaker recognition with tl=150??  SR28/30 VR27/30
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
#  0.053072*  0.059117   0.054793   0.054393   0.053162  #te:fuku-a->fuku-a       1,1
#  0.054642   0.055256   0.051065*  0.052730   0.055543  #te:fuku-i->fuku-u NG4vr 1,0
#  0.055896   0.058741   0.053751*  0.056663   0.056872  #te:fuku-u->fuku-u       1,1
#  0.057087   0.059770   0.055593   0.054160   0.053183* #te:fuku-e->fuku-o NG4vr 1,0
#  0.052100*  0.056858   0.052638   0.052342   0.054008  #te:fuku-o->fuku-a NG4vr 1,0
###te:fuku-aiueo-t150+300 are recognized as auuoa (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kita k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.049308*  0.055826   0.054581   0.054258   0.053875  #te:kita-a->take-a NG4sr 0,1
#  0.060396   0.053541*  0.056303   0.060094   0.060335  #te:kita-i->kita-i       1,1
#  0.059486   0.056884   0.052509*  0.059346   0.058661  #te:kita-u->kita-u       1,1
#  0.059102   0.060010   0.057092   0.053036*  0.056710  #te:kita-e->kita-e       1,1
#  0.056424   0.060171   0.057748   0.056689   0.051482* #te:kita-o->kita-o       1,1
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kosi k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.052583*  0.059516   0.058434   0.059033   0.056339  #te:kosi-a->kosi-a      1,1
#  0.057794   0.049803*  0.054391   0.055263   0.057783  #te:kosi-i->kosi-i      1,1
#  0.059403   0.056389   0.048180*  0.058158   0.059545  #te:kosi-u->kosi-u      1,1
#  0.058134   0.058339   0.057305   0.050326*  0.057847  #te:kosi-e->kosi-e      1,1
#  0.057712   0.057440   0.056221   0.056017   0.052454* #te:kosi-o->kosi-o      1,1
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:sanuki k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.054041*  0.059562   0.057344   0.058588   0.058084  #te:sanuki-a->take-a   NG4sr  0,1
#  0.055694   0.049141*  0.053291   0.053258   0.057176  #te:sanuki-i->sanuki-i        1,1
#  0.054277   0.053008   0.049263*  0.056890   0.055438  #te:sanuki-u->sanuki-u        1,1
#  0.058385   0.059701   0.056932   0.052163*  0.055389  #te:sanuki-e->kosi-e   NG4sr  1,1
#  0.056585   0.057355   0.056141   0.054504   0.052541* #te:sanuki-o->sanuki-o        1,1
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.046936*  0.055022   0.053145   0.055713   0.054014  #te:take-a->take-a      1,1
#  0.058587   0.050673*  0.055070   0.058562   0.059176  #te:take-i->take-i      1,1
#  0.059877   0.057893   0.054672*  0.058933   0.059976  #te:take-u->take-u      1,1
#  0.056773   0.055750   0.053578   0.051690*  0.052672  #te:take-e->take-e      1,1
#  0.055338   0.057453   0.056798   0.055297   0.049075* #te:take-o->take-o      1,1
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.053610*  0.060852   0.059572   0.058263   0.056862  #te:yama-a->yama-a 1,1
#  0.062244   0.047919*  0.055889   0.059462   0.060977  #te:yama-i->yama-i 1,1
#  0.055122   0.054920   0.049768*  0.054974   0.055091  #te:yama-u->yama-u 1,1
#  0.056771   0.058143   0.056692   0.051903*  0.056807  #te:yama-e->yama-e 1,1
#  0.056864   0.058807   0.058313   0.057534   0.050942* #te:yama-o->yama-o 1,1
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

**cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:27 N:9 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
**### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
**#  0.065032*  0.071025   0.071713   0.068550   0.070380  #te:fuku-a->fuku-a
**#  0.058870   0.059141   0.059199   0.057469*  0.062339  #te:fuku-i->fuku-e
**#  0.061282*  0.062200   0.064645   0.062715   0.065948  #te:fuku-u->fuku-a
**#  0.060265   0.064274   0.061339   0.058804*  0.061728  #te:fuku-e->fuku-e
**#  0.057965*  0.059714   0.061247   0.058680   0.061152  #te:fuku-o->fuku-a
**###te:fuku-aiueo-t150+300 are recognized as aeaea (rate=2/5).###
**cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:27 N:9 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
**### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
**#  0.045954*  0.051689   0.048501   0.049400   0.048701  #te:fuku-a->fuku-a
**#  0.048324   0.047735   0.042645*  0.044869   0.047583  #te:fuku-i->fuku-u
**#  0.049190   0.049778   0.047039*  0.047933   0.051547  #te:fuku-u->fuku-u
**#  0.048184   0.050699   0.047462   0.045755*  0.047163  #te:fuku-e->fuku-e
**#  0.046911*  0.048215   0.048375   0.047057   0.047836  #te:fuku-o->fuku-a
**###te:fuku-aiueo-t150+300 are recognized as auuea (rate=3/5).###
**cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
**### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
**#  0.070459*  0.076020   0.075425   0.072226   0.072837  #te:fuku-a->fuku-a
**#  0.069185   0.069599   0.070633   0.069110*  0.073392  #te:fuku-i->fuku-e
**#  0.070980   0.074416   0.073204   0.070836*  0.075556  #te:fuku-u->fuku-e
**#  0.069909   0.074415   0.072354   0.066472*  0.072118  #te:fuku-e->fuku-e
**#  0.064937*  0.069573   0.067735   0.065884   0.068124  #te:fuku-o->fuku-a
**###te:fuku-aiueo-t150+300 are recognized as aeeea (rate=2/5).###


###(5''') bagging LeaveOneOut for speaker recognition with tl=800??   6NG4vr+6NG4sr
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:fuku k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:fuku are as follows.
#  0.043591   0.044343   0.044718   0.043405*  0.044085  #te:fuku-a->fuku-e  NG4vr
#  0.044122   0.043392   0.043921   0.043008*  0.043509  #te:fuku-i->fuku-e  NG4vr
#  0.044872   0.044399   0.043962   0.044328   0.043909* #te:fuku-u->fuku-o  NG4vr
#  0.043359   0.042900   0.043333   0.042603*  0.042989  #te:fuku-e->fuku-e  
#  0.044312   0.044273   0.043511   0.043132*  0.043195  #te:fuku-o->fuku-e NG4vr
###te:fuku-aiueo-t800+1600 are recognized as eeoee (rate=1/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kita k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.041558*  0.043607   0.044125   0.043358   0.043227  #te:kita-a->kita-a
#  0.043506   0.042668*  0.043994   0.043863   0.044201  #te:kita-i->kita-i
#  0.044217   0.044601   0.044102*  0.044167   0.044466  #te:kita-u->sanuki-u NG4sr
#  0.043828   0.043981   0.044197   0.043749*  0.044065  #te:kita-e->fuku-e NG4vr
#  0.043581   0.043798   0.044027   0.043507   0.042346* #te:kita-o->kita-o
###te:kita-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:kosi k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.042005*  0.043477   0.044163   0.043584   0.043174  #te:kosi-a->kosi-a
#  0.043979   0.042152*  0.043912   0.043324   0.043313  #te:kosi-i->kosi-i
#  0.043248   0.043617   0.042399*  0.042772   0.043399  #te:kosi-u->kosi-u
#  0.043607   0.043834   0.044266   0.043121*  0.043892  #te:kosi-e->fuku-e NG4sr
#  0.043481   0.043416   0.044105   0.043193   0.043149* #te:kosi-o->kosi-o
###te:kosi-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:sanuki k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.043069*  0.043900   0.044566   0.043225   0.044115  #te:sanuki-a->sanuki-a
#  0.044145   0.043590   0.043958   0.043328*  0.043991  #te:sanuki-i->fuku-e   NG4sr NG4vr
#  0.043731   0.043813   0.042936*  0.043635   0.043766  #te:sanuki-u->sanuki-u 
#  0.043053   0.043042   0.043605   0.042092*  0.042962  #te:sanuki-e->fuku-e   NG4sr
#  0.043384   0.043824   0.044319   0.042988*  0.043122  #te:sanuki-o->fuku-e   NG4sr NG4vr
###te:sanuki-aiueo-t800+1600 are recognized as aeuee (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:take k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.042243*  0.044431   0.044117   0.043208   0.043674  #te:take-a->take-a
#  0.043467   0.042750*  0.043594   0.043861   0.043695  #te:take-i->take-i
#  0.043738   0.043957   0.043199*  0.043434   0.043744  #te:take-u->take-u
#  0.044310   0.044508   0.044432   0.043262*  0.044147  #te:take-e->fuku-e  NG4sr
#  0.044261   0.044067   0.044657   0.043900   0.043728* #te:take-o->take-o
###te:take-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###



###(6) Single CAN2 with k:9 N:1 m:M4 LeaveOneOut (2+4+5+5+5+4)/6*5=25/30=80.3%
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:9 N:1 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of fuku and tr:kita are as follows.
#  0.407477*  0.751727   0.409287   0.551319   0.562409  #te:fuku-a->sanuki-a
#  0.480183   0.502228   0.411536*  0.446663   0.492282  #te:fuku-i->sanuki-u
#  0.491311   0.480237   0.234227*  0.379784   0.504245  #te:fuku-u->sanuki-u
#  0.579464   0.477857   0.326635*  0.427063   0.633442  #te:fuku-e->sanuki-u
#  0.497316   0.641807   0.404805*  0.503510   0.543913  #te:fuku-o->take-u
###te:fuku-aiueo-t150+300 are recognized as auuuu (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:9 N:1 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of kita and tr:fuku are as follows.
#  0.587487*  1.009897   0.983023   1.017119   0.873380  #te:kita-a->kosi-a
#  0.805538   0.308058*  0.511738   0.363631   0.720539  #te:kita-i->kosi-i
#  0.615258   0.700063   0.458601*  0.701968   0.581688  #te:kita-u->take-u
#  0.525575   0.358674   0.409994   0.293850*  0.479824  #te:kita-e->take-e
#  0.361517*  0.724536   0.829068   0.879538   0.465413  #te:kita-o->sanuki-a
###te:kita-aiueo-t150+300 are recognized as aiuea (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:9 N:1 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of kosi and tr:fuku are as follows.
#  0.388706*  0.539250   0.548485   0.659585   0.456272  #te:kosi-a->fuku-a
#  0.823336   0.345456*  0.587047   0.526930   0.781829  #te:kosi-i->kita-i
#  0.606682   0.703919   0.414796*  0.575287   0.687686  #te:kosi-u->yama-u
#  0.739452   0.453380   0.370635   0.182255*  0.769132  #te:kosi-e->sanuki-e
#  0.291458   0.498901   0.458769   0.678724   0.168524* #te:kosi-o->sanuki-o
###te:kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:9 N:1 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of sanuki and tr:fuku are as follows.
#  0.271751*  0.480614   0.496269   0.610206   0.332107  #te:sanuki-a->yama-a
#  1.284891   0.231208*  1.010507   0.343008   1.268682  #te:sanuki-i->yama-i
#  0.392792   0.429633   0.240981*  0.253015   0.414857  #te:sanuki-u->fuku-u
#  0.694350   0.400196   0.347110   0.127758*  0.703931  #te:sanuki-e->yama-e
#  0.353054   0.496028   0.525314   0.718309   0.157750* #te:sanuki-o->kosi-o
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of take and tr:fuku are as follows.
#  0.608058*  0.890702   0.842051   0.871414   0.802184  #te:take-a->sanuki-a
#  1.005218   0.284905*  0.708930   0.588350   1.022645  #te:take-i->kita-i
#  0.399036   0.433615   0.270047*  0.349060   0.416700  #te:take-u->fuku-u
#  0.771077   0.336446   0.475354   0.322768*  0.749987  #te:take-e->sanuki-e
#  0.703635   1.202413   1.236412   1.367676   0.685656* #te:take-o->kita-o
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:9 N:1 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of yama and tr:fuku are as follows.
#  0.215484*  0.517538   0.438501   0.611366   0.332810  #te:yama-a->sanuki-a
#  1.152698   0.198878*  0.795734   0.422780   1.176954  #te:yama-i->sanuki-i
#  0.388033   0.581574   0.215042*  0.374119   0.495175  #te:yama-u->sanuki-u
#  0.631126   0.432743   0.276713   0.147546*  0.656288  #te:yama-e->sanuki-e
#  0.625210*  0.963530   0.965306   0.997783   0.890018  #te:yama-o->kosi-a
###te:yama-aiueo-t150+300 are recognized as aiuea (rate=4/5).###
###################
###(7) bagging LeaveOneOut k:27 N:6 m:M4 (2+4+4+1+3+4)/6*5=17/30=56.7%
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:27 N:6 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of fuku and tr:kita are as follows.
#  2.057697   2.096228   2.172901   2.069665   2.035507* #te:fuku-a->take-o
#  0.501540*  0.508220   0.514956   0.527102   0.505012  #te:fuku-i->kita-a
#  0.486397   0.488359   0.471906   0.474029   0.471758* #te:fuku-u->kosi-o
#  0.457725   0.460473   0.463238   0.447213*  0.457242  #te:fuku-e->kosi-e
#  0.573675   0.592131   0.585214   0.585068   0.568568* #te:fuku-o->sanuki-o
###te:fuku-aiueo-t150+300 are recognized as oaoeo (rate=2/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:27 N:6 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of kita and tr:fuku are as follows.
#  3.036158*  3.243190   3.232793   3.213852   3.169281  #te:kita-a->take-a
#  1.044752   0.975001*  1.101021   1.124055   0.993379  #te:kita-i->sanuki-i
#  0.369342   0.375783   0.359252*  0.369909   0.361015  #te:kita-u->fuku-u
#  1.677145   1.630391   1.697472   1.503223*  1.533738  #te:kita-e->kosi-e
#  0.804037*  0.850479   0.851278   0.823309   0.825024  #te:kita-o->sanuki-a
###te:kita-aiueo-t150+300 are recognized as aiuea (rate=4/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:27 N:6 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of kosi and tr:fuku are as follows.
#  0.582936   0.585613   0.591148   0.586338   0.530488* #te:kosi-a->kita-o
#  0.368694   0.340865*  0.361103   0.348286   0.356189  #te:kosi-i->sanuki-i
#  0.322019   0.309971   0.302387*  0.307922   0.309901  #te:kosi-u->yama-u
#  0.688784   0.666361   0.667831   0.645334*  0.678047  #te:kosi-e->take-e
#  0.631900   0.659909   0.654210   0.651509   0.590833* #te:kosi-o->take-o
###te:kosi-aiueo-t150+300 are recognized as oiueo (rate=4/5).###

### mean distance of M4 of sanuki and tr:fuku are as follows.
#  0.866674*  0.946011   0.953714   0.957545   0.879957  #te:sanuki-a->kita-a
#  1.538571   1.498231   1.541976   1.443540*  1.484285  #te:sanuki-i->take-e
#  0.704749   0.723364   0.708969   0.709323   0.701864* #te:sanuki-u->fuku-o
#  0.376724   0.369807   0.378259   0.370141   0.364654* #te:sanuki-e->kita-o
#  0.620536*  0.665359   0.670887   0.671211   0.643221  #te:sanuki-o->kosi-a
###te:sanuki-aiueo-t150+300 are recognized as aeooa (rate=1/5).###

cmd='vowelrecogv3 tr:fuku:kosi:kita:sanuki:yama te:take k:27 N:6 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of take and tr:fuku are as follows.
# 23.236970* 24.157710  24.280120  24.213450  24.148660  #te:take-a->kita-a
#  0.950938   0.824050*  0.910691   0.911774   0.895378  #te:take-i->yama-i
#  0.350747   0.340017   0.339142   0.335028*  0.344294  #te:take-u->kita-e
#  1.688805   1.579369   1.699618   1.554122*  1.708690  #te:take-e->yama-e
#  6.519309   6.509776*  6.662109   6.602029   6.552374  #te:take-o->kita-i
###te:take-aiueo-t150+300 are recognized as aieei (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kosi:kita:sanuki:take te:yama k:27 N:6 m:M4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of M4 of yama and tr:fuku are as follows.
#  0.632078*  0.721767   0.723962   0.719048   0.666491  #te:yama-a->take-a
#  0.643340   0.573733*  0.615060   0.614786   0.634471  #te:yama-i->sanuki-i
#  0.500390   0.505047   0.483657*  0.500991   0.495097  #te:yama-u->kosi-u
#  0.905960   0.901550   0.901952   0.841920*  0.895105  #te:yama-e->kosi-e
#  1.008748*  1.082582   1.056538   1.081957   1.033543  #te:yama-o->kita-a
###te:yama-aiueo-t150+300 are recognized as aiuea (rate=4/5).###

###(8) Single CAN2 for long prediction
for name in take ; do for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
tf=0;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}` # 
#tf=0;tl=400;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=100;pt=`expr ${pf} + ${pl}`   # NG for take-i
#rsa=rsa:-1:0.7:1:20 k=10 N=N:33-33:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:-1:0.7:1:20 k=54 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:-1:0.7:1:20 k=9 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
rsa=rsa:-1:0.7:1:20 k=10 N=33 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl}
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:rsa-1k${k}N${N}t${pf}-${pt}-$name-$v.dat
echo "### Done for $cmd ###"
done done

#MSE=5.457008e+04(NMSE2.090280e+00)(n100) 0-1000:1000-1100k10N33mp1:1:1.000000H1-y take-i with k10
#MSE=3.857337e+04(NMSE1.477534e+00)(n100) 0-1000:1000-1100k9N33mp1:1:1.000000H1-y take-i  with k9

NG fo take-i and take-e with k=9,10,27,54

###(9) bagging predictions
for name in take ; do for v in e; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
#tf=0;tl=200;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # NG for take-i pl=200
#tf=0;tl=400;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # OK for take-i pl=200
#tf=150;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # NG for take-i pl=200
tf=0;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # vrry OK for take-i
rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#rsa=rsa:2:0.7:1:20 k=27 N=9 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:$N-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat"
cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat
echo "### Done for $cmd ###"
done done
#MSE=9.701686e+04(NMSE1.117458e-01)(n200) 0-1000:1000-1200k54N6mp1:1:1.000000H1-y take-a pl=200 k54 good
#MSE=2.869175e+03(NMSE1.136130e-01)(n200) 0-1000:1000-1200k54N6mp1:1:1.000000H1-y take-i pl=200 k54 beter than k27
#MSE=2.967348e+04(NMSE7.758390e-02)(n200) 0-1000:1000-1200k54N6mp1:1:1.000000H1-y take-u pl=200 k54 worse than k27
#MSE=5.607885e+04(NMSE2.537761e-01)(n200) 0-1000:1000-1200k54N6mp1:1:1.000000H1-y take-e pl=200 k54 better than k27
#MSE=4.532805e+03(NMSE2.535189e-02)(n200) 0-1000:1000-1200k54N6mp1:1:1.000000H1-y take-o pl=200 k54 better than k27

#MSE=3.178998e+05(NMSE3.661630e-01)(n200) 0-1000:1000-1200k27N9mp1:1:1.000000H1-y take-i pl=200 k27 not so good?for t>100
#MSE=8.510318e+03(NMSE3.369898e-01)(n200) 0-1000:1000-1200k27N9mp1:1:1.000000H1-y take-i pl=200 k27 good
#MSE=1.192796e+04(NMSE3.118669e-02)(n200) 0-1000:1000-1200k27N9mp1:1:1.000000H1-y take-u pl=200 k27 good
#MSE=7.117342e+04(NMSE3.220842e-01)(n200) 0-1000:1000-1200k27N9mp1:1:1.000000H1-y take-e pl=200 k27 soso
#MSE=9.706418e+03(NMSE5.428780e-02)(n200) 0-1000:1000-1200k27N9mp1:1:1.000000H1-y take-o pl=200 k27 good


#MSE=3.979184e+05(NMSE4.583299e-01)(n200) 0-1000:1000-1200k27N6mp1:1:1.000000H1-y take-a pl=200 NG for t>100
#MSE=7.754112e+03(NMSE3.070457e-01)(n200) 0-1000:1000-1200k27N6mp1:1:1.000000H1-y take-i pl=200
#MSE=2.825030e+04(NMSE7.386288e-02)(n200) 0-1000:1000-1200k27N6mp1:1:1.000000H1-y take-u pl=200
#MSE=7.742709e+04(NMSE3.503842e-01)(n200) 0-1000:1000-1200k27N6mp1:1:1.000000H1-y take-e pl=200
#MSE=1.649875e+05(NMSE3.850680e-01)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-a
#MSE=9.295897e+03(NMSE2.119024e-02)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-u
#MSE=3.608968e+04(NMSE1.248034e-01)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-e
#MSE=2.411451e+03(NMSE8.761330e-03)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-o

###(9') bagging predictions for recognition test
for name in take ; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
#tf=0;tl=200;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # NG for take-i pl=200
#tf=0;tl=400;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=200;pt=`expr ${pf} + ${pl}`   # OK for take-i pl=200
#tf=150;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # NG for take-i pl=200
tf=150;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # vrry OK for take-i
tf=150;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=150;pt=`expr ${pf} + ${pl}`   # vrry OK for take-i
rsa=rsa:2:0.7:1:20 k=27 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
#rsa=rsa:2:0.7:1:20 k=27 N=9 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:$N-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat"
cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat
echo "### Done for $cmd ###"
done done
### the followings are for 30 points evaluation, but we have 150data predictions.
#MSE=1.649875e+05(NMSE3.850680e-01)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-a 
#MSE=2.902346e+03(NMSE1.561294e-01)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-i
#MSE=9.295897e+03(NMSE2.119024e-02)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-u
#MSE=3.608968e+04(NMSE1.248034e-01)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-e
#MSE=2.411451e+03(NMSE8.761330e-03)(n30) 150-300:300-330k27N6mp1:1:1.000000H1-y take-o

#MSE=1.126377e+06(NMSE1.128643e+00)(n150) 150-300:300-450k27N6mp1:1:1.000000H1-y take-a
#MSE=1.005699e+04(NMSE4.062435e-01)(n150) 150-300:300-450k27N6mp1:1:1.000000H1-y take-i
#MSE=2.100223e+05(NMSE4.970395e-01)(n150) 150-300:300-450k27N6mp1:1:1.000000H1-y take-u
#MSE=1.466781e+05(NMSE5.694093e-01)(n150) 150-300:300-450k27N6mp1:1:1.000000H1-y take-e
#MSE=7.435518e+04(NMSE3.473831e-01)(n150) 150-300:300-450k27N6mp1:1:1.000000H1-y take-o

###(9'') bagging predictions for speaker recognition ###(11'')???
for name in s-take ; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
tf=800;tl=800;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=50;pt=`expr ${pf} + ${pl}`   # vrry OK for take-i
tf=0;tl=800;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=100;pt=`expr ${pf} + ${pl}`   # vrry OK for take-i
#rsa=rsa:2:0.7:1:20 k=27 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
rsa=rsa:2:0.7:1:20 k=54 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:$N-$N:1 M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat"
cp result-ensrs2ge/predictDM0:$pf-$pt.dat ../onsei07/predictDM0:k${k}N${N}t${pf}-${pt}-$name-$v.dat
echo "### Done for $cmd ###"
done done
##now executing 070207 finished
#MSE=3.103290e+04(NMSE6.284037e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-a good only 30steps
#MSE=5.016779e+02(NMSE6.303207e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-i good only 30steps
#MSE=9.183176e+02(NMSE3.631833e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-u good only 30steps
#MSE=4.709621e+03(NMSE2.866689e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-e good only 30steps
#MSE=9.486100e+01(NMSE1.193815e-01)(n50) 800-1600:1600-1650k54N6mp1:1:1.000000H1-y s-taka-o good only 30steps

#MSE=5.450605e+04(NMSE9.773647e-01)(n100) 0-800:800-900k54N6mp1:1:1.000000H1-y

###(10) making s(t) by singleCAN2
for name in fuku kita kosi sanuki take yama; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
d=../onsei07  # the directory storing the onsei-data files
rsa=rsa:-1:0.7:1:20 k=9 N=1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; 
tf=100;tl=2000;tt=`expr ${tf} + ${tl}`;pf=$tf;pl=$tl;pt=`expr ${pf} + ${pl}` 
./tspredv3 ${d}/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-${N}:1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
###fo save
cd result-ensrs2ge; 
#f="../${d}/s-${name}-N${N}t${tf}-${tt}p${pf}-${pt}-${v}"
#f="${d}/s-N${N}t${tf}-${tt}p${pf}-${pt}-${name}-${v}"
f="${d}/s-${name}-${v}"
p="predictDM0:${pf}-${pt}.dat"
#p="predictDM0:$k-${pt}.dat"
cat ${p} |awk '{print $3-$1}' > ../${f}.dat
##for display error from here
cat > disp.plt <<EOF
#plot "../${f}.dat" using 0:(\$3-\$1) t "../${f}" w lp; pause -1 "Hit return key to quit"
plot "../${f}.dat" using 0:1 t "${f}" w lp; pause -1 "Hit return key to quit"
EOF
xterm -geometry 50x5-0+0 -e gnuplot -geometry 300x210 disp.plt&
###for display error to here
cd ..;
echo "### Done for ${f}.dat ###"
done ; done
#### making s(t) to here.

###(11)#speaker recognition ? Speach recognition (1+3+4+4+5+3)/30=20/30=66.6%
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.042245   0.040060*  0.078731   0.042355   0.097053  #te:s-fuku-a->s-yama-i
#  0.090989*  0.094106   0.129363   0.092760   0.133079  #te:s-fuku-i->s-fuku-a
#  0.063530   0.066177   0.101932   0.056820*  0.095917  #te:s-fuku-u->s-take-e
#  0.147686   0.093842   0.157976   0.127572   0.089483* #te:s-fuku-e->s-fuku-o
#  0.145533   0.099547   0.122984   0.148196   0.082366* #te:s-fuku-o->s-fuku-o
###te:s-fuku-aiueo-t800+1600 are recognized as iaeoo (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.041494*  0.081804   0.057902   0.044840   0.096422  #te:s-kita-a->s-kita-a
#  0.178910   0.211511   0.119480*  0.229855   0.218767  #te:s-kita-i->s-yama-u
#  0.183233   0.093372   0.107021   0.108216   0.039428* #te:s-kita-u->s-fuku-o
#  0.083173   0.053862   0.070727   0.030526*  0.113057  #te:s-kita-e->s-kita-e
#  0.215709   0.219942   0.229450   0.219299   0.206064* #te:s-kita-o->s-kosi-o
###te:s-kita-aiueo-t800+1600 are recognized as auoeo (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kosi k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.089736   0.102844   0.103473   0.064772*  0.099884  #te:s-kosi-a->s-kita-e
#  0.242934   0.144079*  0.195268   0.235222   0.241707  #te:s-kosi-i->s-kosi-i
#  0.151287   0.264857   0.052750*  0.190656   0.250199  #te:s-kosi-u->s-kosi-u
#  0.102829   0.066727   0.100839   0.039197*  0.108755  #te:s-kosi-e->s-kosi-e
#  0.169160   0.189730   0.174399   0.186103   0.014472* #te:s-kosi-o->s-kosi-o
###te:s-kosi-aiueo-t800+1600 are recognized as eiueo (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.102059*  0.129295   0.160534   0.143476   0.149273  #te:s-sanuki-a->s-sanuki-a
#  0.093308   0.039539*  0.132618   0.072377   0.094199  #te:s-sanuki-i->s-sanuki-i
#  0.168220   0.187308   0.021566*  0.159030   0.177180  #te:s-sanuki-u->s-sanuki-u
#  0.070106   0.063203   0.118869   0.059645   0.058313* #te:s-sanuki-e->s-kita-o
#  0.223717   0.219743   0.209831   0.208531   0.136678* #te:s-sanuki-o->s-kosi-o
###te:s-sanuki-aiueo-t800+1600 are recognized as aiuoo (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.043263*  0.070819   0.096876   0.052044   0.102440  #te:s-take-a->s-take-a
#  0.161306   0.040085*  0.125533   0.090764   0.063168  #te:s-take-i->s-take-i
#  0.070625   0.083610   0.034443*  0.058266   0.085636  #te:s-take-u->s-take-u
#  0.054680   0.082903   0.088715   0.032861*  0.099999  #te:s-take-e->s-take-e
#  0.214390   0.184185   0.215789   0.205241   0.053072* #te:s-take-o->s-take-o
###te:s-take-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-yama k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.058675*  0.246452   0.146951   0.173575   0.226945  #te:s-yama-a->s-yama-a
#  0.052326*  0.086760   0.120618   0.076197   0.091506  #te:s-yama-i->s-take-a
#  0.121111*  0.214146   0.171317   0.133706   0.196442  #te:s-yama-u->s-yama-a
#  0.094184   0.088324   0.062618   0.039391*  0.062781  #te:s-yama-e->s-yama-e
#  0.120890   0.078571   0.082375   0.081169   0.032462* #te:s-yama-o->s-yama-o
###te:s-yama-aiueo-t800+1600 are recognized as aaaeo (rate=3/5).###

###(11'')#speaker recognition ? now executing 070207 finished
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.047453   0.046534   0.048888   0.046169*  0.047624  #te:s-fuku-a->s-sanuki-e
#  0.045717   0.044914*  0.047287   0.046134   0.045445  #te:s-fuku-i->s-kita-i
#  0.048443   0.046871*  0.049820   0.048051   0.048632  #te:s-fuku-u->s-kita-i
#  0.048038   0.045895*  0.050404   0.047354   0.048308  #te:s-fuku-e->s-kita-i
#  0.048038   0.046892*  0.049916   0.048370   0.048226  #te:s-fuku-o->s-kita-i
###te:s-fuku-aiueo-t800+1600 are recognized as eiiii (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.047241   0.045763*  0.051165   0.046977   0.049429  #te:s-kita-a->s-kita-i
#  0.049597   0.047762*  0.052712   0.049033   0.051199  #te:s-kita-i->s-kita-i
#  0.047005   0.045192*  0.048066   0.046183   0.047743  #te:s-kita-u->s-kita-i
#  0.048489   0.048213*  0.052033   0.049275   0.051045  #te:s-kita-e->s-kita-i
#  0.046341   0.044413*  0.048449   0.045613   0.046746  #te:s-kita-o->s-kita-i
###te:s-kita-aiueo-t800+1600 are recognized as iiiii (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kosi k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.047820   0.047409*  0.051650   0.047929   0.049132  #te:s-kosi-a->s-kita-i
#  0.046612   0.045829*  0.048965   0.047071   0.047602  #te:s-kosi-i->s-kita-i
#  0.046883   0.045363*  0.049800   0.046887   0.048163  #te:s-kosi-u->s-kita-i
#  0.049173   0.047564*  0.051616   0.049179   0.049351  #te:s-kosi-e->s-kita-i
#  0.047657   0.045991*  0.049679   0.047520   0.049085  #te:s-kosi-o->s-kita-i
###te:s-kosi-aiueo-t800+1600 are recognized as iiiii (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.048637   0.046188*  0.048628   0.047557   0.048661  #te:s-sanuki-a->s-kita-i
#  0.048739   0.048139   0.050059   0.047811*  0.049611  #te:s-sanuki-i->s-sanuki-e
#  0.045165   0.044089*  0.047849   0.045162   0.045436  #te:s-sanuki-u->s-kita-i
#  0.046956   0.045896*  0.050186   0.046560   0.048842  #te:s-sanuki-e->s-kita-i
#  0.046969   0.046505*  0.049493   0.047329   0.047958  #te:s-sanuki-o->s-kita-i
###te:s-sanuki-aiueo-t800+1600 are recognized as ieiii (rate=0/5).###

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.047778   0.047732   0.050296   0.047538*  0.050296  #te:s-take-a->s-sanuki-e
#  0.046969   0.044926*  0.048270   0.047320   0.047775  #te:s-take-i->s-kita-i
#  0.047174   0.046746*  0.049464   0.047434   0.048772  #te:s-take-u->s-kita-i
#  0.047002   0.046445*  0.049488   0.046844   0.047982  #te:s-take-e->s-kita-i
#  0.047691   0.047099*  0.051401   0.047737   0.047876  #te:s-take-o->s-kita-i
###te:s-take-aiueo-t800+1600 are recognized as eiiii (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-yama k:54 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.046338   0.045048*  0.046888   0.046231   0.047060  #te:s-yama-a->s-kita-i
#  0.047128   0.045266*  0.050133   0.046928   0.047381  #te:s-yama-i->s-kita-i
#  0.044709   0.044045   0.045508   0.043861*  0.044467  #te:s-yama-u->s-sanuki-e
#  0.045680   0.044986*  0.048274   0.046187   0.046226  #te:s-yama-e->s-kita-i
#  0.040295   0.041748   0.041632   0.041158   0.040294* #te:s-yama-o->s-sanuki-o
###te:s-yama-aiueo-t800+1600 are recognized as iieio (rate=2/5).###

(11') speach recognition with M4 (2+2+3+2+1+1)/30=11/30
cmd='vowelrecogv3 tr:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-fuku and tr:s-kita are as follows.
#  0.077369   0.041368*  0.098230   0.050398   0.087069  #te:s-fuku-a->s-yama-i
#  0.097396   0.071937*  0.157443   0.091319   0.134964  #te:s-fuku-i->s-kita-i
#  0.061491   0.051208   0.124240   0.039638*  0.108998  #te:s-fuku-u->s-take-e
#  0.066429   0.059132   0.078626   0.054863*  0.074549  #te:s-fuku-e->s-take-e
#  0.062057   0.051787   0.092993   0.036010*  0.086387  #te:s-fuku-o->s-take-e
###te:s-fuku-aiueo-t800+1600 are recognized as iieee (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-kita and tr:s-fuku are as follows.
#  0.121741   0.108397   0.113028   0.077129*  0.110141  #te:s-kita-a->s-sanuki-e
#  0.131211   0.083299   0.086010   0.076955*  0.113867  #te:s-kita-i->s-kosi-e
#  0.081991   0.088415   0.078492   0.068193   0.047061* #te:s-kita-u->s-fuku-o
#  0.125455   0.090351   0.112177   0.061451*  0.128039  #te:s-kita-e->s-sanuki-e
#  0.243974   0.220652   0.257720   0.218344   0.124816* #te:s-kita-o->s-kosi-o
###te:s-kita-aiueo-t800+1600 are recognized as eeoeo (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-sanuki:s-take:s-yama te:s-kosi k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-kosi and tr:s-fuku are as follows.
#  0.111280   0.136498   0.140543   0.082968*  0.146909  #te:s-kosi-a->s-kita-e
#  0.217247   0.189761*  0.201366   0.215235   0.202131  #te:s-kosi-i->s-sanuki-i
#  0.193345   0.202831   0.172070*  0.231817   0.229996  #te:s-kosi-u->s-sanuki-u
#  0.090022   0.062423*  0.076958   0.080717   0.090489  #te:s-kosi-e->s-sanuki-i
#  0.279067   0.241350   0.267497   0.243635   0.201874* #te:s-kosi-o->s-sanuki-o
###te:s-kosi-aiueo-t800+1600 are recognized as eiuio (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-take:s-yama te:s-sanuki k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-sanuki and tr:s-fuku are as follows.
#  0.068920   0.059024   0.073651   0.052507*  0.060859  #te:s-sanuki-a->s-take-e
#  0.091423   0.099764   0.089133   0.062163*  0.068198  #te:s-sanuki-i->s-kosi-e
#  0.127410   0.127489   0.061260*  0.109023   0.112580  #te:s-sanuki-u->s-yama-u
#  0.073670   0.088795   0.082560   0.076781   0.071650* #te:s-sanuki-e->s-kita-o
#  0.307483   0.315429   0.313216   0.290343   0.109305* #te:s-sanuki-o->s-kosi-o
###te:s-sanuki-aiueo-t800+1600 are recognized as eeuoo (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-yama te:s-take k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-take and tr:s-fuku are as follows.
#  0.069022   0.076832   0.058749*  0.070518   0.081883  #te:s-take-a->s-fuku-u
#  0.083456   0.089910   0.096541   0.085526   0.071561* #te:s-take-i->s-yama-o
#  0.133683   0.134168   0.115423   0.093998*  0.118939  #te:s-take-u->s-yama-e
#  0.059847   0.048165*  0.056038   0.072163   0.073534  #te:s-take-e->s-kita-i
#  0.474819   0.498538   0.462274   0.473513   0.453792* #te:s-take-o->s-sanuki-o
###te:s-take-aiueo-t800+1600 are recognized as uoeio (rate=1/5).###
### mean distance of M4 of s-yama and tr:s-fuku are as follows.
#  0.081932*  0.103215   0.111550   0.099944   0.118871  #te:s-yama-a->s-sanuki-a
#  0.079468*  0.098691   0.099869   0.099833   0.131961  #te:s-yama-i->s-take-a
#  0.114382   0.078745   0.105309   0.088809   0.078570* #te:s-yama-u->s-fuku-o
#  0.099725   0.082236   0.068988*  0.104109   0.118763  #te:s-yama-e->s-take-u
#  0.085251   0.057917*  0.085288   0.082460   0.072820  #te:s-yama-o->s-take-i
###te:s-yama-aiueo-t800+1600 are recognized as aaoui (rate=1/5).###

(11'+1) vowel+speaker recog M4,k9N1                                                  SR20/30 VR27/30
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-fuku and tr:s-fuku are as follows.
#  0.052755   0.041368*  0.098230   0.050398   0.087069  #te:s-fuku-a->s-yama-i NGs NGv  0,0
#  0.097396   0.068697*  0.077096   0.091319   0.120336  #te:s-fuku-i->s-fuku-i          1,1
#  0.061491   0.051208   0.057324   0.039638*  0.079930  #te:s-fuku-u->s-take-e NGs NGv  0,0
#  0.062115   0.059132   0.071684   0.054863*  0.061596  #te:s-fuku-e->s-take-e NGs      0,1
#  0.062057   0.051787   0.065634   0.036010*  0.051473  #te:s-fuku-o->s-take-e NGs NGv  0,0
###te:s-fuku-aiueo-t800+1600 are recognized as iieee (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-kita and tr:s-fuku are as follows.
#  0.060011*  0.108397   0.113028   0.067545   0.110141  #te:s-kita-a->s-kita-a          1,1
#  0.131211   0.083299   0.086010   0.076955*  0.113867  #te:s-kita-i->s-kosi-e NGs NGv  0,0
#  0.081991   0.088415   0.078492   0.068193   0.047061* #te:s-kita-u->s-fuku-o NGs NGv  0,0
#  0.109387   0.090351   0.112177   0.053881*  0.110728  #te:s-kita-e->s-kita-e          1,1
#  0.243974   0.220652   0.257720   0.215457   0.124816* #te:s-kita-o->s-kosi-o NGs      0,1
###te:s-kita-aiueo-t800+1600 are recognized as aeoeo (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kosi k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-kosi and tr:s-fuku are as follows.
#  0.111280   0.136498   0.140543   0.082968*  0.146909  #te:s-kosi-a->s-kita-e NGs NGv  0,0
#  0.217247   0.151303*  0.201366   0.177342   0.202131  #te:s-kosi-i->s-kosi-i          1,1
#  0.193345   0.202831   0.086821*  0.231817   0.229996  #te:s-kosi-u->s-kosi-u          1,1
#  0.090022   0.062423   0.076958   0.048200*  0.090489  #te:s-kosi-e->s-kosi-e          1,1
#  0.279067   0.241350   0.267497   0.243635   0.018895* #te:s-kosi-o->s-kosi-o          1,1
###te:s-kosi-aiueo-t800+1600 are recognized as eiueo (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-sanuki and tr:s-fuku are as follows.
#  0.055464   0.059024   0.073651   0.052507*  0.060859  #te:s-sanuki-a->s-take-e       0,0
#  0.077099   0.021114*  0.089133   0.039523   0.068198  #te:s-sanuki-i->s-sanuki-i     1,1
#  0.127410   0.127489   0.035638*  0.109023   0.112580  #te:s-sanuki-u->s-sanuki-u     1,1
#  0.073670   0.044640   0.082560   0.042485*  0.071650  #te:s-sanuki-e->s-sanuki-e     1,1
#  0.305552   0.269183   0.313216   0.277918   0.109305* #te:s-sanuki-o->s-kosi-o       0,1
###te:s-sanuki-aiueo-t800+1600 are recognized as eiueo (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-take and tr:s-fuku are as follows.
#  0.046336*  0.076832   0.058749   0.070192   0.081883  #te:s-take-a->s-take-a         1,1
#  0.083456   0.021890*  0.096541   0.085526   0.071561  #te:s-take-i->s-take-i         1,1
#  0.133683   0.134168   0.056268*  0.093998   0.118939  #te:s-take-u->s-take-u         1,1
#  0.059584   0.048165*  0.056038   0.053889   0.073534  #te:s-take-e->s-kita-i         1,1
#  0.474819   0.422369   0.462274   0.473513   0.129901* #te:s-take-o->s-take-o         1,1
###te:s-take-aiueo-t800+1600 are recognized as aiuio (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-yama k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of M4 of s-yama and tr:s-fuku are as follows.
#  0.021620*  0.103215   0.111550   0.099944   0.105723  #te:s-yama-a->s-yama-a        1,1
#  0.076356*  0.082156   0.099869   0.094629   0.107119  #te:s-yama-i->s-yama-a        1,1
#  0.114382   0.078745   0.072691*  0.088809   0.078570  #te:s-yama-u->s-yama-u        1,1
#  0.099725   0.079122   0.068988   0.023622*  0.075059  #te:s-yama-e->s-yama-e        1,1
#  0.085251   0.057917   0.085288   0.078214   0.027020* #te:s-yama-o->s-yama-o        1,1
###te:s-yama-aiueo-t800+1600 are recognized as aaueo (rate=4/5).###

(11'') speach recognition with poles4,single (0+1+1+2+3+0)/30=7/30=23.3
cmd='vowelrecogv3 tr:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-kita are as follows.
#  0.066277   0.040060*  0.078731   0.042355   0.097053  #te:s-fuku-a->s-yama-i
#  0.091947*  0.100067   0.136691   0.092760   0.133079  #te:s-fuku-i->s-kita-a
#  0.073170   0.109844   0.140440   0.056820*  0.095917  #te:s-fuku-u->s-take-e
#  0.147686   0.093842*  0.157976   0.195433   0.171052  #te:s-fuku-e->s-take-i
#  0.145533   0.099547*  0.122984   0.148196   0.126617  #te:s-fuku-o->s-take-i
###te:s-fuku-aiueo-t800+1600 are recognized as iaeii (rate=0/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.102827   0.081804   0.057902*  0.078546   0.096422  #te:s-kita-a->s-take-u
#  0.178910   0.217796   0.119480*  0.229855   0.218767  #te:s-kita-i->s-yama-u
#  0.183233   0.093372   0.176504   0.108216   0.039428* #te:s-kita-u->s-fuku-o
#  0.098077   0.053862*  0.070727   0.068953   0.113057  #te:s-kita-e->s-yama-i
#  0.215709   0.219942   0.229450   0.219299   0.206064* #te:s-kita-o->s-kosi-o
###te:s-kita-aiueo-t800+1600 are recognized as uuoio (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-sanuki:s-take:s-yama te:s-kosi k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.089736   0.102844   0.103473   0.064772*  0.099884  #te:s-kosi-a->s-kita-e
#  0.242934   0.243559   0.195268*  0.235222   0.241707  #te:s-kosi-i->s-yama-u
#  0.151287   0.264857   0.149947*  0.190656   0.250199  #te:s-kosi-u->s-sanuki-u
#  0.102829   0.066727*  0.100839   0.091056   0.108755  #te:s-kosi-e->s-sanuki-i
#  0.169160*  0.189730   0.174399   0.186103   0.190015  #te:s-kosi-o->s-kita-a
###te:s-kosi-aiueo-t800+1600 are recognized as euuia (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-take:s-yama te:s-sanuki k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.149024   0.131100*  0.160534   0.143476   0.149273  #te:s-sanuki-a->s-kita-i
#  0.093308   0.137306   0.132618   0.072377*  0.094199  #te:s-sanuki-i->s-kosi-e
#  0.168220   0.187308   0.047830*  0.159030   0.177180  #te:s-sanuki-u->s-yama-u
#  0.070106   0.105505   0.118869   0.059645   0.058313* #te:s-sanuki-e->s-kita-o
#  0.223717   0.219743   0.209831   0.208531   0.136678* #te:s-sanuki-o->s-kosi-o
###te:s-sanuki-aiueo-t800+1600 are recognized as ieuoo (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-yama te:s-take k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.051745*  0.070819   0.124465   0.052044   0.102440  #te:s-take-a->s-fuku-a
#  0.161306   0.193484   0.125533   0.090764   0.063168* #te:s-take-i->s-fuku-o
#  0.070625   0.083610   0.153355   0.058266*  0.085636  #te:s-take-u->s-yama-e
#  0.054680   0.082903   0.107544   0.054140*  0.099999  #te:s-take-e->s-sanuki-e
#  0.214390   0.223999   0.215789   0.205241   0.198367* #te:s-take-o->s-fuku-o
###te:s-take-aiueo-t800+1600 are recognized as aoeeo (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take te:s-yama k:9 N:1 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.245764   0.246452   0.146951*  0.173575   0.226945  #te:s-yama-a->s-kosi-u
#  0.052326*  0.119397   0.120618   0.076197   0.091506  #te:s-yama-i->s-take-a
#  0.251607   0.214146   0.171317   0.133706*  0.196442  #te:s-yama-u->s-fuku-e
#  0.094184   0.112032   0.062618*  0.091817   0.131433  #te:s-yama-e->s-take-u
#  0.120890   0.078571*  0.082375   0.118041   0.101967  #te:s-yama-o->s-take-i
###te:s-yama-aiueo-t800+1600 are recognized as uaeui (rate=0/5).###

(11''+1) speach recognition with poles4,single (0+1+1+2+3+0)/30=7/30=23.3  SR18/30 VR20/30
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.047526   0.043139*  0.072148   0.047049   0.073843  #te:s-fuku-a->s-yama-i  0,0
#  0.074220   0.056595*  0.061962   0.067829   0.105335  #te:s-fuku-i->s-kita-i  0,1
#  0.079412   0.066236   0.065070*  0.072768   0.098439  #te:s-fuku-u->s-fuku-u  1,1
#  0.090422*  0.113000   0.164181   0.131956   0.111389  #te:s-fuku-e->s-sanuki-a 0,0
#  0.089750   0.080776*  0.116585   0.126994   0.083534  #te:s-fuku-o->s-kita-i   0,0
###te:s-fuku-aiueo-t800+1600 are recognized as iiuai (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.044812*  0.085524   0.061138   0.061745   0.084943  #te:s-kita-a->s-kita-a   1,1
#  0.142730   0.156993   0.122007*  0.176881   0.171484  #te:s-kita-i->s-yama-u   0,0
#  0.111703   0.097138   0.114529   0.090388   0.066712* #te:s-kita-u->s-fuku-o   0,0
#  0.074908   0.056927   0.055727   0.039439*  0.084765  #te:s-kita-e->s-kita-e   1,1
#  0.150260   0.179516   0.189917   0.199247   0.139889* #te:s-kita-o->s-sanuki-o 0,1
###te:s-kita-aiueo-t800+1600 are recognized as auoeo (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kosi k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.097317   0.106913   0.106033   0.077686*  0.087947  #te:s-kosi-a->s-sanuki-e 0,0
#  0.176039   0.103718*  0.193308   0.227097   0.235016  #te:s-kosi-i->s-kosi-i   1,1
#  0.120749   0.138989   0.037609*  0.150146   0.166695  #te:s-kosi-u->s-kosi-u   1,1
#  0.087544   0.062425   0.108649   0.052012*  0.088815  #te:s-kosi-e->s-kosi-e   1,1
#  0.142604   0.189109   0.175481   0.184523   0.036130* #te:s-kosi-o->s-kosi-o   1,1
###te:s-kosi-aiueo-t800+1600 are recognized as eiueo (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.091571   0.080145*  0.125675   0.115339   0.095680  #te:s-sanuki-a->s-kita-i   0,0
#  0.101215   0.079422*  0.119869   0.096537   0.111770  #te:s-sanuki-i->s-sanuki-i 1,1
#  0.140897   0.145368   0.034387*  0.146407   0.145080  #te:s-sanuki-u->s-sanuki-u 1,1
#  0.095384   0.059922*  0.113410   0.068636   0.096009  #te:s-sanuki-e->s-sanuki-i 1,0
#  0.164903   0.208904   0.211381   0.208417   0.075740* #te:s-sanuki-o->s-kosi-o   0,1
###te:s-sanuki-aiueo-t800+1600 are recognized as iiuio (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.053734*  0.071190   0.063464   0.061788   0.072986  #te:s-take-a->s-take-a  1,1
#  0.097633   0.053852*  0.124995   0.085478   0.073562  #te:s-take-i->s-take-i  1,1
#  0.066520   0.081687   0.040361*  0.057243   0.069151  #te:s-take-u->s-take-u  1,1
#  0.063752   0.076930   0.079373   0.052498*  0.088314  #te:s-take-e->s-take-e  1,1
#  0.202834   0.171366   0.202758   0.195057   0.067029* #te:s-take-o->s-take-o  1,1
###te:s-take-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.062829*  0.098932   0.149893   0.139310   0.120099  #te:s-yama-a->s-yama-a 1,1
#  0.072441*  0.094793   0.119861   0.091329   0.091631  #te:s-yama-i->s-take-a 0,0
#  0.116383   0.112947   0.155914   0.102182   0.098694* #te:s-yama-u->s-fuku-o 0,0
#  0.074593   0.071067   0.058867   0.042468*  0.056989  #te:s-yama-e->s-yama-e 1,1
#  0.077640   0.051692   0.068746   0.081166   0.045869* #te:s-yama-o->s-yama-o 1,1
###te:s-yama-aiueo-t800+1600 are recognized as aaoeo (rate=3/5).###




(11''') speach recognition with poles4,bag,N9  (1+1+2+2+3+2+0)/30=11/30=36.7%
vowelrecogv3 tr:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null
### mean distance of poles of 'aiueo' of s-fuku and tr:s-kita are as follows.
#  0.057720   0.043139*  0.072148   0.047049   0.073843  #te:s-fuku-a->s-yama-i
#  0.074220   0.056595*  0.112972   0.067829   0.105335  #te:s-fuku-i->s-kita-i
#  0.094102   0.073049   0.149076   0.072768*  0.098439  #te:s-fuku-u->s-take-e
#  0.090422*  0.113000   0.164181   0.147302   0.168266  #te:s-fuku-e->s-sanuki-a
#  0.089750   0.080776*  0.135417   0.126994   0.136326  #te:s-fuku-o->s-kita-i
###te:s-fuku-aiueo-t800+1600 are recognized as iieai (rate=1/5).###
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.082691   0.086406   0.061138*  0.070877   0.084943  #te:s-kita-a->s-take-u
#  0.142730   0.176633   0.122007*  0.176881   0.171484  #te:s-kita-i->s-yama-u
#  0.111703   0.097138   0.130432   0.090388   0.066712* #te:s-kita-u->s-fuku-o
#  0.074908   0.056927   0.055727*  0.059574   0.088680  #te:s-kita-e->s-take-u
#  0.150260   0.179516   0.189917   0.199247   0.139889* #te:s-kita-o->s-sanuki-o
###te:s-kita-aiueo-t800+1600 are recognized as uuouo (rate=1/5).###
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.097317   0.106913   0.106033   0.077686*  0.087947  #te:s-kosi-a->s-sanuki-e
#  0.220808   0.241789   0.193308*  0.227097   0.240806  #te:s-kosi-i->s-yama-u
#  0.120749   0.138989   0.102218*  0.150146   0.166695  #te:s-kosi-u->s-sanuki-u
#  0.087544   0.062425*  0.108649   0.070401   0.088815  #te:s-kosi-e->s-sanuki-i
#  0.166459   0.189109   0.175481   0.186533   0.159069* #te:s-kosi-o->s-sanuki-o
###te:s-kosi-aiueo-t800+1600 are recognized as euuio (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-take:s-yama te:s-sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.100047   0.080145*  0.125675   0.115339   0.095680  #te:s-sanuki-a->s-kita-i
#  0.120829   0.112282   0.119869   0.096537*  0.111770  #te:s-sanuki-i->s-kosi-e
#  0.140897   0.145368   0.044093*  0.146407   0.145080  #te:s-sanuki-u->s-yama-u
#  0.095384   0.110822   0.113410   0.072502*  0.096009  #te:s-sanuki-e->s-kosi-e
#  0.164903   0.208904   0.211381   0.208417   0.075740* #te:s-sanuki-o->s-kosi-o
###te:s-sanuki-aiueo-t800+1600 are recognized as ieueo (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-yama te:s-take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.060895*  0.071190   0.063464   0.063279   0.072986  #te:s-take-a->s-fuku-a
#  0.097633   0.107877   0.124995   0.085478   0.073562* #te:s-take-i->s-fuku-o
#  0.066520   0.081687   0.109908   0.057243*  0.069151  #te:s-take-u->s-yama-e
#  0.063752*  0.076930   0.079373   0.064807   0.088314  #te:s-take-e->s-fuku-a
#  0.202834   0.213361   0.202758   0.195057   0.192654* #te:s-take-o->s-yama-o
###te:s-take-aiueo-t800+1600 are recognized as aoeao (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take te:s-yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.113181   0.098932*  0.149893   0.139310   0.120099  #te:s-yama-a->s-kita-i
#  0.072441*  0.097132   0.119861   0.091329   0.091631  #te:s-yama-i->s-take-a
#  0.116383   0.112947   0.155914   0.102182   0.098694* #te:s-yama-u->s-fuku-o
#  0.074593   0.071067   0.058867*  0.065178   0.093746  #te:s-yama-e->s-take-u
#  0.077640   0.051692*  0.068746   0.081166   0.063116  #te:s-yama-o->s-take-i
###te:s-yama-aiueo-t800+1600 are recognized as iaoui (rate=0/5).###

(11'''+1) speach recognition with poles4,bag,N9                            SR19/30 VR20/30
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.047526   0.043139*  0.072148   0.047049   0.073843  #te:s-fuku-a->s-yama-i    0,0
#  0.074220   0.056595*  0.061962   0.067829   0.105335  #te:s-fuku-i->s-kita-i    0,1
#  0.079412   0.066236   0.065070*  0.072768   0.098439  #te:s-fuku-u->s-fuku-u    1,1
#  0.090422*  0.113000   0.164181   0.131956   0.111389  #te:s-fuku-e->s-sanuki-a  0,0
#  0.089750   0.080776*  0.116585   0.126994   0.083534  #te:s-fuku-o->s-kita-i    0,0
###te:s-fuku-aiueo-t800+1600 are recognized as iiuai (rate=2/5).###
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.044812*  0.085524   0.061138   0.061745   0.084943  #te:s-kita-a->s-kita-a 1,1
#  0.142730   0.156993   0.122007*  0.176881   0.171484  #te:s-kita-i->s-yama-u 0,0
#  0.111703   0.097138   0.114529   0.090388   0.066712* #te:s-kita-u->s-fuku-o 0,0
#  0.074908   0.056927   0.055727   0.039439*  0.084765  #te:s-kita-e->s-kita-e 1,1
#  0.150260   0.179516   0.189917   0.199247   0.139889* #te:s-kita-o->s-sanuki-o 0,1
###te:s-kita-aiueo-t800+1600 are recognized as auoeo (rate=3/5).###
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.097317   0.106913   0.106033   0.077686*  0.087947  #te:s-kosi-a->s-sanuki-e 0,0
#  0.176039   0.103718*  0.193308   0.227097   0.235016  #te:s-kosi-i->s-kosi-i   1,1
#  0.120749   0.138989   0.037609*  0.150146   0.166695  #te:s-kosi-u->s-kosi-u   1,1
#  0.087544   0.062425   0.108649   0.052012*  0.088815  #te:s-kosi-e->s-kosi-e   1,1
#  0.142604   0.189109   0.175481   0.184523   0.036130* #te:s-kosi-o->s-kosi-o   1,1
###te:s-kosi-aiueo-t800+1600 are recognized as eiueo (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.091571   0.080145*  0.125675   0.115339   0.095680  #te:s-sanuki-a->s-kita-i   0,0
#  0.101215   0.079422*  0.119869   0.096537   0.111770  #te:s-sanuki-i->s-sanuki-i 1,1
#  0.140897   0.145368   0.034387*  0.146407   0.145080  #te:s-sanuki-u->s-sanuki-u 1,1
#  0.095384   0.059922*  0.113410   0.068636   0.096009  #te:s-sanuki-e->s-sanuki-i 1,0
#  0.164903   0.208904   0.211381   0.208417   0.075740* #te:s-sanuki-o->s-kosi-o   0,1
###te:s-sanuki-aiueo-t800+1600 are recognized as iiuio (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.053734*  0.071190   0.063464   0.061788   0.072986  #te:s-take-a->s-take-a  1,1
#  0.097633   0.053852*  0.124995   0.085478   0.073562  #te:s-take-i->s-take-i  1,1
#  0.066520   0.081687   0.040361*  0.057243   0.069151  #te:s-take-u->s-take-u  1,1
#  0.063752   0.076930   0.079373   0.052498*  0.088314  #te:s-take-e->s-take-e  1,1
#  0.202834   0.171366   0.202758   0.195057   0.067029* #te:s-take-o->s-take-o  1,1
###te:s-take-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-yama k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.062829*  0.098932   0.149893   0.139310   0.120099  #te:s-yama-a->s-yama-a   1,1
#  0.072441*  0.094793   0.119861   0.091329   0.091631  #te:s-yama-i->s-take-a   0,0
#  0.116383   0.112947   0.155914   0.102182   0.098694* #te:s-yama-u->s-fuku-o   0,0
#  0.074593   0.071067   0.058867   0.042468*  0.056989  #te:s-yama-e->s-yama-e   1,1
#  0.077640   0.051692   0.068746   0.081166   0.045869* #te:s-yama-o->s-yama-o   1,1
###te:s-yama-aiueo-t800+1600 are recognized as aaoeo (rate=3/5).###


(11'''') speach recognition with poles4,bag,N27  (1+2+2+2+1+2)/30=10/30=0.333
vowelrecogv3 tr:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null
### mean distance of poles of 'aiueo' of s-fuku and tr:s-kita are as follows.
#  0.060301   0.058799*  0.061972   0.059926   0.059914  #te:s-fuku-a->s-sanuki-i
#  0.059838   0.058462*  0.059703   0.059725   0.059317  #te:s-fuku-i->s-sanuki-i
#  0.059291   0.058150*  0.058654   0.059394   0.059953  #te:s-fuku-u->s-sanuki-i
#  0.058691   0.057125*  0.058430   0.060617   0.060380  #te:s-fuku-e->s-sanuki-i
#  0.059575   0.058384   0.057773*  0.059499   0.059369  #te:s-fuku-o->s-take-u
###te:s-fuku-aiueo-t800+1600 are recognized as iiiiu (rate=1/5).###
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.052445*  0.053495   0.054350   0.053018   0.056120  #te:s-kita-a->s-sanuki-a
#  0.051986*  0.052618   0.054305   0.053125   0.055154  #te:s-kita-i->s-take-a
#  0.057445   0.057830   0.058265   0.057115*  0.058483  #te:s-kita-u->s-kosi-e
#  0.052611   0.053349   0.053260   0.051970*  0.054762  #te:s-kita-e->s-kosi-e
#  0.055849   0.054089*  0.056645   0.054129   0.056285  #te:s-kita-o->s-sanuki-i
###te:s-kita-aiueo-t800+1600 are recognized as aaeei (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-sanuki:s-take:s-yama te:s-kosi k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.055264   0.055094   0.056870   0.054734*  0.058105  #te:s-kosi-a->s-kita-e
#  0.060135   0.058992*  0.059403   0.060549   0.059438  #te:s-kosi-i->s-sanuki-i
#  0.060501   0.059879   0.060269   0.058603   0.058261* #te:s-kosi-u->s-kita-o
#  0.052199*  0.053165   0.054553   0.053845   0.055041  #te:s-kosi-e->s-take-a
#  0.060578   0.060431   0.061473   0.060648   0.057195* #te:s-kosi-o->s-kita-o
###te:s-kosi-aiueo-t800+1600 are recognized as eioao (rate=2/5).###
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.055153   0.055505   0.054597   0.054308*  0.056083  #te:s-sanuki-a->s-kosi-e
#  0.052229*  0.053694   0.054060   0.052336   0.054761  #te:s-sanuki-i->s-take-a
#  0.055235*  0.055277   0.055723   0.056031   0.055790  #te:s-sanuki-u->s-take-a
#  0.055010   0.055948   0.055333   0.053206*  0.055374  #te:s-sanuki-e->s-kosi-e
#  0.056777   0.057648   0.056344   0.057413   0.055612* #te:s-sanuki-o->s-kosi-o
###te:s-sanuki-aiueo-t800+1600 are recognized as eaaeo (rate=2/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-yama te:s-take k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.052310   0.052690   0.054401   0.050119*  0.050890  #te:s-take-a->s-kosi-e
#  0.057812   0.056952   0.057138   0.056122*  0.058445  #te:s-take-i->s-kosi-e
#  0.057391   0.056752   0.059125   0.055764*  0.055944  #te:s-take-u->s-yama-e
#  0.054091   0.053922   0.056791   0.053204*  0.055426  #te:s-take-e->s-kosi-e
#  0.057689   0.057390   0.057246   0.056467*  0.058797  #te:s-take-o->s-kosi-e
###te:s-take-aiueo-t800+1600 are recognized as eeeee (rate=1/5).###
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.050739*  0.051613   0.052917   0.051140   0.054995  #te:s-yama-a->s-take-a
#  0.059173   0.057853   0.058156   0.056938*  0.060102  #te:s-yama-i->s-kosi-e
#  0.057411   0.057123   0.056684   0.055412*  0.057044  #te:s-yama-u->s-kosi-e
#  0.054303   0.054018   0.054409   0.053026*  0.056484  #te:s-yama-e->s-kosi-e
#  0.054935*  0.056336   0.055776   0.056706   0.058909  #te:s-yama-o->s-take-a
###te:s-yama-aiueo-t800+1600 are recognized as aeeea (rate=2/5).###
(11''''+1) vowel+speaker recognition with poles4,bag,N27            SR25/30 VR24/30
vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.059822   0.058799*  0.061972   0.059926   0.059914  #te:s-fuku-a->s-sanuki-i  0,0
#  0.059838   0.058462   0.057163*  0.059725   0.059317  #te:s-fuku-i->s-fuku-u    1,0
#  0.059291   0.058150   0.056240*  0.059394   0.059550  #te:s-fuku-u->s-fuku-u    1,1
#  0.058691   0.057125*  0.058430   0.059562   0.060260  #te:s-fuku-e->s-sanuki-i  0,0
#  0.059575   0.058384   0.057773*  0.058442   0.058617  #te:s-fuku-o->s-take-u    0,0
###te:s-fuku-aiueo-t800+1600 are recognized as iuuiu (rate=1/5).###
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.048574*  0.053495   0.054350   0.053018   0.056120  #te:s-kita-a->s-kita-a    1,1
#  0.051986   0.051705*  0.054305   0.053125   0.055154  #te:s-kita-i->s-kita-i    1,1
#  0.057445   0.057830   0.058265   0.057115*  0.058483  #te:s-kita-u->s-kosi-e    1,0
#  0.052611   0.053349   0.053260   0.049085*  0.054762  #te:s-kita-e->s-kita-e    1,1
#  0.055849   0.054089   0.056645   0.054129   0.053700* #te:s-kita-o->s-kita-o    1,1
###te:s-kita-aiueo-t800+1600 are recognized as aieeo (rate=4/5).###
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.052972*  0.055094   0.056870   0.054734   0.058105  #te:s-kosi-a->s-kosi-a    1,1
#  0.060135   0.057453*  0.059403   0.059807   0.059438  #te:s-kosi-i->s-kosi-i    1,1
#  0.060501   0.059879   0.055656*  0.058603   0.058261  #te:s-kosi-u->s-kosi-u    1,1
#  0.052199   0.053165   0.054553   0.049789*  0.055041  #te:s-kosi-e->s-kosi-e    1,1
#  0.060578   0.060431   0.061473   0.059274   0.053709* #te:s-kosi-o->s-kosi-o    1,1
###te:s-kosi-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.052438*  0.054290   0.054597   0.054308   0.056083  #te:s-sanuki-a->s-sanuki-a  1,1
#  0.052229   0.050919*  0.054060   0.052336   0.054761  #te:s-sanuki-i->s-sanuki-i  1,1
#  0.055235   0.055277   0.052563*  0.056031   0.055790  #te:s-sanuki-u->s-sanuki-u  1,1
#  0.055010   0.054729   0.055333   0.053206*  0.055374  #te:s-sanuki-e->s-kosi-e    0,1
#  0.056777   0.057648   0.056344   0.057413   0.053618* #te:s-sanuki-o->s-sanuki-o  1,1
###te:s-sanuki-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.048940*  0.052489   0.050974   0.050119   0.050890  #te:s-take-a->s-take-a  1,1
#  0.056822   0.053414*  0.057138   0.056122   0.058445  #te:s-take-i->s-take-i  1,1
#  0.057356   0.056752   0.053565*  0.055764   0.055944  #te:s-take-u->s-take-u  1,1
#  0.053340   0.053922   0.053874   0.053204*  0.055426  #te:s-take-e->s-kosi-e  0,1
#  0.056972   0.057390   0.056261   0.056467   0.052117* #te:s-take-o->s-take-o  1,1
###te:s-take-aiueo-t800+1600 are recognized as aiueo (rate=5/5).###
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.050703*  0.051613   0.052917   0.051140   0.053305  #te:s-yama-a->s-yama-a  1,1
#  0.059173   0.057253   0.058156   0.056938*  0.059378  #te:s-yama-i->s-kosi-e  1,0
#  0.057411   0.057123   0.054115*  0.055412   0.056932  #te:s-yama-u->s-yama-u  1,1
#  0.054303   0.054018   0.054409   0.052684*  0.053894  #te:s-yama-e->s-yama-e  1,1
#  0.054935   0.056336   0.055776   0.055149   0.054704* #te:s-yama-o->s-yama-o  1,1
###te:s-yama-aiueo-t800+1600 are recognized as aeueo (rate=4/5).###



#NG#(11''') mistake:speach recognition with poles4  (1+0+1+0+1+1)/30=4/30
#NG#cmd='vowelrecogv3 tr:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
#NG#### mean distance of poles of 'aiueo' of s-fuku and tr:s-kita are as follows.
#NG##  0.066723*  0.066967   0.078839   0.074879   0.073801  #te:s-fuku-a->s-sanuki-a
#NG##  0.071207   0.067999   0.076099   0.072618   0.067745* #te:s-fuku-i->s-yama-o
#NG##  0.070711   0.059287*  0.077939   0.072902   0.073631  #te:s-fuku-u->s-kita-i
#NG##  0.069054   0.067720*  0.077360   0.072097   0.072123  #te:s-fuku-e->s-kita-i
#NG##  0.070378   0.071421   0.070831   0.069391*  0.071247  #te:s-fuku-o->s-kita-e
#NG####te:s-fuku-aiueo-t800+1600 are recognized as aoiie (rate=1/5).###
#NG#cmd='vowelrecogv3 tr:s-fuku:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
#NG#### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#NG##  0.060978   0.058304*  0.063810   0.062469   0.060211  #te:s-kita-a->s-yama-i
#NG##  0.062566*  0.069522   0.067646   0.069861   0.070285  #te:s-kita-i->s-take-a
#NG##  0.073432*  0.073995   0.073434   0.075829   0.073681  #te:s-kita-u->s-sanuki-a
#NG##  0.062276*  0.065123   0.066871   0.062643   0.064350  #te:s-kita-e->s-kosi-a
#NG##  0.067900*  0.073699   0.073776   0.069051   0.075049  #te:s-kita-o->s-take-a
#NG####te:s-kita-aiueo-t800+1600 are recognized as iaaaa (rate=0/5).###
#NG#cmd='vowelrecogv3 tr:s-fuku:s-kita:s-sanuki:s-take:s-yama te:s-kosi k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
#NG#### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#NG##  0.074377   0.071121   0.071016*  0.073658   0.073133  #te:s-kosi-a->s-fuku-u
#NG##  0.073239   0.072727   0.071787   0.071637*  0.073349  #te:s-kosi-i->s-kita-e
#NG##  0.075247   0.073913   0.072556   0.073472   0.068729* #te:s-kosi-u->s-take-o
#NG##  0.062530   0.055914*  0.065712   0.070118   0.068071  #te:s-kosi-e->s-fuku-i
#NG##  0.062374   0.062238   0.066927   0.060430   0.060340* #te:s-kosi-o->s-kita-o
#NG####te:s-kosi-aiueo-t800+1600 are recognized as ueoio (rate=1/5).###
#NG#cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-take:s-yama te:s-sanuki k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
#NG#### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#NG##  0.064863   0.061504   0.059603*  0.066007   0.060389  #te:s-sanuki-a->s-fuku-u
#NG##  0.057471*  0.061745   0.066075   0.058050   0.061589  #te:s-sanuki-i->s-take-a
#NG##  0.075346   0.072746*  0.073129   0.074616   0.074679  #te:s-sanuki-u->s-fuku-i
#NG##  0.066676   0.066694   0.069699   0.067990   0.061536* #te:s-sanuki-e->s-take-o
#NG##  0.063266   0.063679   0.070276   0.058703*  0.063678  #te:s-sanuki-o->s-fuku-e
#NG####te:s-sanuki-aiueo-t800+1600 are recognized as uaioe (rate=0/5).###
#NG#cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-yama te:s-take k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
#NG#### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#NG##  0.069675   0.068462   0.069841   0.068270*  0.071338  #te:s-take-a->s-kosi-e
#NG##  0.068988   0.067762   0.066587*  0.072655   0.068619  #te:s-take-i->s-fuku-u
#NG##  0.073286   0.066773*  0.069127   0.070680   0.068509  #te:s-take-u->s-fuku-i
#NG##  0.059294   0.057886   0.062803   0.057373*  0.062405  #te:s-take-e->s-kosi-e
#NG##  0.069720   0.069557   0.072101   0.068982*  0.069897  #te:s-take-o->s-kosi-e
#NG####te:s-take-aiueo-t800+1600 are recognized as euiee (rate=1/5).###
#NG#cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take te:s-yama k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
#NG#### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#NG##  0.064507   0.059139*  0.061373   0.062004   0.060647  #te:s-yama-a->s-kosi-i
#NG##  0.068571   0.063662*  0.071094   0.069667   0.069983  #te:s-yama-i->s-fuku-i
#NG##  0.073277   0.072431   0.070979   0.066215*  0.070481  #te:s-yama-u->s-kosi-e
#NG##  0.066864*  0.071936   0.070151   0.070570   0.067984  #te:s-yama-e->s-take-a
#NG##  0.066725*  0.071980   0.069527   0.073027   0.073139  #te:s-yama-o->s-sanuki-a
#NG####te:s-yama-aiueo-t800+1600 are recognized as iieaa (rate=1/5).###




###(12) speaker and vowel recognition with M4
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of s-fuku and tr:s-fuku are as follows.
#  0.071041*  0.111131   0.140315   0.087912   0.125807  #te:s-fuku-a->s-fuku-a
#  0.100690*  0.105529   0.133786   0.107625   0.169059  #te:s-fuku-i->s-sanuki-a
#  0.085732*  0.107863   0.108167   0.111423   0.097481  #te:s-fuku-u->s-fuku-a
#  0.062328*  0.106665   0.088921   0.095085   0.093553  #te:s-fuku-e->s-yama-a
#  0.117965   0.056001*  0.121667   0.061264   0.101322  #te:s-fuku-o->s-sanuki-i
###te:s-fuku-aiueo-t150+300 are recognized as aaaai (rate=1/5).###

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of s-kita and tr:s-fuku are as follows.
#  0.116835   0.106875   0.116991   0.091825*  0.123827  #te:s-kita-a->s-sanuki-e
#  0.080709*  0.130284   0.135343   0.101893   0.106538  #te:s-kita-i->s-fuku-a
#  0.245932   0.331749   0.188527*  0.323806   0.295587  #te:s-kita-u->s-kita-u
#  0.132884   0.130454   0.101598   0.069948*  0.118718  #te:s-kita-e->s-kita-e
#  0.168679   0.140065   0.156185   0.157105   0.095021* #te:s-kita-o->s-kita-o
###te:s-kita-aiueo-t150+300 are recognized as eaueo (rate=3/5).###
### mean distance of M4 of s-kosi and tr:s-fuku are as follows.
#  0.124915*  0.164178   0.145373   0.144475   0.140182  #te:s-kosi-a->s-kita-a
#  0.329977   0.067242*  0.296480   0.253467   0.317537  #te:s-kosi-i->s-kosi-i
#  0.194986   0.231978   0.052734*  0.248151   0.232296  #te:s-kosi-u->s-kosi-u
#  0.122823   0.057132   0.102740   0.036505*  0.104132  #te:s-kosi-e->s-kosi-e
#  0.291057   0.237483   0.256771   0.267584   0.075261* #te:s-kosi-o->s-kosi-o
###te:s-kosi-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of s-sanuki and tr:s-fuku are as follows.
#  0.052185   0.084117   0.109755   0.048363*  0.080954  #te:s-sanuki-a->s-take-e
#  0.086286   0.041384*  0.093957   0.071929   0.090035  #te:s-sanuki-i->s-sanuki-i
#  0.129602   0.137417   0.052393*  0.163346   0.173012  #te:s-sanuki-u->s-sanuki-u
#  0.111507   0.072801   0.129744   0.036549*  0.102502  #te:s-sanuki-e->s-sanuki-e
#  0.166832   0.138255   0.149707   0.155936   0.107199* #te:s-sanuki-o->s-sanuki-o
###te:s-sanuki-aiueo-t150+300 are recognized as eiueo (rate=4/5).###

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of s-take and tr:s-fuku are as follows.
#  0.038518*  0.112844   0.118000   0.094078   0.097694  #te:s-take-a->s-take-a
#  0.101899   0.085134   0.067495   0.054001*  0.078752  #te:s-take-i->s-yama-e
#  0.112232   0.120236   0.044898*  0.075598   0.092269  #te:s-take-u->s-take-u
#  0.061055   0.077200   0.110306   0.053540*  0.090935  #te:s-take-e->s-take-e
#  0.306018   0.226570   0.264698   0.289547   0.063307* #te:s-take-o->s-take-o
###te:s-take-aiueo-t150+300 are recognized as aeueo (rate=4/5).###

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-yama k:9 N:1 spkr:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of M4 of s-yama and tr:s-fuku are as follows.
#  0.057405*  0.116108   0.117219   0.062531   0.095776  #te:s-yama-a->s-yama-a
#  0.094785   0.047842*  0.117008   0.080603   0.082176  #te:s-yama-i->s-yama-i
#  0.107238   0.118046   0.078291*  0.130342   0.154319  #te:s-yama-u->s-yama-u
#  0.114841   0.101071   0.056348   0.021568*  0.079097  #te:s-yama-e->s-yama-e
#  0.091986   0.108268   0.070256   0.069761   0.033604* #te:s-yama-o->s-yama-o
###te:s-yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

###(12') speaker and vowel recognition with bagging poles4
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.064952   0.097541   0.128831   0.059921*  0.089244  #te:s-fuku-a->s-sanuki-e
#  0.207187*  0.303551   0.209550   0.248102   0.265402  #te:s-fuku-i->s-yama-a
#  0.067629*  0.099811   0.124198   0.093332   0.130604  #te:s-fuku-u->s-fuku-a
#  0.167697   0.194906   0.180574   0.158637*  0.196524  #te:s-fuku-e->s-fuku-e
#  0.067574   0.084935   0.112411   0.035912*  0.086230  #te:s-fuku-o->s-sanuki-e
###te:s-fuku-aiueo-t150+300 are recognized as eaaee (rate=1/5).###

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.106714   0.085022   0.111314   0.082521*  0.136473  #te:s-kita-a->s-take-e
#  0.114061   0.114482   0.140981   0.081052*  0.159072  #te:s-kita-i->s-take-e
#  0.173821   0.169126   0.055857*  0.158924   0.126266  #te:s-kita-u->s-kita-u
#  0.092394   0.090718   0.100727   0.032669*  0.117053  #te:s-kita-e->s-kita-e
#  0.204497   0.233047   0.206898   0.235054   0.185433* #te:s-kita-o->s-sanuki-o
###te:s-kita-aiueo-t150+300 are recognized as eeueo (rate=3/5).###



###(13) speaker recognition ? now executing 070206 finished
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-fuku k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-fuku and tr:s-fuku are as follows.
#  0.075109   0.074907   0.078260   0.073872*  0.078059  #te:s-fuku-a->s-kosi-e
#  0.070068   0.066953*  0.071666   0.068626   0.072245  #te:s-fuku-i->s-sanuki-i
#  0.068329   0.068128*  0.070413   0.068377   0.071970  #te:s-fuku-u->s-sanuki-i
#  0.067341*  0.067598   0.069840   0.069078   0.071301  #te:s-fuku-e->s-sanuki-a
#  0.075176   0.073775*  0.077513   0.075854   0.077373  #te:s-fuku-o->s-sanuki-i
###te:s-fuku-aiueo-t800+1600 are recognized as eiiai (rate=1/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kita k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kita and tr:s-fuku are as follows.
#  0.068335*  0.072030   0.075847   0.072339   0.080103  #te:s-kita-a->s-kita-a
#  0.071760   0.070357*  0.076690   0.071054   0.076373  #te:s-kita-i->s-sanuki-i
#  0.069150   0.069178   0.071891   0.066712*  0.072938  #te:s-kita-u->s-kosi-e
#  0.074767   0.073650   0.077978   0.071919*  0.079595  #te:s-kita-e->s-kita-e
#  0.071600   0.069668   0.075260   0.069311*  0.075566  #te:s-kita-o->s-kosi-e
###te:s-kita-aiueo-t800+1600 are recognized as aieee (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-kosi k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-kosi and tr:s-fuku are as follows.
#  0.073672   0.071315*  0.076988   0.072635   0.079210  #te:s-kosi-a->s-sanuki-i
#  0.072863   0.072985   0.074639   0.071557*  0.074655  #te:s-kosi-i->s-yama-e
#  0.070755*  0.071595   0.073800   0.071501   0.074162  #te:s-kosi-u->s-yama-a
#  0.074810   0.072486   0.079069   0.071259*  0.077571  #te:s-kosi-e->s-kosi-e
#  0.074987   0.074210   0.076659   0.072587*  0.074132  #te:s-kosi-o->s-kosi-e
###te:s-kosi-aiueo-t800+1600 are recognized as ieaee (rate=1/5).###

cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-sanuki k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-sanuki and tr:s-fuku are as follows.
#  0.071669*  0.072978   0.074699   0.074058   0.076763  #te:s-sanuki-a->s-sanuki-a
#  0.074733   0.072569*  0.078484   0.074184   0.079919  #te:s-sanuki-i->s-sanuki-i
#  0.071962   0.073741   0.071812*  0.073083   0.077470  #te:s-sanuki-u->s-sanuki-u
#  0.070897   0.071099   0.073740   0.068930*  0.075164  #te:s-sanuki-e->s-kosi-e
#  0.071673   0.071366*  0.073802   0.071461   0.072096  #te:s-sanuki-o->s-sanuki-i
###te:s-sanuki-aiueo-t800+1600 are recognized as aiuei (rate=4/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-take k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-take and tr:s-fuku are as follows.
#  0.067152*  0.069239   0.071660   0.067168   0.070893  #te:s-take-a->s-take-a
#  0.071429   0.070179*  0.073333   0.070983   0.074759  #te:s-take-i->s-sanuki-i
#  0.070669*  0.071993   0.072739   0.070903   0.073977  #te:s-take-u->s-take-a
#  0.072815   0.072340   0.075457   0.069899*  0.075959  #te:s-take-e->s-take-e
#  0.069363*  0.070179   0.071990   0.069376   0.072696  #te:s-take-o->s-sanuki-a
###te:s-take-aiueo-t800+1600 are recognized as aiaea (rate=3/5).###
cmd='vowelrecogv3 tr:s-fuku:s-kita:s-kosi:s-sanuki:s-take:s-yama te:s-yama k:27 N:6 spkr:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:800:800:800 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of s-yama and tr:s-fuku are as follows.
#  0.071374*  0.072705   0.075328   0.072548   0.078050  #te:s-yama-a->s-yama-a
#  0.074051   0.071846*  0.073392   0.072138   0.076993  #te:s-yama-i->s-sanuki-i
#  0.074363   0.073589   0.073127   0.072533*  0.075951  #te:s-yama-u->s-kosi-e
#  0.075620   0.074638   0.078294   0.073453*  0.079666  #te:s-yama-e->s-kosi-e
#  0.074854   0.074222   0.076686   0.073942*  0.075886  #te:s-yama-o->s-kosi-e
###te:s-yama-aiueo-t800+1600 are recognized as aieee (rate=3/5).###



###(10) making s(t) by baggingCAN2
for name in fuku kita kosi sanuki take yama; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
d=../onsei07  # the directory storing the onsei-data files
rsa=rsa:-1:0.7:1:20 k=9 N=1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; 
#rsa=rsa:2:0.7:1:20 k=27 N=6 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;
tf=100;tl=2000;tt=`expr ${tf} + ${tl}`;pf=$tf;pl=$tl;pt=`expr ${pf} + ${pl}` 
#./tspredv3 ${d}/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-${N}-1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
./tspredv3 ${d}/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-${N}:1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
###fo save
cd result-ensrs2ge; 
#f="../${d}/s-${name}-N${N}t${tf}-${tt}p${pf}-${pt}-${v}"
#f="${d}/s-N${N}t${tf}-${tt}p${pf}-${pt}-${name}-${v}"
f="${d}/sb-${name}-${v}"
p="predictDM0:${pf}-${pt}.dat"
#p="predictDM0:$k-${pt}.dat"
cat ${p} |awk '{print $3-$1}' > ../${f}.dat
##for display error from here
cat > disp.plt <<EOF
#plot "../${f}.dat" using 0:(\$3-\$1) t "../${f}" w lp; pause -1 "Hit return key to quit"
plot "../${f}.dat" using 0:1 t "${f}" w lp; pause -1 "Hit return key to quit"
EOF
xterm -geometry 50x5-0+0 -e gnuplot -geometry 300x210 disp.plt&
###for display error to here
cd ..;
echo "### Done for ${f}.dat ###"
done ; done
#### making s(t) to here.

###(13) poles with N=1 is unstable.


##################################################################################
######npt:0.75
cmd='vowelrecogv3 tr:kita:kosi:sanuki:take:yama te:fuku k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:kita are as follows.
#  0.053549   0.056038   0.055016   0.052717   0.052708* #te:fuku-a->sanuki-o
#  0.053789   0.050968*  0.052314   0.053330   0.053899  #te:fuku-i->kita-i
#  0.058388   0.056484   0.055969   0.053878*  0.056082  #te:fuku-u->sanuki-e
#  0.056912   0.058739   0.057346   0.051939*  0.053510  #te:fuku-e->sanuki-e
#  0.053134   0.052338   0.051597   0.050466   0.050135* #te:fuku-o->kita-o
###te:fuku-aiueo-t150+300 are recognized as oieeo (rate=3/5).###
cmd='vowelrecogv3 tr:fuku:kosi:sanuki:take:yama te:kita k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kita and tr:fuku are as follows.
#  0.047605*  0.052271   0.051997   0.052994   0.049875  #te:kita-a->kosi-a
#  0.059297   0.052641*  0.053909   0.055931   0.054754  #te:kita-i->take-i
#  0.059107   0.053147   0.051962*  0.056208   0.053642  #te:kita-u->take-u
#  0.058428   0.057097   0.055989   0.051476*  0.052878  #te:kita-e->sanuki-e
#  0.056540   0.057266   0.057121   0.054272   0.052166* #te:kita-o->sanuki-o
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:sanuki:take:yama te:kosi k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of kosi and tr:fuku are as follows.
#  0.051688*  0.056277   0.055764   0.054994   0.053312  #te:kosi-a->kita-a
#  0.059951   0.052297*  0.052814   0.053975   0.053396  #te:kosi-i->sanuki-i
#  0.060306   0.054727   0.053098*  0.055071   0.054676  #te:kosi-u->take-u
#  0.058782   0.055859   0.055073   0.049650*  0.053012  #te:kosi-e->sanuki-e
#  0.057911   0.056555   0.054217   0.051036*  0.052770  #te:kosi-o->sanuki-e
###te:kosi-aiueo-t150+300 are recognized as aiuee (rate=4/5).###

cmd='vowelrecogv3 tr:fuku:kita:kosi:take:yama te:sanuki k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.053322*  0.055377   0.055185   0.055095   0.053926  #te:sanuki-a->kita-a
#  0.057648   0.049309*  0.050583   0.050370   0.051645  #te:sanuki-i->kosi-i
#  0.056671   0.050584   0.050011*  0.054023   0.050712  #te:sanuki-u->yama-u
#  0.057655   0.057947   0.054875   0.051918*  0.053305  #te:sanuki-e->fuku-e
#  0.054269   0.055118   0.054243   0.050771   0.049099* #te:sanuki-o->kita-o
###te:sanuki-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.047255*  0.050460   0.050332   0.050360   0.049294  #te:take-a->sanuki-a
#  0.058596   0.052265*  0.052495   0.055527   0.053758  #te:take-i->kosi-i
#  0.059199   0.054666   0.052672*  0.054717   0.054518  #te:take-u->kosi-u
#  0.056939   0.052141   0.052591   0.050328*  0.050711  #te:take-e->sanuki-e
#  0.054916   0.055813   0.053455   0.050559   0.049595* #te:take-o->yama-o
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:take te:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.053627*  0.056513   0.057821   0.056319   0.055238  #te:yama-a->kosi-a
#  0.060898   0.052337*  0.053342   0.057660   0.057810  #te:yama-i->kosi-i
#  0.056589   0.050907   0.049184*  0.051686   0.051362  #te:yama-u->sanuki-u
#  0.056806   0.055811   0.055155   0.049160*  0.052774  #te:yama-e->sanuki-e
#  0.053972   0.057250   0.056073   0.052206   0.051477* #te:yama-o->kita-o
###te:yama-aiueo-t150+300 are recognized as aiueo (rate=5/5).###



cmd='vowelrecogv3 tr:fuku:kita:kosi te:sanuki:take:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.053613*  0.056222   0.054341   0.055086   0.054783  #te:sanuki-a->kosi-a
#  0.053083   0.051869   0.050997*  0.052884   0.054407  #te:sanuki-i->fuku-u
#  0.052776   0.050985   0.050598*  0.054268   0.053192  #te:sanuki-u->kita-u
#  0.056554   0.058939   0.055801   0.050482*  0.052904  #te:sanuki-e->kosi-e
#  0.054209   0.054806   0.053764   0.051709   0.049674* #te:sanuki-o->kita-o
###te:sanuki-aiueo-t150+300 are recognized as auueo (rate=4/5).###
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.048605*  0.053018   0.049265   0.051973   0.052179  #te:take-a->fuku-a
#  0.059104   0.052464*  0.054838   0.056072   0.057126  #te:take-i->kita-i
#  0.057089   0.056100   0.052790*  0.056268   0.056996  #te:take-u->kosi-u
#  0.054839   0.053563   0.053887   0.050645*  0.050792  #te:take-e->kosi-e
#  0.053710   0.054252   0.054074   0.052726   0.050314* #te:take-o->kita-o
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.053889*  0.058788   0.057605   0.056965   0.054346  #te:yama-a->kosi-a
#  0.059543   0.055329   0.053369*  0.056676   0.058196  #te:yama-i->kosi-u
#  0.053262   0.054140   0.050892*  0.052817   0.052874  #te:yama-u->kita-u
#  0.054803   0.056873   0.055892   0.051227*  0.054013  #te:yama-e->kosi-e
#  0.054693   0.056620   0.056112   0.054670   0.052973* #te:yama-o->kosi-o
###te:yama-aiueo-t150+300 are recognized as auueo (rate=4/5).###
##################################################################################

### 3train and 3test
cmd='vowelrecogv3 te:fuku:kita:kosi tr:sanuki:take:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:sanuki are as follows.
#  0.054453   0.058116   0.055016   0.052717   0.052708* #te:fuku-a->sanuki-o
#  0.055423   0.052742*  0.053132   0.053330   0.056167  #te:fuku-i->sanuki-i
#  0.058168   0.057610   0.055969   0.053878*  0.057572  #te:fuku-u->sanuki-e
#  0.058169   0.060160   0.057346   0.051939*  0.053842  #te:fuku-e->sanuki-e
#  0.054422   0.053536   0.051597*  0.051816   0.051846  #te:fuku-o->take-u
###te:fuku-aiueo-t150+300 are recognized as oieeu (rate=2/5).###
### mean distance of poles of 'aiueo' of kita and tr:sanuki are as follows.
#  0.047875*  0.054250   0.051997   0.054831   0.051266  #te:kita-a->sanuki-a
#  0.059340   0.052572*  0.053919   0.056056   0.058633  #te:kita-i->take-i
#  0.058965   0.054407   0.051962*  0.056208   0.058221  #te:kita-u->take-u
#  0.059599   0.058845   0.055989   0.051476*  0.055752  #te:kita-e->sanuki-e
#  0.055959   0.060324   0.057961   0.054489   0.051920* #te:kita-o->sanuki-o
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
### mean distance of poles of 'aiueo' of kosi and tr:sanuki are as follows.
#  0.052247*  0.057574   0.055764   0.055940   0.053312  #te:kosi-a->yama-a
#  0.059911   0.052297*  0.053061   0.054284   0.059318  #te:kosi-i->sanuki-i
#  0.060090   0.055224   0.053055*  0.056781   0.060454  #te:kosi-u->take-u
#  0.058768   0.055859   0.055493   0.049650*  0.055964  #te:kosi-e->sanuki-e
#  0.057968   0.056971   0.055709   0.051036*  0.053460  #te:kosi-o->sanuki-e
###te:kosi-aiueo-t150+300 are recognized as aiuee (rate=4/5).###






cmd='vowelrecogv3 tr:fuku:kita:kosi te:sanuki:take:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:150:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of sanuki and tr:fuku are as follows.
#  0.053128*  0.055362   0.055159   0.055022   0.053838  #te:sanuki-a->kita-a
#  0.058051   0.049309*  0.050583   0.053624   0.051645  #te:sanuki-i->kosi-i
#  0.056762   0.050811   0.051382   0.054794   0.050712* #te:sanuki-u->fuku-o
#  0.057655   0.057967   0.055454   0.051918*  0.053358  #te:sanuki-e->fuku-e
#  0.054269   0.055118   0.054454   0.050771   0.049796* #te:sanuki-o->kosi-o
###te:sanuki-aiueo-t150+300 are recognized as aioeo (rate=4/5).###
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.048182*  0.050460   0.050332   0.050622   0.049294  #te:take-a->kita-a
#  0.060816   0.052265*  0.054152   0.057504   0.053758  #te:take-i->kosi-i
#  0.060449   0.054780   0.052672*  0.055688   0.054518  #te:take-u->kosi-u
#  0.057298   0.053718   0.053333   0.050619*  0.050711  #te:take-e->kita-e
#  0.054916   0.055813   0.053455   0.050559*  0.051388  #te:take-o->kita-e
###te:take-aiueo-t150+300 are recognized as aiuee (rate=4/5).###
### mean distance of poles of 'aiueo' of yama and tr:fuku are as follows.
#  0.054118*  0.057225   0.058257   0.056791   0.056156  #te:yama-a->kosi-a
#  0.063871   0.052337*  0.053342   0.058143   0.057810  #te:yama-i->kosi-i
#  0.058899   0.050907   0.050767*  0.052962   0.051362  #te:yama-u->kosi-u
#  0.056770   0.055762   0.055205   0.051452*  0.052766  #te:yama-e->kita-e
#  0.053972   0.057438   0.056073   0.052206*  0.052738  #te:yama-o->kita-e
###te:yama-aiueo-t150+300 are recognized as aiuee (rate=4/5).###

cmd='vowelrecogv3 te:fuku:kita:kosi tr:sanuki:take:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of fuku and tr:sanuki are as follows.
#  0.051822*  0.057138   0.053234   0.054709   0.054786  #te:fuku-a->take-a
#  0.053034   0.052357   0.048593*  0.054961   0.055410  #te:fuku-i->take-u
#  0.055869   0.057212   0.053093*  0.058020   0.057525  #te:fuku-u->take-u
#  0.054814   0.057956   0.054571   0.054154*  0.054876  #te:fuku-e->sanuki-e
#  0.049951*  0.053874   0.050816   0.053754   0.053299  #te:fuku-o->take-a
###te:fuku-aiueo-t150+300 are recognized as auuea (rate=3/5).###
### mean distance of poles of 'aiueo' of kita and tr:sanuki are as follows.
#  0.046802*  0.053931   0.052748   0.057726   0.053523  #te:kita-a->take-a
#  0.057454   0.051409*  0.053389   0.059897   0.059988  #te:kita-i->take-i
#  0.056619   0.053918   0.053359*  0.058924   0.059684  #te:kita-u->take-u
#  0.057594   0.057446   0.055739   0.055218*  0.055690  #te:kita-e->sanuki-e
#  0.056404   0.059738   0.057016   0.056713   0.053761* #te:kita-o->sanuki-o
###te:kita-aiueo-t150+300 are recognized as aiueo (rate=5/5).###
### mean distance of poles of 'aiueo' of kosi and tr:sanuki are as follows.
#  0.051571*  0.056945   0.055948   0.058435   0.054323  #te:kosi-a->take-a
#  0.055698   0.051894   0.051660*  0.057141   0.058793  #te:kosi-i->sanuki-u
#  0.057161   0.054674   0.053955*  0.060749   0.060205  #te:kosi-u->take-u
#  0.057036   0.057838   0.055675   0.052436*  0.055892  #te:kosi-e->sanuki-e
#  0.056296   0.056983   0.054760   0.054220   0.052511* #te:kosi-o->take-o
###te:kosi-aiueo-t150+300 are recognized as auueo (rate=4/5).###




cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.047819*  0.050793   0.048599   0.053176   0.049982  #te:take-a->yama-a
#  0.055873   0.043268*  0.048551   0.054085   0.054817  #te:take-i->yama-i
#  0.049902   0.046639   0.045325*  0.047843   0.049052  #te:take-u->yama-u
#  0.050239   0.051493   0.048774   0.045463*  0.049361  #te:take-e->yama-e
#  0.042334   0.052669   0.050537   0.048754   0.040935* #te:take-o->yama-o
###te:take-aiueo-t0+100 are recognized as aiueo (rate=5/5).###good
### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#  0.055407   0.058689   0.055807   0.052427   0.051735* #te:yama-a->take-o
#  0.056490   0.047444*  0.049326   0.052228   0.059087  #te:yama-i->take-i
#  0.051381   0.050607   0.045955*  0.050548   0.054895  #te:yama-u->take-u
#  0.057820   0.054638   0.053679   0.048391*  0.052329  #te:yama-e->take-e
#  0.049649   0.051882   0.052953   0.050834   0.043152* #te:yama-o->take-o
###te:yama-aiueo-t0+100 are recognized as oiueo (rate=4/5).###

cmd='vowelrecogv3 tr:fuku:kita:kosi:sanuki:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:fuku are as follows.
#  0.048605*  0.051606   0.049265   0.051973   0.052179  #te:take-a->fuku-a
#  0.059104   0.050719*  0.052574   0.056072   0.057126  #te:take-i->yama-i
#  0.057089   0.055530   0.052790*  0.056268   0.056996  #te:take-u->kosi-u
#  0.054839   0.053319   0.051460   0.050645*  0.050792  #te:take-e->kosi-e
#  0.053710   0.054252   0.054074   0.052726   0.050314* #te:take-o->kita-o
###te:take-aiueo-t150+300 are recognized as aiueo (rate=5/5).###

vowelrecogv3 tr:fuku:kita:kosi te:sanuki:take:yama k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:150:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null





cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.055170   0.053534   0.052775*  0.057093   0.055834  #te:take-a->yama-u
#  0.064703   0.049811*  0.053749   0.061194   0.060686  #te:take-i->yama-i
#  0.059173   0.055219   0.051990*  0.060809   0.057451  #te:take-u->yama-u
#  0.060263   0.053489   0.052851*  0.055700   0.057791  #te:take-e->yama-u
#  0.057974   0.055049   0.053476   0.055042   0.050104* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as uiuuo (rate=3/5).###


cmd='vowelrecogv3 tr:yama te:take k:54 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.032265*  0.035575   0.033779   0.035638   0.034579  #te:take-a->yama-a
#  0.034763   0.033575   0.034453   0.034870   0.033476* #te:take-i->yama-o
#  0.034083*  0.034333   0.034115   0.036805   0.034222  #te:take-u->yama-a
#  0.035567   0.033595   0.032158*  0.032851   0.032282  #te:take-e->yama-u
#  0.035314   0.036324   0.034760   0.034313*  0.036620  #te:take-o->yama-e
###te:take-aiueo-t0+150 are recognized as aoaue (rate=1/5).###


vowelrecogv3 tr:fuku:kita:kosi:sanuki:take:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null


vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null


070201
(1) vowelrecogv2.cを作り、各母音に対して入力次元kを設定できるようにした。
下の例ではtake-eをk=10としたもの。距離は小さくなったが、これが最小にはならず、
結果としては同じ認識率(4/5)になった。


vowelrecogv2 te:yama#a9i9u9e9o9 tr:take#a9i9u9e10o9 k:9 N:33-33 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:0 > /dev/null
### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#  0.134780*  0.154160   0.151998   0.142151   0.136471  #te:yama-a->tr:take-aiueo
#  0.158979   0.141900*  0.142316   0.143443   0.148547  #te:yama-i->tr:take-aiueo
#  0.161908   0.159065   0.139856*  0.150144   0.148023  #te:yama-u->tr:take-aiueo
#  0.176139   0.172353   0.140659   0.145528   0.140490* #te:yama-e->tr:take-aiueo
#  0.114943   0.140118   0.106692   0.106918   0.095262* #te:yama-o->tr:take-aiueo
###te:yama-aiueo-t0+100 are recognized as tr:take-aiuoo-t0+100 (4/5) via m:poles4N33-33.###
Result of 'vowelrecogv2 tr:yama#a9i9u9e9o9 te:take#a9i9u9e10o9 k:9 N:33-33 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:0 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.116436*  0.132415   0.126448   0.119123   0.147516  #te:take-a->tr:yama-aiueo
#  0.166214   0.133440*  0.136465   0.136736   0.158582  #te:take-i->tr:yama-aiueo
#  0.155907   0.139426   0.135933   0.122639*  0.134053  #te:take-u->tr:yama-aiueo
#  0.151498   0.130018   0.127516   0.124365*  0.143236  #te:take-e->tr:yama-aiueo
#  0.141291   0.147140   0.141551   0.125116*  0.131923  #te:take-o->tr:yama-aiueo
###te:take-aiueo-t0+100 are recognized as tr:yama-aieee-t0+100 (3/5) via m:poles4N33-33.###
この方法がうまくいかなかった原因は、k=10は tt:0:100:0:100:100の設定に相当する学習と予測
すなわち、下記の「single CAN2」のところで
(a) tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
とした学習・予測は良い結果を示すが、学習の初期時刻 tf を変え、例えば
(b) tf=150;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
のようにすると良い結果とならない。これは上記(a)区間でk=10のsingleCAN2はうまい予測結果を
示すけれども、正しい母音情報を獲得していないことを意味するのではないかと考える。
(2) また、bagging(下の「bagging predictions」の所を参照)で
tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
とするとうまく行ったようにみえるが、やはり初期時刻tfを変えるとうまくいなかい。
学習長 tl=150 以上、および予測長 pl=30 で安定した結果が出るようだ。
ここで、大きい予測長 pl に対して安定した予測結果を得るには大きい学習長 tl が必要である
と考えるが、あまり pl がある程度以上に大きくなると、「カオスの予測不能性」によりいくら
tlを大きくしても予測不能になると考える。しかし母音情報を獲得するのと予測するのは別の
話しであり、ある程度長い tl を用いれば予測はできなくても母音情報は獲得できると考える。

#bidir##bidirectional
#bidir#cmd='vowelrecogv3 te:yama tr:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
#bidir#### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#bidir##  0.048537*  0.057333   0.054453   0.053069   0.052418  #te:yama-a->take-a
#bidir##  0.056975   0.048879   0.047671*  0.051238   0.052701  #te:yama-i->take-u
#bidir##  0.052383   0.048502   0.045680*  0.046906   0.047654  #te:yama-u->take-u
#bidir##  0.052494   0.051962   0.047974   0.047918*  0.048309  #te:yama-e->take-e
#bidir##  0.047228   0.052431   0.049338   0.048691   0.046539* #te:yama-o->take-o
#bidir####te:yama-aiueo-t0+100 are recognized as auueo (rate=4/5).###
#bidir#cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
#bidir#### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#bidir##  0.048537   0.056975   0.052383   0.052494   0.047228* #te:take-a->yama-o
#bidir##  0.057333   0.048879   0.048502*  0.051962   0.052431  #te:take-i->yama-u
#bidir##  0.054453   0.047671   0.045680*  0.047974   0.049338  #te:take-u->yama-u
#bidir##  0.053069   0.051238   0.046906*  0.047918   0.048691  #te:take-e->yama-u
#bidir##  0.052418   0.052701   0.047654   0.048309   0.046539* #te:take-o->yama-o
#bidir####te:take-aiueo-t0+100 are recognized as ouuuo (rate=2/5).###


#monodir#cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
#monodir#### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#monodir##  0.045693*  0.055131   0.052611   0.051834   0.048275  #te:take-a->yama-a
#monodir##  0.055755   0.048086*  0.049387   0.050822   0.052721  #te:take-i->yama-i
#monodir##  0.053865   0.047133   0.045475*  0.045785   0.049798  #te:take-u->yama-u
#monodir##  0.052134   0.051858   0.048272   0.048263*  0.050993  #te:take-e->yama-e
#monodir##  0.052237   0.051787   0.048249   0.049277   0.048214* #te:take-o->yama-o
#monodir####te:take-aiueo-t0+100 are recognized as aiueo (rate=5/5).###
#monodir#cmd='vowelrecogv3 te:yama tr:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
#monodir#### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#monodir##  0.051381*  0.058910   0.055041   0.054005   0.052598  #te:yama-a->take-a
#monodir##  0.058818   0.049672   0.048210*  0.050618   0.053615  #te:yama-i->take-u
#monodir##  0.052155   0.047617   0.045886   0.045541*  0.047060  #te:yama-u->take-e
#monodir##  0.053153   0.053102   0.050163   0.047573   0.047341* #te:yama-e->take-o
#monodir##  0.046182   0.052140   0.048877   0.046389   0.044863* #te:yama-o->take-o
#monodir####te:yama-aiueo-t0+100 are recognized as aueoo (rate=2/5).###

vowelrecogv3 tr:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null

vowelrecogv3 tr:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:100:150:100:150 DISP:1 > /dev/null #bagging
vowelrecogv3 tr:yama te:take k:9 N:1 m:poles4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:100:150:100:150 DISP:1 > /dev/null #single

vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 > /dev/null
vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null
vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:200:0:200 DISP:0 > /dev/null
###te:take-aiueo-t0+100 are recognized as aiueo (rate=5/5).###
vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:300:0:300 DISP:0 > /dev/null
###te:take-aiueo-t0+300 are recognized as aiuea (rate=4/5).###

cmd='vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:100:100:100:100 DISP:0 > /dev/null'
### mean distance of M4 of take and tr:yama are as follows.
#  0.676445*  1.168906   0.729578   0.840433   1.008400  #te:take-a->yama-a
#  1.159137   0.337655*  0.785756   0.553035   1.589766  #te:take-i->yama-i
#  0.548449   0.837287   0.280904*  0.385640   0.986401  #te:take-u->yama-u
#  0.850509   0.454712   0.522746   0.284699*  1.288178  #te:take-e->yama-e
#  0.292217*  1.162479   0.638769   0.739536   0.527538  #te:take-o->yama-a
###te:take-aiueo-t100+200 are recognized as aiuea (rate=4/5).###
cmd='vowelrecogv3 te:yama tr:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:100:100:100:100 DISP:0 > /dev/null'
### mean distance of M4 of yama and tr:take are as follows.
#  0.676445   1.159137   0.548449   0.850509   0.292217* #te:yama-a->take-o
#  1.168906   0.337655*  0.837287   0.454712   1.162479  #te:yama-i->take-i
#  0.729578   0.785756   0.280904*  0.522746   0.638769  #te:yama-u->take-u
#  0.840433   0.553035   0.385640   0.284699*  0.739536  #te:yama-e->take-e
#  1.008400   1.589766   0.986401   1.288178   0.527538* #te:yama-o->take-o
###te:yama-aiueo-t100+200 are recognized as oiueo (rate=4/5).###


cmd='vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:100:0:100 DISP:0 > /dev/null'
### mean distance of M4 of take and tr:yama are as follows.
#  0.550905*  1.176888   0.761903   0.857761   0.595816  #te:take-a->yama-a
#  1.028263   0.348368*  0.680035   0.431190   1.193588  #te:take-i->yama-i
#  0.612158   0.851151   0.299522*  0.416846   0.712987  #te:take-u->yama-u
#  0.878709   0.415153   0.570146   0.324893*  1.016755  #te:take-e->yama-e
#  0.318917   1.119178   0.549299   0.671084   0.303304* #te:take-o->yama-o
###te:take-aiueo-t0+100 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null'
### mean distance of M4 of take and tr:yama are as follows.
#  0.596052*  1.174193   0.751944   0.846386   0.666876  #te:take-a->yama-a
#  1.048518   0.345472*  0.700634   0.438245   1.235806  #te:take-i->yama-i
#  0.597315   0.846020   0.283411*  0.392350   0.744878  #te:take-u->yama-u
#  0.864329   0.439828   0.562029   0.297219*  1.025901  #te:take-e->yama-e
#  0.302022   1.141708   0.571320   0.692034   0.298501* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiueo (rate=5/5).###

cmd='vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 > /dev/null'
### mean distance of M4 of take and tr:yama are as follows.
#  0.596052*  1.174193   0.751944   0.846386   0.666876  #te:take-a->yama-a
#  1.048518   0.345472*  0.700634   0.438245   1.235806  #te:take-i->yama-i
#  0.597315   0.846020   0.283411*  0.392350   0.744878  #te:take-u->yama-u
#  0.864329   0.439828   0.562029   0.297219*  1.025901  #te:take-e->yama-e
#  0.302022   1.141708   0.571320   0.692034   0.298501* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiueo (rate=5/5).###




vowelrecogv3 tr:yama te:take k:9 N:1 m:M4 dir:../onsei07 rsa:-1:0.7:1:20 DiffMode:0 T:100 tt:0:150:100:150 DISP:0 > /dev/null'
### mean distance of M4 of take and tr:yama are as follows.
#  0.622261*  1.178622   0.756135   0.852771   0.688098  #te:take-a->yama-a
#  1.118623   0.322522*  0.770296   0.508794   1.301912  #te:take-i->yama-i
#  0.542078   0.866812   0.314511*  0.393423   0.685129  #te:take-u->yama-u
#  0.845234   0.463922   0.551569   0.287365*  1.000492  #te:take-e->yama-e
#  0.254893*  1.143355   0.589950   0.709069   0.277493  #te:take-o->yama-a
###te:take-aiueo-t100+250 are recognized as aiuea (rate=4/5).###


cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.75:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.053924*  0.061886   0.058760   0.064086   0.058260  #te:take-a->yama-a
#  0.058557   0.051774*  0.054071   0.060187   0.063387  #te:take-i->yama-i
#  0.055172   0.053336   0.052017*  0.055265   0.055004  #te:take-u->yama-u
#  0.052817   0.052622   0.049553*  0.052137   0.053526  #te:take-e->yama-u
#  0.057118   0.059642   0.056460   0.059076   0.055028* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiuuo (rate=4/5).###
vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:0:150:0:150 DISP:0 npt:0.7:1.1:1:179 > /dev/null
###te:take-aiueo-t0+150 are recognized as aiuuo (rate=4/5).###

cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tt:100:200:100:200 DISP:0 npt:0.7:1.1:1:179 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.056434*  0.061515   0.058749   0.060169   0.059351  #te:take-a->yama-a
#  0.062225   0.054018*  0.057394   0.060451   0.065360  #te:take-i->yama-i
#  0.060017   0.059490   0.057902*  0.060595   0.063044  #te:take-u->yama-u
#  0.058611   0.058238   0.055169   0.054901*  0.058343  #te:take-e->yama-e
#  0.060912   0.060616   0.059565*  0.062468   0.061236  #te:take-o->yama-u
###te:take-aiueo-t100+300 are recognized as aiueu (rate=4/5).###


tf=0;tl=160;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tp:$tf-$tt:$pf-$pt DISP:0 npt:0.7:1.1:5:150 > /dev/null

vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tp:0-150:0-150 DISP:0 npt:0.7:1.1:5:150 > /dev/null
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.049981*  0.056749   0.054432   0.059816   0.054257  #te:take-a->yama-a
#  0.054956   0.045976*  0.049204   0.054987   0.056913  #te:take-i->yama-i
#  0.051164   0.048085   0.047247*  0.051340   0.049814  #te:take-u->yama-u
#  0.051294   0.047906   0.045775*  0.048997   0.051073  #te:take-e->yama-u
#  0.054598   0.055097   0.051749   0.055661   0.051090* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiuuo (rate=4/5).###
cmd='vowelrecogv3 te:yama tr:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tp:0-150:0-150 DISP:0 npt:0.7:1.1:5:150 > /dev/null'
### mean distance of poles of 'aiueo' of yama and tr:take are as follows.
#  0.049143*  0.056188   0.056618   0.054658   0.054963  #te:yama-a->take-a
#  0.054607   0.048750*  0.052849   0.051472   0.053907  #te:yama-i->take-i
#  0.051596   0.049866   0.051378   0.047906*  0.050928  #te:yama-u->take-e
#  0.053405   0.051736   0.052770   0.050030*  0.050233  #te:yama-e->take-e
#  0.049699   0.052845   0.052942   0.049935   0.049538* #te:yama-o->take-o
###te:yama-aiueo-t0+150 are recognized as aieeo (rate=4/5).###


###bi-directional 
cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tp:0-150:0-150 DISP:0 npt:0.7:1.1:0:180 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.057887*  0.064662   0.061016   0.065455   0.059961  #te:take-a->yama-a
#  0.064593   0.057517*  0.058798   0.064328   0.065603  #te:take-i->yama-i
#  0.062281   0.061186   0.060021*  0.062403   0.060559  #te:take-u->yama-u
#  0.059957   0.058897   0.056082*  0.058234   0.058165  #te:take-e->yama-u
#  0.062482   0.064648   0.061127   0.061970   0.059177* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiuuo (rate=4/5).###
###single-directional
cmd='vowelrecogv3 tr:yama te:take k:27 N:6 m:poles4 dir:../onsei07 rsa:2:0.7:1:20 DiffMode:0 T:100 tp:0-150:0-150 DISP:0 npt:0.7:1.1:0:180 > /dev/null'
### mean distance of poles of 'aiueo' of take and tr:yama are as follows.
#  0.058052*  0.066552   0.062445   0.068419   0.061829  #te:take-a->yama-a
#  0.062592   0.056184*  0.057425   0.065503   0.066934  #te:take-i->yama-i
#  0.060752   0.060288   0.058046*  0.062190   0.059041  #te:take-u->yama-u
#  0.058172   0.058091   0.055263*  0.057442   0.058824  #te:take-e->yama-u
#  0.061396   0.064946   0.061161   0.063524   0.058984* #te:take-o->yama-o
###te:take-aiueo-t0+150 are recognized as aiuuo (rate=4/5).###


070129
######
(1) vowelrecogのオプション dir:<dir> でデータのディレクトリを指定可にした。
    vowelrecogの出力形式を変えた(下参照)。
###################
### making redidual s(t)
################### making predictions from here
#fuku kita kosi sanuki take yama
#for name in take yama; do for v in a i u e o; do
#for name in take ; do for v in a ; do
for name in fuku kita kosi sanuki take yama; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
d=../onsei07  # the directory storing the onsei-data files
rsa=rsa:-1:0.7:1:20 k=9 N=1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; 
tf=50;tl=1000;tt=`expr ${tf} + ${tl}`;pf=$tf;pl=$tl;pt=`expr ${pf} + ${pl}` 
./tspredv3 ${d}/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-${N}-1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
###fo save
cd result-ensrs2ge; 
#f="../${d}/s-${name}-N${N}t${tf}-${tt}p${pf}-${pt}-${v}"
#f="${d}/s-N${N}t${tf}-${tt}p${pf}-${pt}-${name}-${v}"
f="${d}/s-${name}-${v}"
p="predictDM0:${pf}-${pt}.dat"
cat ${p} |awk '{print $3-$1}' > ../${f}.dat
###for display from here
cat > disp.plt <<EOF
#plot "../${f}.dat" using 0:(\$3-\$1) t "../${f}" w lp; pause -1 "Hit return key to quit"
plot "../${f}.dat" using 0:1 t "${f}" w lp; pause -1 "Hit return key to quit"
EOF
xterm -geometry 50x5-0+0 -e gnuplot -geometry 300x210 disp.plt&
###for display error to here
cd ..;echo "### Done for ${f}.dat ###"
done ; done
#### making s(t) to here.


######
for name in s-N1t50-1050p50-1050-take ; do for v in a; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
tf=0;tl=200;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
#tf=50;tl=200;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
#tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
rsa=rsa:2:0.7:1:20 k=27 N=N:6-6:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "### Done for $cmd ###"
done done
###
for name in s-N1t50-1050p50-1050-take ; do for v in a ; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
#tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
tf=50;tl=200;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}` 
rsa=rsa:-1:0.7:1:20 k=9 N=N:33-33:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "### Done for $cmd ###"
done done
####################################################################

####################################
### recogniiton test

Result of 'vowelrecog te:yama tr:take k:9 N:33-33 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of poles of 'aiueo' of yama and take are as follows.
#  0.134780*  0.154160   0.151998   0.145055   0.136471  #te:yama-a->tr:take-aiueo
#  0.158979   0.141900*  0.142316   0.147571   0.148547  #te:yama-i->tr:take-aiueo
#  0.161908   0.159065   0.139856*  0.152872   0.148023  #te:yama-u->tr:take-aiueo
#  0.176139   0.172353   0.140659   0.158774   0.140490* #te:yama-e->tr:take-aiueo
#  0.114943   0.140118   0.106692   0.112553   0.095262* #te:yama-o->tr:take-aiueo
###te:yama-aiueo-t0+100 are recognized as tr:take-aiuoo-t0+100 (4/5) via m:poles4N33-33.###
Result of 'vowelrecog te:take tr:yama k:9 N:33-33 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of poles of 'aiueo' of take and yama are as follows.
#  0.116436*  0.132415   0.126448   0.119123   0.147516  #te:take-a->tr:yama-aiueo
#  0.166214   0.133440*  0.136465   0.136736   0.158582  #te:take-i->tr:yama-aiueo
#  0.155907   0.139426   0.135933   0.122639*  0.134053  #te:take-u->tr:yama-aiueo
#  0.151498   0.130018   0.127516   0.124365*  0.143236  #te:take-e->tr:yama-aiueo
#  0.141291   0.147140   0.141551   0.125116*  0.131923  #te:take-o->tr:yama-aiueo
###te:take-aiueo-t0+100 are recognized as tr:yama-aieee-t0+100 (3/5) via m:poles4N33-33.###

Result of 'vowelrecog te:yama tr:take k:9 N:1-1 m:M4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of M4 (Associative Matrices) of 'aiueo' of yama and take are as follows.
#  0.550908   1.028258   0.612155   0.878704   0.318913* #te:yama-a->tr:take-aiueo
#  1.176888   0.348368*  0.851151   0.415153   1.119178  #te:yama-i->tr:take-aiueo
#  0.761902   0.680035   0.299522*  0.570146   0.549299  #te:yama-u->tr:take-aiueo
#  0.857762   0.431191   0.416846   0.324893*  0.671084  #te:yama-e->tr:take-aiueo
#  0.595816   1.193588   0.712987   1.016756   0.303304* #te:yama-o->tr:take-aiueo
###te:yama-aiueo-t0+100 are recognized as tr:take-oiueo-t0+100 (4/5) via m:M4N1-1.###
Result of 'vowelrecog te:take tr:yama k:9 N:1-1 m:M4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of M4 (Associative Matrices) of 'aiueo' of take and yama are as follows.
#  0.550908*  1.176888   0.761902   0.857762   0.595816  #te:take-a->tr:yama-aiueo
#  1.028258   0.348368*  0.680035   0.431191   1.193588  #te:take-i->tr:yama-aiueo
#  0.612155   0.851151   0.299522*  0.416846   0.712987  #te:take-u->tr:yama-aiueo
#  0.878704   0.415153   0.570146   0.324893*  1.016756  #te:take-e->tr:yama-aiueo
#  0.318913   1.119178   0.549299   0.671084   0.303304* #te:take-o->tr:yama-aiueo
###te:take-aiueo-t0+100 are recognized as tr:yama-aiueo-t0+100 (5/5) via m:M4N1-1.###

Result of 'vowelrecog te:s-N1t50-350p50-350-take tr:s-N1t50-350p50-350-yama k:9 N:1-1 m:M4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of M4 (Associative Matrices) of 'aiueo' of s-N1t50-350p50-350-take and s-N1t50-350p50-350-yama are as follows.
#  0.094494*  0.138795   0.138127   0.175290   0.155482  #te:s-N1t50-350p50-350-take-a->tr:s-N1t50-350p50-350-yama-aiueo
#  0.154973   0.125215   0.115800*  0.157969   0.141700  #te:s-N1t50-350p50-350-take-i->tr:s-N1t50-350p50-350-yama-aiueo
#  0.095586   0.094319   0.126152   0.091355   0.086106* #te:s-N1t50-350p50-350-take-u->tr:s-N1t50-350p50-350-yama-aiueo
#  0.105042   0.093826   0.098109   0.137389   0.088958* #te:s-N1t50-350p50-350-take-e->tr:s-N1t50-350p50-350-yama-aiueo
#  0.250826   0.254485   0.277581   0.234106*  0.269096  #te:s-N1t50-350p50-350-take-o->tr:s-N1t50-350p50-350-yama-aiueo
###te:s-N1t50-350p50-350-take-aiueo-t0+100 are recognized as tr:s-N1t50-350p50-350-yama-auooe-t0+100 (1/5) via m:M4N1-1.###
Result of 'vowelrecog te:s-N1t50-350p50-350-yama tr:s-N1t50-350p50-350-take k:9 N:1-1 m:M4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of M4 (Associative Matrices) of 'aiueo' of s-N1t50-350p50-350-yama and s-N1t50-350p50-350-take are as follows.
#  0.094494*  0.154973   0.095586   0.105042   0.250826  #te:s-N1t50-350p50-350-yama-a->tr:s-N1t50-350p50-350-take-aiueo
#  0.138795   0.125215   0.094319   0.093826*  0.254485  #te:s-N1t50-350p50-350-yama-i->tr:s-N1t50-350p50-350-take-aiueo
#  0.138127   0.115800   0.126152   0.098109*  0.277581  #te:s-N1t50-350p50-350-yama-u->tr:s-N1t50-350p50-350-take-aiueo
#  0.175290   0.157969   0.091355*  0.137389   0.234106  #te:s-N1t50-350p50-350-yama-e->tr:s-N1t50-350p50-350-take-aiueo
#  0.155482   0.141700   0.086106*  0.088958   0.269096  #te:s-N1t50-350p50-350-yama-o->tr:s-N1t50-350p50-350-take-aiueo
###te:s-N1t50-350p50-350-yama-aiueo-t0+100 are recognized as tr:s-N1t50-350p50-350-take-aeeuu-t0+100 (1/5) via m:M4N1-1.###
Result of 'vowelrecog te:s-N1t50-350p50-350-take tr:s-N1t50-350p50-350-yama k:9 N:33-33 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of poles of 'aiueo' of s-N1t50-350p50-350-take and s-N1t50-350p50-350-yama are as follows.
#  0.148333   0.151575   0.134433*  0.151656   0.142001  #te:s-N1t50-350p50-350-take-a->tr:s-N1t50-350p50-350-yama-aiueo
#  0.135644*  0.145564   0.137279   0.154281   0.138375  #te:s-N1t50-350p50-350-take-i->tr:s-N1t50-350p50-350-yama-aiueo
#  0.124345   0.137476   0.127496   0.139592   0.118188* #te:s-N1t50-350p50-350-take-u->tr:s-N1t50-350p50-350-yama-aiueo
#  0.124858   0.124702*  0.132550   0.149884   0.127172  #te:s-N1t50-350p50-350-take-e->tr:s-N1t50-350p50-350-yama-aiueo
#  0.149671*  0.153591   0.156381   0.159846   0.156929  #te:s-N1t50-350p50-350-take-o->tr:s-N1t50-350p50-350-yama-aiueo
###te:s-N1t50-350p50-350-take-aiueo-t0+100 are recognized as tr:s-N1t50-350p50-350-yama-uaoia-t0+100 (0/5) via m:poles4N33-33.###
Result of 'vowelrecog te:s-N1t50-350p50-350-yama tr:s-N1t50-350p50-350-take k:9 N:33-33 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of poles of 'aiueo' of s-N1t50-350p50-350-yama and s-N1t50-350p50-350-take are as follows.
#  0.138187*  0.149875   0.138501   0.144877   0.155438  #te:s-N1t50-350p50-350-yama-a->tr:s-N1t50-350p50-350-take-aiueo
#  0.137175   0.145110   0.141655   0.128297*  0.143231  #te:s-N1t50-350p50-350-yama-i->tr:s-N1t50-350p50-350-take-aiueo
#  0.154898   0.148677*  0.153511   0.150732   0.169878  #te:s-N1t50-350p50-350-yama-u->tr:s-N1t50-350p50-350-take-aiueo
#  0.130095*  0.138894   0.147033   0.147804   0.143434  #te:s-N1t50-350p50-350-yama-e->tr:s-N1t50-350p50-350-take-aiueo
#  0.122024*  0.130610   0.137063   0.142155   0.143338  #te:s-N1t50-350p50-350-yama-o->tr:s-N1t50-350p50-350-take-aiueo
###te:s-N1t50-350p50-350-yama-aiueo-t0+100 are recognized as tr:s-N1t50-350p50-350-take-aeiaa-t0+100 (1/5) via m:poles4N33-33.###


Result of 'vowelrecog te:yama tr:take k:9 N:1-1 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of poles of 'aiueo' of yama and take are as follows.
#  0.168547*  0.394634   0.273702   0.311134   0.186710  #te:yama-a->tr:take-aiueo
#  0.367569   0.141527*  0.195423   0.208922   0.209149  #te:yama-i->tr:take-aiueo
#  0.375610   0.294139   0.172568*  0.248902   0.326930  #te:yama-u->tr:take-aiueo
#  0.336071   0.233766   0.159652*  0.175180   0.261783  #te:yama-e->tr:take-aiueo
#  0.243492   0.241423   0.259827   0.200907   0.178163* #te:yama-o->tr:take-aiueo
###te:yama-aiueo-t0+100 are recognized as tr:take-aiuuo-t0+100 (4/5) via m:poles4N1-1.###
Result of 'vowelrecog te:take tr:yama k:9 N:1-1 m:poles4 dir:../onsei07 T:100 tt:0:100:0:100:100 DISP:2'
### mean distance of poles of 'aiueo' of take and yama are as follows.
#  0.257882*  0.375305   0.339055   0.349721   0.272217  #te:take-a->tr:yama-aiueo
#  0.387992   0.339401   0.332496   0.362084   0.287283* #te:take-i->tr:yama-aiueo
#  0.273702   0.222027   0.162460   0.159652*  0.347727  #te:take-u->tr:yama-aiueo
#  0.287263   0.223398   0.226731   0.175180*  0.259335  #te:take-e->tr:yama-aiueo
#  0.282764   0.374182   0.286546   0.284940   0.178163* #te:take-o->tr:yama-aiueo
###te:take-aiueo-t0+100 are recognized as tr:yama-aoeeo-t0+100 (3/5) via m:poles4N1-1.###
############
#bagging predictions
############
#for name in yama ; do for v in a i u e o ; do
#for name in take ; do for v in a i u e o ; do
for name in take ; do for v in e; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
tf=0;tl=160;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
#tf=50;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
#tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
rsa=rsa:2:0.7:1:20 k=45 N=N:6-6:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "### Done for $cmd ###"
done done
#MSE=4.439577e+03(NMSE7.383852e-02)(nMSE30) 0-160:160-190k45N6mp1:1:1.000000H1-y take-e

for name in take ; do for v in e; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
tf=0;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
#tf=50;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=30;pt=`expr ${pf} + ${pl}`   # tl=150 is necessary for pl=30 of take-e
#tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
rsa=rsa:2:0.7:1:20 k=27 N=N:6-6:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ;date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:0 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "### Done for $cmd ###"
done done
#MSE=1.254976e+05(NMSE4.757149e-01)(n90) 0-150:150-240k27N6mp1:1:1.000000H1-y  #k=27 N=N:6-6:1 

#MSE=1.998059e+04(NMSE9.558350e-02)(n30) 0-150:150-180k27N6mp1:1:1.000000H1-y  #k=27 N=N:6-6:1 
#MSE=4.370536e+04(NMSE2.090784e-01)(n30) 0-150:150-180k54N3mp1:1:1.000000H1-y  #k=54 N=N:3-3:1 
#MSE=3.942118e+04(NMSE1.885837e-01)(n30) 0-150:150-180k54N6mp1:1:1.000000H1-y  #k=54 N=N:6-6:1 

#########
#MSE=3.049512e+05(NMSE6.021903e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y take-a
#MSE=1.140475e+04(NMSE7.060289e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y take-i
#MSE=4.217961e+04(NMSE1.025295e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y take-u
#MSE=3.225528e+04(NMSE9.023119e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y take-e
#MSE=6.002331e+04(NMSE3.823286e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y take-o

#MSE=6.008982e+06(NMSE5.646903e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y yama-a
#MSE=1.332606e+05(NMSE2.641908e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y yama-i
#MSE=2.123203e+05(NMSE3.681047e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y yama-u
#MSE=2.123203e+05(NMSE3.681047e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y yama-e
#MSE=6.256934e+05(NMSE2.761867e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y yama-o

##tuning k and N
#MSE=3.049512e+05(NMSE6.021903e-01)(nMSE80) 50-150:150-230k27N6mp1:1:1.000000H1-y take-a
#MSE=3.427732e+05(NMSE6.768777e-01)(nMSE80) 50-150:150-230k27N7mp1:1:1.000000H1-y take-a
#MSE=4.766506e+05(NMSE9.412466e-01)(nMSE80) 50-150:150-230k27N5mp1:1:1.000000H1-y take-a
#MSE=3.809645e+05(NMSE7.522944e-01)(nMSE80) 50-150:150-230k27N8mp1:1:1.000000H1-y take-a
#MSE=3.539924e+05(NMSE6.990323e-01)(nMSE80) 50-150:150-230k26N6mp1:1:1.000000H1-y take-a
#MSE=3.539924e+05(NMSE6.990323e-01)(nMSE80) 50-150:150-230k26N6mp1:1:1.000000H1-y take-a
#MSE=3.605057e+05(NMSE7.118942e-01)(nMSE80) 50-150:150-230k28N6mp1:1:1.000000H1-y take-a

############
#single CAN2 predictions
############
#for name in take yama ; do for v in a i u e o ; do
#for name in take ; do for v in a; do
#for name in take ; do for v in a i u e o ; do
#for name in yama ; do for v in a i u e o ; do
for name in take ; do for v in e ; do
rm -rf result-ensrs2ge/tmp;
d="../onsei07"
#tf=50;tl=100;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
tf=50;tl=150;tt=`expr ${tf} + ${tl}`;pf=$tt;pl=80;pt=`expr ${pf} + ${pl}` 
rsa=rsa:-1:0.7:1:20 k=10 N=N:33-33:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
cmd="./tspredv3 $d/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10"
$cmd >/dev/null ;date
echo "### Done for $cmd ###"
done done
############
#MSE=6.890470e+04(NMSE1.360668e-01)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y take-a
#MSE=8.634091e+03(NMSE5.345070e-01)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y take-i
#MSE=6.278255e+03(NMSE1.526107e-02)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y take-u
#MSE=9.322030e+04(NMSE2.607752e+00)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y take-e
#MSE=1.538107e+05(NMSE9.797233e-01)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y take-o
###
#MSE=2.520107e+07(NMSE2.368255e+00)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y yama-a
#MSE=2.040071e+04(NMSE4.044467e-02)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y yama-i
#MSE=6.956364e+04(NMSE1.206041e-01)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y yama-u
#MSE=1.089247e+06(NMSE9.473174e-01)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y yama-e
#MSE=2.375292e+04(NMSE1.048475e-02)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y yama-o

#MSE=6.487764e+05(NMSE1.281145e+00)(nMSE80) 50-150:150-230k10N33mp1:1:1.000000H1-y take-a
#MSE=4.416668e+03(NMSE2.734208e-01)(nMSE80) 50-150:150-230k10N33mp1:1:1.000000H1-y take-i
#MSE=7.533737e+05(NMSE1.831287e+00)(nMSE80) 50-150:150-230k10N33mp1:1:1.000000H1-y take-u
#MSE=6.829932e+03(NMSE1.910611e-01)(nMSE80) 50-150:150-230k10N33mp1:1:1.000000H1-y take-e
#MSE=2.493068e+05(NMSE1.588001e+00)(nMSE80) 50-150:150-230k10N33mp1:1:1.000000H1-y take-o



#MSE=6.829932e+03(NMSE1.910611e-01)(nMSE80) 50-150:150-230k10N33mp1:1:1.000000H1-y take-e
#MSE=9.322030e+04(NMSE2.607752e+00)(nMSE80) 50-150:150-230k9N33mp1:1:1.000000H1-y take-e
#MSE=3.645950e+04(NMSE1.019921e+00)(nMSE80) 50-150:150-230k11N33mp1:1:1.000000H1-y take-e

#MSE=1.012158e+05(NMSE1.998719e-01)(nMSE80) 50-150:150-230k9N34mp1:1:1.000000H1-y take-a
#MSE=8.118278e+04(NMSE1.603124e-01)(nMSE80) 50-150:150-230k9N32mp1:1:1.000000H1-y take-a


######
d=../onsei07
#for name in take ; do for v in a i u e o; do
for name in take yama; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
rsa=rsa:2:0.7:1:20 k=9 N=1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; 
#tf=50;tt=150;pf=50;tl=300;pt=`expr ${pf} + ${tl}` 
tf=50;pf=50;tl=300;tt=`expr ${tf} + ${tl}`;pt=`expr ${pf} + ${tl}` 
time ./tspredv3 ${d}/${name}-${v}.dat ${tf}-${tt}:${pf}-${pt} ${mp} ${DM} ${H} N:${N}-${N}-1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
###
cd result-ensrs2ge; 
f="../${d}/s-${name}-N${N}t${tf}-${tt}:${pf}-${pt}-${v}"
p="predictDM0:${pf}-${pt}.dat"
cat ${p} |awk '{print $1-$3}' > ${f}.dat
cat > disp.plt <<EOF
#plot "${f}.dat" using 0:(\$3-\$1) t "${f}" w lp; pause -1 "Hit return key to quit"
plot "${f}.dat" using 0:1 t "${f}" w lp; pause -1 "Hit return key to quit"
EOF
xterm -geometry 50x5-0+0 -e gnuplot -geometry 300x210 disp.plt&
cd ..;echo "### Done for ${f} ###"
done ; done
#################
##te:take-aiueo-t200+100 are recognized as tr:take-aiueo-t100+100 (5/5) via m:M4N1-1.#
vowelrecog te:take  tr:yama k:9 N:1-1 m:M4 dir:${d} T:100 tt:100:100:200:100:100 DISP:2 >/dev/null
#  0.563423*  1.131986   0.568556   0.863718   0.326062* #tr:yama-a
#  1.153848   0.295958*  0.853964   0.455469   1.088103  #tr:yama-i
#  0.730116   0.772451   0.263415*  0.529942   0.521324  #tr:yama-u
#  0.821061   0.511239   0.407770   0.312192*  0.679685  #tr:yama-e
#  0.921208   1.556293   1.009119   1.314809   0.791130  #tr:yama-o
vowelrecog te:yama  tr:take k:9 N:1-1 m:M4 dir:${d} T:100 tt:100:100:200:100:100 DISP:2 >/dev/null
#  0.656710   1.131223   0.777335   0.855525   1.063975  #tr:take-a
#  1.157995   0.372779*  0.843944   0.543795   1.598255  #tr:take-i
#  0.542737   0.815621   0.302981*  0.395307   1.017582  #tr:take-u
#  0.846555   0.450016   0.580405   0.287323*  1.304721  #tr:take-e
#  0.291585*  1.133913   0.616411   0.761041   0.549317* #tr:take-o
##te:yama-aiueo-t200+100 are recognized as tr:take-oiueo-t100+100 (4/5) via m:M4N1-1.#
vowelrecog te:take  tr:take k:9 N:1-1 m:M4 dir:${d} T:100 tt:100:100:200:100:100 DISP:2 >/dev/null
#  0.161366*  1.246872   0.820082   0.988661   0.766090  #tr:take-a
#  1.278183   0.092611*  0.837960   0.403813   1.094997  #tr:take-i
#  0.774329   0.808820   0.069259*  0.517327   0.532643  #tr:take-u
#  0.983702   0.379639   0.535969   0.049177*  0.817323  #tr:take-e
#  0.681487   1.178867   0.668663   0.919566   0.309655* #tr:take-o
vowelrecog te:yama  tr:yama k:9 N:1-1 m:M4 dir:${d} T:100 tt:100:100:200:100:100 DISP:2 >/dev/null
#te:yama-a  #te:yama-i  #te:yama-u  #te:yama-e  #te:yama-o  
#  0.021799*  1.041196   0.600006   0.661682   0.635977  #tr:yama-a
#  1.077582   0.060946*  0.899456   0.506348   1.521569  #tr:yama-i
#  0.587509   0.819426   0.149958*  0.393634   1.067111  #tr:yama-u
#  0.647710   0.496562   0.417279   0.045915*  1.111449  #tr:yama-e
#  0.596230   1.478404   0.965302   1.114737   0.072195* #tr:yama-o
##te:yama-aiueo-t200+100 are recognized as tr:yama-aiueo-t100+100 (5/5) via m:M4N1-1.#



vowelrecog te:take  tr:take k:9 N:32-32 m:poles4 dir:${d} T:100 tt:100:100:200:100:100 DISP:2 >/dev/null
#  0.116909*  0.121043   0.130291   0.143333   0.138339  #tr:take-a
#  0.146494   0.104968*  0.132648   0.148425   0.153534  #tr:take-i
#  0.137152   0.126375   0.117118*  0.143906   0.137041* #tr:take-u
#  0.126502   0.117302   0.137926   0.122459*  0.137568  #tr:take-e
#  0.144996   0.136771   0.133920   0.141247   0.140629  #tr:take-o
 vowelrecog te:take  tr:yama k:9 N:32-32 m:poles4 dir:${d} T:100 tt:100:100:100:100:100 DISP:2 >/dev/null
#te:take-a  #te:take-i  #te:take-u  #te:take-e  #te:take-o  
#  0.151727   0.191129   0.176004   0.172104   0.168093  #tr:yama-a
#  0.154508   0.130615   0.136942   0.131971*  0.142230  #tr:yama-i
#  0.143086*  0.114126*  0.116308   0.136303   0.136856  #tr:yama-u
#  0.150221   0.128305   0.114288*  0.134080   0.137803  #tr:yama-e
#  0.143813   0.136197   0.135274   0.137220   0.128997* #tr:yama-o
##te:take-aiueo-t100+100 are recognized as tr:yama-uueio-t100+100 (1/5) via m:poles4N32-32.#
vowelrecog te:yama  tr:take k:9 N:32-32 m:poles4 dir:${d} T:100 tt:0:100:100:100:100 DISP:2 >/dev/null
#te:yama-a  #te:yama-i  #te:yama-u  #te:yama-e  #te:yama-o  
#  0.117026*  0.159062   0.162957   0.188698   0.143003  #tr:take-a
#  0.150160   0.137472   0.148996   0.185365   0.163551  #tr:take-i
#  0.135939   0.129713*  0.125451*  0.154459   0.140135  #tr:take-u
#  0.145534   0.140458   0.152118   0.171100   0.142552  #tr:take-e
#  0.123885   0.138226   0.149765   0.154351*  0.133097* #tr:take-o
##te:yama-aiueo-t100+100 are recognized as tr:take-auuoo-t0+100 (3/5) via m:poles4N32-32.#
vowelrecog te:take  tr:yama k:9 N:32-32 m:poles4 dir:${d} T:100 tt:0:100:100:100:100 DISP:2 >/dev/null
#te:take-a  #te:take-i  #te:take-u  #te:take-e  #te:take-o  
#  0.131173   0.168734   0.151125   0.149075   0.150487  #tr:yama-a
#  0.146672   0.122752   0.136898   0.139767   0.137517  #tr:yama-i
#  0.146291   0.110913*  0.117713   0.130374   0.129852  #tr:yama-u
#  0.127556*  0.120103   0.113849*  0.120596*  0.116984* #tr:yama-e
#  0.148701   0.146551   0.133564   0.134591   0.133270  #tr:yama-o
##te:take-aiueo-t100+100 are recognized as tr:yama-eueee-t0+100 (1/5) via m:poles4N32-32.#




vowelrecogv2 te:yama  tr:take k:9 N:32-32 m:poles4 dir:${d} T:100 tt:0:100:0:100:100 DISP:2 >/dev/null
te:yama-a  te:yama-i  te:yama-u  te:yama-e  te:yama-o  
  0.135603*  0.160961   0.169371   0.177916   0.124141  #tr:take-a
  0.157359   0.143948*  0.159693   0.167628   0.136737  #tr:take-i
  0.153375   0.145051   0.139545*  0.141245*  0.114194  #tr:take-u
  0.147347   0.146818   0.152970   0.145547   0.120908  #tr:take-e
  0.137306   0.161887   0.155888   0.143734   0.103554* #tr:take-o
#te:yama-aiueo-t0+100 are recognized as tr:take-aiuuo-t0+100 (4/5) via m:poles4N32-32.#
vowelrecog te:take  tr:yama k:9 N:32-32 m:poles4 dir:${d} T:100 tt:0:100:0:100:100 DISP:2 >/dev/null
#te:take-a  te:take-i  te:take-u  te:take-e  te:take-o  
#  0.117247*  0.164887   0.155123   0.159196   0.138829  #tr:yama-a
#  0.135620   0.141590   0.150107   0.135422   0.150593  #tr:yama-i
#  0.128145   0.134726*  0.137770   0.127985   0.145195  #tr:yama-u
#  0.121051   0.135865   0.118954*  0.123648*  0.122976* #tr:yama-e
#  0.148171   0.159466   0.137180   0.150252   0.130268  #tr:yama-o
##te:take-aiueo-t0+100 are recognized as tr:yama-aueee-t0+100 (2/5) via m:poles4N32-32.#
vowelrecogv2 te:yama  tr:take k:9 N:32-32 m:poles4 dir:${d} T:100 tt:500:500:500:500:100 DISP:2 >/dev/null

##################

070117
for name in yama ; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
ft=800;fr=${ft};tl=120;frtl=`expr ${fr} + ${tl}` ;
rsa=rsa:2:0.7:1:20 k=9 N=3 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../onsei07/${name}-${v}.dat 0-${ft}:${fr}-${to} ${mp} ${DM} ${H} N:${N}-${N}-1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
###
cd result-ensrs2ge; 
f=${name}-${v}-N${N}t${fr}-${tl}
cp predictDM0:${fr}-`expr ${fr} + ${tl}`.dat ${f}.dat
cat > disp.plt <<EOF
plot "${f}.dat" using 0:(\$1-\$3) t "${f}" w lp; pause -1 "Hit return key to quit"
EOF
xterm -geometry 50x5-0+0 -e gnuplot -geometry 300x210 disp.plt& ;cd ..;
###
echo "### Done for ${f} ###"
done ; done
####


#for name in take ; do for v in a i u e o; do
for name in take ; do for v in a; do
rm -rf result-ensrs2ge/tmp;
rsa=rsa:2:0.7:1:20 k=27 N=3 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; 
#fr=1600;tl=160;frtl=`expr ${fr} + ${tl}` ;to=${frtl};
#time ./tspredv3 ../onsei07/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} N:${N}-${N}-1 M:1-1:1 ssp:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
ft=1600;fr=100;tl=160;frtl=`expr ${fr} + ${tl}` ;to=${frtl};
time ./tspredv3 ../onsei07/${name}-${v}.dat 0-${ft}:${fr}-${to} ${mp} ${DM} ${H} N:${N}-${N}-1 M:1-1:1 ssp:1 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
###
cd result-ensrs2ge; 
f=${name}-${v}-N${N}t${fr}-${tl}
cp predictDM0:${fr}-`expr ${fr} + ${tl}`.dat ${f}.dat
cat > disp.plt <<EOF
plot "${f}.dat" using 0:(\$1-\$3) t "${f}" w lp; pause -1 "Hit return key to quit"
EOF
xterm -geometry 50x5-0+0 -e gnuplot -geometry 300x210 disp.plt&
cd ..;echo "### Done for ${f} ###"
done ; done
####################


061218
(1) y:0:0:0:1 で行う。
#for name in take yama ; do for v in a i u e o ; do
for name in yama ; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
fr=200 tl=80; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:-1:0.7:1:20 k=27 N=N:27-27:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
#rsa=rsa:2:0.7:1:20 k=27 N=N:11-11:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../onsei07/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
echo "### Done for ${name}-${v} ###"
done ; done
## result for rsa:-1:0.7:1:20
#MSE=2.748788e+04(NMSE5.964595e-02)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y
#MSE=2.197198e+04(NMSE1.348575e+00)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y
#MSE=5.365675e+03(NMSE1.521246e-02)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y
#MSE=1.759523e+03(NMSE5.263299e-02)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y
#MSE=2.939815e+03(NMSE1.729125e-02)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y
## result for rsa:2:0.7:1:20
#MSE=3.134008e+04(NMSE6.800483e-02)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y
#MSE=3.525857e+03(NMSE2.164067e-01)(nMSE80) 0-200:200-280k27N27mp1:1:1.000000H1-y


#for name in take yama ; do for v in a i u e o ; do
for name in take ; do for v in a i u e o; do
rm -rf result-ensrs2ge/tmp;
fr=1500 tl=80; frtl=`expr ${fr} + ${tl}` 
#rsa=rsa:-1:0.7:1:20 k=27 N=N:27-27:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
rsa=rsa:2:0.7:1:20 k=27 N=N:27-27:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../onsei07/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null
echo "### Done for ${name}-${v} ###"
done ; done
## result for rsa:-1:0.7:1:20
#MSE=4.961844e+04(NMSE9.366967e-02)(nMSE80) 0-1500:1500-1580k27N27mp1:1:1.000000H1-y
#MSE=5.479808e+03(NMSE3.213319e-01)(nMSE80) 0-1500:1500-1580k27N27mp1:1:1.000000H1-y
#MSE=3.420459e+03(NMSE8.794407e-03)(nMSE80) 0-1500:1500-1580k27N27mp1:1:1.000000H1-y
#MSE=1.063170e+03(NMSE3.479607e-02)(nMSE80) 0-1500:1500-1580k27N27mp1:1:1.000000H1-y
#MSE=1.000230e+04(NMSE6.986406e-02)(nMSE80) 0-1500:1500-1580k27N27mp1:1:1.000000H1-y
## result for rsa:2:0.7:1:20




061130
(1) can2の時系列処理の入力の指定に
    <ttrainfrom>-<ttrainto>:<tpredfrom>-<tpredto>
    の形を導入した。<tpredfrom>は<ttrainto>より小さくてもよいし、
    <tpredto>は時系列データファイルのデータ数より
    大きくても良い。

(2) 予測範囲が長すぎると訓練データ自体の信頼性が落ちるかもしれない。
    061129の実験でtl=80 (≒100ms)として再実験してみた。
    結果として、DiffMode:0のバギング(下の(2-2-1)参照)が同じ学習パラメー
    タで最良のMSEを出した(時間がかかり過ぎ?)、DiffMode:0のSingleCAN2
    (下の(2-1-1),(2-1-2))は速く、MSEもまあまあ良い。


(2) DiffMode:0 == DirectMode
(2-1-1) single CAN2の結果 (rsa:-1:0.7:1:20) with k=27 N:39
for name in eguti sawa ; do for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 tl=80; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:-1:0.7:1:20 k=27 N=N:39-39:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=1.777335e+01(NMSE1.985829e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y eguti-a
#MSE=5.603460e+02(NMSE2.063091e-01)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y eguti-i
#MSE=5.603460e+02(NMSE2.063091e-01)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y eguti-u
#MSE=4.020733e+01(NMSE3.318406e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y eguti-e
#MSE=6.204179e+00(NMSE3.906233e-03)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y eguti-o
#MSE=1.401718e+00(NMSE2.747530e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y sawa-a 
#MSE=4.900717e+01(NMSE1.546908e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y sawa-i 
#MSE=1.514313e+02(NMSE5.856770e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y sawa-u 
#MSE=1.380537e+02(NMSE5.994129e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y sawa-e 
#MSE=1.822799e+01(NMSE8.602814e-03)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-y sawa-o 
(2-1-2) with k=9 N:33
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 tl=80; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:-1:0.7:1:20 k=9 N=N:33-33:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=7.599102e+02(NMSE8.490528e-01)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-a
#MSE=6.658584e+01(NMSE2.451567e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-i
#MSE=1.004734e+02(NMSE2.969160e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-u
#MSE=1.192962e+02(NMSE9.845795e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-e
#MSE=3.090551e+01(NMSE1.945852e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-o
#MSE=2.961170e-01(NMSE5.804235e-03)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-a 
#MSE=8.172031e+01(NMSE2.579496e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-i 
#MSE=9.047537e+01(NMSE3.499233e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-u 
#MSE=4.433184e+01(NMSE1.924836e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-e 
#MSE=6.278088e+01(NMSE2.962983e-02)(t:2000-2080) 0-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-o 
(2-1-3) with k=9 fr0=1200 
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 tl=80; frtl=`expr ${fr} + ${tl}` ; fr0=1200
rsa=rsa:-1:0.7:1:20 k=9 N=N:33-33:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat ${fr0}-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=2.269411e+02(NMSE2.535628e-01)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-a
#MSE=1.250799e+02(NMSE4.605211e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-i
#MSE=6.619580e+01(NMSE1.956198e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-u
#MSE=3.119275e+03(NMSE2.574412e+00)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-e NG
#MSE=3.123920e+01(NMSE1.966861e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y eguti-o
#MSE=6.176743e-01(NMSE1.210713e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-a 
#MSE=1.378651e+02(NMSE4.351702e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-i 
#MSE=1.460155e+01(NMSE5.647308e-03)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-u 
#MSE=9.141008e+01(NMSE3.968917e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-e 
#MSE=6.743741e+01(NMSE3.182751e-02)(t:2000-2080) 1200-2000:2000-2080k9N33mp1:1:1.000000H1-y sawa-o 


(2-2) バギングCAN2の結果 (using rsa:2:0.7:1:20) → eguti-a を除いて上の結果(singleCAN2)より良い。
(2-2-1) k=27 N:11
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 tl=80; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:2:0.7:1:20 k=27 N=N:11-11:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=7.662499e+01(NMSE8.561362e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-a
#MSE=1.874264e+02(NMSE6.900693e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-i
#MSE=1.283192e+02(NMSE3.792049e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-u
#MSE=1.269720e+01(NMSE1.047930e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-e
#MSE=2.207090e+00(NMSE1.389613e-03)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-o
#MSE=7.397965e-01(NMSE1.450087e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y sawa-a
#MSE=3.649032e+01(NMSE1.151814e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y sawa-i
#MSE=7.119636e+01(NMSE2.753596e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y sawa-u
#MSE=3.778879e+01(NMSE1.640745e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y sawa-e
#MSE=2.122361e+01(NMSE1.001662e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y sawa-o 

#MSE=7.905030e+01(NMSE8.832344e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-a rsa:2:0.7:111:20
#MSE=8.218173e+01(NMSE9.182220e-02)(t:2000-2080) 0-2000:2000-2080k27N11mp1:1:1.000000H1-y eguti-a rsa:2:0.7:1:50 why worse?

(2-2-2) k=9 N=N:11
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 tl=80; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:2:0.7:1:20 k=9 N=11 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl} NN=N:${N}-${N}:1 ;date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${NN} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=8.505816e+02(NMSE9.503605e-01)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y eguti-a
#MSE=1.188184e+02(NMSE4.374676e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y eguti-i
#MSE=1.628271e+02(NMSE4.811817e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y eguti-u
#MSE=2.455665e+01(NMSE2.026719e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y eguti-e
#MSE=8.688178e+01(NMSE5.470193e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y eguti-o
#MSE=6.878565e-01(NMSE1.348278e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y sawa-a 
#MSE=7.592258e+01(NMSE2.396491e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y sawa-i 
#MSE=7.629008e+01(NMSE2.950601e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y sawa-u 
#MSE=4.015371e+01(NMSE1.743426e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y sawa-e 
#MSE=5.015262e+01(NMSE2.366985e-02)(t:2000-2080) 0-2000:2000-2080k9N11mp1:1:1.000000H1-y sawa-o 


#MSE=7.474199e+02(NMSE8.350972e-01)(t:2000-2080) 0-2000:2000-2080k9N10mp1:1:1.000000H1-y real7m9.260suser3m15.175s

() DiffMode:1
for name in eguti ; do ; for v in a ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 tl=80; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:-1:0.7:1:20 k=28 N=36 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};NN=N:${N}-${N}:1;date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${NN} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=2.034968e+01(NMSE2.273684e-02) MSEdy=1.704627e+01(NMSEdy5.944871e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy eguti-a
#MSE=1.097755e+03(NMSE4.041733e-01) MSEdy=2.740830e+02(NMSEdy1.282771e+00)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy eguti-i
#MSE=8.766312e+01(NMSE2.590593e-02) MSEdy=5.273546e+01(NMSEdy1.266366e-01)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy eguti-u
#MSE=2.184390e+02(NMSE1.802829e-01) MSEdy=1.644272e+02(NMSEdy5.883234e-01)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy eguti-e
#MSE=2.229200e+01(NMSE1.403534e-02) MSEdy=7.525847e+00(NMSEdy1.933243e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy eguti-o
#MSE=3.906478e+00(NMSE7.657148e-02) MSEdy=1.751304e+00(NMSEdy8.892970e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy sawa-a 
#MSE=5.008910e+02(NMSE1.581059e-01) MSEdy=1.757534e+02(NMSEdy8.934986e-01)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy sawa-i 
#MSE=6.733366e+01(NMSE2.604202e-02) MSEdy=2.790906e+01(NMSEdy9.394909e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy sawa-u 
#MSE=3.010935e+01(NMSE1.307312e-02) MSEdy=2.896697e+01(NMSEdy6.410817e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy sawa-e 
#MSE=1.542055e+01(NMSE7.277826e-03) MSEdy=5.531442e+00(NMSEdy1.236006e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy sawa-o 
																  
#MSE=2.034968e+01(NMSE2.273684e-02) MSEdy=1.704627e+01(NMSEdy5.944871e-02)(t:2000-2080) 0-2000:2000-2080k28N36mp1:1:1.000000H1-dy eguti-a
#MSE=3.162893e+01(NMSE3.533921e-02) MSEdy=1.983809e+01(NMSEdy6.918518e-02)(t:2000-2080) 0-2000:2000-2080k28N35mp1:1:1.000000H1-dy
#MSE=6.676905e+01(NMSE7.460151e-02) MSEdy=2.333967e+01(NMSEdy8.139692e-02)(t:2000-2080) 0-2000:2000-2080k27N36mp1:1:1.000000H1-dy
#MSE=2.241226e+01(NMSE2.504137e-02) MSEdy=1.449823e+01(NMSEdy5.056246e-02)(t:2000-2080) 0-2000:2000-2080k28N37mp1:1:1.000000H1-dy
#MSE=2.916421e+01(NMSE3.258537e-02) MSEdy=1.736472e+01(NMSEdy6.055933e-02)(t:2000-2080) 0-2000:2000-2080k28N38mp1:1:1.000000H1-dy
#MSE=3.064337e+01(NMSE3.423805e-02) MSEdy=2.036636e+01(NMSEdy7.102750e-02)(t:2000-2080) 0-2000:2000-2080k29N38mp1:1:1.000000H1-dy
#MSE=4.794899e+01(NMSE5.357373e-02) MSEdy=1.977626e+01(NMSEdy6.896953e-02)(t:2000-2080) 0-2000:2000-2080k27N38mp1:1:1.000000H1-dy
#MSE=4.920380e+01(NMSE5.497574e-02) MSEdy=2.037126e+01(NMSEdy7.104460e-02)(t:2000-2080) 0-2000:2000-2080k27N37mp1:1:1.000000H1-dy
#MSE=5.006442e+01(NMSE5.593731e-02) MSEdy=1.893499e+01(NMSEdy6.603561e-02)(t:2000-2080) 0-2000:2000-2080k27N39mp1:1:1.000000H1-dy
#MSE=7.023986e+01(NMSE7.847946e-02) MSEdy=3.446827e+01(NMSEdy1.202078e-01)(t:2000-2080) 0-2000:2000-2080k26N38mp1:1:1.000000H1-dy


#############
061129
(1) CAN2を用いる時系列予測のユーティリティソフトtspredv3の機能を整備してきた。
    y:<ymin0>:<ymax0>:<ymin>:<ymax>は、基本的に <ymin0>:<ymax0>の範囲の信号を
    <ymin>:<ymax>の範囲に正規化して学習するが、    061129のバージョンでは
    y:0:0::<ymin>:<ymax>とすると、訓練時系列の最小値と最大値をそれぞれ自動的に
    求め<ymin0>:<ymax0>に設定する。

(1) 以前は、bestmsp.net 再現していたが、これは予測値が既知でないとでき
    ない。また学習パラメータもデータに応じて変えていた。最近、
    last.netでも良い予測ができるパラメタがあるようなので結果を示す。
    (但し、以下の結果は予測ステップ数を100にしているから良い?)
(2) DiffMode:0 == DirectMode
(2-1) single CAN2の結果 (using rsa:-1:0.7:1:20)
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
#fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
fr=2000 tl=100; frtl=`expr ${fr} + ${tl}` 
rsa=rsa:-1:0.7:1:20 k=27 N=N:39-39:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=2.963505e+01(NMSE2.927283e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-a
#MSE=6.696176e+02(NMSE2.375721e-01)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-i
#MSE=6.984699e+02(NMSE2.092091e-01)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-u
#MSE=6.689679e+01(NMSE5.413557e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-e
#MSE=1.526795e+01(NMSE9.362253e-03)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-o
#MSE=1.456017e+00(NMSE2.705517e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y sawa-a	
#MSE=6.432682e+01(NMSE2.098096e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y sawa-i 
#MSE=1.543810e+02(NMSE6.245215e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y sawa-u 
#MSE=3.276432e+02(NMSE1.391842e-01)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y sawa-e	
#MSE=3.449691e+01(NMSE1.532200e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y sawa-o 
#forTuningParameters#MSE=1.518723e+02(NMSE1.500160e-01)(t:2000-2100) 0-2000:2000-2100k38N39mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=2.963505e+01(NMSE2.927283e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=4.204619e+01(NMSE4.153227e-02)(t:2000-2100) 0-2000:2000-2100k27N38mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=6.823106e+01(NMSE6.739708e-02)(t:2000-2100) 0-2000:2000-2100k27N40mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=7.518025e+01(NMSE7.426134e-02)(t:2000-2100) 0-2000:2000-2100k25N39mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.044864e+02(NMSE1.032093e-01)(t:2000-2100) 0-2000:2000-2100k26N39mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.756519e+02(NMSE1.735050e-01)(t:2000-2100) 0-2000:2000-2100k24N38mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.651647e+02(NMSE1.631459e-01)(t:2000-2100) 0-2000:2000-2100k17N40mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.659229e+02(NMSE1.638949e-01)(t:2000-2100) 0-2000:2000-2100k17N41mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.669030e+02(NMSE1.648630e-01)(t:2000-2100) 0-2000:2000-2100k17N39mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.765225e+02(NMSE1.743649e-01)(t:2000-2100) 0-2000:2000-2100k17N43mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.681765e+02(NMSE1.661209e-01)(t:2000-2100) 0-2000:2000-2100k17N45mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=1.969462e+02(NMSE1.945389e-01)(t:2000-2100) 0-2000:2000-2100k17N35mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=2.080792e+02(NMSE2.055359e-01)(t:2000-2100) 0-2000:2000-2100k17N33mp1:1:1.000000H1-y eguti-a
#forTuningParameters#MSE=2.124515e+02(NMSE2.098548e-01)(t:2000-2100) 0-2000:2000-2100k17N32mp1:1:1.000000H1-y sawa-a

(2-2) バギングCAN2の結果 (using rsa:2:0.7:1:20) → eguti-a を除いて上の結果(singleCAN2)より良い。
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:2:0.7:1:20 k=27 N=N:11-11:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=6.941099e+01(NMSE6.856260e-02)(t:2000-2100) 0-2000:2000-2100k27N39mp1:1:1.000000H1-y eguti-a y:0:0:0:1
#MSE=1.536815e+02(NMSE1.518031e-01)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-a y:0:0:0:1
#MSE=1.342190e+02(NMSE1.325784e-01)(t:2000-2100) 0-2000:2000-2100k27N20mp1:1:1.000000H1-y eguti-a y:0:0:0:1
#MSE=1.229033e+03(NMSE1.214011e+00)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-a y:0:0:0:1 rsa:2:0.7:1:40
#MSE=1.747958e+02(NMSE1.726593e-01)(t:2000-2100) 0-2000:2000-2100k27N10mp1:1:1.000000H1-y eguti-a
#MSE=1.624615e+02(NMSE1.604757e-01)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-a
#MSE=2.377505e+02(NMSE8.435097e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-i
#MSE=1.795480e+02(NMSE5.377911e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-u
#MSE=1.184810e+01(NMSE9.587954e-03)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-e
#MSE=2.498368e+00(NMSE1.531991e-03)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-o
#MSE=8.899648e-01(NMSE1.653700e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y sawa-a
#MSE=7.522209e+01(NMSE2.453458e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y sawa-i
#MSE=8.547527e+01(NMSE3.457753e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y sawa-u
#MSE=7.878061e+01(NMSE3.346634e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y sawa-e
#MSE=3.562700e+01(NMSE1.582394e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y sawa-o

(2-3) eguti-aだけブースティングしてみる (using rsa:2:0.7:1:20 and Tbst:10)
for name in eguti ; do
for v in a ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:2:0.7:1:20 k=27 N=N:11-11:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} Tbst:10 ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=1.698668e+02(NMSE1.677906e-01)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y eguti-a

(注意) 下記の071126の 時間差分時系列 dy(t)=y(t)-y(t-1) (DiffMode:1) による
       多段予測は結構安定しているが、DiffMode:1 より精度は悪い?

###############
061126
(1) 時間差分時系列 dy(t)=y(t)-y(t-1)による多段予測←Seems good! Why??
   (1-1) 以前は、bestmsp.net で再現していたが、これは予測値が既知でないとできない。
   (1-2) last.netを用いると、DiffMode:0 ではうまく行かない場合があるが、
         DiffMode:1ではすべてうまくいく(NMSE＜1)! ←    Why? Analyse it!!!!!

for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:-1:0.7:1:20 k=9 N=N:32-32:1 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
###for y:0:0:0:1
#MSE=6.263483e+02(NMSE6.186926e-01) MSEdy=2.928036e+02(NMSEdy8.879226e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-a
#MSE=3.988064e+02(NMSE1.414916e-01) MSEdy=4.741196e+01(NMSEdy2.338768e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-i
#MSE=2.926719e+02(NMSE8.766253e-02) MSEdy=1.043423e+02(NMSEdy2.617765e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-u
#MSE=1.501092e+02(NMSE1.214744e-01) MSEdy=2.595432e+01(NMSEdy9.663073e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-e
#MSE=1.045830e+02(NMSE6.412997e-02) MSEdy=2.961121e+01(NMSEdy7.831467e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-o
#MSE=3.138929e+00(NMSE5.832643e-02) MSEdy=1.440558e+00(NMSEdy7.424871e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-a 
#MSE=3.810465e+02(NMSE1.242828e-01) MSEdy=6.553375e+01(NMSEdy3.145143e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-i 
#MSE=1.292831e+02(NMSE5.229922e-02) MSEdy=4.589568e+01(NMSEdy1.620370e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-u 
#MSE=1.624228e+02(NMSE6.899793e-02) MSEdy=4.825326e+01(NMSEdy1.011072e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-e 
#MSE=1.445319e+02(NMSE6.419470e-02) MSEdy=3.292327e+01(NMSEdy7.298104e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-o 

###for y:-65:65:0:1 
#MSE=6.355390e+02(NMSE6.277709e-01) MSEdy=2.962713e+02(NMSEdy8.984385e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-a dy:-56.866666:41.866666
#MSE=3.434669e+02(NMSE1.218579e-01) MSEdy=4.729768e+01(NMSEdy2.333130e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-i dy:-38.808000:48.888000
#MSE=2.958680e+02(NMSE8.861983e-02) MSEdy=1.056234e+02(NMSEdy2.649906e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-u dy:-49.115000:58.905000
#MSE=1.112579e+02(NMSE9.003432e-02) MSEdy=2.497909e+01(NMSEdy9.299987e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-e dy:-50.826667:42.453333
#MSE=2.754814e+02(NMSE1.689243e-01) MSEdy=7.350178e+01(NMSEdy1.943949e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-o dy:-53.194186:45.756977
#MSE=3.945766e+00(NMSE7.331878e-02) MSEdy=1.539081e+00(NMSEdy7.932677e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-a  dy:-29.156250:21.381250
#MSE=2.301742e+02(NMSE7.507406e-02) MSEdy=6.279975e+01(NMSEdy3.013931e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-i  dy:-54.697500:41.973750
#MSE=1.249554e+02(NMSE5.054852e-02) MSEdy=4.343387e+01(NMSEdy1.533455e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-u  dy:-61.444444:47.379629
#MSE=1.036524e+02(NMSE4.403197e-02) MSEdy=3.282246e+01(NMSEdy6.877434e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-e  dy:-58.155488:43.216463
#MSE=1.662462e+02(NMSE7.383921e-02) MSEdy=3.715970e+01(NMSEdy8.237192e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-o  dy:-47.221622:38.038176

###for y:-60:60:0:1 
#MSE=6.315565e+02(NMSE6.238372e-01) MSEdy=2.942300e+02(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-a dy:-56.866666:41.866666
#MSE=2.627844e+02(NMSE9.323271e-02) MSEdy=4.903671e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-i dy:-38.808000:48.888000
#MSE=2.955944e+02(NMSE8.853789e-02) MSEdy=1.053394e+02(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-u dy:-49.115000:58.905000
#MSE=1.144599e+02(NMSE9.262551e-02) MSEdy=2.511225e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-e dy:-50.826667:42.453333
#MSE=2.801220e+02(NMSE1.717698e-01) MSEdy=7.428013e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy eguti-o dy:-53.194186:45.756977
#MSE=4.074552e+00(NMSE7.571184e-02) MSEdy=1.539785e+00(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-a  dy:-29.156250:21.381250
#MSE=2.272529e+02(NMSE7.412125e-02) MSEdy=6.301444e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-i  dy:-54.697500:41.973750
#MSE=1.395245e+02(NMSE5.644218e-02) MSEdy=4.910946e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-u  dy:-61.444444:47.379629
#MSE=1.412905e+02(NMSE6.002080e-02) MSEdy=4.457464e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-e  dy:-58.155488:43.216463
#MSE=1.454522e+02(NMSE6.460345e-02) MSEdy=3.342463e+01(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-dy sawa-o  dy:-47.221622:38.038176

(2) 時間差分時系列 dy(t)=y(t)-y(t-1)による多段予測+バギング → eguti-eが悪くなる
for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:2:0.7:1:20 k=9 N=N:10-10:1 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:-65:65:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
y:0:0:0:1
#MSE=1.989444e+02(NMSE1.965127e-01) MSEdy=7.111561e+01(NMSEdy2.156570e-01)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-a
#MSE=1.414866e+02(NMSE5.019773e-02) MSEdy=3.695213e+01(NMSEdy1.822799e-01)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-i
#MSE=2.949033e+02(NMSE8.833087e-02) MSEdy=1.051311e+02(NMSEdy2.637556e-01)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-u
#MSE=4.014339e+03(NMSE3.248564e+00) MSEdy=3.767509e+02(NMSEdy1.402684e+00)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-e NG
#MSE=1.517007e+02(NMSE9.302236e-02) MSEdy=1.599766e+01(NMSEdy4.231003e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-o
#MSE=8.308334e+00(NMSE1.543824e-01) MSEdy=1.439079e+00(NMSEdy7.417250e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-a
#MSE=7.477163e+02(NMSE2.438766e-01) MSEdy=4.689204e+01(NMSEdy2.250476e-01)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-i
#MSE=1.049538e+02(NMSE4.245724e-02) MSEdy=2.185734e+01(NMSEdy7.716843e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-u
#MSE=4.797429e+01(NMSE2.037969e-02) MSEdy=1.910645e+01(NMSEdy4.003458e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-e
#MSE=1.630154e+02(NMSE7.240425e-02) MSEdy=3.320778e+01(NMSEdy7.361170e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-o

y:-65:65:0:1
#MSE=1.732153e+02(NMSE1.710982e-01) MSEdy=6.620125e+01(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy                     eguti-a 
#MSE=1.534311e+02(NMSE5.443549e-02) MSEdy=4.366775e+01(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy                     eguti-i
#MSE=2.983827e+02(NMSE8.937305e-02) MSEdy=1.059436e+02(NMSEdy2.657939e-01)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-u
#MSE=5.161555e+03(NMSE4.176937e+00) MSEdy=4.799294e+02(NMSEdy1.786829e+00)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-e NG
#MSE=1.315890e+02(NMSE8.068996e-02) MSEdy=1.484620e+01(NMSEdy3.926471e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy eguti-o 
#MSE=2.500633e+00(NMSE4.646584e-02) MSEdy=1.175532e+00(NMSEdy6.058885e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-a
#MSE=3.812440e+02(NMSE1.243473e-01) MSEdy=3.675614e+01(NMSEdy1.764027e-01)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-i 
#MSE=9.918936e+01(NMSE4.012532e-02) MSEdy=2.491496e+01(NMSEdy8.796354e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-u 
#MSE=6.007548e+01(NMSE2.552032e-02) MSEdy=2.261588e+01(NMSEdy4.738805e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-e
#MSE=1.574827e+02(NMSE6.994685e-02) MSEdy=3.289021e+01(NMSEdy7.290775e-02)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy sawa-o 

rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:2:0.7:1:20 k=9 N=N:10-10:1 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=1.989444e+02(NMSE1.965127e-01) MSEdy=7.111561e+01(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-dy real26m59.744s
#MSE=2.723947e+02(NMSE2.690653e-01) MSEdy=8.745960e+01(t:2000-2100) 0-2000:2000-2100k9N9mp1:1:1.000000H1-dy
#MSE=3.826324e+02(NMSE3.779556e-01) MSEdy=1.717842e+02(t:2000-2100) 0-2000:2000-2100k9N11mp1:1:1.000000H1-dy
#MSE=6.730678e+02(NMSE6.648410e-01) MSEdy=3.136597e+02(t:2000-2100) 0-2000:2000-2100k9N13mp1:1:1.000000H1-dy 
#MSE=7.584162e+02(NMSE7.491463e-01) MSEdy=3.523824e+02(t:2000-2100) 0-2000:2000-2100k9N14mp1:1:1.000000H1-dy


for name in eguti sawa ; do
for v in a i u e o ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${#MSE=7.878061e+01(NMSE3.346634e-02)(t:2000-2100) 0-2000:2000-2100k27N11mp1:1:1.000000H1-y
fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:-1:0.7:1:20 k=9 N=N:32-32:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
###for y:0:0:0:1
#MSE=3.450765e+02(NMSE3.408588e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-a
#MSE=7.642637e+01(NMSE2.711515e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-i
#MSE=3.976197e+02(NMSE1.190970e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-u
#MSE=2.554470e+02(NMSE2.067180e-01)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-e
#MSE=7.454342e+00(NMSE4.570977e-03)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-o
#MSE=7.968937e-01(NMSE1.480759e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-a 
#MSE=1.357820e+02(NMSE4.428690e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-i 
#MSE=1.133720e+02(NMSE4.586266e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-u 
#MSE=7.422204e+01(NMSE3.152985e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-e 
#MSE=9.626804e+01(NMSE4.275801e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-o 

###for y:0:255:0:1
#MSE=1.797723e+03(NMSE1.775750e+00)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-a
#MSE=7.454610e+01(NMSE2.644805e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-i
#MSE=1.243486e+02(NMSE3.724550e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-u
#MSE=8.219200e+01(NMSE6.651306e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-e
#MSE=6.884851e+00(NMSE4.221767e-03)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-o
#MSE=8.629766e-01(NMSE1.603552e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-a 
#MSE=1.361356e+02(NMSE4.440226e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-i 
#MSE=1.205194e+02(NMSE4.875401e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-u 
#MSE=7.602032e+01(NMSE3.229376e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-e 
#MSE=1.096347e+02(NMSE4.869489e-02)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y sawa-o 

for name in eguti sawa ; do
for v in a ; do
rm -rf result-ensrs2ge/tmp;
fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
rsa=rsa:2:0.7:1:20 k=9 N=N:10-10:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
time ./tspredv3 ../data/${name}-${v}.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
echo "### Done for ${name}-${v} ###"
done ; done
#MSE=1.259262e+03(NMSE1.243871e+00)(t:2000-2100) 0-2000:2000-2100k9N10mp1:1:1.000000H1-y eguti-a


#NG#rm -rf result-ensrs2ge/;
#NG#fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
#NG#rsa=rsa:-1:0.7:1:20 k=9 N=N:32-32:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
#NG#time ./tspredv3 ../data/eguti-a.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
#NG##MSE=1.797723e+03(NMSE1.775750e+00)(t:2000-2100) 0-2000:2000-2100k9N32mp1:1:1.000000H1-y eguti-a
#NG#
#NG#(2)
#NG#rm -rf result-ensrs2ge/;
#NG#fr=2000 ts=100 tl=100; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
#NG#rsa=rsa:2:0.7:1:20 k=9 N=N:14-14:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:5e-3 w=w:0.2 T=100 ; to=${frtl};date
#NG#time ./tspredv3 ../data/sawa-a.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
#NG##MSE=7.275748e-01(NMSE1.351953e-02)(t:2000-2100) 0-2000:2000-2100k9N14mp1:1:1.000000H1-y
#NG#
#NG#(1) single CAN2(rsa:-1:0.7:1:20) で 小さなts(=100) で g を求める。
#NG#rm -rf result-ensrs2ge/;
#NG#fr=2000 ts=100 tl=200; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
#NG#rsa=rsa:-1:0.7:1:20 k=8 N=N:40-40:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:3.8e-4 w=w:0.2 T=100 ; to=${frts};date
#NG#time ./tspredv3 ../data/sawa-a.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
#NG##MSE=9.592797e-01(NMSE9.532323e-05)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:3.8e-4 
#NG##MSE=9.600741e-01(NMSE9.540217e-05)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:3.9e-4
#NG##MSE=9.642634e-01(NMSE9.581846e-05)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:4e-4 
#NG##MSE=9.762869e-01(NMSE9.701323e-05)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:3.7e-4 
#NG##MSE=9.820758e-01(NMSE9.758847e-05)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:3.6e-4 
#NG##MSE=9.949501e-01(NMSE9.886778e-05)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:5e-4
#NG##MSE=1.975883e+00(NMSE1.963427e-04)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:3e-4
#NG##MSE=1.958652e+00(NMSE1.946305e-04)(t:2000-2200) 0-2000:2000-2200k8N40mp1:1:1.000000H1-y g:3.8e-4 w:0.3
#NG#
#NG#
#NG#(2)
#NG#rm -rf result-ensrs2ge/;
#NG#fr=2000 ts=200 tl=200; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
#NG#rsa=rsa:2:0.7:1:20 k=8 N=N:14-14:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:3.8e-4 w=w:0.2 T=100 ; to=${frtl};date
#NG#time ./tspredv3 ../data/sawa-a.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:255:0:1 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
#NG##MSE=3.843643e+02(NMSE1.244399e-01)(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y sawa-i
#NG##MSE=3.714972e+02(NMSE1.202741e-01)(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y sawa-i with x:0:0:0:0
#NG#
#NG##MSE=1.985315e+03(NMSE1.963331e+00)(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y eguti-a???
#NG##MSE=3.461041e+02(NMSE1.306900e-01)(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y eguti-i
#NG##MSE=6.825194e+02(NMSE2.041020e-01)(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y eguti-u
#NG#
#NG#
#NG##MSE=3.926423e+02(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y (sawa-i y:14.722500:199.777500)g:1.3e-3
#NG##MSE=3.852147e+02(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y (sawa-i y:14.722500:199.777500)g:0.4e-3
#NG#y:0:255:0:1 g:0.4e-3
#NG##MSE=6.072109e-01(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y (sawa-a y:74.700000:153.425000)
#NG#y:74.700000:153.425000:0:1 g:1.4e-3
#NG##MSE=5.883401e-01(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y (sawa-a y:74.700000:153.425000)
#NG#y:0:255:0:4
#NG##MSE=7.965950e-01(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y
#NG#y:0:0:0:1 g:1.4e-3 
#NG##MSE=1.283745e+00(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y
#NG#y:0:0:0:1 g:1.5e-3
#NG##MSE=1.298515e+00(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y
#NG#y:0:0:0:1 g:1.3e-3
#NG##MSE=1.397569e+00(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y
#NG#y:0:0:0:1 
#NG##MSE=1.552791e+00(t:2000-2200) 0-2000:2000-2200k8N13mp1:1:1.000000H1-y
#NG#y:0:250
#NG##MSE=1.457073e+00(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y
#NG#
#NG#rm -rf result-ensrs2ge/;fr=2000 ts=200 tl=200; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
#NG#rsa=rsa:2:0.7:1:20 k=8 N=N:15-15:1 mp=mp:1:1:1 DM=DiffMode:0 H=Hosei:1 g=g:1.4e-3 w=w:0.2 T=100 ; to=${frtl};date
#NG#time ./tspredv3 ../data/sawa-a.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:74.700000:153.425000 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
#NG#rsa:2:0.7:1:20 k=8 N=N:14-14:1 
#NG##MSE=6.181629e-01(t:2000-2200) 0-2000:2000-2200k8N14mp1:1:1.000000H1-y
#NG#rsa:2:0.7:1:20 k=8 N=N:15-15:1 
#NG##MSE=6.201649e-01(t:2000-2200) 0-2000:2000-2200k8N15mp1:1:1.000000H1-y
#NG#rsa:2:0.7:1:20 k=8 N=N:8-8:1 
#NG##MSE=5.650037e+01(t:2000-2200) 0-2000:2000-2200k8N8mp1:1:1.000000H1-y
#NG#rsa:2:0.7:1:20 k=8 N=N:12-12:1
#NG##MSE=3.806061e+00(t:2000-2200) 0-2000:2000-2200k8N12mp1:1:1.000000H1-y
#NG#rsa:2:0.7:1:20 k=8 N=N:17-17:1 
#NG##MSE=9.665671e-01(t:2000-2200) 0-2000:2000-2200k8N17mp1:1:1.000000H1-y
#NG#
#NG##MSE=3.434110e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-y
#NG#y:74.700000:153.425000 rsa:-1:1:1:1
#NG##MSE=1.465435e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-y
#NG#y:74.700000:153.425000 rsa:-2:1:1:1 
#NG##MSE=3.317997e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-y
#NG#rsa:2:0.7:1:20 k=8 N=N:10-10:1 
#NG##MSE=1.029566e+01(t:2000-2200) 0-2000:2000-2200k8N10mp1:1:1.000000H1-y
#NG#
#NG#(2) dy
#NG#fr=2000 ts=200 tl=200; frtl=`expr ${fr} + ${tl}` ;frts=`expr ${fr} + ${ts}` ;
#NG#rsa=rsa:-1:1:1:1 k=8 N=N:34-34:1 mp=mp:1:1:1 DM=DiffMode:1 H=Hosei:1 g=g:1.4e-3 w=w:0.2 T=100 ; to=${frtl};date
#NG#time ./tspredv3 ../data/sawa-a.dat 0-${fr}:${fr}-${to} ${mp} ${DM} ${H} ${N} M:1-1:1 ib:0:0:0:0 ${rsa} k:${k} y:0:0 x:0:0 r:1:10 ${g} ${w} T:${T} vt:0.5 vr:10 >/dev/null;date
#NG##MSE=1.555575e+01 MSEdy=6.996774e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-dy
#NG#rsa:-1:1:1:1 k=8 N=N:34-34:1 y:-29.156250:21.381250
#NG##MSE=2.924841e+00 MSEdy=1.275380e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-dy
#NG#rsa:-2:1:1:1 k=8 N=N:34-34:1 y:-29.156250:21.381250 x:0:0 r:1:10
#NG##MSE=4.713504e+00 MSEdy=1.730549e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-dy
#NG#rsa:-2:1:1:1 k=8 N=N:34-34:1 y:-29.156250:21.381250 x:0:0 r:1:100
#NG##MSE=1.861181e+01 MSEdy=8.641334e+00(t:2000-2200) 0-2000:2000-2200k8N34mp1:1:1.000000H1-dy

060120pm
###do from here for ensemble
for dofromhere in 1 ; do 
dname=fuchi-a ;K=9 ;T=100 ;g=5e-3 
dn_timeseries=./data/${dname}.dat;
dn_regression=./tmp/${dname}-fa.dat 
N1=32 ;N2=60 ;ens= #>>MSE---;5.078947e+02 NMSE---;5.022706e-01
N=${N1}
t0=3000
t1=200
t4=1000
T0=${t0}
T1=`expr ${t0} + ${t1}`
TOFFS=t4
while [ ${N} -le ${N2} ] ; do
file=tmp/bestmspN${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo $file exists. Omit calculation.
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${T0} ${T1} ${TOFFS} #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
can2 <param.dat > /dev/null
cp bestmsp.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done
########
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${T0} ${T1} ${TOFFS} #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
mspe
qu
EOF
./can2 < param.dat
done

### do to here for ensemble

dname=fuchi-a
dn_timeseries=./data/${dname}.dat 
dn_regression=./tmp/${dname}-rg.dat 
cat >param.dat << EOF  ###save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries} #training file            
2000 2200 1000      #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
########
./can2 <param.dat
echo cp tmp/train+test.dat ${dn_regression}  ###save the file for regression(function approximation)
cp tmp/train+test.dat ${dn_regression}  ###save the file for regression(function approximation)
###(3) search optimal N by ens2ge for chekking generalization ability
rm -rf result-ensrs2ge/
./ens2ge ${dn_regression} ${dn_regression} N:20-40:1 ib:0:0:0:1 M:1-1:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
#40: 3(N:40-42) Lhat=1.481e+04 Lvarmin 2=1.157e-25 Lvar0=1.157e-25 Lval=5.680382e+05**N:41-41
#39: 7(N:39-45) Lhat=2.567e+04 Lvarmin 4=4.720e-26 Lvar0=4.720e-26 Lval=5.620540e+05**N:42-42
#25: 7(N:25-31) Lhat=2.210e+04 Lvarmin12=5.672e-26 Lvar0=5.672e-26 Lval=7.162319e+05**N:28-28


rm -rf tmp
export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000 t4=200; export N2=${N1} DISP=2 #
for testname in fuchi  kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
trainname=${testname}
t2=1000
for N1 in 30 35 40 45 50 55 ; do
N2=`expr ${N1} + 5`
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP}"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP} >/dev/null
done
done


vowelrecog te:fuchi  tr:fuchi k:9 N:30-30 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2
>>MSE---;3.082661e+07 NMSE---;1.120039e+00
>>MSE---;1.987014e+06 NMSE---;3.936081e-01
>>MSE---;4.962062e+07 NMSE---;1.153329e+00
>>MSE---;4.643559e+06 NMSE---;5.533977e-01
>>MSE---;1.861256e+06 NMSE---;3.957271e-02





060120
DISP==0 for no display 
DISP==1 for poles display 
DISP==2 for msp (multi-step-prediction) display
(1) 根立さんにより、新しいデータは10秒程度。データ数は45万位あるので、
サンプリング周波数は約45kHz.8kHz程度になるようデータを間引きしてみることにした。
####
export PWD0=${PWD}
cd ../data
for f in fuchi kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
for vowel in a i u e o ; do
echo "${PWD0}/mabiki ${f}-${vowel}.txt 6 0 > ${f}-${vowel}.dat"
${PWD0}/mabiki ${f}-${vowel}.txt 6 0 > ${f}-${vowel}.dat
done
done
cd ${PWD0}
####
 /home/kuro/sotu/2006/can2b/mabiki fuchi-a.txt 6 0 > fuchi-a.dat
range of x0:-17422.000000:17186.000000
dim1 num_data=72796 (<436774original) 
/home/kuro/sotu/2006/can2b/mabiki fuchi-i.txt 6 0 > fuchi-i.dat
range of x0:-6423.000000:6419.000000
dim1 num_data=76706 (<460236original) 
/home/kuro/sotu/2006/can2b/mabiki fuchi-u.txt 6 0 > fuchi-u.dat
range of x0:-32768.000000:32767.000000
dim1 num_data=82661 (<495963original) 
/home/kuro/sotu/2006/can2b/mabiki fuchi-e.txt 6 0 > fuchi-e.dat
range of x0:-8264.000000:8186.000000
dim1 num_data=76029 (<456172original) 
/home/kuro/sotu/2006/can2b/mabiki fuchi-o.txt 6 0 > fuchi-o.dat
range of x0:-18965.000000:16409.000000
dim1 num_data=76474 (<458844original) 
/home/kuro/sotu/2006/can2b/mabiki kitayama-a.txt 6 0 > kitayama-a.dat
range of x0:-7408.000000:6282.000000
dim1 num_data=81869 (<491211original) 
/home/kuro/sotu/2006/can2b/mabiki kitayama-i.txt 6 0 > kitayama-i.dat
range of x0:-3896.000000:3505.000000
dim1 num_data=106170 (<637016original) 
/home/kuro/sotu/2006/can2b/mabiki kitayama-u.txt 6 0 > kitayama-u.dat
range of x0:-9251.000000:10652.000000
dim1 num_data=79157 (<474939original) 
/home/kuro/sotu/2006/can2b/mabiki kitayama-e.txt 6 0 > kitayama-e.dat
range of x0:-5777.000000:6491.000000
dim1 num_data=72445 (<434665original) 
/home/kuro/sotu/2006/can2b/mabiki kitayama-o.txt 6 0 > kitayama-o.dat
range of x0:-13610.000000:14907.000000
dim1 num_data=67461 (<404766original) 
/home/kuro/sotu/2006/can2b/mabiki nechi-a.txt 6 0 > nechi-a.dat
range of x0:-8480.000000:9992.000000
dim1 num_data=71651 (<429904original) 
/home/kuro/sotu/2006/can2b/mabiki nechi-i.txt 6 0 > nechi-i.dat
range of x0:-5116.000000:6954.000000
dim1 num_data=75936 (<455616original) 
/home/kuro/sotu/2006/can2b/mabiki nechi-u.txt 6 0 > nechi-u.dat
range of x0:-10559.000000:12435.000000
dim1 num_data=74167 (<444997original) 
/home/kuro/sotu/2006/can2b/mabiki nechi-e.txt 6 0 > nechi-e.dat
range of x0:-5246.000000:6804.000000
dim1 num_data=74580 (<447480original) 
/home/kuro/sotu/2006/can2b/mabiki nechi-o.txt 6 0 > nechi-o.dat
range of x0:-16757.000000:17723.000000
dim1 num_data=74844 (<449061original) 
/home/kuro/sotu/2006/can2b/mabiki ryotarou-a.txt 6 0 > ryotarou-a.dat
range of x0:-7196.000000:6582.000000
dim1 num_data=71916 (<431495original) 
/home/kuro/sotu/2006/can2b/mabiki ryotarou-i.txt 6 0 > ryotarou-i.dat
range of x0:-2992.000000:3348.000000
dim1 num_data=74241 (<445446original) 
/home/kuro/sotu/2006/can2b/mabiki ryotarou-u.txt 6 0 > ryotarou-u.dat
range of x0:-32767.000000:32767.000000
dim1 num_data=71699 (<430191original) 
/home/kuro/sotu/2006/can2b/mabiki ryotarou-e.txt 6 0 > ryotarou-e.dat
range of x0:-4296.000000:6738.000000
dim1 num_data=76275 (<457650original) 
/home/kuro/sotu/2006/can2b/mabiki ryotarou-o.txt 6 0 > ryotarou-o.dat
range of x0:-32767.000000:29810.000000
dim1 num_data=71360 (<428157original) 
/home/kuro/sotu/2006/can2b/mabiki shingo-a.txt 6 0 > shingo-a.dat
range of x0:-8642.000000:6923.000000
dim1 num_data=75614 (<453682original) 
/home/kuro/sotu/2006/can2b/mabiki shingo-i.txt 6 0 > shingo-i.dat
range of x0:-8555.000000:14977.000000
dim1 num_data=74599 (<447593original) 
/home/kuro/sotu/2006/can2b/mabiki shingo-u.txt 6 0 > shingo-u.dat
range of x0:-17573.000000:19426.000000
dim1 num_data=70780 (<424677original) 
/home/kuro/sotu/2006/can2b/mabiki shingo-e.txt 6 0 > shingo-e.dat
range of x0:-17915.000000:19351.000000
dim1 num_data=72546 (<435276original) 
/home/kuro/sotu/2006/can2b/mabiki shingo-o.txt 6 0 > shingo-o.dat
range of x0:-19099.000000:18581.000000
dim1 num_data=72716 (<436293original) 
/home/kuro/sotu/2006/can2b/mabiki takemura-a.txt 6 0 > takemura-a.dat
range of x0:-11997.000000:14362.000000
dim1 num_data=71893 (<431353original) 
/home/kuro/sotu/2006/can2b/mabiki takemura-i.txt 6 0 > takemura-i.dat
range of x0:-15871.000000:14402.000000
dim1 num_data=71554 (<429323original) 
/home/kuro/sotu/2006/can2b/mabiki takemura-u.txt 6 0 > takemura-u.dat
range of x0:-32767.000000:32767.000000
dim1 num_data=72400 (<434398original) 
/home/kuro/sotu/2006/can2b/mabiki takemura-e.txt 6 0 > takemura-e.dat
range of x0:-5823.000000:7472.000000
dim1 num_data=77292 (<463752original) 
/home/kuro/sotu/2006/can2b/mabiki takemura-o.txt 6 0 > takemura-o.dat
range of x0:-25010.000000:19162.000000
dim1 num_data=73923 (<443533original) 
/home/kuro/sotu/2006/can2b/mabiki tomisaki-a.txt 6 0 > tomisaki-a.dat
range of x0:-4780.000000:4417.000000
dim1 num_data=76368 (<458205original) 
/home/kuro/sotu/2006/can2b/mabiki tomisaki-i.txt 6 0 > tomisaki-i.dat
range of x0:-4202.000000:5107.000000
dim1 num_data=81786 (<490716original) 
/home/kuro/sotu/2006/can2b/mabiki tomisaki-u.txt 6 0 > tomisaki-u.dat
range of x0:-15781.000000:16539.000000
dim1 num_data=72400 (<434398original) 
/home/kuro/sotu/2006/can2b/mabiki tomisaki-e.txt 6 0 > tomisaki-e.dat
range of x0:-8818.000000:12976.000000
dim1 num_data=75369 (<452210original) 
/home/kuro/sotu/2006/can2b/mabiki tomisaki-o.txt 6 0 > tomisaki-o.dat
range of x0:-14451.000000:12091.000000
dim1 num_data=74675 (<448045original) 
/home/kuro/sotu/2006/can2b/mabiki yusuke-a.txt 6 0 > yusuke-a.dat
range of x0:-6712.000000:5109.000000
dim1 num_data=75183 (<451093original) 
/home/kuro/sotu/2006/can2b/mabiki yusuke-i.txt 6 0 > yusuke-i.dat
range of x0:-6633.000000:7812.000000
dim1 num_data=81786 (<490716original) 
/home/kuro/sotu/2006/can2b/mabiki yusuke-u.txt 6 0 > yusuke-u.dat
range of x0:-31624.000000:32767.000000
dim1 num_data=77462 (<464769original) 
/home/kuro/sotu/2006/can2b/mabiki yusuke-e.txt 6 0 > yusuke-e.dat
range of x0:-17334.000000:19034.000000
dim1 num_data=78648 (<471888original) 
/home/kuro/sotu/2006/can2b/mabiki yusuke-o.txt 6 0 > yusuke-o.dat
range of x0:-32767.000000:32767.000000
dim1 num_data=75089 (<450531original) 

(2)学習能力(訓練＝テスト)のチェック
###
rm -rf tmp
export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000 t4=200; export N2=${N1} DISP=2 #
for testname in fuchi  kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
trainname=${testname}
for t2 in 1000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP}"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP} >/dev/null
done
done
vowelrecog te:fuchi  tr:fuchi k:9 N:40-40 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2
>>MSE---;2.888884e+07 NMSE---;1.049632e+00




###
vowelrecog te:fuchi  tr:fuchi k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;3.685650e+07 NMSE---;1.339126e+00
>>MSE---;4.119510e+06 NMSE---;8.160347e-01
>>MSE---;6.645106e+07 NMSE---;1.544517e+00
>>MSE---;5.021356e+06 NMSE---;5.984218e-01
>>MSE---;2.692287e+06 NMSE---;5.724151e-02
#te:fuchi-aiueo-t1000+2000 are recognized as tr:fuchi-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:kitayama  tr:kitayama k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;1.582444e+06 NMSE---;6.660982e-01
>>MSE---;4.642344e+06 NMSE---;8.743389e-01
>>MSE---;2.811613e+06 NMSE---;7.309868e-01
>>MSE---;1.798817e+06 NMSE---;4.892913e-01
>>MSE---;1.024068e+07 NMSE---;3.557695e-01
#te:kitayama-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:nechi  tr:nechi k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;2.127896e+06 NMSE---;4.604267e-01
>>MSE---;1.585350e+05 NMSE---;2.028322e-01
>>MSE---;1.012822e+06 NMSE---;1.468301e-01
>>MSE---;3.331351e+06 NMSE---;7.550335e-01
>>MSE---;1.918784e+06 NMSE---;1.606191e-01
#te:nechi-aiueo-t1000+2000 are recognized as tr:nechi-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:ryotarou  tr:ryotarou k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;3.859211e+06 NMSE---;7.231125e-01
>>MSE---;8.560779e+05 NMSE---;8.719821e-01
>>MSE---;2.665981e+06 NMSE---;7.695067e-01
>>MSE---;2.352337e+05 NMSE---;7.840783e-01
>>MSE---;8.377783e+07 NMSE---;9.396198e-01
#te:ryotarou-aiueo-t1000+2000 are recognized as tr:ryotarou-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:shingo  tr:shingo k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;4.005218e+06 NMSE---;1.397158e+00
>>MSE---;8.279749e+06 NMSE---;6.503625e-01
>>MSE---;2.162053e+07 NMSE---;7.928727e-01
>>MSE---;2.234932e+07 NMSE---;4.479932e-01
>>MSE---;1.921563e+07 NMSE---;6.947639e-01
#te:shingo-aiueo-t1000+2000 are recognized as tr:shingo-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:takemura  tr:takemura k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;4.614058e+05 NMSE---;3.526605e-02
>>MSE---;4.020339e+06 NMSE---;3.918889e-01
>>MSE---;1.257170e+08 NMSE---;1.015650e+00
>>MSE---;2.748599e+05 NMSE---;8.093864e-02
>>MSE---;4.170379e+07 NMSE---;1.285395e+00
#te:takemura-aiueo-t1000+2000 are recognized as tr:takemura-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:tomisaki  tr:tomisaki k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;5.530445e+05 NMSE---;3.502536e-01
>>MSE---;6.373441e+05 NMSE---;1.322781e+00
>>MSE---;2.379518e+05 NMSE---;9.559352e-02
>>MSE---;1.171460e+07 NMSE---;1.396621e+00
>>MSE---;1.579402e+07 NMSE---;1.162552e+00
#te:tomisaki-aiueo-t1000+2000 are recognized as tr:tomisaki-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
vowelrecog te:yusuke  tr:yusuke k:9 N:32-32 m:poles4 T:100 tt:1000:2000:1000:2000:200 DISP:2#
>>MSE---;2.698399e+06 NMSE---;1.215123e+00
>>MSE---;1.005912e+06 NMSE---;7.667597e-01
>>MSE---;5.862346e+07 NMSE---;7.570561e-01
>>MSE---;2.644290e+06 NMSE---;1.200502e-01
>>MSE---;1.257655e+08 NMSE---;4.598174e-01
#te:yusuke-aiueo-t1000+2000 are recognized as tr:yusuke-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#

(3)
export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000 t4=200; export N2=${N1} DISP=0 
rm -rf tmp
for testname in fuchi kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
trainname=kitayama
for t2 in 1000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP}"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP} >/dev/null
done
done

#te:fuchi-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N25-35.#
#te:kitayama-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N25-35.#
#te:nechi-aiueo-t1000+2000 are recognized as tr:kitayama-iiuoo-t1000+2000 (3/5) via m:poles4N25-35.#
#te:ryotarou-aiueo-t1000+2000 are recognized as tr:kitayama-aiuio-t1000+2000 (4/5) via m:poles4N25-35.#
#te:shingo-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N25-35.#
#te:takemura-aiueo-t1000+2000 are recognized as tr:kitayama-aioio-t1000+2000 (3/5) via m:poles4N25-35.#
#te:tomisaki-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N25-35.#
#te:tomisaki-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N25-35.#

#te:fuchi-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
#te:kitayama-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
#te:nechi-aiueo-t1000+2000 are recognized as tr:kitayama-uiuoo-t1000+2000 (3/5) via m:poles4N32-32.#
#te:ryotarou-aiueo-t1000+2000 are recognized as tr:kitayama-aiuio-t1000+2000 (4/5) via m:poles4N32-32.#
#te:shingo-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
#te:takemura-aiueo-t1000+2000 are recognized as tr:kitayama-aioio-t1000+2000 (3/5) via m:poles4N32-32.#
#te:tomisaki-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
#te:yusuke-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#


#te:nechi-aiueo-t1000+2000 are recognized as tr:kitayama-uiuoo-t1000+2000 (3/5) via m:poles4N32-32.#
#te:fuchi-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#
#te:ryotarou-aiueo-t1000+2000 are recognized as tr:kitayama-aiuio-t1000+2000 (4/5) via m:poles4N32-32.#
#te:shingo-aiueo-t1000+2000 are recognized as tr:kitayama-aiueo-t1000+2000 (5/5) via m:poles4N32-32.#

#te:nechi-aiueo-t1000+2000 are recognized as tr:kitayama-uouoa-t1000+2000 (1/5) via m:poles4N1-1.#
#te:fuchi-aiueo-t1000+2000 are recognized as tr:kitayama-oiuie-t1000+2000 (2/5) via m:poles4N1-1.#
#te:ryotarou-aiueo-t1000+2000 are recognized as tr:kitayama-aiaio-t1000+2000 (3/5) via m:poles4N1-1.#
#te:shingo-aiueo-t1000+2000 are recognized as tr:kitayama-oiuio-t1000+2000 (3/5) via m:poles4N1-1.#

#te:nechi-aiueo-t1000+2000 are recognized as tr:kitayama-uiaeo-t1000+2000 (3/5) via m:directN1-1.#
#te:fuchi-aiueo-t1000+2000 are recognized as tr:kitayama-oioeo-t1000+2000 (3/5) via m:directN1-1.#
#te:ryotarou-aiueo-t1000+2000 are recognized as tr:kitayama-aiiio-t1000+2000 (3/5) via m:directN1-1.#
#te:shingo-aiueo-t1000+2000 are recognized as tr:kitayama-uiaeo-t1000+2000 (3/5) via m:directN1-1.#

#te:nechi-aiueo-t1000+200 are recognized as tr:kitayama-uiaeo-t1000+2000 (3/5) via m:directN1-1.#
#te:fuchi-aiueo-t1000+200 are recognized as tr:kitayama-oioeo-t1000+2000 (3/5) via m:directN1-1.#
#te:ryotarou-aiueo-t1000+200 are recognized as tr:kitayama-aiiio-t1000+2000 (3/5) via m:directN1-1.#
#te:shingo-aiueo-t1000+200 are recognized as tr:kitayama-uiueo-t1000+2000 (4/5) via m:directN1-1.#


export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000 t4=200; export N2=${N1} DISP=0 
rm -rf tmp
for testname in kitayama ; do
trainname=nechi
for t2 in 1000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP}"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP} >/dev/null
done
done

#te:kitayama-aiueo-t1000+2000 are recognized as tr:nechi-oiueo-t1000+2000 (4/5) via m:poles4N32-32.#


060116
(1)
DISP==1 for poles display 
DISP==2 for msp (multi-step-prediction) display
for f in fuchi kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
for vowel in a i u e o ; do
echo "mv ${f}-${vowel}.txt ${f}-${vowel}.dat"
mv ${f}-${vowel}.txt ${f}-${vowel}.dat
done
done

(2) 学習能力(訓練＝テスト)のチェック
DISP=2 #for display msp (multi-step prediction)
export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000 t4=200; export N2=${N1} DISP=2#
rm -rf tmp
for testname in fuchi  kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
trainname=${testname}
for t2 in 1000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP}"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}:${t4} DISP:${DISP} >/dev/null
done
done


#Hen futi-u e o
########
dname=fuchi-e
dn_timeseries=./data/${dname}.dat 
dn_regression=./tmp/${dname}-rg.dat 

cat >param.dat << EOF  ###save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries} #training file            
2000 2200 1000      #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
########
./can2 <param.dat
echo cp tmp/train+test.dat ${dn_regression}  ###save the file for regression(function approximation)
cp tmp/train+test.dat ${dn_regression}  ###save the file for regression(function approximation)
###(3) search optimal N by ens2ge for chekking generalization ability
rm -rf result-ensrs2ge/
./ens2ge ${dn_regression} ${dn_regression} N:30-60:1 ib:0:0:0:1 M:1-1:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
#58: 3(N:58-60) Lhat=4.486e+02 Lvarmin 2=1.719e-26 Lvar0=1.719e-26 Lval=1.225283e+04**N:59-59
./ens2ge ${dn_regression} ${dn_regression} N:30-60:1 ib:0:0:0:3 M:1-1:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
#47: 7(N:47-53) Lhat=4.370e+02 Lvarmin 4=9.063e-27 Lvar0=9.063e-27 Lval=1.260314e+04**N:50-50
./ens2ge ${dn_regression} ${dn_regression} N:30-60:1 ib:0:0:0:5 M:1-1:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
#51:11(N:51-61) Lhat=5.049e+02 Lvarmin 2=2.047e-26 Lvar0=2.047e-26 Lval=1.239715e+04**N:56-56
./ens2ge ${dn_regression} ${dn_regression} N:30-60:1 ib:0:0:0:5 M:1-5:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
#30:15(N:30-44) Lhat=5.220e+01 Lvarmin103=1.750e+02 Lvar0=1.750e+02 Lval=1.254688e+04**N:35-39

can2
0          #0:timeseries,1:function approximation in my_function.c
9 0       #channels
../data/fuchi-o.dat #training file
2000 2200 1000   #Ttrain,Ttotal: points in time of training and total data
-20000 20000 0 1    #y0min y0max y1min y1max for normalization
in         
60         #n_units			       	
6          #n_compare				
0.5 3 0    #v_thresh vmin vmin2	         	
5            #v_ratio				
0.2 5e-3 0.7 #window width                        
ex                                                
1 5e-3 0.7   #<0:online,1:batch>, <gamma0>, <entropy_thresh> 
100         #iterations, rot_x, rot_z            
100 50 350    #iterations, rot_x, rot_z            
nl
bestmsp.net
msp


###########################Do below.
export dname=fuchi-e K=9 T=100 g=5e-3 
export dn_timeseries=../data/${dname}.dat dn_regression=./tmp/${dname}-fa.dat 
export t1=3000 t2=3600 to=1000 method=mspE
export t1=3000 t2=3600 to=1000 method=mspe
export N1=35 N2=39 ens= #
cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
###
./can2 <param.dat >/dev/null
cp tmp/train+test.dat ${dn_regression}  
###N1からN2までに対するcan2の実行
export N1=35 N2=39
export N=${N1}
while [ ${N} -le ${N2} ] ; do
file=tmp/bestmspN${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo $file exists. Omit calculation.
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
can2 <param.dat > /dev/null
cp bestmsp.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done
########アンサンブルの実行
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
${method}
qu
EOF
./can2 < param.dat
####Do to here.
###########################################

#################

(3)export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1} #
for testname in fuchi  kitayama nechi ryotarou shingo takemura tomisaki yusuke ; do
trainname=${testname}
for t2 in 1000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0 >/dev/null
done
done

(3)
export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1} #
for testname in fuchi ; do
trainname=kitayama:nechi:ryotarou:shingo:takemura:tomisaki:yusuke
for t2 in 1000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0 >/dev/null
done
done



export T=100 N1=1 method=poles4 t0=1000 t1=4000 t2=1000 t3=4000; export N2=${N1} #
for testname in fuchi ; do
trainname=eguti
for t2 in 1000 5000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0 >/dev/null
done
done



060115
#different options for more convenient 
#    tt:<t0>:<t1>:<t2>:<t3> : [<t0>,<t0>+<t1>] for training, [<t2>,<t2>+<t3>] for test
# m:poles4   distance of poles
# m:poles5   distance of shrinked poles
# m:M4       distance of Associative Matirices
# m:direct   prediction error
(1) norm_poles.cで、半径が rj>1.0 || rj<0.0 の極は評価しないようにした。
export T=100 N1=1 method=poles4 t0=1000 t1=4000 t2=1000 t3=4000; export N2=${N1} #
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
for t2 in 1000 2000 3000 4000 5000 6000 7000 8000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0"
vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3} DISP:0 >/dev/null
done
done


060112pm
(1) norm_poles.cで、半径が rj>1.0 || rj<0.35 の極は評価しないようにした。
(2) 200ms (t1=t2=1600)
export T=100 N1=1 method=poles4 t0=1000 t1=4000 t2=1000 t3=4000; export N2=${N1} #
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
for t2 in 1000 2000 3000 4000 5000 6000 7000 8000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}>/dev/null
done
done
#### recognition using prediction error with N=1
#te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#soso?
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t4000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t5000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t6000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t7000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t8000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t4000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t5000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t6000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t7000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t8000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t4000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t5000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t6000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t7000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t8000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t4000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t5000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t6000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t7000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t8000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#

#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t4000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t5000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t6000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t7000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t8000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t4000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t5000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t6000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t7000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t8000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#

#### recognition using distance of poles with N=1 best???
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#rj>0&&rj<=1.0 good!!
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-aiuee-t1000+1000 (4/5) via m:poles4N1-1.#rj>0&&rj<=1.0soso
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-oiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+1000 are recognized as tr:sawa-uiuea-t1000+1000 (3/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#rj>0&&rj<=1.0soso
#te:sawa-aiueo-t1000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t2000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+3000 are recognized as tr:eguti-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+3000 are recognized as tr:sawa-aiuea-t1000+3000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+3000 are recognized as tr:sawa-aiuea-t1000+3000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+3000 are recognized as tr:sawa-aiuea-t1000+3000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+3000 are recognized as tr:sawa-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+3000 are recognized as tr:sawa-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+3000 are recognized as tr:sawa-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+3000 are recognized as tr:sawa-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+3000 are recognized as tr:sawa-aiueo-t1000+3000 (5/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#rj>0&&rj<=1.0good, but 8000 is big
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+8000 are recognized as tr:sawa-oiueo-t1000+8000 (4/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#rj>0&&rj<=1.0
#te:sawa-aiueo-t2000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+2000 are recognized as tr:sawa-uiuea-t1000+2000 (3/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+2000 are recognized as tr:sawa-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+2000 are recognized as tr:sawa-aiuea-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+2000 are recognized as tr:sawa-aiuea-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+2000 are recognized as tr:sawa-uiueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+2000 are recognized as tr:sawa-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+2000 are recognized as tr:sawa-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+2000 are recognized as tr:sawa-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#

#### recognition using associative matrix with N=1
##te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-uiueo-t1000+4000 (4/5) via m:M4N1-1.#soso
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t4000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t5000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t6000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t7000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t8000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t4000+4000 are recognized as tr:sawa-aiaeo-t1000+4000 (4/5) via m:M4N1-1.#
#te:eguti-aiueo-t5000+4000 are recognized as tr:sawa-aiaeo-t1000+4000 (4/5) via m:M4N1-1.#
#te:eguti-aiueo-t6000+4000 are recognized as tr:sawa-aiaeo-t1000+4000 (4/5) via m:M4N1-1.#
#te:eguti-aiueo-t7000+4000 are recognized as tr:sawa-aiaeo-t1000+4000 (4/5) via m:M4N1-1.#
#te:eguti-aiueo-t8000+4000 are recognized as tr:sawa-aiaeo-t1000+4000 (4/5) via m:M4N1-1.#

te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-uiueo-t1000+1000 (4/5) via m:M4N1-1.#soso??
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-uiueo-t1000+1000 (4/5) via m:M4N1-1.#
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t4000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t5000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t6000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t7000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:sawa-aiueo-t8000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-aeueu-t1000+1000 (3/5) via m:M4N1-1.#
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t4000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:M4N1-1.#
#te:eguti-aiueo-t5000+1000 are recognized as tr:sawa-aiaeo-t1000+1000 (4/5) via m:M4N1-1.#
#te:eguti-aiueo-t6000+1000 are recognized as tr:sawa-aiaeo-t1000+1000 (4/5) via m:M4N1-1.#
#te:eguti-aiueo-t7000+1000 are recognized as tr:sawa-aeaeo-t1000+1000 (3/5) via m:M4N1-1.#
#te:eguti-aiueo-t8000+1000 are recognized as tr:sawa-aiaeo-t1000+1000 (4/5) via m:M4N1-1.#

#### recognition using distance of poles with N=1
#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#rj>0&&rj<=1.0
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t4000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t5000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t6000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t7000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t8000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t4000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t5000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t6000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t7000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t8000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiioo-t1000+4000 (3/5) via m:poles4N32-32.#rj>0&&rj<=1.0soso?
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaoo-t1000+4000 (3/5) via m:poles4N32-32.#
#te:sawa-aiueo-t4000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:sawa-aiueo-t5000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:sawa-aiueo-t6000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:sawa-aiueo-t7000+4000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t8000+4000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiuee-t1000+4000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t4000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t5000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t6000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t7000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t8000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:poles4N32-32.#

#te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-eiuee-t1000+1000 (3/5) via m:poles4N1-1.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiuee-t1000+1000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+1000 are recognized as tr:eguti-aiuee-t1000+1000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+1000 are recognized as tr:eguti-aeuee-t1000+1000 (3/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+1000 are recognized as tr:eguti-aeuee-t1000+1000 (3/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+1000 are recognized as tr:eguti-aeuee-t1000+1000 (3/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+1000 are recognized as tr:eguti-aeuee-t1000+1000 (3/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-aiuee-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-eiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+1000 are recognized as tr:sawa-uiueo-t1000+1000 (4/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+2000 are recognized as tr:eguti-aiuee-t1000+2000 (4/5) via m:poles4N1-1.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+2000 are recognized as tr:eguti-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+2000 are recognized as tr:eguti-aeueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+2000 are recognized as tr:eguti-ueueo-t1000+2000 (3/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+2000 are recognized as tr:eguti-aeueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+2000 are recognized as tr:eguti-aeueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+2000 are recognized as tr:eguti-aeueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+2000 are recognized as tr:sawa-uiueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+2000 are recognized as tr:sawa-eiueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+2000 are recognized as tr:sawa-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+2000 are recognized as tr:sawa-aiueo-t1000+2000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+2000 are recognized as tr:sawa-uiueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+2000 are recognized as tr:sawa-uiueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+2000 are recognized as tr:sawa-uiueo-t1000+2000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+2000 are recognized as tr:sawa-uiueo-t1000+2000 (4/5) via m:poles4N1-1.#


#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+7000 are recognized as tr:eguti-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+7000 are recognized as tr:eguti-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+7000 are recognized as tr:eguti-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+7000 are recognized as tr:eguti-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+7000 are recognized as tr:eguti-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+7000 are recognized as tr:eguti-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+7000 are recognized as tr:eguti-aeueo-t1000+7000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+7000 are recognized as tr:eguti-aeueo-t1000+7000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+7000 are recognized as tr:sawa-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+7000 are recognized as tr:sawa-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+7000 are recognized as tr:sawa-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+7000 are recognized as tr:sawa-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+7000 are recognized as tr:sawa-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+7000 are recognized as tr:sawa-aiueo-t1000+7000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+7000 are recognized as tr:sawa-uiueo-t1000+7000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+7000 are recognized as tr:sawa-uiueo-t1000+7000 (4/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t4000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t5000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t6000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t7000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t8000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t4000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t5000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t6000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t7000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t8000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t4000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t5000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t6000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t7000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t8000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t4000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t5000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t6000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t7000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t8000+8000 are recognized as tr:sawa-aiuao-t1000+8000 (4/5) via m:poles4N32-32.#

export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1} #
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
for t2 in 1000 2000 3000 4000 5000 6000 7000 8000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
#echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}>/dev/null
echo n | vowelrecog te:dy-${testname}  tr:dy-${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}>/dev/null
done
done
#te:dy-sawa-aiueo-t1000+1000 are recognized as tr:dy-eguti-aiaeo-t1000+1000 (4/5) via m:directN1-1.#rj>0.5&&rj<=1.0
#te:dy-sawa-aiueo-t2000+1000 are recognized as tr:dy-eguti-aiaeo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-sawa-aiueo-t3000+1000 are recognized as tr:dy-eguti-aiaeo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-sawa-aiueo-t4000+1000 are recognized as tr:dy-eguti-aiaeo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-sawa-aiueo-t5000+1000 are recognized as tr:dy-eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:dy-sawa-aiueo-t6000+1000 are recognized as tr:dy-eguti-aiaeo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-sawa-aiueo-t7000+1000 are recognized as tr:dy-eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:dy-sawa-aiueo-t8000+1000 are recognized as tr:dy-eguti-aiueo-t1000+1000 (5/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t1000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t2000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t3000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t3000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t4000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t5000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t6000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t7000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#
#te:dy-eguti-aiueo-t8000+1000 are recognized as tr:dy-sawa-uiueo-t1000+1000 (4/5) via m:directN1-1.#

#te:dy-sawa-aiueo-t1000+1000 are recognized as tr:dy-eguti-oiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t2000+1000 are recognized as tr:dy-eguti-oiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t3000+1000 are recognized as tr:dy-eguti-oiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t4000+1000 are recognized as tr:dy-eguti-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t5000+1000 are recognized as tr:dy-eguti-oeueo-t1000+1000 (3/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t6000+1000 are recognized as tr:dy-eguti-oeueo-t1000+1000 (3/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t7000+1000 are recognized as tr:dy-eguti-aeueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t8000+1000 are recognized as tr:dy-eguti-aeueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t1000+1000 are recognized as tr:dy-sawa-eiaee-t1000+1000 (2/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t2000+1000 are recognized as tr:dy-sawa-eiuee-t1000+1000 (3/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t3000+1000 are recognized as tr:dy-sawa-eiueo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t4000+1000 are recognized as tr:dy-sawa-aiaeo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t5000+1000 are recognized as tr:dy-sawa-aiueo-t1000+1000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t6000+1000 are recognized as tr:dy-sawa-aiaeo-t1000+1000 (4/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t7000+1000 are recognized as tr:dy-sawa-iiaeo-t1000+1000 (3/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t8000+1000 are recognized as tr:dy-sawa-aiaeo-t1000+1000 (4/5) via m:poles4N1-1.#

#te:dy-sawa-aiueo-t1000+8000 are recognized as tr:dy-eguti-oiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t2000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t3000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t4000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t5000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t6000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t7000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-sawa-aiueo-t8000+8000 are recognized as tr:dy-eguti-uiueo-t1000+8000 (4/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t1000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t2000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t3000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t4000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t5000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t6000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t7000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#
#te:dy-eguti-aiueo-t8000+8000 are recognized as tr:dy-sawa-aiueo-t1000+8000 (5/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+6000 are recognized as tr:eguti-aiueo-t1000+6000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t2000+6000 are recognized as tr:eguti-aiueo-t1000+6000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+6000 are recognized as tr:eguti-aeueo-t1000+6000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+6000 are recognized as tr:sawa-aiueo-t1000+6000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+6000 are recognized as tr:sawa-aiueo-t1000+6000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+6000 are recognized as tr:sawa-aiueo-t1000+6000 (5/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiueo-t1000+8000 (5/5) via m:directN1-1.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-uiueo-t1000+8000 (4/5) via m:directN1-1.#


#te:sawa-aiueo-t1000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t2000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+8000 are recognized as tr:eguti-aiaeo-t1000+8000 (4/5) via m:poles4N32-32.#
#te:eguti-aiueo-t1000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t2000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#
#te:eguti-aiueo-t3000+8000 are recognized as tr:sawa-aiueo-t1000+8000 (5/5) via m:poles4N32-32.#

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N1-1.#
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N1-1.#

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:directN1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-uiueo-t1000+4000 (4/5) via m:directN1-1.#


#te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-aiooo-t1000+4000 (3/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiaoo-t1000+4000 (3/5) via m:poles4N32-32.#

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiooo-t2000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiuoo-t2000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaeo-t2000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiieo-t3000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t3000+1000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t3000+1000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-oioeo-t4000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aioeo-t4000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-oioeo-t4000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiaeo-t5000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiaeo-t5000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaeo-t5000+1000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiaeo-t6000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiaeo-t6000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaeo-t6000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiaeo-t7000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiieo-t7000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiieo-t7000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiaeo-t8000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t8000+1000 (5/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaeo-t8000+1000 (4/5) via m:poles4N32-32.#

#te:sawa-aiueo-t1000+5000 are recognized as tr:eguti-aiaeo-t8000+1000 (4/5) via m:poles4N32-32.#
#te:sawa-aiueo-t2000+5000 are recognized as tr:eguti-aiueo-t8000+1000 (5/5) via m:poles4N32-32.#
#te:sawa-aiueo-t3000+5000 are recognized as tr:eguti-aaaoo-t8000+1000 (2/5) via m:poles4N32-32.#

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aeuoo-t3000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aeuoo-t3000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aeioo-t3000+1000 (2/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiooo-t2000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiooo-t2000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiooo-t2000+1000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.1&&ri<=1

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35 also <0.5
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35 also <0.5
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35 also <0.5
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35 also <0.5
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35 also <0.5
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35 also <0.5

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-oeuoo-t1000+4000 (2/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.5&&ri<=1
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aeueo-t1000+4000 (4/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.5&&ri<=1
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aeaeo-t1000+4000 (3/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.5&&ri<=1
#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.5&&ri<=1
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.5&&ri<=1
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>0.5&&rj<=1.0ri>0.5&&ri<=1



#te:eguti-aiueo-t1000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.50also <0.35
#te:eguti-aiueo-t2000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.50also <0.35
#te:eguti-aiueo-t3000+4000 are recognized as tr:sawa-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.50also <0.35
#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.50

#te:sawa-aiueo-t1000+4000 are recognized as tr:eguti-aiaoo-t1000+4000 (3/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t2000+4000 are recognized as tr:eguti-aiueo-t1000+4000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t3000+4000 are recognized as tr:eguti-aiaeo-t1000+4000 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
--> egutiの1000+2000から変なデータが入っている?


#te:sawa-aiueo-t1000+3000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t2000+3000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t3000+3000 are recognized as tr:eguti-aiuoo-t1000+1000 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:eguti-aiueo-t1000+3000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:eguti-aiueo-t2000+3000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:eguti-aiueo-t3000+3000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35


#te:eguti-aiueo-t1000+1600 are recognized as tr:sawa-aiueo-t1000+1600 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:eguti-aiueo-t2000+1600 are recognized as tr:sawa-aiueo-t1000+1600 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:eguti-aiueo-t3000+1600 are recognized as tr:sawa-aiueo-t1000+1600 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:sawa-aiueo-t1000+1600 are recognized as tr:eguti-aiaeo-t1000+1600 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:sawa-aiueo-t2000+1600 are recognized as tr:eguti-aiaea-t1000+1600 (3/5) via m:poles4N32-32.#rj>1.0 || rj<0.50
#te:sawa-aiueo-t3000+1600 are recognized as tr:eguti-aiiea-t1000+1600 (3/5) via m:poles4N32-32.#rj>1.0 || rj<0.50

#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-aauuo-t1000+1000 (3/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiueo-t1000+1000 (5/5) via m:poles4N32-32.#rj>1.0 || rj<0.35

#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-aioeo-t1000+1000 (4/5) via m:poles4N40-40.#
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-aioeo-t1000+1000 (4/5) via m:poles4N40-40.#
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-aiueo-t1000+1000 (5/5) via m:poles4N40-40.#


#te:sawa-aiueo-t1000+1600 are recognized as tr:eguti-aiaoo-t1000+1600 (3/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t2000+1600 are recognized as tr:eguti-aiaeo-t1000+1600 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t3000+1600 are recognized as tr:eguti-aiaeo-t1000+1600 (4/5) via m:poles4N32-32.#rj>1.0 || rj<0.35

#te:sawa-aiueo-t1000+1500 are recognized as tr:eguti-aiuee-t1000+1500 (4/5) via m:poles4N1-1.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t2000+1500 are recognized as tr:eguti-aiueo-t1000+1500 (5/5) via m:poles4N1-1.#rj>1.0 || rj<0.35
#te:sawa-aiueo-t3000+1500 are recognized as tr:eguti-aiueo-t1000+1500 (5/5) via m:poles4N1-1.#rj>1.0 || rj<0.35

export T=100 N1=1 method=poles4 t0=1000 t1=1500 t2=1000 t3=1500; export N2=${N1} #
for testname in eguti ; do #for testname in sawa ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
for t2 in 1000 2000 3000 ; do
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done
done
#te:eguti-aiueo-t1000+1500 are recognized as tr:sawa-aiueo-t1000+1500 via m:poles4N32-32.#OK
#te:eguti-aiueo-t2000+1500 are recognized as tr:sawa-aiueo-t1000+1500 via m:poles4N32-32.#OK
#te:eguti-aiueo-t3000+1500 are recognized as tr:sawa-aiueo-t1000+1500 via m:poles4N32-32.#OK

#te:eguti-aiueo-t1000+1500 are recognized as tr:sawa-uiueo-t1000+1500 via m:poles4N1-1.#NG4
#te:eguti-aiueo-t2000+1500 are recognized as tr:sawa-eiueo-t1000+1500 via m:poles4N1-1.#NG3
#te:eguti-aiueo-t3000+1500 are recognized as tr:sawa-aiueo-t1000+1500 via m:poles4N1-1.#OK

#te:sawa-aiueo-t1000+1500 are recognized as tr:eguti-aiuee-t1000+1500 via m:poles4N1-1.#OK
#te:sawa-aiueo-t2000+1500 are recognized as tr:eguti-aiueo-t1000+1500 via m:poles4N1-1.#OK
#te:sawa-aiueo-t3000+1500 are recognized as tr:eguti-aiueo-t1000+1500 via m:poles4N1-1.#OK




#te:eguti-aiueo-t1000+1500 are recognized as tr:sawa-aiueo-t1000+1500 via m:poles4N1-1.#OKif(rj>1 || rj<0.5);
#te:sawa-aiueo-t1000+1500 are recognized as tr:eguti-eiuee-t1000+1500 via m:poles4N1-1.#NG3if(rj>1 || rj<0.5);

#te:eguti-aiueo-t1000+1000 are recognized as tr:sawa-aiueo-t1000+1000 via m:poles4N32-32.#OK
#te:eguti-aiueo-t2000+1000 are recognized as tr:sawa-aiueo-t1000+1000 via m:poles4N32-32.#OK
#te:eguti-aiueo-t3000+1000 are recognized as tr:sawa-aauuo-t1000+1000 via m:poles4N32-32.#

#te:sawa-aiueo-t1000+1000 are recognized as tr:eguti-aiueo-t1000+1000 via m:poles4N32-32.#OK
#te:sawa-aiueo-t2000+1000 are recognized as tr:eguti-aiueo-t1000+1000 via m:poles4N32-32.#OK
#te:sawa-aiueo-t3000+1000 are recognized as tr:eguti-aiueo-t1000+1000 via m:poles4N32-32.#OK




export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=2000 t3=1000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiaeo via method=poles4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-aiuea via method=poles4.#NG4
export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=3000 t3=1000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#te:eguti-aiueo is recognized as tr:sawa-aauuo via method=poles4.#NG3
export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuee via method=poles4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-aiueu via method=poles4.#NG4
export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiaoo via method=poles4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuee via method=poles4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-aiueu via method=poles4.#NG4
#for testname in eguti ; do
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done

export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuee via method=poles4.#
#te:eguti-aiueo is recognized as tr:sawa-uiuee via method=poles4.#
export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=3000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#
#for testname in eguti ; do
for testname in sawa eguti; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done


060112am
export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=1000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=2000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#te:eguti-aiueo is recognized as tr:sawa-aiuao via method=poles4.#NG4
export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=3000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#te:eguti-aiueo is recognized as tr:sawa-auueo via method=poles4.#NG4
export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=1000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuee via method=poles4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-uiuea via method=poles4.#NG3
export T=100 N1=1 method=direct t0=1000 t1=1000 t2=1000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#NG4
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG4
export T=100 N1=1 method=direct t0=1000 t1=1000 t2=2000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG4
export T=100 N1=1 method=direct t0=1000 t1=1000 t2=3000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG4
export T=100 N1=1 method=poles4 t0=1000 t1=1000 t2=3000 t3=2000; export N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#te:eguti-aiueo is recognized as tr:sawa-uiuea via method=poles4.#NG3

#for testname in eguti ; do
for testname in sawa eguti; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done

export T=100 N1=32 method=poles4 t0=1000 t1=2000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aoooo via method=poles4.#NG2
#te:eguti-aiueo is recognized as tr:sawa-aiueu via method=poles4.#NG4
export T=100 N1=1 method=direct t0=1000 t1=2000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK5
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG4
export T=100 N1=32 method=direct t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#NG4
#te:sawa-aiueo is recognized as tr:eguti-oiuoo via method=direct.#NG3
export T=100 N1=1 method=direct t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG4
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK5
export T=100 N1=1 method=M4 t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-uiueo via method=M4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-aeueu via method=M4.#NG3
export T=100 N1=32 method=poles4 t0=1000 t1=1500; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-auuoo via method=poles4.#NG3
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK5
export T=100 N1=1 method=direct t0=1000 t1=1500; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK5
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG4
export T=100 N1=1 method=poles4 t0=1000 t1=1500; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuee via method=poles4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=poles4.#NG4
export T=100 N1=1 method=M4 t0=1000 t1=1500; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-uiueo via method=M4.#NG4
#te:eguti-aiueo is recognized as tr:sawa-aeueu via method=M4.#NG4
vowelrecog te:eguti  tr:sawa k:9 N:32-32 m:poles4 T:100 tt:1000:3000:1000:3000
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
#te:sawa-aiueo is recognized as tr:eguti-aeoeo via method=poles4.#NG3
#for testname in eguti ; do
for testname in sawa ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done


060110pm
####################
#different options for more convenient 
#    tt:<t0>:<t1>:<t2>:<t3> : [<t0>,<t0>+<t1>] for training, [<t2>,<t2>+<t3>] for test
# m:poles4   distance of poles
# m:M4       distance of Associative Matirices
# m:direct   prediction error

rm -rf tmp;export T=100 N1=32 method=direct t0=1000 t1=2000 t2=1000 t3=2000; export N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-oiueo via method=direct.#
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=2000 t2=1000 t3=2000; export N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-aiuoo via method=poles4.#NG
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=poles4.#NG
rm -rf tmp;export T=100 N1=32 method=direct t0=1000 t1=2000 t2=1000 t3=2000; export N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-oiueo via method=direct.#NG
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#NG
rm -rf tmp;export T=100 N1=1 method=direct t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG
rm -rf tmp;export T=100 N1=32 method=direct t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-aiuoo via method=direct.#NG
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#NG
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000; export N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-aiaeo via method=poles4.#NG
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000 N2=35 
#te:sawa-aiueo is recognized as tr:eguti-aiouo via method=poles4.#
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000 N2=40  
#te:sawa-aiueo is recognized as tr:eguti-aiooo via method=poles4.#
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1000 t2=1000 t3=1000 N2=50  
#te:sawa-aiueo is recognized as tr:eguti-aiooo via method=poles4.#
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1500; export t2=${t0} t3=${t1} N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-auuoo via method=poles4.#
#te:eguti-aiueo is recognized as tr:sawa-aiuio via method=poles4.#
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=2500; export t2=${t0} t3=${t1} N2=${N1}  
#te:sawa-aiueo is recognized as tr:eguti-aiuoo via method=poles4.#
#te:eguti-aiueo is recognized as tr:sawa-aiuao via method=poles4.#_t4=800
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=3000; export t2=${t0} t3=${t1} N2=${N1} #(_t4=800 and 200)
#te:sawa-aiueo is recognized as tr:eguti-aeueo via method=poles4.#
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #(_t4=800 and 200)
#te:sawa-aiueo is recognized as tr:eguti-aiuoo via method=poles4.#rz2>1.0 || rz2<0.2
rm -rf tmp;export T=100 N1=1 method=poles4 t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuee via method=poles4.#NG
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
rm -rf tmp;export T=100 N1=1 method=direct t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG
rm -rf tmp;export T=100 N1=1 method=poles4 t0=2000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-uiueo via method=poles4.#NG
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=poles4.#NG
rm -rf tmp;export T=100 N1=32 method=direct t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#NG
#te:sawa-aiueo is recognized as tr:eguti-oiuoo via method=direct.#NG
rm -rf tmp;export T=100 N1=32 method=direct t0=2000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-auuoo via method=poles4.#NG
#te:eguti-aiueo is recognized as tr:sawa-aiuio via method=poles4.#NG
rm -rf tmp;export T=100 N1=1 method=direct t0=2000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiuio via method=direct.#NG
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG
rm -rf tmp;export T=100 N1=1 method=M4 t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-uiueo via method=M4.#NG
#te:eguti-aiueo is recognized as tr:sawa-aiueu via method=M4.#NG
rm -rf tmp;export T=100 N1=32 method=M4 t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:eguti-aiueo is recognized as tr:sawa-aaueo via method=M4.#NG
#te:sawa-aiueo is recognized as tr:eguti-aiuoo via method=M4.#NG
rm -rf tmp;export T=100 N1=32 method=poles4 t0=1000 t1=1000; export t2=${t0} t3=${t1} N2=${N1} #
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OKrz2>1.0 || rz2<0.35 _t4=200
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OKrz2>1.0 || rz2<0.35 _t4=200
#for testname in sawa ; do
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done


rm -rf tmp;export T=100 N1=32 method=poles4 t0=0 t1=2000 t2=0 t3=2000
export N2=${N1}  
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} tt:${t0}:${t1}:${t2}:${t3}
done


######################
rm -rf tmp;export T=100 N1=32 method=poles4 t0=2000 toffset=0 t2=0 t3=2000
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
export t1=`expr ${t0} + 200`; 
export N2=${N1}  
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}
done

rm -rf tmp;export T=100 N1=32 method=poles4 t0=1500 toffset=1000 t2=2000 #OK
export t1=`expr ${t0} + 200`; 
export t3=`expr ${t2} + 400`; 
export N2=${N1}  
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}"
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}
done












??rm -rf tmp
??#
??export t0=2000 T=100 N1=32 method=direct #
??#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#NG
??#te:sawa-aiueo is recognized as tr:eguti-oiueo via method=direct.#NG
??#
??export t0=2000 T=100 N1=1 method=direct #
??#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG
??#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK
??##
??export t0=1000 T=100 N1=32 method=poles4 
??#te:eguti-aiueo is recognized as tr:sawa-aiaea via method=poles4.#
??#te:sawa-aiueo is recognized as tr:eguti-aiioi via method=poles4.#
??#
??export t0=2000 T=100 N1=32 method=poles4 toffset=0
??#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
??#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
??#########
??rm -rf tmp;export t0=1500 T=100 N1=32 method=poles4 toffset=0
??#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
??#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
??#########
??export N2=${N1} ; export t1=`expr ${t0} + 200`; export t2=2000 t3=2200; 
??for testname in eguti ; do
??if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
??echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}
??done
??#OK with rz2>1.0 || rz2<0.3 in my_plinn.c
??
??
??rm -rf tmp;export T=100 N1=32 method=poles4 t0=2000 toffset=1000 t2=2000 #NG
??rm -rf tmp;export T=100 N1=32 method=poles4 t0=1500 toffset=1000 t2=2000 #OK
??export t1=`expr ${t0} + 200`; 
??export t3=`expr ${t2} + 400`; 
??export N2=${N1}  
??for testname in sawa eguti ; do
??if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
??echo "vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}"
??echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} ttr:${t0}:${t1}:${toffset} tte:${t2}:${t3}
??done
??#OK with rz2>1.0 || rz2<0.3 in my_plinn.c



#########
060110am
rm -rf tmp
#
export t1=2000 T=100 N1=32 method=direct #
#te:eguti-aiueo is recognized as tr:sawa-oiueo via method=direct.#NG
#te:sawa-aiueo is recognized as tr:eguti-oiueo via method=direct.#NG
#
export t1=2000 T=100 N1=1 method=direct #
#te:eguti-aiueo is recognized as tr:sawa-uiueo via method=direct.#NG
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=direct.#OK
##
export t1=1000 T=100 N1=32 method=poles4 
#te:eguti-aiueo is recognized as tr:sawa-aiaea via method=poles4.#
#te:sawa-aiueo is recognized as tr:eguti-aiioi via method=poles4.#
#
export t1=2000 T=100 N1=32 method=poles4 
#te:eguti-aiueo is recognized as tr:sawa-aiueo via method=poles4.#OK
#te:sawa-aiueo is recognized as tr:eguti-aiueo via method=poles4.#OK
#########
export N2=${N1}  
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;fi
echo n | vowelrecog te:${testname}  tr:${trainname} k:9 N:${N1}-${N2} m:${method} T:${T} t:${t1}:2000-2200 
done
#OK with rz2>1.0 || rz2<0.3 in my_plinn.c

060109
export t1=500 T=10 N1=32; export N2=${N1}  #OK test:sawa:aiueo eguti:aiueo rz2>1.0 || rz2<0.3
echo n | vowelrecog te:sawa  tr:eguti k:9 N:${N1}-${N2} m:direct T:${T} t:${t1}:2000-2200 #N=50:oiueo     N=1:aiueo(OK)
echo n | vowelrecog te:eguti tr:sawa  k:9 N:${N1}-${N2} m:direct T:${T} t:${t1}:2000-2200 #N=50:aiueo(OK) N=1:uiueo
export feature=poles5
export feature=poles6
export feature=poles4
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;
elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;
fi
echo "###### test:${testname} and train:${trainname} ####"
for testvowel in a i u e o ; do
echo "norm of poles between ${testvowel} of ${testname} and aiueo of ${trainname}"
for vowel in a i u e o ; do
norm_poles tmp/${testvowel}-${testname}-k9N${N1}-${N2}-${feature}.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-${feature}.dat > /dev/null
done
done
done

060109
export t1=2000 T=10  N1=1 ; export N2=${N1}  #NG te:sawa:aoeeo eguti:aiaea rz2>1.0 || rz2<0.3
export t1=2000 T=10  N1=32; export N2=${N1}  #NG te:sawa:aioea eguti:aiaeo rz2>1.0 || rz2<0.3
export t1=2000 T=100 N1=32; export N2=${N1}  #NG te:sawa:aiaoo eguti:aiueo rz2>1.0
export t1=2000 T=100 N1=60; export N2=${N1}  #NG te:sawa:aiueu eguti:aieeo rz2>1.0 || rz2<0.3
export t1=2000 T=100  N1=1 ; export N2=${N1} #NG te:sawa:aieeo eguti:aiuea rz2>1.0 || rz2<0.3
export t1=2000 T=100 N1=32; export N2=${N1}  #OK te:sawa:aiueo eguti:aiueo rz2>1.0 || rz2<0.3
echo n | vowelrecog te:sawa  tr:eguti k:9 N:${N1}-${N2} m:direct T:${T} t:${t1}:2000-2200 #N=50:oiueo     N=1:aiueo(OK)
echo n | vowelrecog te:eguti tr:sawa  k:9 N:${N1}-${N2} m:direct T:${T} t:${t1}:2000-2200 #N=50:aiueo(OK) N=1:uiueo
#export feature=poles5
#export feature=poles6 #LSP
export feature=poles4  #
for testname in sawa eguti ; do
if [ "${testname}" = "sawa" ] ; then trainname=eguti ;
elif [ "${testname}" = "eguti" ] ; then trainname=sawa ;
fi
echo "###### test:${testname} and train:${trainname} ####"
for testvowel in a i u e o ; do
echo "norm of poles between ${testvowel} of ${testname} and aiueo of ${trainname}"
for vowel in a i u e o ; do
norm_poles tmp/${testvowel}-${testname}-k9N${N1}-${N2}-${feature}.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-${feature}.dat > /dev/null
done
done
done





################
export N1=32  t1=2000; export N2=${N1}
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:${N1}-${N2} m:direct T:100 t:${t1}:200-220 #N=1:aiueo
echo n | vowelrecog te:eguti tr:sawa       k:9 N:${N1}-${N2} m:direct T:100 t:${t1}:200-220 #N=1:oiueo
export testname=sawa trainname=eguti feature=poles5
export testname=sawa trainname=eguti feature=poles4
for testvowel in a i u e o ; do
echo "regogtintion of ${testvowel} of ${testname}"
for vowel in a i u e o ; do
norm_poles tmp/${testvowel}-${testname}-k9N${N1}-${N2}-${feature}.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-${feature}.dat > /dev/null
#echo "norm_poles tmp/${testvowel}-${testname}-k9N${N1}-${N2}-${feature}.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-${feature}.dat"
done
done

060108
(1)shrink2で sawa と eguti 相互の訓練・認識が成功
shrink2は次のユニットをMSEの評価に使わない
 発散する極(rz2>1.0)をもつ連想行列をもつユニット
 減衰が大きい極(rz2<0.3)をもつ連想行列をもつユニット
ユニット数は N:50-50 以上が必要のようだ。
echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:direct T:100 t:2000:2000-2200 #aiueo OK ??
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:32-32 m:direct T:100 t:2000:2000-2200 #oiueo NG

echo n | vowelrecog te:eguti tr:sawa       k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #uiueo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #aiueo OK

echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:direct T:100 t:1500:1500-1700 #aiueo OK ??
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:32-32 m:direct T:100 t:1500:1500-1700 #oiueo NG

echo n | vowelrecog te:sawa  tr:eguti      k:9 N:50-50 m:shrink2 T:100 t:2000:2000-2200 #aiueo rz2>1.0 || rz2<0.3 OK
echo n | vowelrecog te:eguti tr:sawa       k:9 N:50-50 m:shrink2 T:100 t:2000:2000-2200 #oiooo rz2>1.0 || rz2<0.3 NG

echo n | vowelrecog te:eguti tr:sawa       k:9 N:60-60 m:direct T:100 t:1500:1500-1700 #aiueo OK
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:60-60 m:direct T:100 t:1500:1500-1700 #oiueo NG


echo n | vowelrecog te:sawa  tr:eguti      k:9 N:50-50 m:shrink2 T:100 t:1500:1500-1700 #aiueo rz2>1.0 || rz2<0.3 OK
echo n | vowelrecog te:eguti tr:sawa       k:9 N:50-50 m:shrink2 T:100 t:1500:1500-1700 #eiooo rz2>1.0 || rz2<0.3 NG

echo n | vowelrecog te:sawa  tr:eguti      k:9 N:70-70 m:shrink2 T:100 t:3000:3000-3200 #eiueo NG rz2>1.0 || rz2<0.3 
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:70-70 m:shrink2 T:100 t:4000:3000-3200 #oiueo NG rz2>1.0 || rz2<0.3 
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:60-60 m:shrink2 T:100 t:4000:3000-3200 #ouueo NG rz2>1.0 || rz2<0.3 

060106
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #aiueo  OK
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:32-32 m:direct T:100 t:1500:1500-1700 #oiuoo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:32-32 m:shrink2 T:100 t:1500:1500-1700 #oiuoo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:1-32 m:direct T:100 t:1500:1500-1700 #oiueo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:60-60 m:direct T:100 t:1500:1500-1700 #oiueo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:30-60 m:shrink2 T:100 t:1500:1500-1700 #aaaaa NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:30-50 m:direct T:100 t:1500:1500-1700 #aiuoo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:30-60 m:direct T:100 t:1500:1500-1700 #aiuoo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:60-60 m:direct T:100 t:1500:1500-1700 #oiueo NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:70-70 m:shrink2 T:100 t:1500:1500-1700 #aioeo rz2>1.0 NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:70-70 m:shrink2 T:100 t:1500:1500-1700 #aioee rz2>1.0 || rz2<0.5 NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:70-70 m:shrink2 T:100 t:1500:1500-1700 #aiueo rz2>1.0 || rz2<0.3 OK
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:32-32 m:shrink2 T:100 t:1500:1500-1700 #aioee rz2>1.0 || rz2<0.3 NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:40-40 m:shrink2 T:100 t:1500:1500-1700 #aioaa rz2>1.0 || rz2<0.3 NG
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:50-50 m:shrink2 T:100 t:1500:1500-1700 #aiueo rz2>1.0 || rz2<0.3 OK
echo n | vowelrecog tr:eguti te:sawa       k:9 N:50-50 m:shrink2 T:100 t:1500:1500-1700 #aiueo rz2>1.0 || rz2<0.3 OK

echo n | vowelrecog te:eguti tr:sawa       k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #uiueo  NG
echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:direct T:100 t:1500:1500-1700 #aiueo OK
echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:shrink2 T:100 t:1500:1500-1700 #oiueo NG
echo n | vowelrecog te:eguti tr:sawa       k:9 N:1-32 m:direct T:100 t:1500:1500-1700 #oiueo NG
echo n | vowelrecog te:eguti tr:sawa       k:9 N:60-60 m:direct T:100 t:1500:1500-1700 #aiueo OK


echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:direct T:100 t:1000:1500-1700 #oiueo
echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:shrink2 T:100 t:1000:1500-1700 #oiuoo
echo n | vowelrecog te:eguti tr:sawa:eguti k:9 N:32-32 m:direct T:100 t:1500:1500-1700 #aiueo
echo n | vowelrecog te:eguti tr:sawa:eguti k:9 N:32-32 m:shrink2 T:100 t:1500:1500-1700 #oiuoo
echo n | vowelrecog te:eguti tr:sawa:eguti k:9 N:1-1 m:shrink2 T:100 t:1500:1500-1700 #uiueo
echo n | vowelrecog te:eguti tr:sawa:eguti k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #oiueo

echo n | vowelrecog te:sawa  tr:eguti      k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #aiueo
echo n | vowelrecog te:eguti tr:eguti:sawa k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #oiueo
echo n | vowelrecog te:eguti tr:sawa       k:9 N:1-1 m:direct T:100 t:1500:1500-1700 #oiueo
echo n | vowelrecog te:eguti tr:sawa       k:9 N:32-32 m:direct T:100 t:1500:1500-1700 #oiueo
echo n | vowelrecog te:eguti tr:sawa       k:9 N:50-50 m:direct T:100 t:1500:1500-1700 #aiueo
echo n | vowelrecog te:sawa  tr:eguti      k:9 N:50-50 m:direct T:100 t:1500:1500-1700 #oiueo

####################
export testname=sawa trainname=eguti feature=M1
export testname=sawa trainname=eguti feature=theta1
export testname=sawa trainname=eguti feature=poles5
export testname=sawa trainname=eguti feature=poles4
export N1=1 N2=${N1};
for testvowel in a i u e o ; do
echo "regogtintion of ${testvowel} of ${testname}"
for vowel in a i u e o ; do
norm_vecs tmp/${testvowel}-${testname}-k9N${N1}-${N2}-${feature}.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-${feature}.dat > /dev/null
#echo "norm_vecs tmp/${testvowel}-${testname}-k9N${N1}-${N2}-${feature}.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-${feature}.dat"
done
done
####################
####################
export testname=sawa trainname=eguti
for testvowel in a i u e o ; do
echo "recogtintion of aiueo of ${testname}"
for vowel in a i u e o ; do
N1=1;N2=1;pred2y_ts tmp/${testvowel}-${testname}-k9N${N1}-${N2}-theta1.dat tmp/${vowel}-${trainname}-k9N${N1}-${N2}-theta1.dat > /dev/null
done
done
####################



vowelrecog te:sawa     tr:sawa    k:9 N:32-32 m:direct T:100 t:1500:2000-2200 #aiueo
vowelrecog tr:sawa     te:sawa    k:9 N:32-32 m:direct T:100 t:1500:2000-2200 #aiueo

vowelrecog te:sawa     tr:sawa    k:9 N:32-32 m:shrink2 T:100 t:1500:3000-3200 #aiueo
vowelrecog tr:sawa     te:sawa    k:9 N:32-32 m:shrink2 T:100 t:1500:3000-3200 #aiueo



vowelrecog tr:sawa     te:eguti    k:9 N:60-60 m:shrink2 T:100 t:3000-3200 #aiuoo

vowelrecog te:sawa     tr:eguti    k:9 N:32-32 m:direct T:100 t:200-400 #oiueo
vowelrecog tr:sawa     te:eguti    k:9 N:32-32 m:direct T:100 t:200-400 #oiueo
vowelrecog tr:sawa     te:eguti    k:9 N:32-32 m:shrink2 T:100 t:2000-2200 #aiuoo
vowelrecog te:sawa     tr:eguti    k:9 N:32-32 m:shrink2 T:100 t:2000-2200 #aiueo

vowelrecog te:sawa     tr:eguti    k:9 N:1-1 m:direct T:100 t:2000-2200 #aiueo
vowelrecog tr:sawa     te:eguti    k:9 N:1-1 m:direct T:100 t:2000-2200 #uiueo
for vowel in a i u e o ; do
pred2y_ts tmp/a-sawa-k9N32-32-M1.dat tmp/${vowel}-eguti-k9N32-32-M1.dat > /dev/null
done

for vowel in a i u e o ; do
pred2y_ts tmp/a-sawa-k9N32-32-theta1.dat tmp/${vowel}-eguti-k9N32-32-theta1.dat > /dev/null
done

060103
(1) z(t)=y(t)-y(t-1)を作る。 dytimeseries.c
for name in eguti sawa ; do
for vowel in a i u e o ; do
dytimeseries ../data/dy-${name}-${vowel}.dat > ../data/d2y-${name}-${vowel}.dat ;
echo "../data/dy-${name}-${vowel}.dat" ;
done ;
done

for name in eguti sawa ; do
for vowel in a i u e o ; do
dytimeseries ../data/${name}-${vowel}.dat > ../data/dy-${name}-${vowel}.dat ;
echo "../data/dy-${name}-${vowel}.dat" ;
done ;
done



if(net[nn].cell[n].am.M[0][k]>0.001) {NG=1; break;} in my_plinn.c
vowelrecog te:dy-eguti tr:dy-sawa  k:9 N:32-32 m:shrink1 T:100 t:2000-2200 #oiuoo
vowelrecog te:d2y-eguti tr:d2y-sawa  k:9 N:32-32 m:shrink1 T:100 t:2000-2200 #eiaeo

vowelrecog te:d2y-eguti tr:d2y-sawa  k:9 N:32-32 m:direct T:100 t:2000-2200 #aiaao
vowelrecog te:d2y-sawa  tr:d2y-eguti k:9 N:32-32 m:direct T:100 t:2000-2200 #aiueo

vowelrecog te:dy-eguti tr:dy-sawa  k:9 N:32-32 m:direct T:100 t:2000-2200 #aiueo
vowelrecog te:dy-sawa  tr:dy-eguti k:9 N:32-32 m:direct T:100 t:2000-2200 #oiueo

vowelrecog te:eguti    tr:sawa     k:9 N:32-32 m:direct T:100 t:2000-2200 #oiueo
vowelrecog te:sawa     tr:eguti    k:9 N:32-32 m:direct T:100 t:2000-2200 #oiueo

vowelrecog te:d2y-eguti tr:d2y-sawa  k:9 N:1-1 m:direct T:100 t:2000-2200 #uiaeo
vowelrecog te:d2y-sawa  tr:d2y-eguti k:9 N:1-1 m:direct T:100 t:2000-2200 #aiaeo

vowelrecog te:dy-eguti tr:dy-sawa  k:9 N:1-1 m:direct T:100 t:2000-2200 #uiueo
vowelrecog te:dy-sawa  tr:dy-eguti k:9 N:1-1 m:direct T:100 t:2000-2200 #aiaeo

vowelrecog te:eguti    tr:sawa     k:9 N:1-1 m:direct T:100 t:2000-2200 #uiueo
vowelrecog te:sawa     tr:eguti    k:9 N:1-1 m:direct T:100 t:2000-2200 #aiueo

vowelrecog te:dy-eguti tr:sawa  k:9 N:1-1 m:shrink1 T:100 t:2000-2200 #oeueo

051227
母音認識

051226
(1) 認識? pM=pMc bestssp.net
make vowelrecog 
vowelrecog te:sawa tr:eguti k:9 N:1-1 T:100 t:2000-2200
vowelrecog te:eguti tr:sawa k:9 N:1-1 T:100 t:2000-2200
vowelrecog te:eguti tr:sawa k:9 N:32-34 T:100 t:2000-2200
vowelrecog te:dy-eguti tr:dy-sawa  k:9 N:1-1 m:direct T:100 t:2000-2200 #u,i,u,e,o
vowelrecog te:dy-sawa  tr:dy-eguti k:9 N:32-34 m:direct T:100 t:2000-2200 #o,i,o,o,o

vowelrecog te:eguti tr:sawa k:9 N:1-1 m:direct T:100 t:2000-2200 #i,i,u,e,o
vowelrecog te:sawa tr:eguti k:9 N:1-1 m:direct T:100 t:2000-2200 #a,i,u,e,o

vowelrecog tr:eguti te:sawa k:9 N:32-34 m:direct T:100 t:2000-2200 #o,i,u,e,o
vowelrecog tr:sawa te:eguti k:9 N:32-34 m:direct T:100 t:2000-2200 #o,i,u,e,o

############### Execute from here.
export K=12
export K=8
export K=9
export N1=2 N2=2
export N1=32 N2=34
export N1=1 N2=1
export N1=32 N2=34
export pM=pMm
export pM=pMs # shrink the net
export method=mspE
export method=mspe
export msp=msp

export T=100 g=5e-3 t1=2000 t2=2200
####
for onsei in a i u e o; do
export ens= #
for name in eguti sawa ; do
#for name in eguti ; do
dname=${name}-${onsei} 
dn_timeseries=./data/${dname}.dat 
dn_regression=./tmp/${dname}-rg.dat 
###
cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
###各ユニット数について学習
./can2 <param.dat 
cp tmp/train+test.dat ${dn_regression}  
#############
export N=${N1} 
while [ ${N} -le ${N2} ] ; do
file=tmp/best${msp}-${dname}-K${K}N${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo ${file} exists. Omit calculation. ##既に学習
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
echo "----the following are param.dat---"
cat param.dat 
echo "----the above are in param.dat---"
can2 < param.dat
cp best${msp}.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done #closing of while [ ${N} -le ${N2} ] ; do
done #closing of for name

###アンサンブル想起の実行
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
${method}
${pM}        #poles of M
msp
qu
EOF
echo "----the following are param.dat---"
cat param.dat
echo "----the above are in param.dat---"
./can2 < param.dat
echo "### Done can2 for ${onsei} K=${K} N=${N1}-${N2}"
pfile=tmp/${onsei}-polesK${K}N${N1}-${N2}.dat
pfile2=tmp/${onsei}-poles2K${K}N${N1}-${N2}.dat
pfile3=tmp/${onsei}-poles3K${K}N${N1}-${N2}.dat
echo "cp tmp/poles.dat ${pfile}"
cp tmp/poles.dat ${pfile}
cp tmp/poles2.dat ${pfile2}
cp tmp/poles3.dat ${pfile3}
done 
#closing of for onsei
############### Execute to here.







############### Execute from here.
cd tmp;
#plot [-0.1:4] "eguti-a-poles3K9N32-32.dat" using 4:3 w impulses
export K=8 N=1-1 poles=poles3 title="LSP"
export K=12 N=1-1 poles=poles title="Poles of LPC"
export K=12 N=1-1 poles=poles3 title="LSP"
export K=9 N=2-2 poles=poles title="Poles of LPC"
export K=9 N=32-34 poles=poles3 title="LSP"
export K=8 N=1-1 poles=poles title="Poles of LPC"
export K=9 N=1-1 poles=poles3 title="LSP"
export K=9 N=1-1 poles=poles title="Poles of LPC"
export K=9 N=32-34 poles=poles title="Poles of LPC"

export fbody=_aiueo_K${K}N${N}${poles}
cat > mkfigs.gpl <<EOF
set title "${title}"
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
#set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set terminal tgif; set output "${fbody}.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
EOF
#####
for F in a i u e o aiueo ; do 
if [ "${F}" = "a" ] ; then pos="x1,y3"; 
elif [ "${F}" = "i" ] ; then pos="x2,y3"; 
elif [ "${F}" = "u" ] ; then pos="x1,y2"; 
elif [ "${F}" = "e" ] ; then pos="x2,y2"; 
elif [ "${F}" = "o" ] ; then pos="x1,y1"; 
elif [ "${F}" = "aiueo" ] ; then pos="x2,y1"; 
fi

if [ "${F}" != "aiueo" ] ; then 
cat >> mkfigs.gpl <<EOF
set origin ${pos};
plot [0:2*pi][-2:2][-2:2] "${F}-${poles}K${K}N${N}.dat" using 1:2 t "${F}-${name1}K${K}N${N}", \\
cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
EOF
else 
cat >> mkfigs.gpl <<EOF
set origin ${pos};
plot [0:2*pi][-2:2][-2:2] \\
"a-${poles}K${K}N${N}.dat" using 1:2 t "a-K${K}N${N}" w p 1, \\
"i-${poles}K${K}N${N}.dat" using 1:2 t "i-K${K}N${N}" w p 2, \\
"u-${poles}K${K}N${N}.dat" using 1:2 t "u-K${K}N${N}" w p 3, \\
"e-${poles}K${K}N${N}.dat" using 1:2 t "e-K${K}N${N}" w p 4, \\
"o-${poles}K${K}N${N}.dat" using 1:2 t "o-K${K}N${N}" w p 5, \\
cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit
EOF
fi 
done
cat mkfigs.gpl
gnuplot < mkfigs.gpl
tgif ${fbody}.obj; gv ${fbody}.eps&
#tgif -print -eps -color -dontcondense -a4 ${fbody}.obj ; gv ${fbody}.eps &
#tgif -print -gif ${fbody}.obj ; convert -page A4+0+0 ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#tgif -print -gif -a4 ${fbody}.obj ; convert -page A4+0+0 ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#lpr ${fbody}.eps;

############### Execute to here.






051220
(1)051218をアンサンブルでやってみる
############### Execute from here.
export K=12
export K=8
export K=9
export N1=2 N2=2
export N1=32 N2=34
export N1=1 N2=1
export N1=32 N2=32
export pM=pMm
export pM=pM
export method=mspE
export method=mspe

export T=100 g=5e-3 t1=2000 t2=2200
####
for name in eguti sawa ; do  
for onsei in a i u e o; do
dname=${name}-${onsei} 
dn_timeseries=./data/${dname}.dat 
dn_regression=./tmp/${dname}-rg.dat 
###
cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
###各ユニット数について学習
./can2 <param.dat 
cp tmp/train+test.dat ${dn_regression}  
#############
export N=${N1} ens= #
while [ ${N} -le ${N2} ] ; do
file=tmp/bestmsp-${dname}-K${K}N${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo ${file} exists. Omit calculation. ##既に学習
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
echo "----the following are param.dat---"
cat param.dat 
echo "----the above are in param.dat---"
can2 < param.dat
cp bestmsp.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done
###アンサンブル想起の実行
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
${method}
${pM}        #poles of M
qu
EOF
echo "----the following are param.dat---"
cat param.dat
echo "----the above are in param.dat---"
./can2 < param.dat
echo "### Done can2 for ${dname} K=${K} N=${N1}-${N2}"
pfile=tmp/${dname}-polesK${K}N${N1}-${N2}.dat
pfile2=tmp/${dname}-poles2K${K}N${N1}-${N2}.dat
pfile3=tmp/${dname}-poles3K${K}N${N1}-${N2}.dat
cp tmp/poles.dat ${pfile}
cp tmp/poles2.dat ${pfile2}
cp tmp/poles3.dat ${pfile3}
done
done
############### Execute to here.

>>MSE---;1.002517e+03 NMSE---;9.914155e-01eguti-a K=8 N=1-1
>>MSE---;1.960590e+03 NMSE---;7.403248e-01eguti-i K=8 N=1-1
>>MSE---;3.388986e+03 NMSE---;1.013449e+00eguti-u K=8 N=1-1
>>MSE---;1.122435e+03 NMSE---;9.601821e-01eguti-e K=8 N=1-1
>>MSE---;1.333867e+03 NMSE---;8.874819e-01eguti-o K=8 N=1-1
>>MSE---;4.649945e+01 NMSE---;8.800867e-01sawa-a K=8 N=1-1
>>MSE---;1.527081e+03 NMSE---;4.944001e-01sawa-i K=8 N=1-1
>>MSE---;2.612133e+03 NMSE---;9.798658e-01sawa-u K=8 N=1-1
>>MSE---;2.403179e+03 NMSE---;9.917744e-01sawa-e K=8 N=1-1
>>MSE---;1.708560e+03 NMSE---;7.813276e-01sawa-o K=8 N=1-1

#>>MSE---;1.009086e+03 NMSE---;9.979119e-01eguti-a K=9 N=1
#>>MSE---;1.757765e+03 NMSE---;6.637374e-01eguti-i K=9 N=1
#>>MSE---;3.332717e+03 NMSE---;9.966225e-01eguti-u K=9 N=1
#>>MSE---;1.337969e+03 NMSE---;8.902110e-01eguti-o K=9 N=1
#>>MSE---;4.718409e+01 NMSE---;8.930448e-01sawa-a K=9 N=1
#>>MSE---;1.533527e+03 NMSE---;4.964873e-01sawa-i K=9 N=1
#>>MSE---;2.461112e+03 NMSE---;9.232148e-01sawa-u K=9 N=1
#>>MSE---;2.195580e+03 NMSE---;9.060997e-01sawa-e K=9 N=1
#>>MSE---;1.416616e+03 NMSE---;6.478209e-01sawa-o K=9 N=1

#>>MSE---;9.982510e+02 NMSE---;9.871970e-01eguti-a K=12 N=1-1
#>>MSE---;1.119767e+03 NMSE---;4.228275e-01eguti-i K=12 N=1-1
#>>MSE---;3.220792e+03 NMSE---;9.631524e-01eguti-u K=12 N=1-1
#>>MSE---;1.097598e+03 NMSE---;9.389359e-01eguti-e K=12 N=1-1
#>>MSE---;1.350245e+03 NMSE---;8.983787e-01eguti-o K=12 N=1-1
#>>MSE---;4.602902e+01 NMSE---;8.711829e-01sawa-a K=12 N=1-1
#>>MSE---;8.486471e+02 NMSE---;2.747538e-01sawa-i K=12 N=1-1
#>>MSE---;2.030515e+03 NMSE---;7.616887e-01sawa-u K=12 N=1-1
#>>MSE---;2.186250e+03 NMSE---;9.022493e-01sawa-e K=12 N=1-1
#>>MSE---;1.004039e+03 NMSE---;4.591491e-01sawa-o K=12 N=1-1


#
# mspE：多段予測結果をアンサンブル
#method=mspE>>MSE---;3.948551e+01 NMSE---;3.904827e-02eguti-a K=9 N=32-34
#method=mspE>>MSE---;1.151451e+02 NMSE---;4.347914e-02eguti-i K=9 N=32-34
#method=mspE>>MSE---;4.536736e+02 NMSE---;1.356675e-01eguti-u K=9 N=32-34
#method=mspE>>MSE---;7.779026e+01 NMSE---;6.654535e-02eguti-e K=9 N=32-34
#method=mspE>>MSE---;2.975006e+01 NMSE---;1.979405e-02eguti-o K=9 N=32-34
#method=mspE>>MSE---;1.687054e+00 NMSE---;3.193057e-02sawa-a K=9 N=32-34
#method=mspE>>MSE---;3.904374e+02 NMSE---;1.264061e-01sawa-i K=9 N=32-34
#method=mspE>>MSE---;2.011944e+02 NMSE---;7.547223e-02sawa-u K=9 N=32-34
#method=mspE>>MSE---;4.427360e+01 NMSE---;1.827139e-02sawa-e K=9 N=32-34
#method=mspE>>MSE---;2.951536e+02 NMSE---;1.349743e-01sawa-o K=9 N=32-34 
# mspe：各ステップでアンサンブルしながら多段予測
#method=mspe>>MSE---;9.329644e+02 NMSE---;9.226333e-01eguti-a K=9 N=32-34
#method=mspe>>MSE---;1.473319e+02 NMSE---;5.563300e-02eguti-i K=9 N=32-34
#method=mspe>>MSE---;4.802881e+02 NMSE---;1.436263e-01eguti-u K=9 N=32-34
#method=mspe>>MSE---;1.653690e+02 NMSE---;1.414642e-01eguti-e K=9 N=32-34
#method=mspe>>MSE---;3.009947e+01 NMSE---;2.002653e-02eguti-o K=9 N=32-34
#method=mspe>>MSE---;1.706784e+00 NMSE---;3.230400e-02sawa-a K=9 N=32-34
#method=mspe>>MSE---;3.972092e+02 NMSE---;1.285985e-01sawa-i K=9 N=32-34
#method=mspe>>MSE---;2.391637e+02 NMSE---;8.971532e-02sawa-u K=9 N=32-34
#method=mspe>>MSE---;6.977037e+01 NMSE---;2.879372e-02sawa-e K=9 N=32-34
#method=mspe>>MSE---;3.148103e+02 NMSE---;1.439633e-01sawa-o K=9 N=32-34

#(1)複数ユニット(N>1)に対する処理は?
#(2)下の結果を眺めると、1個のユニット(N=1)のCAN2で各母音毎に、特徴的な数個の極の付近に極が有るか無いかで認識できそう。
#ただし、従来のように分析次数K個のすべての極の距離を調べたらだめ!?
#候補として絶対値が1〜0.707位のものを使うとどうか
#手順：
#[1]線形予測係数(CAN2のM)を求める
#[2]極を求める
#[3]極の絶対値が1〜0.707位のものを選択。
#[4]線形予測係数に逆変換
#[5]必要ならLSP(Linear Spectrum Pairs)に変換
#[6]係数ベクトルの内積を求める

############### Execute from here.
cd tmp;
#plot [-0.1:4] "eguti-a-poles3K9N32-32.dat" using 4:3 w impulses
export name1=eguti name2=sawa K=8 N=1-1 poles=poles3 title="LSP"
export name1=eguti name2=sawa K=12 N=1-1 poles=poles title="Poles of LPC"
export name1=eguti name2=sawa K=12 N=1-1 poles=poles3 title="LSP"
export name1=eguti name2=sawa K=9 N=2-2 poles=poles title="Poles of LPC"
export name1=eguti name2=sawa K=9 N=32-34 poles=poles title="Poles of LPC"
export name1=eguti name2=sawa K=9 N=32-34 poles=poles3 title="LSP"
export name1=eguti name2=sawa K=8 N=1-1 poles=poles title="Poles of LPC"
export name1=eguti name2=sawa K=9 N=1-1 poles=poles3 title="LSP"

export fbody=_aiueo_K${K}N${N}${poles}
cat > mkfigs.gpl <<EOF
set title "${title}"
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
#set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set terminal tgif; set output "${fbody}.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
EOF
#####
for F in a i u e o aiueo ; do 
if [ "${F}" = "a" ] ; then pos="x1,y3"; 
elif [ "${F}" = "i" ] ; then pos="x2,y3"; 
elif [ "${F}" = "u" ] ; then pos="x1,y2"; 
elif [ "${F}" = "e" ] ; then pos="x2,y2"; 
elif [ "${F}" = "o" ] ; then pos="x1,y1"; 
elif [ "${F}" = "aiueo" ] ; then pos="x2,y1"; 
fi

if [ "${F}" != "aiueo" ] ; then 
cat >> mkfigs.gpl <<EOF
set origin ${pos};
plot [0:2*pi][-2:2][-2:2] "${name1}-${F}-${poles}K${K}N${N}.dat" using 1:2 t "${F}-${name1}K${K}N${N}", \\
"${name2}-${F}-${poles}K${K}N${N}.dat" using 1:2 t "${F}-${name2}K${K}N${N}", \\
cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
EOF
else 
cat >> mkfigs.gpl <<EOF
set origin ${pos};
plot [0:2*pi][-2:2][-2:2] \\
"${name1}-a-${poles}K${K}N${N}.dat" using 1:2 t "a-${name1}K${K}N${N}" w p 1, "${name2}-a-${poles}K${K}N${N}.dat" using 1:2 t "a-${name2}K${K}N${N}" w p 1, \\
"${name1}-i-${poles}K${K}N${N}.dat" using 1:2 t "i-${name1}K${K}N${N}" w p 2, "${name2}-i-${poles}K${K}N${N}.dat" using 1:2 t "i-${name2}K${K}N${N}" w p 2, \\
"${name1}-u-${poles}K${K}N${N}.dat" using 1:2 t "u-${name1}K${K}N${N}" w p 3, "${name2}-u-${poles}K${K}N${N}.dat" using 1:2 t "u-${name2}K${K}N${N}" w p 3, \\
"${name1}-e-${poles}K${K}N${N}.dat" using 1:2 t "e-${name1}K${K}N${N}" w p 4, "${name2}-e-${poles}K${K}N${N}.dat" using 1:2 t "u-${name2}K${K}N${N}" w p 4, \\
"${name1}-o-${poles}K${K}N${N}.dat" using 1:2 t "o-${name1}K${K}N${N}" w p 5, "${name2}-o-${poles}K${K}N${N}.dat" using 1:2 t "o-${name2}K${K}N${N}" w p 5, \\
cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit
EOF
fi 
done
cat mkfigs.gpl
gnuplot < mkfigs.gpl
tgif ${fbody}.obj; gv ${fbody}.eps&
#tgif -print -eps -color -dontcondense -a4 ${fbody}.obj ; gv ${fbody}.eps &
#tgif -print -gif ${fbody}.obj ; convert -page A4+0+0 ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#tgif -print -gif -a4 ${fbody}.obj ; convert -page A4+0+0 ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#lpr ${fbody}.eps;

############### Execute to here.













############### poles3=LSP K8N1 Poles of LPC (Linear Predictive Coefficients)
cd tmp; 
gnuplot
set title "Poles of LPC"
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
#set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set terminal tgif; set output "_aiueo-K8N1.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
set origin x1,y3;
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK8N1-1.dat" using 1:2 t "a-egutiK8N1", "sawa-a-polesK8N1-1.dat" using 1:2 t "a-sawaK8N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y3; 
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK8N1-1.dat" using 1:2 t "i-egutiK8N1", "sawa-i-polesK8N1-1.dat" using 1:2 t "i-sawaK8N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x1,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK8N1-1.dat" using 1:2 t "u-egutiK8N1", "sawa-u-polesK8N1-1.dat" using 1:2 t "u-sawaK8N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK8N1-1.dat" using 1:2 t "e-egutiK8N1", "sawa-e-polesK8N1-1.dat" using 1:2 t "e-sawaK8N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x1,y1;
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK8N1-1.dat" using 1:2 t "o-egutiK8N1", "sawa-o-polesK8N1-1.dat" using 1:2 t "o-sawaK8N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y1;
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK8N1-1.dat" using 1:2 t "a-egutiK8N1" w p 1, "sawa-a-polesK8N1-1.dat" using 1:2 t "a-sawaK8N1" w p 1, \
"eguti-i-polesK8N1-1.dat" using 1:2 t "i-egutiK8N1" w p 2, "sawa-i-polesK8N1-1.dat" using 1:2 t "i-sawaK8N1" w p 2, \
"eguti-u-polesK8N1-1.dat" using 1:2 t "u-egutiK8N1" w p 3, "sawa-u-polesK8N1-1.dat" using 1:2 t "u-sawaK8N1" w p 3, \
"eguti-e-polesK8N1-1.dat" using 1:2 t "e-egutiK8N1" w p 4, "sawa-e-polesK8N1-1.dat" using 1:2 t "e-sawaK8N1" w p 4, \
"eguti-o-polesK8N1-1.dat" using 1:2 t "o-egutiK8N1" w p 5, "sawa-o-polesK8N1-1.dat" using 1:2 t "o-sawaK8N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit
EOF
#for F in a i u e o aiueo ; do 
for F in aiueo ; do 
fbody=_${F}-K8N1;
tgif -print -eps -color -dontcondense -a4 ${fbody}.obj ; gv ${fbody}.eps &
#tgif -print -gif ${fbody}.obj ; convert -page A4+0+0 ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#lpr ${fbody}.eps;
done
###############

############### poles=LCP K9N1 Poles of LPC (Linear Predictive Coefficients)
cd tmp; 
gnuplot
set title "Poles of LPC"
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
#set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set terminal tgif; set output "_aiueo-K9N1.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
set origin x1,y3;
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1", "sawa-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y3; 
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1", "sawa-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x1,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1", "sawa-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1", "sawa-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x1,y1;
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1", "sawa-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y1;
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1" w p 1, "sawa-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1" w p 1, \
"eguti-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1" w p 2, "sawa-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1" w p 2, \
"eguti-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1" w p 3, "sawa-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1" w p 3, \
"eguti-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1" w p 4, "sawa-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1" w p 4, \
"eguti-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1" w p 5, "sawa-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit

#for F in a i u e o aiueo ; do 
for F in aiueo ; do 
fbody=_${F}-K9N1;
tgif -print -eps -color -dontcondense -a4 ${fbody}.obj ; gv ${fbody}.eps &
#tgif -print -gif ${fbody}.obj ; convert -page A4+0+0 ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#lpr ${fbody}.eps;
done
###############

############### poles=LSP K9N1 Poles of LPC (Linear Predictive Coefficients)
cd tmp; 
gnuplot
set title "Poles of LPC"
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
#set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set terminal tgif; set output "_aiueo-K9N1.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
set origin x1,y3;
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1", "sawa-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y3; 
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1", "sawa-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x1,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1", "sawa-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1", "sawa-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x1,y1;
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1", "sawa-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1", cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set origin x2,y1;
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1" w p 1, "sawa-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1" w p 1, \
"eguti-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1" w p 2, "sawa-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1" w p 2, \
"eguti-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1" w p 3, "sawa-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1" w p 3, \
"eguti-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1" w p 4, "sawa-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1" w p 4, \
"eguti-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1" w p 5, "sawa-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit
EOF
#for F in a i u e o aiueo ; do 
for F in aiueo ; do 
fbody=_${F}-K9N1;
tgif -print -eps -color -dontcondense -a4 ${fbody}.obj ;  gv ${fbody}.eps &
#tgif -print -gif ${fbody}.obj ; convert ${fbody}.gif ${fbody}.eps ; gv ${fbody}.eps &
#lpr ${fbody}.eps;
done
###############


#########################################
############### poles3=LSP K8N1 Poles of LPC (Linear Predictive Coefficients)
cd tmp; gnuplot
set title "Poles of LPC"
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
set terminal tgif; set output "_aiueo-K8N1-LSP.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
set origin x1,y3;
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK8N1-1.dat" using 1:2 t "a-egutiK8N1", "sawa-a-polesK8N1-1.dat" using 1:2 t "a-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x2,y3; 
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK8N1-1.dat" using 1:2 t "i-egutiK8N1", "sawa-i-polesK8N1-1.dat" using 1:2 t "i-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x1,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK8N1-1.dat" using 1:2 t "u-egutiK8N1", "sawa-u-polesK8N1-1.dat" using 1:2 t "u-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x2,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK8N1-1.dat" using 1:2 t "e-egutiK8N1", "sawa-e-polesK8N1-1.dat" using 1:2 t "e-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x1,y1;
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK8N1-1.dat" using 1:2 t "o-egutiK8N1", "sawa-o-polesK8N1-1.dat" using 1:2 t "o-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x2,y1;
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK8N1-1.dat" using 1:2 t "a-egutiK8N1" w p 1, "sawa-a-polesK8N1-1.dat" using 1:2 t "a-sawaK8N1" w p 1, \
"eguti-i-polesK8N1-1.dat" using 1:2 t "i-egutiK8N1" w p 2, "sawa-i-polesK8N1-1.dat" using 1:2 t "i-sawaK8N1" w p 2, \
"eguti-u-polesK8N1-1.dat" using 1:2 t "u-egutiK8N1" w p 3, "sawa-u-polesK8N1-1.dat" using 1:2 t "u-sawaK8N1" w p 3, \
"eguti-e-polesK8N1-1.dat" using 1:2 t "e-egutiK8N1" w p 4, "sawa-e-polesK8N1-1.dat" using 1:2 t "e-sawaK8N1" w p 4, \
"eguti-o-polesK8N1-1.dat" using 1:2 t "o-egutiK8N1" w p 5, "sawa-o-polesK8N1-1.dat" using 1:2 t "o-sawaK8N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit
#上の結果を眺めると、各母音毎に、特徴的な数個の極の付近に極が有るか無いかで認識できそう。
#ただし、従来のように分析次数K個のすべての極の距離を調べたらだめ!?
#for F in a i u e o aiueo ; do 
for F in aiueo ; do 
fbody=_${F}-K8N1;
#tgif -print -eps -color ${fbody}.obj ; 
tgif -print -gif ${fbody}.obj ; convert ${fbody}.gif ${fbody}.eps ; 
#lpr ${fbody}.eps;
gv ${fbody}.eps &
done
###############

############### poles3=LSP K8N1 
cd tmp; gnuplot
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
set terminal x11; set pointsize 2;x1=0.1;x2=0.1;y1=0.1;y2=0.1;y3=0.1;dd=0.8;set size square;
set terminal tgif; set output "_aiueo-K8N1-LSP.obj"; set pointsize 0.5;x1=0.1;x2=0.6;y1=0.1;y2=0.4;y3=0.7;dd=0.4;
set size square dd,dd; set rmargin 0; set lmargin 0; set tmargin 0; set bmargin 0;
set multiplot
set title "LSP(Linear Spectrum Pairs)"
set origin x1,y3;
plot [0:2*pi][-2:2][-2:2] "eguti-a-poles3K8N1-1.dat" using 1:2 t "a-egutiK8N1", "sawa-a-poles3K8N1-1.dat" using 1:2 t "a-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x2,y3; 
plot [0:2*pi][-2:2][-2:2] "eguti-i-poles3K8N1-1.dat" using 1:2 t "i-egutiK8N1", "sawa-i-poles3K8N1-1.dat" using 1:2 t "i-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x1,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-u-poles3K8N1-1.dat" using 1:2 t "u-egutiK8N1", "sawa-u-poles3K8N1-1.dat" using 1:2 t "u-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x2,y2; 
plot [0:2*pi][-2:2][-2:2] "eguti-e-poles3K8N1-1.dat" using 1:2 t "e-egutiK8N1", "sawa-e-poles3K8N1-1.dat" using 1:2 t "e-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x1,y1;
plot [0:2*pi][-2:2][-2:2] "eguti-o-poles3K8N1-1.dat" using 1:2 t "o-egutiK8N1", "sawa-o-poles3K8N1-1.dat" using 1:2 t "o-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set origin x2,y1;
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-poles3K8N1-1.dat" using 1:2 t "a-egutiK8N1" w p 1, "sawa-a-poles3K8N1-1.dat" using 1:2 t "a-sawaK8N1" w p 1, \
"eguti-i-poles3K8N1-1.dat" using 1:2 t "i-egutiK8N1" w p 2, "sawa-i-poles3K8N1-1.dat" using 1:2 t "i-sawaK8N1" w p 2, \
"eguti-u-poles3K8N1-1.dat" using 1:2 t "u-egutiK8N1" w p 3, "sawa-u-poles3K8N1-1.dat" using 1:2 t "u-sawaK8N1" w p 3, \
"eguti-e-poles3K8N1-1.dat" using 1:2 t "e-egutiK8N1" w p 4, "sawa-e-poles3K8N1-1.dat" using 1:2 t "e-sawaK8N1" w p 4, \
"eguti-o-poles3K8N1-1.dat" using 1:2 t "o-egutiK8N1" w p 5, "sawa-o-poles3K8N1-1.dat" using 1:2 t "o-sawaK8N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
unset multiplot
quit
#上の結果を眺めると、各母音毎に、特徴的な数個の極の付近に極が有るか無いかで認識できそう。
#ただし、従来のように分析次数K個のすべての極の距離を調べたらだめ!?
#for F in a i u e o aiueo ; do 
for F in aiueo ; do 
fbody=_${F}-K8N1;
#tgif -print -eps -color ${fbody}.obj ; 
tgif -print -gif ${fbody}.obj ; convert ${fbody}.gif ${fbody}.eps ; 
#lpr ${fbody}.eps;
gv ${fbody}.eps &
done
###############


############# LSP K9N1
cd tmp; gnuplot
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-poles3K9N1-1.dat" using 1:2 t "a-egutiK9N1", "sawa-a-poles3K9N1-1.dat" using 1:2 t "a-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_a-K9N1-LSP.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-i-poles3K9N1-1.dat" using 1:2 t "i-egutiK9N1", "sawa-i-poles3K9N1-1.dat" using 1:2 t "i-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_i-K9N1-LSP.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-u-poles3K9N1-1.dat" using 1:2 t "u-egutiK9N1", "sawa-u-poles3K9N1-1.dat" using 1:2 t "u-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_u-K9N1-LSP.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-e-poles3K9N1-1.dat" using 1:2 t "e-egutiK9N1", "sawa-e-poles3K9N1-1.dat" using 1:2 t "e-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_e-K9N1-LSP.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-o-poles3K9N1-1.dat" using 1:2 t "o-egutiK9N1", "sawa-o-poles3K9N1-1.dat" using 1:2 t "o-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_o-K9N1-LSP.obj"; replot; set terminal X11; replot
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-poles3K9N1-1.dat" using 1:2 t "a-egutiK9N1" w p 1, "sawa-a-poles3K9N1-1.dat" using 1:2 t "a-sawaK9N1" w p 1, \
"eguti-i-poles3K9N1-1.dat" using 1:2 t "i-egutiK9N1" w p 2, "sawa-i-poles3K9N1-1.dat" using 1:2 t "i-sawaK9N1" w p 2, \
"eguti-u-poles3K9N1-1.dat" using 1:2 t "u-egutiK9N1" w p 3, "sawa-u-poles3K9N1-1.dat" using 1:2 t "u-sawaK9N1" w p 3, \
"eguti-e-poles3K9N1-1.dat" using 1:2 t "e-egutiK9N1" w p 4, "sawa-e-poles3K9N1-1.dat" using 1:2 t "e-sawaK9N1" w p 4, \
"eguti-o-poles3K9N1-1.dat" using 1:2 t "o-egutiK9N1" w p 5, "sawa-o-poles3K9N1-1.dat" using 1:2 t "o-sawaK9N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set terminal tgif; set output "_aiueo-K9N1-LSP.obj"; replot; set terminal X11; replot
quit
#上の結果を眺めると、各母音毎に、特徴的な数個の極の付近に極が有るか無いかで認識できそう。
#ただし、従来のように分析次数K個のすべての極の距離を調べたらだめ!?
for F in a i u e o aiueo ; do 
fbody=_${F}-K9N1;
tgif -print -eps ${fbody}.obj ; 
lpr ${fbody}.eps;
done

cd tmp; gnuplot
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK8N1-1.dat" using 1:2 t "a-egutiK8N1", "sawa-a-polesK8N1-1.dat" using 1:2 t "a-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_a-K8N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK8N1-1.dat" using 1:2 t "i-egutiK8N1", "sawa-i-polesK8N1-1.dat" using 1:2 t "i-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_i-K8N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK8N1-1.dat" using 1:2 t "u-egutiK8N1", "sawa-u-polesK8N1-1.dat" using 1:2 t "u-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_u-K8N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK8N1-1.dat" using 1:2 t "e-egutiK8N1", "sawa-e-polesK8N1-1.dat" using 1:2 t "e-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_e-K8N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK8N1-1.dat" using 1:2 t "o-egutiK8N1", "sawa-o-polesK8N1-1.dat" using 1:2 t "o-sawaK8N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_o-K8N1.obj"; replot; set terminal X11; replot
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK8N1-1.dat" using 1:2 t "a-egutiK8N1" w p 1, "sawa-a-polesK8N1-1.dat" using 1:2 t "a-sawaK8N1" w p 1, \
"eguti-i-polesK8N1-1.dat" using 1:2 t "i-egutiK8N1" w p 2, "sawa-i-polesK8N1-1.dat" using 1:2 t "i-sawaK8N1" w p 2, \
"eguti-u-polesK8N1-1.dat" using 1:2 t "u-egutiK8N1" w p 3, "sawa-u-polesK8N1-1.dat" using 1:2 t "u-sawaK8N1" w p 3, \
"eguti-e-polesK8N1-1.dat" using 1:2 t "e-egutiK8N1" w p 4, "sawa-e-polesK8N1-1.dat" using 1:2 t "e-sawaK8N1" w p 4, \
"eguti-o-polesK8N1-1.dat" using 1:2 t "o-egutiK8N1" w p 5, "sawa-o-polesK8N1-1.dat" using 1:2 t "o-sawaK8N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set terminal tgif; set output "_aiueo-K8N1.obj"; replot; set terminal X11; replot
quit
#上の結果を眺めると、各母音毎に、特徴的な数個の極の付近に極が有るか無いかで認識できそう。
#ただし、従来のように分析次数K個のすべての極の距離を調べたらだめ!?
for F in a i u e o aiueo ; do 
fbody=_${F}-K8N1;
tgif -print -eps ${fbody}.obj ; 
lpr ${fbody}.eps;
done
###############

cd tmp; gnuplot
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1", "sawa-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_a-K9N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1", "sawa-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_i-K9N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1", "sawa-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_u-K9N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1", "sawa-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_e-K9N1.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1", "sawa-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1", cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_o-K9N1.obj"; replot; set terminal X11; replot
set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1" w p 1, "sawa-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1" w p 1, \
"eguti-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1" w p 2, "sawa-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1" w p 2, \
"eguti-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1" w p 3, "sawa-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1" w p 3, \
"eguti-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1" w p 4, "sawa-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1" w p 4, \
"eguti-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1" w p 5, "sawa-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1" w p 5, cos(t),sin(t) t "1.0" w l 1, 0.7*cos(t),0.7*sin(t) t "0.7" w l 1
set terminal tgif; set output "_aiueo-K9N1.obj"; replot; set terminal X11; replot

quit
#上の結果を眺めると、各母音毎に、特徴的な数個の極の付近に極が有るか無いかで認識できそう。
#ただし、従来のように分析次数K個のすべての極の距離を調べたらだめ!?
for F in a i u e o aiueo ; do 
fbody=_${F}-K9N1;
tgif -print -eps ${fbody}.obj ; 
lpr ${fbody}.eps;
done

gnuplot
p1=1;p2=5;p3=8;set pointsize 2 #for display
p1=0;p2=8;p3=10;set pointsize 0.5 # for tgif
#set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
#F0="sawa-a-polesK9N32-34.dat"; F1="eguti-a-polesK9N1-1.dat"; F2="a-egutiK9N1"
#plot [0:2*pi][-2:2][-2:2] F1 using 1:2 t "a-sawaK9N32-34" w p p1, F2 using 1:2 t "a-sawaK9N1" w p p2, F3 using 1:2 t "a-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set xtics (-2,-1,0,1,2); set ytics (-2,-1,0,1,2); set grid; set size square; set parametric; set pointsize 0.5
plot [0:2*pi][-2:2][-2:2] "sawa-a-polesK9N32-34.dat" using 1:2 t "a-sawaK9N32-34" w p p1, "eguti-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1" w p p2, "sawa-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_a-sawaK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-i-polesK9N32-34.dat" using 1:2 t "i-sawaK9N32-34" w p p1, "eguti-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1" w p p2, "sawa-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_i-sawaK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-u-polesK9N32-34.dat" using 1:2 t "u-sawaK9N32-34" w p p1, "eguti-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1" w p p2, "sawa-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_u-sawaK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-e-polesK9N32-34.dat" using 1:2 t "e-sawaK9N32-34" w p p1, "eguti-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1" w p p2, "sawa-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_e-sawaK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-o-polesK9N32-34.dat" using 1:2 t "o-sawaK9N32-34" w p p1, "eguti-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1" w p p2, "sawa-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_o-sawaK9N32-34.obj"; replot; set terminal X11; replot

plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N32-34.dat" using 1:2 t "a-egutiK9N32-34" w p p1, "eguti-a-polesK9N1-1.dat" using 1:2 t "a-sawaK9N1" w p p2, "sawa-a-polesK9N1-1.dat" using 1:2 t "a-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_a-egutiK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK9N32-34.dat" using 1:2 t "i-egutiK9N32-34" w p p1, "eguti-i-polesK9N1-1.dat" using 1:2 t "i-sawaK9N1" w p p2, "sawa-i-polesK9N1-1.dat" using 1:2 t "i-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_i-egutiK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK9N32-34.dat" using 1:2 t "u-egutiK9N32-34" w p p1, "eguti-u-polesK9N1-1.dat" using 1:2 t "u-sawaK9N1" w p p2, "sawa-u-polesK9N1-1.dat" using 1:2 t "u-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_u-egutiK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK9N32-34.dat" using 1:2 t "e-egutiK9N32-34" w p p1, "eguti-e-polesK9N1-1.dat" using 1:2 t "e-sawaK9N1" w p p2, "sawa-e-polesK9N1-1.dat" using 1:2 t "e-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_e-egutiK9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK9N32-34.dat" using 1:2 t "o-egutiK9N32-34" w p p1, "eguti-o-polesK9N1-1.dat" using 1:2 t "o-sawaK9N1" w p p2, "sawa-o-polesK9N1-1.dat" using 1:2 t "o-egutiK9N1" w p p3, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_o-egutiK9N32-34.obj"; replot; set terminal X11; replot
quit

#for name in sawa eguti ; do 
for name in sawa ; do 
for F in a i u e o ; do 
fbody=_${F}-${name}K9N32-34; 
tgif -print -eps ${fbody}.obj ; 
lpr ${fbody}.eps
done
done





set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N32-34.dat" using 1:2 t "a-egutiK9N32-34", "sawa-a-polesK9N32-34.dat" using 1:2, "eguti-a-polesK9N1-1.dat" using 1:2, "sawa-a-polesK9N1-1.dat" using 1:2, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_a-K9N32-34-eguti.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK9N32-34.dat" using 1:2 t "a-egutiK9N32-34", "sawa-i-polesK9N32-34.dat" using 1:2, "eguti-i-polesK9N1-1.dat" using 1:2, "sawa-i-polesK9N1-1.dat" using 1:2, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_i-K9N32-34.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK9N32-34.dat" using 1:2 t "a-egutiK9N32-34", "sawa-u-polesK9N32-34.dat" using 1:2, "eguti-u-polesK9N1-1.dat" using 1:2, "sawa-u-polesK9N1-1.dat" using 1:2, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_u-K9N32-34-eguti.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK9N32-34.dat" using 1:2 t "a-egutiK9N32-34", "sawa-e-polesK9N32-34.dat" using 1:2, "eguti-e-polesK9N1-1.dat" using 1:2, "sawa-e-polesK9N1-1.dat" using 1:2, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_e-K9N32-34-eguti.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK9N32-34.dat" using 1:2 t "a-egutiK9N32-34", "sawa-o-polesK9N32-34.dat" using 1:2, "eguti-o-polesK9N1-1.dat" using 1:2, "sawa-o-polesK9N1-1.dat" using 1:2, cos(t),sin(t) t "" w l 1 1
set terminal tgif; set output "_o-K9N32-34-eguti.obj"; replot; set terminal X11; replot




set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "sawa-a-polesK9N32-34.dat" using 1:2, "sawa-a-polesK9N32-34.dat" using 1:2, cos(t),sin(t), "sawa-a-polesK9N1-1.dat" using 1:2, "sawa-a-polesK9N1-1.dat" using 1:2
set terminal tgif; set output "_a-K9N32-34-sawa.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-i-polesK9N32-34.dat" using 1:2, "sawa-i-polesK9N32-34.dat" using 1:2, cos(t),sin(t), "sawa-i-polesK9N1-1.dat" using 1:2, "sawa-i-polesK9N1-1.dat" using 1:2
set terminal tgif; set output "_i-K9N32-34-sawa.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-u-polesK9N32-34.dat" using 1:2, "sawa-u-polesK9N32-34.dat" using 1:2, cos(t),sin(t), "sawa-u-polesK9N1-1.dat" using 1:2, "sawa-u-polesK9N1-1.dat" using 1:2
set terminal tgif; set output "_u-K9N32-34-sawa.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-e-polesK9N32-34.dat" using 1:2, "sawa-e-polesK9N32-34.dat" using 1:2, cos(t),sin(t), "sawa-e-polesK9N1-1.dat" using 1:2, "sawa-e-polesK9N1-1.dat" using 1:2
set terminal tgif; set output "_e-K9N32-34-sawa.obj"; replot; set terminal X11; replot
plot [0:2*pi][-2:2][-2:2] "sawa-o-polesK9N32-34.dat" using 1:2, "sawa-o-polesK9N32-34.dat" using 1:2, cos(t),sin(t), "sawa-o-polesK9N1-1.dat" using 1:2, "sawa-o-polesK9N1-1.dat" using 1:2
set terminal tgif; set output "_o-K9N32-34-sawa.obj"; replot; set terminal X11; replot



#以下で話者認識?
set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-i-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-u-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-e-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-o-polesK9N32-34.dat" using 1:2 w p 1 1, "sawa-a-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-i-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-u-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-e-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-o-polesK9N32-34.dat" using 1:2 w p 2 2

plot [0:2*pi][-2:2][-2:2] "sawa-a-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-i-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-u-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-e-polesK9N32-34.dat" using 1:2 w p 2 2, "sawa-o-polesK9N32-34.dat" using 1:2 w p 2 2, "eguti-a-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-i-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-u-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-e-polesK9N32-34.dat" using 1:2 w p 1 1, "eguti-o-polesK9N32-34.dat" using 1:2 w p 1 1

plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK9N1-1.dat" using 1:2 w p 1 1, "eguti-i-polesK9N1-1.dat" using 1:2 w p 1 1, "eguti-u-polesK9N1-1.dat" using 1:2 w p 1 1, "eguti-e-polesK9N1-1.dat" using 1:2 w p 1 1, "eguti-o-polesK9N1-1.dat" using 1:2 w p 1 1, "sawa-a-polesK9N1-1.dat" using 1:2 w p 2 2, "sawa-i-polesK9N1-1.dat" using 1:2 w p 2 2, "sawa-u-polesK9N1-1.dat" using 1:2 w p 2 2, "sawa-e-polesK9N1-1.dat" using 1:2 w p 2 2, "sawa-o-polesK9N1-1.dat" using 1:2 w p 2 2


set boxwidth 2
set size square; set parametric
splot [-2:2][-2:2] "sawa-a-polesK9N32-34.dat" using 1:2:5 w boxes, "eguti-a-polesK9N1-1.dat" using 1:2:5 w boxes, "sawa-a-polesK9N1-1.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "sawa-i-polesK9N32-34.dat" using 1:2:5 w boxes, "eguti-i-polesK9N1-1.dat" using 1:2:5 w boxes, "sawa-i-polesK9N1-1.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "sawa-u-polesK9N32-34.dat" using 1:2:5 w boxes, "eguti-u-polesK9N1-1.dat" using 1:2:5 w boxes, "sawa-u-polesK9N1-1.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "sawa-e-polesK9N32-34.dat" using 1:2:5 w boxes, "eguti-e-polesK9N1-1.dat" using 1:2:5 w boxes, "sawa-e-polesK9N1-1.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "sawa-o-polesK9N32-34.dat" using 1:2:5 w boxes, "eguti-o-polesK9N1-1.dat" using 1:2:5 w boxes, "sawa-o-polesK9N1-1.dat" using 1:2:5 w boxes


051218
(1)母音(a,i,u,e,o )の極
   ・音源(声帯)の極 p_s (ピッチ周波数)
   ・調音(articulation)の極 p_a
     一般に p_a < p_s 
(2)伝達関数の極を求める(次のURLのGSLの多項式の解法より求まる)。
http://www.gnu.org/software/gsl/manual/gsl-ref_6.html#SEC52
(3)
#####
#export K=12 T=100 g=5e-3 t1=2000 t2=2200 method=mspE pM=pMm
export K=9 T=100 g=5e-3 t1=2000 t2=2200 method=mspE pM=pMm
for name in eguti sawa ; do  
for onsei in a i u e o; do
dname=${name}-${onsei} 
dn_timeseries=./data/${dname}.dat 
#dn_regression=./tmp/${dname}-fa.dat 
if [ ${K} -eq 9 ] ; then N2=32; else N2=50 ; fi
for N in 1 ${N2} ; do 
#for N in 1 ; do 
#for N in 1 32 ; do 
file=tmp/bestmspN${N}.net
predfile=tmp/predictN${N}.dat
pfile=tmp/${dname}-polesK${K}N${N}.dat
pfile2=tmp/${dname}-poles2K${K}N${N}.dat

if [ -e ${pfile} ] ; then
echo ${pfile} exists. Omit calculation.
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 ${g} 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
${T}             #iterations to execute
10		#display
nl
bestmsp.net
msp
${pM}
quit
EOF
echo "Executing can2 for N=${N}"
echo "----the following are param.dat---"
cat param.dat 
echo "----the above are in param.dat---"
echo "----Eexecuting can2 for dname=${dname}, N=${N}."
#can2 <param.dat > /dev/null
can2 <param.dat 
echo "### Done can2 for ${dname} K=${K} N=${N}"
cp bestmsp.net ${file}
cp predict.dat ${predfile}
cp tmp/poles.dat ${pfile}
cp tmp/poles2.dat ${pfile2}
fi
done
done
done
#####
>>MSE---;1.009086e+03 NMSE---;9.979119e-01eguti-a K=9 N=1
>>MSE---;1.757765e+03 NMSE---;6.637374e-01eguti-i K=9 N=1
>>MSE---;3.332717e+03 NMSE---;9.966225e-01eguti-u K=9 N=1
>>MSE---;1.337969e+03 NMSE---;8.902110e-01eguti-o K=9 N=1
>>MSE---;4.718409e+01 NMSE---;8.930448e-01sawa-a K=9 N=1
>>MSE---;1.533527e+03 NMSE---;4.964873e-01sawa-i K=9 N=1
>>MSE---;2.461112e+03 NMSE---;9.232148e-01sawa-u K=9 N=1
>>MSE---;2.195580e+03 NMSE---;9.060997e-01sawa-e K=9 N=1
>>MSE---;1.416616e+03 NMSE---;6.478209e-01sawa-o K=9 N=1

>>MSE---;8.482830e+01 NMSE---;8.388897e-02eguti-a K=9 N=32
>>MSE---;1.537026e+02 NMSE---;5.803857e-02eguti-i K=9 N=32
>>MSE---;4.719879e+02 NMSE---;1.411442e-01eguti-u K=9 N=32
>>MSE---;8.381262e+01 NMSE---;7.169715e-02eguti-e K=9 N=32
>>MSE---;1.172052e+01 NMSE---;7.798187e-03eguti-o K=9 N=32
>>MSE---;2.131042e+00 NMSE---;4.033384e-02sawa-a K=9 N=32
>>MSE---;3.984256e+02 NMSE---;1.289923e-01sawa-i K=9 N=32
>>MSE---;2.685022e+02 NMSE---;1.007208e-01sawa-u K=9 N=32
>>MSE---;3.979751e+01 NMSE---;1.642414e-02sawa-e K=9 N=32
>>MSE---;2.856396e+02 NMSE---;1.306235e-01sawa-o K=9 N=32


>>MSE---;9.982510e+02 NMSE---;9.871970e-01eguti-a K=12 N=1
>>MSE---;1.119767e+03 NMSE---;4.228275e-01eguti-i K=12 N=1
>>MSE---;3.220792e+03 NMSE---;9.631524e-01eguti-u K=12 N=1
>>MSE---;1.097598e+03 NMSE---;9.389359e-01eguti-e K=12 N=1
>>MSE---;1.350245e+03 NMSE---;8.983787e-01eguti-o K=12 N=1

>>MSE---;1.135538e+03 NMSE---;1.122964e+00eguti-a K=12 N=50???
>>MSE---;7.135935e+01 NMSE---;2.694551e-02eguti-i K=12 N=50
>>MSE---;1.678992e+02 NMSE---;5.020893e-02eguti-u K=12 N=50
>>MSE---;6.611632e+02 NMSE---;5.655892e-01eguti-e K=12 N=50
>>MSE---;3.879216e+01 NMSE---;2.581017e-02eguti-o K=12 N=50

>>MSE---;4.602902e+01 NMSE---;8.711829e-01sawa-a K=12 N=1
>>MSE---;8.486471e+02 NMSE---;2.747538e-01sawa-i K=12 N=1
>>MSE---;2.030515e+03 NMSE---;7.616887e-01sawa-u K=12 N=1
>>MSE---;2.186250e+03 NMSE---;9.022493e-01sawa-e K=12 N=1
>>MSE---;1.004039e+03 NMSE---;4.591491e-01sawa-o K=12 N=1
>>MSE---;1.259704e+00 NMSE---;2.384219e-02sawa-a K=12 N=50
>>MSE---;2.872742e+02 NMSE---;9.300648e-02sawa-i K=12 N=50
>>MSE---;2.140312e+02 NMSE---;8.028757e-02sawa-u K=12 N=50
>>MSE---;2.925752e+01 NMSE---;1.207436e-02sawa-e K=12 N=50
>>MSE---;1.495416e+02 NMSE---;6.838566e-02sawa-o K=12 N=50

cat eguti-a-polesN32.dat | awk '{print $5, $1, $2}' | inscr - > eguti-a-polesN32+.dat

cd tmp
gnuplot
set grid;

set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK12N1.dat" using 1:2, "sawa-a-polesK12N1.dat" using 1:2, cos(t),sin(t), "eguti-a-polesK9N1.dat" using 1:2, "sawa-a-polesK9N1.dat" using 1:2
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK12N1.dat" using 1:2, "sawa-i-polesK12N1.dat" using 1:2, cos(t),sin(t), "eguti-i-polesK9N1.dat" using 1:2, "sawa-i-polesK9N1.dat" using 1:2
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK12N1.dat" using 1:2, "sawa-u-polesK12N1.dat" using 1:2, cos(t),sin(t), "eguti-u-polesK9N1.dat" using 1:2, "sawa-u-polesK9N1.dat" using 1:2
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK12N1.dat" using 1:2, "sawa-e-polesK12N1.dat" using 1:2, cos(t),sin(t), "eguti-e-polesK9N1.dat" using 1:2, "sawa-e-polesK9N1.dat" using 1:2
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK12N1.dat" using 1:2, "sawa-o-polesK12N1.dat" using 1:2, cos(t),sin(t), "eguti-o-polesK9N1.dat" using 1:2, "sawa-o-polesK9N1.dat" using 1:2


set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesK12N1.dat" using 1:2, "sawa-a-polesK12N1.dat" using 1:2, cos(t),sin(t)
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesK12N1.dat" using 1:2, "sawa-i-polesK12N1.dat" using 1:2, cos(t),sin(t)
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesK12N1.dat" using 1:2, "sawa-u-polesK12N1.dat" using 1:2, cos(t),sin(t) 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesK12N1.dat" using 1:2, "sawa-e-polesK12N1.dat" using 1:2, cos(t),sin(t) 
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesK12N1.dat" using 1:2, "sawa-o-polesK12N1.dat" using 1:2, cos(t),sin(t) 

set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-poles2K9N32.dat" using 1:2, "eguti-a-poles2K9N32.dat" using 3:4, "eguti-a-poles2K9N32.dat" using 5:6, "eguti-a-poles2K9N32.dat" using 7:8, "eguti-a-poles2K9N32.dat" using 9:10, "eguti-a-poles2K9N32.dat" using 11:12, "eguti-a-poles2K9N32.dat" using 13:14, "eguti-a-poles2K9N32.dat" using 15:16, "eguti-a-poles2K9N32.dat" using 17:18, cos(t),sin(t), "eguti-a-polesK9N1.dat" using 1:2

set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "sawa-a-poles2K12N50.dat" using 1:2, "sawa-a-poles2K12N50.dat" using 3:4, "sawa-a-poles2K12N50.dat" using 5:6, "sawa-a-poles2K12N50.dat" using 7:8, "sawa-a-poles2K12N50.dat" using 9:10, "sawa-a-poles2K12N50.dat" using 11:12, "sawa-a-poles2K12N50.dat" using 13:14, "sawa-a-poles2K12N50.dat" using 15:16, "sawa-a-poles2K12N50.dat" using 17:18, "sawa-a-poles2K12N50.dat" using 19:20, "sawa-a-poles2K12N50.dat" using 21:22, "sawa-a-poles2K12N50.dat" using 23:24, cos(t),sin(t)


set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-poles2K12N50.dat" using 1:2, "eguti-a-poles2K12N50.dat" using 3:4, "eguti-a-poles2K12N50.dat" using 5:6, "eguti-a-poles2K12N50.dat" using 7:8, "eguti-a-poles2K12N50.dat" using 9:10, "eguti-a-poles2K12N50.dat" using 11:12, "eguti-a-poles2K12N50.dat" using 13:14, "eguti-a-poles2K12N50.dat" using 15:16, "eguti-a-poles2K12N50.dat" using 17:18, "eguti-a-poles2K12N50.dat" using 19:20, "eguti-a-poles2K12N50.dat" using 21:22, "eguti-a-poles2K12N50.dat" using 23:24, cos(t),sin(t)

plot [0:2*pi][-2:2][-2:2] "eguti-a-poles2N32.dat" using 1:2, "eguti-a-poles2N32.dat" using 3:4, "eguti-a-poles2N32.dat" using 5:6, "eguti-a-poles2N32.dat" using 7:8, "eguti-a-poles2N32.dat" using 9:10, "eguti-a-poles2N32.dat" using 11:12, "eguti-a-poles2N32.dat" using 13:14, "eguti-a-poles2N32.dat" using 15:16, "eguti-a-poles2N32.dat" using 17:18, cos(t),sin(t)


plot [0:2*pi][-2:2][-2:2] "eguti-a-polesN1.dat" using 1:2, "eguti-u-polesN1.dat" using 1:2, "sawa-a-polesN1.dat" using 1:2, cos(t),sin(t) 
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesN1.dat" using 1:2, "eguti-u-polesN1.dat" using 1:2, "sawa-u-polesN1.dat" using 1:2, cos(t),sin(t) 

splot [-2:2][-2:2] "eguti-a-polesN32.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "eguti-i-polesN32.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "eguti-u-polesN32.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "eguti-e-polesN32.dat" using 1:2:5 w boxes
splot [-2:2][-2:2] "eguti-o-polesN32.dat" using 1:2:5 w boxes
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesN32.dat" using 1:2, "eguti-a-polesN1.dat" using 1:2, cos(t),sin(t),1

set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesN32.dat" using 1:2, "eguti-a-polesN1.dat" using 1:2, cos(t),sin(t), "sawa-a-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesN32.dat" using 1:2, "eguti-i-polesN1.dat" using 1:2, cos(t),sin(t), "sawa-i-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesN32.dat" using 1:2, "eguti-u-polesN1.dat" using 1:2, cos(t),sin(t), "sawa-u-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesN32.dat" using 1:2, "eguti-e-polesN1.dat" using 1:2, cos(t),sin(t), "sawa-e-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesN32.dat" using 1:2, "eguti-o-polesN1.dat" using 1:2, cos(t),sin(t), "sawa-o-polesN1.dat" using 1:2 

set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "sawa-a-polesN32.dat" using 1:2, "sawa-a-polesN1.dat" using 1:2, cos(t),sin(t), "eguti-a-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "sawa-i-polesN32.dat" using 1:2, "sawa-i-polesN1.dat" using 1:2, cos(t),sin(t), "eguti-i-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "sawa-u-polesN32.dat" using 1:2, "sawa-u-polesN1.dat" using 1:2, cos(t),sin(t), "eguti-u-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "sawa-e-polesN32.dat" using 1:2, "sawa-e-polesN1.dat" using 1:2, cos(t),sin(t), "eguti-e-polesN1.dat" using 1:2 
plot [0:2*pi][-2:2][-2:2] "sawa-o-polesN32.dat" using 1:2, "sawa-o-polesN1.dat" using 1:2, cos(t),sin(t), "eguti-o-polesN1.dat" using 1:2 

set size square; set parametric
plot [0:2*pi][-2:2][-2:2] "eguti-a-polesN32.dat" using 1:2, "sawa-a-polesN32.dat" using 1:2, cos(t),sin(t)
plot [0:2*pi][-2:2][-2:2] "eguti-i-polesN32.dat" using 1:2, "sawa-i-polesN32.dat" using 1:2, cos(t),sin(t)
plot [0:2*pi][-2:2][-2:2] "eguti-u-polesN32.dat" using 1:2, "sawa-u-polesN32.dat" using 1:2, cos(t),sin(t) 
plot [0:2*pi][-2:2][-2:2] "eguti-e-polesN32.dat" using 1:2, "sawa-e-polesN32.dat" using 1:2, cos(t),sin(t) 
plot [0:2*pi][-2:2][-2:2] "eguti-o-polesN32.dat" using 1:2, "sawa-o-polesN32.dat" using 1:2, cos(t),sin(t) 


################
set size square; 
plot "eguti-a-polesN1.dat" using 3:4, "sawa-a-polesN1.dat" using 3:4
plot "eguti-i-polesN1.dat" using 3:4, "sawa-i-polesN1.dat" using 3:4
plot "eguti-u-polesN1.dat" using 3:4, "sawa-u-polesN1.dat" using 3:4
plot "eguti-e-polesN1.dat" using 3:4, "sawa-e-polesN1.dat" using 3:4
plot "eguti-o-polesN1.dat" using 3:4, "sawa-o-polesN1.dat" using 3:4

set size square;
plot "eguti-a-polesN32.dat" using 3:4, "eguti-a-polesN1.dat" using 3:4
plot "eguti-i-polesN32.dat" using 3:4, "eguti-i-polesN1.dat" using 3:4
plot "eguti-u-polesN32.dat" using 3:4, "eguti-u-polesN1.dat" using 3:4
plot "eguti-e-polesN32.dat" using 3:4, "eguti-e-polesN1.dat" using 3:4
plot "eguti-o-polesN32.dat" using 3:4, "eguti-o-polesN1.dat" using 3:4

set size square
plot "sawa-a-polesN32.dat" using 3:4, "sawa-a-polesN1.dat" using 3:4
plot "sawa-i-polesN32.dat" using 3:4, "sawa-i-polesN1.dat" using 3:4
plot "sawa-u-polesN32.dat" using 3:4, "sawa-u-polesN1.dat" using 3:4
plot "sawa-e-polesN32.dat" using 3:4, "sawa-e-polesN1.dat" using 3:4
plot "sawa-o-polesN32.dat" using 3:4, "sawa-o-polesN1.dat" using 3:4

051215
(1)予測ステップ数を増やすとmspE (多段予測結果をアンサンブル;下述)の方が安定?よい?
###########################Do below.
export dname=eguti-a K=9 T=100 g=5e-3 
export dn_timeseries=./data/${dname}.dat dn_regression=./tmp/${dname}-fa.dat 
export t1=2000 t2=2200 method=mspE
export t1=2000 t2=10000 method=mspE
export N1=32 N2=50 ens= 
export N1=32 N2=32 ens= 

cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
###
./can2 <param.dat >/dev/null
cp tmp/train+test.dat ${dn_regression}  
###N1からN2までに対するcan2の実行
export N=${N1}
while [ ${N} -le ${N2} ] ; do
file=tmp/bestmspN${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo $file exists. Omit calculation.
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
echo "----the following are param.dat---"
cat param.dat 
echo "----the above are in param.dat---"
can2 <param.dat > /dev/null
cp bestmsp.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done
########アンサンブルの実行
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
${method}
qu
EOF
./can2 < param.dat
####Do above. cat param.dat
####The following are the result of the above.
export t1=2000 t2=10000 method=mspE
>>MSE---;5.228884e+02 NMSE---;7.263267e-01  #N1=32 N2=50
>>MSE---;6.308372e+02 NMSE---;8.762748e-01  #N1=32 N2=39
>>MSE---;1.742652e+03 NMSE---;2.420659e+00  #N1=32 N2=${N1}
>>MSE---;1.491824e+03 NMSE---;2.072243e+00  #N1=33 N2=${N1}
>>MSE---;1.678404e+03 NMSE---;2.331414e+00  #N1=34 N2=${N1}
>>MSE---;9.748113e+02 NMSE---;1.354078e+00  #N1=35 N2=${N1}
>>MSE---;1.561517e+03 NMSE---;2.169051e+00  #N1=36 N2=${N1}
>>MSE---;1.720974e+03 NMSE---;2.390547e+00  #N1=37 N2=${N1}
>>MSE---;2.009416e+03 NMSE---;2.791213e+00  #N1=38 N2=${N1}
>>MSE---;8.709051e+02 NMSE---;1.209745e+00  #N1=39 N2=${N1}

export t1=2000 t2=3000 method=mspE
>>MSE---;2.015479e+02 NMSE---;1.900351e-01  #N1=32 N2=${N1}
>>MSE---;5.018860e+02 NMSE---;4.732172e-01  #N1=33 N2=${N1}
>>MSE---;2.854751e+02 NMSE---;2.691681e-01  #N1=34 N2=${N1}
>>MSE---;1.135236e+03 NMSE---;1.070388e+00  #N1=32 N2=32
export t1=2000 t2=5000 method=mspE
mspE>>MSE---;7.077720e+02 NMSE---;7.243027e-01  #N1=32 N2=35
mspE>>MSE---;5.931921e+02 NMSE---;6.070467e-01  #N1=32 N2=39
mspE>>MSE---;1.999912e+03 NMSE---;2.046622e+00  #N1=32 N2=${N1}
mspE>>MSE---;1.240705e+03 NMSE---;1.269683e+00  #N1=33 N2=${N1}
mspE>>MSE---;1.359446e+03 NMSE---;1.391197e+00  #N1=34 N2=${N1}
mspE>>MSE---;6.334198e+02 NMSE---;6.482140e-01  #N1=35 N2=${N1}
mspE>>MSE---;1.077488e+03 NMSE---;1.102654e+00  #N1=36 N2=${N1}
mspE>>MSE---;1.695865e+03 NMSE---;1.735474e+00  #N1=37 N2=${N1}
mspE>>MSE---;1.821431e+03 NMSE---;1.863973e+00  #N1=38 N2=${N1}
mspE>>MSE---;3.147869e+02 NMSE---;3.221390e-01  #N1=39 N2=${N1}


051209
(1)時系列データに対してアンサンブル平均をとるルーチンを入れた。
ルーチンは exec_msp_test_ensemble() (in sim.c、mspe)：各ステップでアンサンブルしながら多段予測
ルーチンは exec_msp_test_Ensemble() (in sim.c、mspE)：多段予測結果をアンサンブル
結果としてmspeよりmspEの方が良い結果。理由は不明だがあまりよくない?(∵あるユニット数Nについて
悪い結果が出たらmspEでも悪い結果になるが、mspeならそうならない可能性があるから)
もし対象系が線形なら、mspeもmspEも同じになるはず?

####(1)
export dname=eguti-a K=9 T=100 g=5e-3 
export dn_timeseries=./data/${dname}.dat dn_regression=./tmp/${dname}-fa.dat 
export t1=2000 t2=2200 method=mspE
export t1=2000 t2=3000 method=mspE
exp
cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
###
./can2 <param.dat >/dev/null
cp tmp/train+test.dat ${dn_regression}  
###汎化能力のあるアンサンブルユニット数(l1=N,ld=M)の推定
./ens2ge ${dn_regression} ${dn_regression} N:30-50:1 ib:0:0:0:2 M:1-20:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索

#30: 5(N:30-34) Lhat=4.825e-04 Lvarmin 0=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-32
#30: 6(N:30-35) Lhat=4.825e-04 Lvarmin 1=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-33
#30: 7(N:30-36) Lhat=4.825e-04 Lvarmin 2=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-34
#30: 8(N:30-37) Lhat=4.825e-04 Lvarmin 3=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-35
#30: 9(N:30-38) Lhat=4.825e-04 Lvarmin 4=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-36

#####(2) Do the following, with the above values.
#####   N1からN2までに対するcan2の実行とアンサンブルの実行
export N1=31 N2=31 ens= #>>MSE---;2.215070e+02 NMSE---;2.190542e-01
export N1=32 N2=32 ens= #>>MSE---;8.482830e+01 NMSE---;8.388897e-02
export N1=33 N2=33 ens= #>>MSE---;7.062676e+01 NMSE---;6.984468e-02
export N1=34 N2=34 ens= #>>MSE---;6.774110e+01 NMSE---;6.699097e-02
export N1=35 N2=35 ens= #>>MSE---;9.398983e+01 NMSE---;9.294904e-02
export N1=36 N2=36 ens= #>>MSE---;6.288071e+01 NMSE---;6.218441e-02
export N1=37 N2=37 ens= #>>MSE---;8.743941e+01 NMSE---;8.647116e-02
export N1=38 N2=38 ens= #>>MSE---;4.696035e+01 NMSE---;4.644034e-02
export N1=39 N2=39 ens= #>>MSE---;4.696035e+01 NMSE---;4.644034e-02
export N1=40 N2=40 ens= #>>MSE---;9.180860e+02 NMSE---;9.079197e-01
export N1=50 N2=50 ens= #>>MSE---;5.666294e+01 NMSE---;5.603549e-02
export N1=60 N2=60 ens= #>>MSE---;8.482679e+01 NMSE---;8.388747e-02
########
export N1=32 N2=33 ens= #>>MSE---;4.338302e+01 NMSE---;4.290263e-02
export N1=32 N2=34 ens= #>>MSE---;3.948551e+01 NMSE---;3.904827e-02
export N1=32 N2=35 ens= #>>MSE---;4.204710e+01 NMSE---;4.158149e-02
export N1=40 N2=50 ens= #>>MSE---;1.245492e+02 NMSE---;1.231700e-01
export N1=32 N2=36 ens= #>>MSE---;4.364106e+01 NMSE---;4.315780e-02
export N1=38 N2=39 ens= #>>MSE---;4.477799e+01 NMSE---;4.428215e-02
export N1=38 N2=40 ens= #>>MSE---;1.356911e+02 NMSE---;1.341885e-01
export N1=32 N2=39 ens= #>>MSE---;4.557897e+01 NMSE---;4.507425e-02

########
export dname=eguti-a K=9 T=100 g=5e-3 
export dn_timeseries=./data/${dname}.dat dn_regression=./tmp/${dname}-fa.dat 
cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
./can2 <param.dat >/dev/null
cp tmp/train+test.dat ${dn_regression}  

###N1からN2までに対するcan2の実行
export N=${N1}
while [ ${N} -le ${N2} ] ; do
file=tmp/bestmspN${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo $file exists. Omit calculation.
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
can2 <param.dat > /dev/null
cp bestmsp.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done
########アンサンブルの実行
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
${t1} ${t2}       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
${method}
qu
EOF
./can2 < param.dat
####Do to here.
###########################################

051208
export dname=eguti-a K=9 T=100 g=5e-3 
export dn_timeseries=./data/${dname}.dat dn_regression=./tmp/${dname}-fa.dat 
cat >param.dat << EOF  #save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
########
./can2 <param.dat >/dev/null
cp tmp/train+test.dat ${dn_regression}  
./ens2ge ${dn_regression} ${dn_regression} N:30-50:1 ib:0:0:0:2 M:1-20:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
#30: 5(N:30-34) Lhat=4.825e-04 Lvarmin 0=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-32
#30: 6(N:30-35) Lhat=4.825e-04 Lvarmin 1=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-33
#30: 7(N:30-36) Lhat=4.825e-04 Lvarmin 2=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-34
#30: 8(N:30-37) Lhat=4.825e-04 Lvarmin 3=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-35
#30: 9(N:30-38) Lhat=4.825e-04 Lvarmin 4=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:32-36
./ens2ge ${dn_regression} ${dn_regression} N:30-50:1 ib:0:0:0:3 M:1-20:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
#30: 7(N:30-36) Lhat=4.825e-04 Lvarmin 0=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:33-33
#30: 8(N:30-37) Lhat=4.825e-04 Lvarmin 1=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:33-34
#30: 9(N:30-38) Lhat=4.825e-04 Lvarmin 2=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:33-35
#30:10(N:30-39) Lhat=4.825e-04 Lvarmin 3=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:33-36
#30:11(N:30-40) Lhat=4.825e-04 Lvarmin 4=2.537e-01 Lvar0=2.537e-01 Lval=2.629464e+00**N:33-37

./ens2ge ${dn_regression} ${dn_regression} N:30-50:1 ib:0:0:0:1 M:1-50:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
#38: 6(N:38-43) Lhat=5.889e-03 Lvarmin49=1.539e-02 Lvar0=1.539e-02 Lval=3.645195e+00**N:39-42
#30: 8(N:30-37) Lhat=4.805e-03 Lvarmin83=3.261e-02 Lvar0=3.261e-02 Lval=3.859228e+00**N:31-36
#38:15(N:38-52) Lhat=2.549e-03 Lvarmin199=9.518e-02 Lvar0=9.125e-02 Lval=3.430284e+00**N:39-51
#30:14(N:30-43) Lhat=3.460e-03 Lvarmin237=1.090e-01 Lvar0=1.090e-01 Lval=3.680236e+00**N:31-42
#44:46(N:44-89) Lhat=5.800e-04 Lvarmin836=2.463e-01 Lvar0=2.499e-01 Lval=2.780940e+00**N:45-88

./ens2ge ${dn_regression} ${dn_regression} N:30-50:1 ib:0:0:0:1 M:1-20:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
#30: 3(N:30-32) Lhat=3.427e-02 Lvarmin 0=8.701e-30 Lvar0=8.701e-30 Lval=3.557289e+00**N:31-31
#50:22(N:50-71) Lhat=1.270e-03 Lvarmin302=8.894e-02 Lvar0=8.894e-02 Lval=2.720587e+00**N:51-70
#42:22(N:42-63) Lhat=1.259e-03 Lvarmin373=1.045e-01 Lvar0=1.045e-01 Lval=2.811621e+00**N:43-62
#35:22(N:35-56) Lhat=1.543e-03 Lvarmin404=1.187e-01 Lvar0=1.187e-01 Lval=2.915208e+00**N:36-55


###Do from here 
export N1=36 N2=55 N=${N1} ens=
export N1=51 N2=70 ens=
export N1=31 N2=36 ens= #
export N1=31 N2=31 ens= #>>MSE---;2.215070e+02 NMSE---;2.190542e-01
export N1=32 N2=32 ens= #>>MSE---;8.482830e+01 NMSE---;8.388897e-02
export N1=33 N2=33 ens= #>>MSE---;7.062676e+01 NMSE---;6.984468e-02
export N1=34 N2=34 ens= #>>MSE---;6.774110e+01 NMSE---;6.699097e-02
export N1=35 N2=35 ens= #>>MSE---;9.398983e+01 NMSE---;9.294904e-02
export N1=36 N2=36 ens= #>>MSE---;6.288071e+01 NMSE---;6.218441e-02
export N1=37 N2=37 ens= #>>MSE---;8.743941e+01 NMSE---;8.647116e-02
export N1=38 N2=38 ens= #>>MSE---;4.696035e+01 NMSE---;4.644034e-02
export N1=39 N2=39 ens= #>>MSE---;4.696035e+01 NMSE---;4.644034e-02
export N1=50 N2=50 ens= #>>MSE---;5.666294e+01 NMSE---;5.603549e-02
export N1=60 N2=60 ens= #>>MSE---;8.482679e+01 NMSE---;8.388747e-02


export N1=31 N2=34 ens= #>>MSE---;9.264342e+02 NMSE---;9.161755e-01
export N1=39 N2=42 ens= #>>MSE---;1.070042e+03 NMSE---;1.058193e+00
export N1=32 N2=33 ens= #>>MSE---;1.199918e+03 NMSE---;1.186631e+00
export N1=32 N2=35 ens= #>>MSE---;9.207404e+02 NMSE---;9.105447e-01
export N1=32 N2=36 ens= #>>MSE---;1.200897e+03 NMSE---;1.187599e+00
export N1=32 N2=37 ens= #>>MSE---;9.480944e+01 NMSE---;9.375958e-02
export N1=32 N2=38 ens= #>>MSE---;9.058365e+02 NMSE---;8.958059e-01
export N1=32 N2=39 ens= #>>MSE---;3.462070e+02 NMSE---;3.423734e-01
export N1=32 N2=41 ens= #>>MSE---;9.189151e+02 NMSE---;9.087396e-01
export N1=32 N2=60 ens= #>>MSE---;5.078947e+02 NMSE---;5.022706e-01

export N=${N1}
while [ ${N} -le ${N2} ] ; do
file=tmp/bestmspN${N}.net
predfile=tmp/predictN${N}.dat
if [ -e ${file} ] ; then
echo $file exists. Omit calculation.
else
###
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
quit
EOF
echo "Executing can2 for N=${N}"
can2 <param.dat > /dev/null
cp bestmsp.net ${file}
cp predict.dat ${predfile}
###
fi
export ens=$ens" "${file}
N=`expr ${N} + 1`
done
########
cat > param.dat << EOF
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
${dn_timeseries}
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
nls
${ens}
mspe
qu
EOF
./can2 < param.dat
####Do to here.
cat tmp/predictN32.dat |awk '{print $1}'>tmp.dat
cat tmp/predictN33.dat |awk '{print $1}' |paste - tmp.dat >tmp1.dat
cat tmp/predictN34.dat |awk '{print $1}' |paste - tmp1.dat>tmp2.dat
cat tmp2.dat |awk '{print ($1+$2+$3)/3}' >tmp3.dat
cat tmp/predictN32.dat |awk '{print $3}'>tmp0.dat
pred2y_ts tmp3.dat tmp0.dat >tmp4.dat   #MSE=3.948564e+01 (num=200)
pred2y_ts tmp1.dat tmp.dat  > /dev/null #MSE=8.482830e+01 (num=200)
pred2y_ts tmp1.dat tmp0.dat > /dev/null #MSE=7.062676e+01 (num=200)

gnuplot 
set style data lines
plot "tmp1.dat" using 0:1, "tmp2.dat" using 0:1, "tmp3.dat" using 0:1, "tmp4.dat" using 0:1 t "y-" , "tmp4.dat" using 0:2 t "ytrue"
051206

##############################################################################
###(1) set parameters
export dname=eguti-a dn_timeseries=./data/${dname}.dat K=9 dn_regression=./tmp/${dname}-fa.dat T=100 g=5e-3 
export dname=eguti-i dn_timeseries=./data/${dname}.dat K=9 dn_regression=./tmp/${dname}-fa.dat T=100 g=5e-3 
export dname=eguti-u dn_timeseries=./data/${dname}.dat K=9 dn_regression=./tmp/${dname}-fa.dat T=100 g=5e-3 
###(2) save a data file (tmp/train+test.dat) for regression(function approximation) from time series data 

cat >param.dat << EOF  ###save parameters
0          #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
EOF
########
./can2 <param.dat
echo cp tmp/train+test.dat ${dn_regression}  ###save the file for regression(function approximation)
cp tmp/train+test.dat ${dn_regression}  ###save the file for regression(function approximation)
###(3) search optimal N by ens2ge for chekking generalization ability

rm -rf result-ensrs2ge/
./ens2ge ${dn_regression} ${dn_regression} N:20-70:1 ib:0:0:0:1 M:1-1:1 k:${K} g:${g} T:${T} >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)** for eguti-u.dat
#30: 3(N:30-32) Lhat=3.427e-02 Lvarmin 1=8.701e-30 Lvar0=8.701e-30 Lval=3.557289e+00**N:31-31
#39: 3(N:39-41) Lhat=6.198e-02 Lvarmin 5=9.628e-30 Lvar0=9.628e-30 Lval=3.148397e+00**N:40-40
#33: 3(N:33-35) Lhat=3.882e-02 Lvarmin 9=1.019e-29 Lvar0=1.019e-29 Lval=3.312254e+00**N:34-34
#57: 3(N:57-59) Lhat=2.821e-02 Lvarmin15=1.058e-29 Lvar0=1.058e-29 Lval=2.847308e+00**N:58-58
#23: 3(N:23-25) Lhat=5.130e-02 Lvarmin19=1.074e-29 Lvar0=1.074e-29 Lval=3.759120e+00**N:24-24

##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)** for eguti-a.dat
#31: 3(N:31-33) Lhat=2.336e-02 Lvarmin 1=1.161e-29 Lvar0=1.161e-29 Lval=3.923823e+00**N:32-32
#60: 3(N:60-62) Lhat=7.288e-02 Lvarmin 2=1.164e-29 Lvar0=1.164e-29 Lval=3.091771e+00**N:61-61
#35: 3(N:35-37) Lhat=3.481e-02 Lvarmin 9=1.194e-29 Lvar0=1.194e-29 Lval=3.822176e+00**N:36-36
#26: 3(N:26-28) Lhat=2.391e-02 Lvarmin10=1.198e-29 Lvar0=1.198e-29 Lval=4.054219e+00**N:27-27
#40: 3(N:40-42) Lhat=1.709e-02 Lvarmin16=1.217e-29 Lvar0=1.217e-29 Lval=3.649823e+00**N:41-41

##export dn_timeseries=./data/eguti-i.dat K=9 dn_regression=./tmp/eguti-i-reg.dat T=100 g=5e-3 ???
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
#36: 3(N:36-38) Lhat=2.148e-01 Lvarmin 4=9.841e-30 Lvar0=9.841e-30 Lval=1.037186e+01**N:37-37
#31: 3(N:31-33) Lhat=7.547e-02 Lvarmin 7=9.939e-30 Lvar0=9.939e-30 Lval=1.073436e+01**N:32-32
#38: 3(N:38-40) Lhat=9.163e-02 Lvarmin 8=1.002e-29 Lvar0=1.002e-29 Lval=1.016154e+01**N:39-39
#20: 3(N:20-22) Lhat=1.355e+00 Lvarmin11=1.007e-29 Lvar0=1.007e-29 Lval=1.228819e+01**N:21-21
#46: 3(N:46-48) Lhat=1.533e-01 Lvarmin14=1.029e-29 Lvar0=1.029e-29 Lval=9.947292e+00**N:47-47
./ens2ge ${dn_regression} ${dn_regression} N:20-70:1 ib:0:0:0:3 m:7-7:1 k:${K} g:${g} T:${T} 
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
#53: 7(N:53-59) Lhat=1.174e-01 Lvarmin 7=7.328e-30 Lvar0=7.328e-30 Lval=3.124946e+00**N:56-56
#20: 7(N:20-26) Lhat=3.336e-01 Lvarmin 9=7.420e-30 Lvar0=7.420e-30 Lval=4.445499e+00**N:23-23
#55: 7(N:55-61) Lhat=1.229e-01 Lvarmin11=7.604e-30 Lvar0=7.604e-30 Lval=3.069501e+00**N:58-58
#25: 7(N:25-31) Lhat=7.483e-02 Lvarmin16=7.696e-30 Lvar0=7.696e-30 Lval=4.017811e+00**N:28-28
#70: 7(N:70-76) Lhat=1.350e-01 Lvarmin19=7.696e-30 Lvar0=7.696e-30 Lval=2.933559e+00**N:73-73
export dn_timeseries=./data/eguti-a.dat K=9 dn_regression=./tmp/eguti-a-reg.dat T=100 g=5e-3; ./ens2ge ${dn_regression} ${dn_regression} N:20-70:1 ib:0:0:0:1 m:3-3:1 k:${K} g:${g} T:${T} 
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
#63: 3(N:63-65) Lhat=1.637e-02 Lvarmin 0=1.198e-29 Lvar0=1.198e-29 Lval=3.464665e+00**N:64-64
#68: 3(N:68-70) Lhat=1.720e-02 Lvarmin 9=1.283e-29 Lvar0=1.283e-29 Lval=3.322435e+00**N:69-69
#50: 3(N:50-52) Lhat=1.529e-02 Lvarmin11=1.288e-29 Lvar0=1.288e-29 Lval=4.054251e+00**N:51-51
#70: 3(N:70-72) Lhat=3.213e-02 Lvarmin16=1.300e-29 Lvar0=1.300e-29 Lval=3.304859e+00**N:71-71
#57: 3(N:57-59) Lhat=1.016e-02 Lvarmin20=1.323e-29 Lvar0=1.323e-29 Lval=3.604134e+00**N:58-58
./ens2ge ${dn_regression} ${dn_regression} N:20-70:1 ib:0:0:0:2 m:5-5:1 k:${K} g:${g} T:${T} 
##global min of Lvar with local min of Lhat (9neighbour of (l1,l2)**Use this or the above)**) 
 67:  5(N: 67- 71) Lhat=7.710e-02 Lvarmin  2=3.562e-29 Lvar0=3.562e-29 Lval=2.880e+00**N:69-69
 53:  5(N: 53- 57) Lhat=8.883e-02 Lvarmin 10=3.927e-29 Lvar0=3.927e-29 Lval=3.147e+00**N:55-55
 20:  5(N: 20- 24) Lhat=1.717e-01 Lvarmin 18=4.030e-29 Lvar0=4.030e-29 Lval=4.496e+00**N:22-22
 62:  5(N: 62- 66) Lhat=1.142e-01 Lvarmin 21=4.051e-29 Lvar0=4.051e-29 Lval=3.046e+00**N:64-64
 48:  5(N: 48- 52) Lhat=4.372e-02 Lvarmin 24=4.062e-29 Lvar0=4.062e-29 Lval=3.356e+00**N:50-50

###(4) do can2 with N obtained above
export N=37             ###use N obtained above  ./data/eguti-i.dat 
export N=64             ###use N obtained above ./data/eguti-a.dat 
export N=32             ###use N obtained above  ./data/eguti-i.dat 

export dname=eguti-a dn_timeseries=./data/${dname}.dat dn_regression=./tmp/${dname}-fa.dat T=100 g=5e-3 K=9 
cat << EOF  ###save param.dat
###do the following command by manual
./can2
0        #0:timeseries,1:chaos prepare_data() in my_function.c
${K} 0	 #channels                 
${dn_timeseries} 
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
${N}		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 ${g} 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
${T}             #iterations to execute
10		#display
nl
bestmsp.net
msp
###do the following command by manual
EOF
#####
./can2
0        #0:timeseries,1:chaos prepare_data() in my_function.c
9 0	 #channels                 
./data/eguti-a.dat 
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
32		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
nl
bestmsp.net
msp

#>>MSE---;8.482830e+01 NMSE---;8.388897e-02 ./data/eguti-a.dat N=32 2msp
#>>MSE---;1.537026e+02 NMSE---;5.803857e-02 ./data/eguti-i.dat N=32 66msp
#>>MSE---;4.719879e+02 NMSE---;1.411442e-01 ./data/eguti-u.dat N=32 42msp
#>>MSE---;8.381262e+01 NMSE---;7.169715e-02 ./data/eguti-e.dat N=32 10msp
#>>MSE---;1.172052e+01 NMSE---;7.798187e-03 ./data/eguti-o.dat N=32 4msp

#>>MSE---;1.676446e+02 NMSE---;1.657882e-01 ./data/eguti-a.dat N=64
#>>MSE---;8.743941e+01 NMSE---;8.647116e-02 ./data/eguti-a.dat N=37
#>>MSE---;1.664505e+02 NMSE---;6.285222e-02 ./data/eguti-i.dat N=37
#>>MSE---;4.772133e+02 NMSE---;1.427068e-01 ./data/eguti-u.dat N=37
#>>MSE---;3.314281e+01 NMSE---;2.835188e-02 ./data/eguti-e.dat N=37
#>>MSE---;1.383154e+01 NMSE---;9.202749e-03 ./data/eguti-o.dat N=37

##############################################################################


############
051211
./can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
9	 #channels                 
./data/eguti-a.dat #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
52		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.2		#width   window width             
ex		#execute 
1 5e-3 0.7	#i=0:online,i=1:batch, gamma0, entropy_thresh
100             #iterations to execute
10		#display
nl
bestmsp.net
msp

gamma0=5e-4T:100N:52>>MSE---;6.273830e+01 NMSE---;6.204357e-02
gamma0=1e-3T:100N:52>>MSE---;5.388490e+01 NMSE---;5.328822e-02
gamma0=5e-3T:100N:52>>MSE---;4.155724e+01 NMSE---;4.109706e-02***
gamma0=1e-2T:100N:52>>MSE---;4.731408e+01 NMSE---;4.679016e-02
gamma0=5e-3T:50N:52>>MSE---;8.570549e+01 NMSE---;8.475644e-02
gamma0=5e-3T:10N:52>>MSE---;8.570549e+01 NMSE---;8.475644e-02
gamma0=5e-3T:10N:40>>MSE---;9.180860e+02 NMSE---;9.079197e-01
gamma0=5e-3T:10N:30>>MSE---;3.749752e+02 NMSE---;3.708229e-01
gamma0=5e-3T:50N:30>>MSE---;3.749752e+02 NMSE---;3.708229e-01
gamma0=1e-3T:50N:30>>MSE---;7.932715e+01 NMSE---;7.844873e-02
gamma0=5e-3T:50N:40>>MSE---;9.180860e+02 NMSE---;9.079197e-01



-------------
./can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
9	 #channels                 
./data/eguti-a.dat #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
cp tmp/train+test.dat ./train+test.dat

ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:3-3:1 ib:0:0:0:1 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
63: 3(N:63-65) Lhat=1.637e-02 Lvarmin 0=1.198e-29 Lvar0=1.198e-29 Lval=3.464665e+00**N:64-64
68: 3(N:68-70) Lhat=1.720e-02 Lvarmin 8=1.274e-29 Lvar0=1.274e-29 Lval=3.322435e+00**N:69-69
50: 3(N:50-52) Lhat=1.529e-02 Lvarmin11=1.295e-29 Lvar0=1.295e-29 Lval=4.054251e+00**N:51-51
70: 3(N:70-72) Lhat=3.213e-02 Lvarmin14=1.300e-29 Lvar0=1.300e-29 Lval=3.304859e+00**N:71-71
57: 3(N:57-59) Lhat=1.016e-02 Lvarmin18=1.311e-29 Lvar0=1.311e-29 Lval=3.604134e+00**N:58-58

ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:5-5:1 ib:0:0:0:2 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
53: 5(N:53-57) Lhat=8.546e-02 Lvarmin 1=3.438e-29 Lvar0=3.438e-29 Lval=3.732040e+00**N:55-55
70: 5(N:70-74) Lhat=3.280e-02 Lvarmin 5=3.576e-29 Lvar0=3.576e-29 Lval=3.294625e+00**N:72-72
57: 5(N:57-61) Lhat=4.916e-02 Lvarmin 7=3.604e-29 Lvar0=3.604e-29 Lval=3.591849e+00**N:59-59
48: 5(N:48-52) Lhat=3.973e-02 Lvarmin12=3.627e-29 Lvar0=3.627e-29 Lval=4.064284e+00**N:50-50
62: 5(N:62-66) Lhat=4.049e-02 Lvarmin20=3.705e-29 Lvar0=3.705e-29 Lval=3.464665e+00**N:64-64

ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:7-7:1 ib:0:0:0:3 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
18: 7(N:18-24) Lhat=8.260e-02 Lvarmin 1=6.613e-30 Lvar0=6.613e-30 Lval=5.259844e+00**N:21-21
68: 7(N:68-74) Lhat=5.051e-02 Lvarmin 9=7.028e-30 Lvar0=7.028e-30 Lval=3.304859e+00**N:71-71
44: 7(N:44-50) Lhat=6.046e-02 Lvarmin14=7.074e-30 Lvar0=7.074e-30 Lval=4.128588e+00**N:47-47
 2: 7(N: 2- 8) Lhat=2.769e+00 Lvarmin25=7.420e-30 Lvar0=7.420e-30 Lval=1.765152e+01**N:5-5
57: 7(N:57-63) Lhat=7.145e-02 Lvarmin27=7.535e-30 Lvar0=7.535e-30 Lval=3.559589e+00**N:60-60
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:9-9:1 ib:0:0:0:4 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
 1: 9(N: 1- 9) Lhat=4.057e+00 Lvarmin 8=2.691e-29 Lvar0=2.691e-29 Lval=1.765152e+01**N:5-5
68: 9(N:68-76) Lhat=6.504e-02 Lvarmin15=2.731e-29 Lvar0=2.731e-29 Lval=3.294625e+00**N:72-72
57: 9(N:57-65) Lhat=8.611e-02 Lvarmin27=2.802e-29 Lvar0=2.802e-29 Lval=3.544234e+00**N:61-61
38: 9(N:38-46) Lhat=1.168e-01 Lvarmin31=2.827e-29 Lvar0=2.827e-29 Lval=4.354537e+00**N:42-42
44: 9(N:44-52) Lhat=7.393e-02 Lvarmin33=2.846e-29 Lvar0=2.846e-29 Lval=4.129611e+00**N:48-48
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:11-11:1 ib:0:0:0:5 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
42:11(N:42-52) Lhat=1.189e-01 Lvarmin 5=3.108e-29 Lvar0=3.108e-29 Lval=4.128588e+00**N:47-47
70:11(N:70-80) Lhat=7.130e-02 Lvarmin11=3.136e-29 Lvar0=3.136e-29 Lval=3.283933e+00**N:75-75
37:11(N:37-47) Lhat=1.512e-01 Lvarmin17=3.187e-29 Lvar0=3.187e-29 Lval=4.354537e+00**N:42-42
35:11(N:35-45) Lhat=1.496e-01 Lvarmin19=3.196e-29 Lvar0=3.196e-29 Lval=4.365211e+00**N:40-40
57:11(N:57-67) Lhat=1.034e-01 Lvarmin21=3.212e-29 Lvar0=3.212e-29 Lval=3.536903e+00**N:62-62
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:13-13:1 ib:0:0:0:6 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
29:13(N:29-41) Lhat=1.951e-01 Lvarmin 2=9.655e-30 Lvar0=9.655e-30 Lval=4.431388e+00**N:35-35
36:13(N:36-48) Lhat=1.751e-01 Lvarmin12=1.007e-29 Lvar0=1.007e-29 Lval=4.354537e+00**N:42-42
19:13(N:19-31) Lhat=4.637e-01 Lvarmin15=1.018e-29 Lvar0=1.018e-29 Lval=4.747027e+00**N:25-25
68:13(N:68-80) Lhat=8.601e-02 Lvarmin22=1.037e-29 Lvar0=1.037e-29 Lval=3.306429e+00**N:74-74
40:13(N:40-52) Lhat=1.495e-01 Lvarmin25=1.046e-29 Lvar0=1.046e-29 Lval=4.147976e+00**N:46-46
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:15-15:1 ib:0:0:0:7 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
57:15(N:57-71) Lhat=1.524e-01 Lvarmin 8=4.309e-30 Lvar0=4.309e-30 Lval=3.464665e+00**N:64-64
28:15(N:28-42) Lhat=2.262e-01 Lvarmin21=4.586e-30 Lvar0=4.586e-30 Lval=4.431388e+00**N:35-35
67:15(N:67-81) Lhat=1.011e-01 Lvarmin29=4.862e-30 Lvar0=4.862e-30 Lval=3.306429e+00**N:74-74
35:15(N:35-49) Lhat=1.936e-01 Lvarmin40=4.977e-30 Lvar0=4.977e-30 Lval=4.354537e+00**N:42-42
16:15(N:16-30) Lhat=4.759e-01 Lvarmin48=5.092e-30 Lvar0=5.092e-30 Lval=5.209941e+00**N:23-23
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:21-21:1 ib:0:0:0:10 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
25:21(N:25-45) Lhat=3.077e-01 Lvarmin20=4.021e-29 Lvar0=4.021e-29 Lval=4.431388e+00**N:35-35
36:21(N:36-56) Lhat=2.592e-01 Lvarmin24=4.053e-29 Lvar0=4.053e-29 Lval=4.147976e+00**N:46-46
64:21(N:64-84) Lhat=1.607e-01 Lvarmin34=4.132e-29 Lvar0=4.132e-29 Lval=3.306429e+00**N:74-74
68:21(N:68-88) Lhat=1.586e-01 Lvarmin38=4.152e-29 Lvar0=4.152e-29 Lval=3.246947e+00**N:78-78
32:21(N:32-52) Lhat=2.431e-01 Lvarmin52=4.268e-29 Lvar0=4.268e-29 Lval=4.354537e+00**N:42-42
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:25-25:1 ib:0:0:0:12 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
57:25(N:57-81) Lhat=2.117e-01 Lvarmin 3=1.009e-29 Lvar0=1.009e-29 Lval=3.322435e+00**N:69-69
38:25(N:38-62) Lhat=3.176e-01 Lvarmin27=1.122e-29 Lvar0=1.122e-29 Lval=4.064284e+00**N:50-50
66:25(N:66-90) Lhat=1.875e-01 Lvarmin33=1.124e-29 Lvar0=1.124e-29 Lval=3.246947e+00**N:78-78
28:25(N:28-52) Lhat=2.822e-01 Lvarmin38=1.129e-29 Lvar0=1.129e-29 Lval=4.365211e+00**N:40-40
64:25(N:64-88) Lhat=1.906e-01 Lvarmin44=1.143e-29 Lvar0=1.143e-29 Lval=3.279911e+00**N:76-76
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:31-31:1 ib:0:0:0:15 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
20:31(N:20-50) Lhat=4.676e-01 Lvarmin 9=2.396e-30 Lvar0=2.396e-30 Lval=4.431388e+00**N:35-35
32:31(N:32-62) Lhat=3.884e-01 Lvarmin13=2.396e-30 Lvar0=2.396e-30 Lval=4.128588e+00**N:47-47
35:31(N:35-65) Lhat=3.793e-01 Lvarmin18=2.443e-30 Lvar0=2.443e-30 Lval=4.064284e+00**N:50-50
63:31(N:63-93) Lhat=2.285e-01 Lvarmin30=2.512e-30 Lvar0=2.512e-30 Lval=3.246947e+00**N:78-78
61:31(N:61-91) Lhat=2.328e-01 Lvarmin34=2.558e-30 Lvar0=2.558e-30 Lval=3.279911e+00**N:76-76
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:41-41:1 ib:0:0:0:20 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
27:41(N:27-67) Lhat=4.810e-01 Lvarmin 4=4.180e-29 Lvar0=4.180e-29 Lval=4.128588e+00**N:47-47
25:41(N:25-65) Lhat=4.801e-01 Lvarmin 8=4.208e-29 Lvar0=4.208e-29 Lval=4.176745e+00**N:45-45
58:41(N:58-98) Lhat=2.917e-01 Lvarmin15=4.219e-29 Lvar0=4.219e-29 Lval=3.246947e+00**N:78-78
70:41(N:70-110) Lhat=2.759e-01 Lvarmin17=4.251e-29 Lvar0=4.251e-29 Lval=2.961341e+00**N:90-90
30:41(N:30-70) Lhat=4.721e-01 Lvarmin25=4.277e-29 Lvar0=4.277e-29 Lval=4.064284e+00**N:50-50



./can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
9	 #channels                 
./data/eguti-a.dat #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
52		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.4		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 5.000000e-04 7.000000e-01   #<0:online,1:batch>, <gamma0>, <entropy_thresh>          
10		#iterations to execute    
10		#display
nl
bestmsp.net
msp





ens2ge ./train+test.dat ./train+test.dat N:1-55:1 m:3-3:1 ib:0:0:0:1 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**yuka
50: 3(N:50-52) Lhat=1.529e-02 Lvarmin 4=1.288e-29 Lvar0=1.288e-29 Lval=4.054251e+00**N:51-51
31: 3(N:31-33) Lhat=1.652e-02 Lvarmin10=1.336e-29 Lvar0=1.336e-29 Lval=4.490052e+00**N:32-32
39: 3(N:39-41) Lhat=1.299e-02 Lvarmin19=1.385e-29 Lvar0=1.385e-29 Lval=4.365211e+00**N:40-40
44: 3(N:44-46) Lhat=1.881e-02 Lvarmin24=1.410e-29 Lvar0=1.410e-29 Lval=4.176745e+00**N:45-45
54: 3(N:54-56) Lhat=2.059e-02 Lvarmin27=1.415e-29 Lvar0=1.415e-29 Lval=3.732040e+00**N:55-55
ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:3-3:1 ib:0:0:0:1 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索


./can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
9	 #channels                 
./data/a3000.dat #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
qu
cp tmp/train+test.dat ./train+test.dat

##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**yuka
31: 3(N:31-33) Lhat=1.786e-02 Lvarmin 2=1.270e-29 Lvar0=1.270e-29 Lval=4.510962e+00**N:32-32
 1: 3(N: 1- 3) Lhat=2.237e+00 Lvarmin 6=1.320e-29 Lvar0=1.320e-29 Lval=2.139330e+01**N:2-2
40: 3(N:40-42) Lhat=1.553e-02 Lvarmin10=1.332e-29 Lvar0=1.332e-29 Lval=4.334125e+00**N:41-41
44: 3(N:44-46) Lhat=1.399e-02 Lvarmin22=1.385e-29 Lvar0=1.385e-29 Lval=4.146070e+00**N:45-45
50: 3(N:50-52) Lhat=1.244e-02 Lvarmin26=1.408e-29 Lvar0=1.408e-29 Lval=3.969603e+00**N:51-51

ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:3-6:1 ib:0:0:0:1 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**yuka
57: 3(N:57-59) Lhat=5.898e-03 Lvarmin15=1.360e-29 Lvar0=1.360e-29 Lval=3.639333e+00**N:58-58
20: 3(N:20-22) Lhat=7.967e-03 Lvarmin33=1.438e-29 Lvar0=1.438e-29 Lval=5.239403e+00**N:21-21
 9: 3(N: 9-11) Lhat=2.552e-01 Lvarmin43=1.449e-29 Lvar0=1.449e-29 Lval=8.437267e+00**N:10-10
 4: 3(N: 4- 6) Lhat=1.062e-01 Lvarmin64=1.578e-29 Lvar0=1.578e-29 Lval=1.464747e+01**N:5-5
30: 5(N:30-34) Lhat=6.765e-03 Lvarmin106=7.937e-03 Lvar0=7.937e-03 Lval=4.506730e+00**N:31-33
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**susanoo
57: 3(N:57-59) Lhat=1.016e-02 Lvarmin18=1.311e-29 Lvar0=1.311e-29 Lval=3.604134e+00**N:58-58
63: 4(N:63-66) Lhat=8.505e-03 Lvarmin70=1.692e-03 Lvar0=1.692e-03 Lval=3.459597e+00**N:64-65
31: 4(N:31-34) Lhat=9.348e-03 Lvarmin81=3.680e-03 Lvar0=3.680e-03 Lval=4.480961e+00**N:32-33
53: 4(N:53-56) Lhat=1.604e-02 Lvarmin93=5.261e-03 Lvar0=5.261e-03 Lval=3.730632e+00**N:54-55
38: 6(N:38-43) Lhat=4.669e-03 Lvarmin111=8.505e-03 Lvar0=8.505e-03 Lval=4.354464e+00**N:39-42

ens2ge ./train+test.dat ./train+test.dat N:1-70:1 m:3-3:1 ib:0:0:0:1 k:9 g:5e-4 T:10 >/dev/null #最適ユニット数探索
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
63: 3(N:63-65) Lhat=1.637e-02 Lvarmin 0=1.198e-29 Lvar0=1.198e-29 Lval=3.464665e+00**N:64-64
68: 3(N:68-70) Lhat=1.720e-02 Lvarmin 8=1.274e-29 Lvar0=1.274e-29 Lval=3.322435e+00**N:69-69
50: 3(N:50-52) Lhat=1.529e-02 Lvarmin11=1.295e-29 Lvar0=1.295e-29 Lval=4.054251e+00**N:51-51
70: 3(N:70-72) Lhat=3.213e-02 Lvarmin14=1.300e-29 Lvar0=1.300e-29 Lval=3.304859e+00**N:71-71
57: 3(N:57-59) Lhat=1.016e-02 Lvarmin18=1.311e-29 Lvar0=1.311e-29 Lval=3.604134e+00**N:58-58


##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
50: 3(N:50-52) Lhat=1.529e-02 Lvarmin 3=1.295e-29 Lvar0=1.295e-29 Lval=4.054251e+00**N:51-51
31: 3(N:31-33) Lhat=1.652e-02 Lvarmin10=1.343e-29 Lvar0=1.343e-29 Lval=4.490052e+00**N:32-32
39: 3(N:39-41) Lhat=1.299e-02 Lvarmin18=1.380e-29 Lvar0=1.380e-29 Lval=4.365211e+00**N:40-40
44: 3(N:44-46) Lhat=1.881e-02 Lvarmin24=1.410e-29 Lvar0=1.410e-29 Lval=4.176745e+00**N:45-45
54: 3(N:54-56) Lhat=2.059e-02 Lvarmin26=1.413e-29 Lvar0=1.413e-29 Lval=3.732040e+00**N:55-55
------

./can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
9	 #channels                 
./data/eguti-a.dat #training file            
2000 2200       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
52		#n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.4		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#i=0:online,i=1:batch
100		#iterations to execute    
10		#display
nl
bestmsp.net
msp
ens2ge tmp/train+test.dat tmp/train+test.dat N:1-55:1 m:3-20:1 ib:0:0:0:0 k:9 w:0.4 >/dev/null

061129
現在までの実験結果と疑問点
(1)

make clean; make "GPLT=1"  <-- 実行中に図を表示したいとき、
can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
12 0 0			#channels                 
./data/a3000.dat	#training file            
2001 2200	#number of training data get_data_parms in my_function.c 
0 0 0 0         #ymin0 ymax0 ymin ymax:No nomalization if ymin0==0 && ymax0==0.
in
21			#n_cells storing vectors          
20			#n_compare                
0.5 3 0		  #v_thresh in [0,1], v_min, vmin2
10			#v_ratio  Value Ratio for reinit
0.2			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute
1 5.000000e-02 7.000000e-01 # Learning Mode (0:online,1:batch), gamma0, entropy_thresh
100			#iterations to execute    
100 50 350    表示回数, rot_x, rot_z
nl
bestmsp.net
msp
#msp                     #multi-step prediction of test data
#msp0                    #multi-step prediction of training data
#ssp0                    #single-step prediction of training data
(2)
ens2ge train+test.dat train+test.dat N:1-20:1 m:3-20:1 ib:0:0:0:0 k:12 >/dev/null
##global min of Lvar with local min of Lhat (9neighbour of (l1,ld) **Use this or the next)**
19: 7(N:19-25) Lhat=9.494e-04 Lvarmin13=7.897e-02 Lvar0=7.897e-02 Lval=3.800875e+00**N:20-24
19:20(N:19-38) Lhat=5.569e-04 Lvarmin66=2.077e-01 Lvar0=2.077e-01 Lval=3.305439e+00**N:20-37
16:20(N:16-35) Lhat=1.089e-03 Lvarmin100=2.782e-01 Lvar0=2.782e-01 Lval=3.399093e+00**N:17-34
12:20(N:12-31) Lhat=1.225e-03 Lvarmin178=4.207e-01 Lvar0=4.207e-01 Lval=3.574863e+00**N:13-30
10:20(N:10-29) Lhat=1.177e-03 Lvarmin210=4.866e-01 Lvar0=4.866e-01 Lval=3.711434e+00**N:11-28
t:train+test v:train+test 19:20(N:19-38) Lhatmin=5.568881e-04 Lval=3.305439e+00
t:train+test v:train+test 20:20(N:20-39) Lhat=5.921234e-04 Lvalmin=3.254410e+00
t:train+test v:train+test 20:3(N:20-22) Lvarmin=1.023905e-02 Lvarval=3.946501e+00
t:train+test v:train+test 20:20(N:20-39) Lvar=2.093391e-01 Lvarvalmin=3.463749e+00
 ensrs train+test.dat -1:train+test.dat 1:1 ib:0:0:0:0:0 N:21-38 k:12 > /dev/null
# 0 3.2544096e+00 1.7325950e-01  97  39 5.9212337e-04 #n Ltest Ltrain bestIT Nr Lhat+

040519
(1)
dataconv1 ./data/CoordData_Cube.dat > ./data/CoordData_Cube2.dat
gnuplot
rx=50;rz=300
set view rx,rz; splot [-100:400][-150:200] "./data/CoordData_Cube2.dat"  using 1:2:3 w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot

./can2
4           #0:時系列,1:関数,3:ijcnn04,4:距離データ
2 0       次元 k1 k2
./data/CoordData_Cube2.dat
-100 400 -150 200 x0min,x0max,x1min,x1max (range for test) -1500 1500 -600 1600
145 1088 0 1    出力の正規化 ymin0 ymax0 →ymin1 ymax1
-100 400 0 1    入力の正規化 x0min0 x0max0 →x0min x0max
-150 200 0 1    入力の正規化 x1min0 x1max0 →x1min,x1max
0 0 #r1 r2 
in          ネットの初期化
500        セル数
6           n_compare
0.2 4 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.7   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100        i_times 学習回数
100 50 5    表示回数, rot_x, rot_z
qu
gnuplot 
rx=50;rz=300
set view rx,rz; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat"  using 1:2:3 w l, "./result/FCoordData_Cube2+tr13526+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/funcSSP+t100-1.dat" using 1:2:3  t "y^" w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot

040516e evening
(1)gnuplot でデータ表示を動的にする方法
gnuplot 
rx=50;rz=300
set view rx,rz; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat"  using 1:2:3 w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
以上をカットし、ペーストする。
gnuplot 
rx=10;rz=300
set view rx,rz; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat"  using 1:2:3 w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot


(3) 表示角度を学習実行時に設定できるようにした。
    (→下の「100 50 5    表示回数, rot_x, rot_z」を参照。)
実行例：
./can2
4           #0:時系列,1:関数,3:ijcnn04,4:距離データ
2 0       次元 k1 k2
./data/CoordData_Cube.dat
-100 400 -150 200 x0min,x0max,x1min,x1max (range for test) -1500 1500 -600 1600
145 1088 0 1    出力の正規化 ymin0 ymax0 →ymin1 ymax1
-100 400 0 1    入力の正規化 x0min0 x0max0 →x0min x0max
-150 200 0 1    入力の正規化 x1min0 x1max0 →x1min,x1max
0 0 #r1 r2 
in          ネットの初期化
500        セル数
6           n_compare
0.2 4 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.7   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100        i_times 学習回数
100 50 5    表示回数, rot_x, rot_z
qu

gnuplot 
rx=50;rz=300
set view rx,rz; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat"  using 1:2:3 w l, "result/FCoordData_Cube+tr13206+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/funcSSP+t100-1.dat" using 1:2:3  t "y^" w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot

plot [-0.2:1.2][-0.2:1.2] "./result/FCoordData_Cube+tr13206+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/net_w+t100.dat" using 1:2  t "w" w p

(3) 以前、西田くんにもらった 3Dmeasure.dat を学習させてみた。
前処理：
make datasep2  ← 3Dmeasure.dat を gunuplot と can2 で読み込み可能形式にする。
./datasep2 ./data/3Dmeasure.dat >./data/3Dmeasure1.dat
gnuplot 
rx=10;rz=0
set view rx,rz; splot [1.3:2.0][90:250] "./data/3Dmeasure1.dat"   using 1:2:3 w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot

./can2
4           #0:時系列,1:関数,3:ijcnn04,4:距離データ
2 0       次元 k1 k2
./data/3Dmeasure1.dat
1.3 2.0 90 250 x0min,x0max,x1min,x1max (range for test)
500 1100 0 1    出力の正規化 ymin0 ymax0 →ymin1 ymax1
1.3 2.0 0 1    入力の正規化 x0min0 x0max0 →x0min x0max
90 250 0 1    入力の正規化 x1min0 x1max0 →x1min,x1max
0 0 #r1 r2 
in          ネットの初期化
500        セル数
6           n_compare
0.2 4 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.7   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100        i_times 学習回数
100 10 15    表示回数, rot_x, rot_z
qu
gnuplot 
rx=10;rz=300
set view rx,rz; splot [1.3:2.0][90:250] "./data/3Dmeasure1.dat"   using 1:2:3 w l, "./result/F3Dmeasure1+tr25921+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/funcSSP+t100-1.dat" using 1:2:3  t "y^" w l
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot
pause 1; rz= rz>359 ? 0 : rz+20; set view rx,rz; replot

plot [-0.2:1.2][-0.2:1.2] "./result/F3Dmeasure1+tr25921+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/net_w+t100.dat" using 1:2  t "w" w p

040516
(1) 入力変数の正規化アルゴリズムを修正した。
    各変数 x0,x1 について正規化するようにした。
    (以前は全変数のminとmaxを使っていた)
(2) データ表示
splot [1.3:2.2][100:250] "3Dmeasure.dat" using 2:3:1 w l
make datasep (datasep.c ←gnuplot用に1水平スキャンデータ毎に改行)
./datasep ./data/CoordData_Cube.dat >./data/CoordData_Cube1.dat
gnuplot 
set view 10,0; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
set view 50,5; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
set view 50,10; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
set view 50,15; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
set view 50,10; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
set view 50,0; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
set view 50,350; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat" using 1:2:3 w l
plot  "./data/CoordData_Cube1.dat" using 1:2 w p
←wrapplot/plot.c にset view 50,5を加えた。

(4)実行例 
コンパイル
make clean; make "GPLT=1"  <-- 実行中に図を表示したいとき、
make clean; make "GPLT=0"  <-- 実行中に図を表示したくないとき
実行
./can2
4           #0:時系列,1:関数,3:ijcnn04,4:距離データ
2 0       次元 k1 k2
./data/CoordData_Cube.dat
-100 400 -150 200 x0min,x0max,x1min,x1max (range for test) -1500 1500 -600 1600
145 1088 0 1    出力の正規化 ymin0 ymax0 →ymin1 ymax1
-100 400 0 1    入力の正規化 x0min0 x0max0 →x0min x0max
-150 200 0 1    入力の正規化 x1min0 x1max0 →x1min,x1max
0 0 #r1 r2 
in          ネットの初期化
500        セル数
6           n_compare
0.2 4 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.7   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100        i_times 学習回数
100 50 5    表示回数, rot_x, rot_z
qu

500>→100MSE1.442e+02NMSE08.28e-03MSEtr7.89e-05N500k2w0.2vm4:0
以上の結果を使って以下を実行して確認：
gnuplot 
set view 50,5; splot [-100:400][-150:200] "./data/CoordData_Cube1.dat"  using 1:2:3 w l, "result/FCoordData_Cube+tr13206+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/funcSSP+t100-1.dat" using 1:2:3  t "y^" w l

plot [-0.2:1.2][-0.2:1.2] "./result/FCoordData_Cube+tr13206+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.2+batch/net_w+t100.dat" using 1:2  t "w" w p

(注意：以上の実行例では、安定した学習を行うため
入力出力変数x1,x2,yの領域を[0,1]に正規化して学習させてます。
予測結果や予測誤差は逆変換して表示してますが、
学習された荷重wi1,wi2は正規化されたまま表示してます。
なお、実行後は表示が消えますが、結果は./result/の
下のディレクトリに保存されてます。(詳しくは沢さんが知ってます)。
また画面表示される予測結果Single-Step Predictionの 真値 y は、
51×51の正方格子点(xi,yi) に最も近いデータ点の値としている本当の真値
ではありません。
------------------------------
040514
(1)距離データ処理関数 load_data_RANGEDATA()を追加した：
   距離データの一部の矩形領域を処理するようにした。
(2)コンパイル
   make clean; make "GPLT=1"  <-- 実行中に図を表示したいとき、
   make clean; make "GPLT=0"  <-- 実行中に図を表示したくないとき
(3)データの確認
gnuplot 
set data style lines
splot "./data/CoordData_Cube.dat" using 1:2:3
set data style points
plot [-100:400][-300:200] "./data/CoordData_Cube.dat" using 1:2
(4)実行例 
./can2
4           #0:時系列,1:関数,3:ijcnn04,4:距離データ
2 0       次元
./data/CoordData_Cube.dat
-100 400 -150 200 x1min,x1max,x2min,x2max (range for test) -1500 1500 -600 1600
145 1088 0 1    出力の正規化 ymin0 ymax0 →ymin1 ymax1
-150 400 0 1    入力の正規化 ximin0 ximax0 →ximin ximax
0 0 #r1 r2 
in          ネットの初期化
1000        セル数
6           n_compare
0.2 4 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.75   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100        i_times 学習回数
100        表示回数
qu
(注意：以上の実行例では、安定した学習を行うため
入力出力変数x1,x2,yの領域を[0,1]に正規化して学習させてます。
予測結果や予測誤差は逆変換して表示してますが、
学習された荷重wi1,wi2は正規化されたまま表示してます。
なお、実行後は表示が消えますが、結果は./result/の
下のディレクトリに保存されてます。(詳しくは沢さんが知ってます)。
また画面表示される予測結果Single-Step Predictionの 真値 y は、
50×50の正方格子点(xi,yi) に最も近いデータ点の値としている本当の真値
ではありません。

040513
make mkrangetestdata
mkrangetestdata -500 500 100 -500 1200 100 > ./data/rangetest.dat
mkrangetestdata -1500 1500 100 -600 1600 100 > ./data/rangetest.dat
mkrangetestdata -750 930 100 -1122 1433 100 > ./data/rangetest.dat
mkrangetestdata -200 200 100 -500 500 100 > ./data/rangetest25.dat

./can2
4           #0:時系列,1:関数,3:ijcnn04,4:RangeData
2 0       次元
./data/CoordData_Cube.dat
-100 350 -300 150 xmin,xmax,ymin,ymax (range for test) -1500 1500 -600 1600
0 0 0 0    正規化パラメタ y0min y0max y1min y1max
in          ネットの初期化
500        セル数
6           n_compare
0.2 3 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.80   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
10        i_times 学習回数
10        表示回数
qu

./can2
1           #0:時系列,1:関数,
2 0       次元
./data/CoordData_Cube.dat
./data/rangetest25.dat
0 0 0 0  正規化パラメタ y0min y0max y1min y1max
in          ネットの初期化
500        セル数
6           n_compare
0.2 3 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.80   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
10        i_times 学習回数
10        表示回数
qu

./can2
4           #0:時系列,1:関数,3:ijcnn04,4:RangeData
2 0       次元
./data/CoordData_Cube.dat
-200 200 -500 500 xmin,xmax,ymin,ymax (range for test) -1500 1500 -600 1600
0 0 0 0    正規化パラメタ y0min y0max y1min y1max
in          ネットの初期化
100        セル数
6           n_compare
0.2 3 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.80   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
10        i_times 学習回数
10        表示回数
qu


./can2
4           #0:時系列,1:関数,3:ijcnn04,4:RangeData
2 0       次元
./data/CoordData_Cube.dat
-200 200 -500 500 xmin,xmax,ymin,ymax (range for test) -1500 1500 -600 1600
145 1088 0 1    正規化パラメタ y0min y0max y1min y1max
-1122 1432 0 1  正規化パラメタ xmin0 xmax0 xmin xmax
0 0 #r1 r2 
in          ネットの初期化
100        セル数
6           n_compare
0.2 3 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.80   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
10        i_times 学習回数
10        表示回数
qu
kterm&
cd ./result/FCoordData_Cube+tr160801+T10+K2+N100+NC6+vt0.2+vm3:0+vr5.0+w0.2+batch; gnuplot funcSSP+t10.gpl 

./can2
1           #0:時系列,1:関数,
2 0       次元
./data/CoordData_Cube.dat
./data/rangetest25.dat
145 1088 0 1    正規化パラメタ y0min y0max y1min y1max
-1122 1432 0 1  正規化パラメタ xmin0 xmax0 xmin xmax
0 0 #r1 r2 
in          ネットの初期化
100        セル数
6           n_compare
0.2 3 0    v_thresh vmin vmin2
5            v_ratio
0.2    width,gamma   #window width
ex          実行
1 0.05 0.80   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
10        i_times 学習回数
10        表示回数
qu


040510
sh bench2b03ieice.sh
sh bench2o03ieice.sh
040310.log  040311e.log  040510f02.log	040510f03o.log	040510f11o.log
040311.log  040311n.log  040510f03.log	040510f11.log

040426
まず、
make clean; make "GPLT=1"  <-- 実行中に図を表示したいとき、
make clean; make "GPLT=0"  <-- 実行中に図を表示したくないとき
をして、例えば bench2b.sh または以下を行う。
./can2
1           #0:時系列,1:関数
2        次元
./data/07train1e3.dat
./data/07test.dat
0 0 0 0     正規化パラメタ y0min y0max y1min y1max
in          ネットの初期化
100        セル数
6           n_compare
0.2 3 0    v_thresh vmin vmin2
5            v_ratio
0.1  0.05    width,gamma   #window width
ex          実行
1 0.05 0.80   #<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100        i_times 学習回数
100        表示回数
qu

040310
(1) make "GPLT=1"
(2) 結果は./result/の下に
040311
  net->nentropy_thresh=LA(net->n_cells,0.75,100,0.90,500);
see 040311e.log
batch
D=1e3
>>22test3.5327e-04,74train7.4276e-05N100k2w0.1vm1:0 0m4.950s
>>84test3.8918e-04,100train7.6028e-05N100k2w0.1vm2:0
>>17test3.4486e-04,89train7.7138e-05N100k2w0.1vm4:0
>>29test2.6159e-04,80train9.2993e-05N100k2w0.1vm5:0
>>21test3.1888e-04,100train1.0776e-04N100k2w0.1vm6:0
>>100test3.1089e-04,99train1.3890e-04N100k2w0.1vm7:0
>>80test2.7536e-04,38train4.9048e-05N100k2w0.1vm3:0 noise0

>>18test3.0627e-04, 99train5.7393e-05N100k2w0.1vm3:0 0m5.230s
>>24test4.7916e-04,100train2.5782e-05N200k2w0.1vm3:0 0m10.230s
>>52test3.4901e-04,100train2.5906e-05N300k2w0.1vm3:0 0m15.500s
>> 7test6.2930e-04,100train1.2289e-05N400k2w0.1vm3:0 0m22.190s
>> 5test5.8345e-04,100train1.4024e-05N500k2w0.1vm3:0 0m29.430s
D=5e3
>>96test8.4962e-05, 85train9.6303e-05N100k2w0.1vm3:0 0m17.610s
>>72test4.0073e-05, 96train4.5509e-05N200k2w0.1vm3:0 0m37.300s
>>50test3.4081e-05, 99train3.7600e-05N300k2w0.1vm3:0 0m55.300s
>>20test3.7368e-05, 15train3.7836e-05N400k2w0.1vm3:0 0m47.710s
>>59test5.0089e-05,100train2.7924e-05N500k2w0.1vm3:0 1m29.770s
D=1e4
>>65test6.6669e-05,100train7.6892e-05N100k2w0.1vm3:0 0m33.370s
>>95test2.4903e-05, 92train4.5406e-05N200k2w0.1vm3:0 1m11.220s
>>82test1.9685e-05, 98train3.9723e-05N300k2w0.1vm3:0 1m45.030s
>>55test1.8372e-05,100train3.4113e-05N400k2w0.1vm3:0 2m18.160s
>>51test1.8074e-05,100train3.1159e-05N500k2w0.1vm3:0 2m50.550s
D=5e4
>>96test2.8420e-05, 98train6.1535e-05N100k2w0.1vm3:0 2m54.290s
>>99test1.4672e-05, 97train4.5205e-05N200k2w0.1vm3:0 5m35.510s
>>96test7.6037e-06, 99train3.8442e-05N300k2w0.1vm3:0 8m16.360s
>>69test6.5563e-06, 99train3.6585e-05N400k2w0.1vm3:0 10m56.150s
>>99test5.1274e-06, 96train3.5157e-05N500k2w0.1vm3:0 13m37.050s
online
D=1e3
>> 41test4.6537e-04,100train1.0572e-04N100k2w0.1vm3:0 0m16.000s
>> 70test6.0533e-04,100train6.7116e-05N200k2w0.1vm3:0 0m31.120s
>>100test5.6474e-04,100train1.9377e-05N300k2w0.1vm3:0 0m46.230s
>>100test9.3572e-04,100train8.3702e-06N400k2w0.1vm3:0 1m1.460s
>> 35test9.9502e-04,100train2.7464e-06N500k2w0.1vm3:0 1m16.290s
D=5e3
>>100test1.0583e-04, 98train9.3564e-05N100k2w0.1vm3:0 1m12.830s
>>100test7.1262e-05,100train7.7752e-05N200k2w0.1vm3:0 2m22.290s
>> 97test5.2127e-05, 99train5.2846e-05N300k2w0.1vm3:0 3m32.210s
>> 17test6.0295e-05,100train4.0370e-05N400k2w0.1vm3:0 4m41.610s
>> 17test4.5329e-05, 98train3.3946e-05N500k2w0.1vm3:0 5m51.120s
D=1e4
>> 56test6.4194e-05,94train9.3962e-05N100k2w0.1vm3:0 2m23.780s
>>100test6.0600e-05,99train7.2820e-05N200k2w0.1vm3:0 4m41.220s
>> 84test4.5436e-05,97train5.5646e-05N300k2w0.1vm3:0 6m59.020s
>> 26test3.6985e-05,98train4.7309e-05N400k2w0.1vm3:0 9m39.120s
>> 92test3.1103e-05,97train3.9952e-05N500k2w0.1vm3:0 11m33.470s
D=5e4
>> 96test3.2184e-05, 99train6.5059e-05N100k2w0.1vm3:0 11m46.240s
>> 80test1.9184e-05, 99train5.2492e-05N200k2w0.1vm3:0 23m8.790s
>>100test1.8349e-05,100train5.1622e-05N300k2w0.1vm3:0 34m26.720s
>>100test1.3111e-05,100train4.7674e-05N400k2w0.1vm3:0 46m59.210s
>>56test1.2118e-05,98train4.2992e-05N500k2w0.1vm3:0 57m44.690s

>>96test3.2184e-05,99train6.5059e-05N100k2w0.1vm3:0 11m50.320s
















---------------------------
D=1e3
>>18ssp3.0627e-04H4.109532e-05>>100ssp3.8339e-04H7.159275e-06N100k2w0.1vm3:0 0m5.220s **
>>57ssp4.7740e-04H2.756919e-06>>100ssp5.0049e-04H2.556167e-06N200k2w0.1vm3:0 0m10.420s
>>52ssp3.4901e-04H1.185315e-05>>100ssp4.1055e-04H9.674721e-06N300k2w0.1vm3:0 0m15.700s
>> 7ssp6.2930e-04H9.854391e-06>> 49ssp7.2670e-04H4.411319e-06N400k2w0.1vm3:0 0m22.510s
>> 5ssp5.8345e-04H1.075555e-05>> 63ssp1.0733e-03H8.505738e-06N500k2w0.1vm3:0 0m29.340s
r=0.34 0.000157998 5.6797778e-05 955 1m24.790s                              *******  
D=5e3
>>62ssp7.7720e-05H1.762614e-05>> 59ssp7.9841e-05H1.542854e-05N100k2w0.1vm3:0 0m16.000s
>>63ssp4.7848e-05H3.385847e-06>> 95ssp6.6219e-05H2.438220e-06N200k2w0.1vm3:0 0m36.850s
>>50ssp3.4081e-05H2.662382e-06>>100ssp3.5285e-05H2.077933e-06N300k2w0.1vm3:0 0m55.210s*******
>>20ssp3.7368e-05H3.578769e-06>> 15ssp4.7483e-05H2.845090e-06N400k2w0.1vm3:0 0m47.840s
>>59ssp5.0089e-05H1.638658e-06>>100ssp5.2996e-05H1.475891e-06N500k2w0.1vm3:0 1m30.010s
r=0.30 3.95415e-05  5.7753327e-05 4042 8m45.130s ***
D=1e4
>>78ssp7.1292e-05H3.023923e-05>>42ssp1.3409e-04H2.693487e-05N100k2w0.1vm3:0 0m31.260s
>>95ssp2.4903e-05H4.352362e-06>>74ssp3.2677e-05H3.085976e-06N200k2w0.1vm3:0 1m11.270s
>>64ssp2.1126e-05H1.953754e-06>>86ssp2.1805e-05H1.557001e-06N300k2w0.1vm3:0 1m44.060s
>>55ssp1.8372e-05H1.742066e-06>>88ssp1.8881e-05H1.443445e-06N400k2w0.1vm3:0 2m17.860s
>>51ssp1.8074e-05H1.424525e-06>>81ssp1.8600e-05H1.236897e-06N500k2w0.1vm3:0 2m50.170s*******
r=0.18 2.9135e-05  4.8554882e-05 5613 14m14.440s by terasu***
D=5e4
>>96ssp2.8420e-05H9.558920e-06>>89ssp3.0436e-05H8.612877e-06N100k2w0.1vm3:0 2m50.210s
>>81ssp1.2295e-05H5.848392e-06>>96ssp1.3448e-05H5.315518e-06N200k2w0.1vm3:0 5m39.210s
>>96ssp7.6037e-06H2.259639e-06>>94ssp1.0068e-05H1.814841e-06N300k2w0.1vm3:0 8m18.190s
>>85ssp5.7613e-06H9.715256e-07>>93ssp5.9677e-06H9.192231e-07N400k2w0.1vm3:0 10m49.820s
>99ssp5.1274e-06H7.690998e-07>>92ssp5.1931e-06H7.419423e-07N500k2w0.1vm3:0 13m32.190s ****
r=0.18 2.12596e-05 5.0942349e-05 9431 337m54.390s


D=1e3
>> 41ssp4.6537e-04H1.283971e-04>>1ssp1.1086e-03H1.101294e-03N100k2w0.1vm3:0 0m16.010s
>> 70ssp6.0533e-04H6.746053e-05>>1ssp9.2951e-04H2.466056e-04N200k2w0.1vm3:0 0m31.100s
>>100ssp5.6474e-04H1.937659e-05>>1ssp1.1095e-03H1.641004e-04N300k2w0.1vm3:0 0m46.100s
>>100ssp9.3572e-04H8.370218e-06>>1ssp1.5364e-03H1.591809e-04N400k2w0.1vm3:0 1m1.180s
>> 35ssp9.9502e-04H3.449163e-06>>1ssp1.3760e-03H2.152085e-04N500k2w0.1vm3:0
D=5e3
>>100ssp1.0583e-04H9.409067e-05>>1ssp4.1188e-04H4.731135e-04N100k2w0.1vm3:0 1m12.740s
>>100ssp7.1262e-05H7.775153e-05>>1ssp4.5320e-04H5.096225e-04N200k2w0.1vm3:0 2m22.890s
>> 97ssp5.2127e-05H5.292182e-05>>1ssp1.5097e-04H1.310186e-04N300k2w0.1vm3:0 3m32.320s
>> 17ssp6.0295e-05H4.686067e-05>>1ssp1.3083e-04H1.122913e-04N400k2w0.1vm3:0 4m40.830s
>> 17ssp4.5329e-05H3.933964e-05>>1ssp1.2419e-04H1.122968e-04N500k2w0.1vm3:0 5m50.150s
D=1e4
>> 56ssp6.4194e-05H1.011630e-04>>1ssp4.4539e-04H4.439835e-04N100k2w0.1vm3:0 2m23.510s
>>100ssp6.0600e-05H7.282430e-05>>1ssp2.4471e-04H2.670268e-04N200k2w0.1vm3:0 4m40.480s
>> 84ssp4.5436e-05H5.590699e-05>>1ssp1.3074e-04H1.106084e-04N300k2w0.1vm3:0 6m57.210s
>> 26ssp3.6985e-05H5.050373e-05>>1ssp9.2563e-05H9.502154e-05N400k2w0.1vm3:0 9m14.670s
>> 92ssp3.1103e-05H4.007001e-05>>1ssp7.8360e-05H8.998270e-05N500k2w0.1vm3:0 11m28.210s
D=5e4
>>96ssp3.2184e-05H6.557853e-05>>1ssp2.2125e-04H2.351238e-04N100k2w0.1vm3:0  11m50.030s
>>80ssp1.9184e-05H5.530818e-05>>1ssp8.5118e-05H1.253944e-04N200k2w0.1vm3:0  23m3.040s
>>100ssp1.8349e-05H5.162161e-05>>1ssp4.4178e-05H7.736686e-05N300k2w0.1vm3:0 34m57.630s


040310

can2
1           #0:時系列,1:関数
2        次元
./data/07train1e3.dat
./data/07test.dat
0 0 0 0     正規化パラメタ y0min y0max y1min y1max
in          ネットの初期化
100        セル数
6           n_compare
0.2 0 0    v_thresh vmin vmin2
5            v_ratio
0.1  0.05    width,gamma   #window width
ex          実行
1 0.05 0.90   0:オンライン(不能),1:バッチ
100        i_times 学習回数
100        表示回数
qu
data for sci2004
N=100 D=1e3 100MSE5.467e-04MSEtr6.85e-05
N=120 D=1e3 100MSE1.353e-03MSEtr5.92e-05
N=120 D=1e3 100MSE3.817e-04MSEtr1.26e-04
N=139 D=1e3 100MSE4.415e-04MSEtr4.62e-05
N=140 D=1e3 100MSE2.613e-04MSEtr4.63e-05F07train1e3+tr1000+T100+K2+N140+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch ****
N=141 D=1e3 100MSE3.148e-04MSEtr4.84e-05
N=150 D=1e3 100MSE3.610e-04MSEtr3.01e-05
N=200 D=1e3 100MSE4.785e-04MSEtr1.98e-05
N=140 D=1e3 100MSE2.941e-04MSEtr1.77e-05F07train1e3noise0+tr1000+T100+K2+N140+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch

N=300 D=5e3 100MSE3.529e-05MSEtr3.77e-05>50ssp3.4081e-05 F07train5e3+tr5000+T100+K2+N300+NC6+vt0.2+vm3:0+vr5.0+w0.1+batchE0.80
N=310 D=5e3 100MSE3.445e-05MSEtr3.58e-05>86ssp3.3969e-05 F07train5e3+tr5000+T100+K2+N310+NC6+vt0.2+vm3:0+vr5.0+w0.1+batchE0.80 ***

N=200 D=2e3 100MSE1.946e-04MSEtr4.98e-05>22ssp1.3481e-04 
N=150 D=2e3 100MSE1.131e-04MSEtr7.53e-05>100ssp1.1315e-04 E0.80
N=140 D=2e3 100MSE1.055e-04MSEtr5.33e-05>75ssp1.0524e-04          
N=130 D=2e3 100MSE9.849e-05MSEtr6.91e-05>100ssp9.8494e-05       ****

N=200 D=3e3 100MSE7.693e-05MSEtr4.76e-05>59ssp6.5116e-05
N=190 D=3e3 100MSE6.010e-05MSEtr4.40e-05>8ssp5.6665e-05 0m21.310s***
N=180 D=3e3 100MSE7.775e-05MSEtr4.43e-05>18ssp6.8473e-05 0m18.940s

N=200 D=4e3 100MSE4.092e-05MSEtr4.07e-05>98ssp3.9921e-05 0m26.980s
N=210 D=4e3 100MSE4.213e-05MSEtr3.95e-05>52ssp3.6226e-05 0m29.890s ***E0.8
N=220 D=4e3 100MSE4.960e-05MSEtr4.33e-05>98ssp4.9259e-05 0m27.250s

N=500 D=1e3 100MSE1.185e-03MSEtr1.40e-05> 5ssp5.8345e-04 F07train1e3+tr1000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch  0m39.010s
N=500 D=2e3 100MSE1.845e-04MSEtr1.40e-05>21ssp1.6589e-04 F07train2e3+tr2000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch  0m53.320s
N=500 D=5e3 100MSE5.300e-05MSEtr2.79e-05>59ssp5.0089e-05 F07train5e3+tr5000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch  1m39.460s
N=500 D=1e4 100MSE2.090e-05MSEtr3.12e-05>51ssp1.8074e-05 F07train1e4+tr10000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch  2m59.760s
N=500 D=5e4 100MSE5.368e-06MSEtr3.52e-05>99ssp5.1274e-06 F07train5e4+tr50000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch 13m39.500s
N=500 D=5e4 >96ssp8.3399e-06>>85ssp8.8341e-06H1.568231e-0F07train5e4+tr50000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batc  E=0.80

0nline
N=500 D=1e3 100MSE1.010e-03MSEtr2.75e-06>35ssp9.9502e-04 F07train1e3+tr1000+T100+K2+N500+NC6+vt0.5+vm3:0+vr5.0+w0.1+online 1m25.240s 
N=500 D=2e3 100MSE3.409e-04MSEtr1.94e-05>13ssp3.1373e-04 F07train2e3+tr2000+T100+K2+N500+NC6+vt0.5+vm3:0+vr5.0+w0.1+online 2m33.280s
N=500 D=5e3 100MSE4.947e-05MSEtr3.40e-05>17ssp4.5329e-05 F07train5e3+tr5000+T100+K2+N500+NC6+vt0.5+vm3:0+vr5.0+w0.1+online 5m57.060s
N=500 D=1e4 100MSE3.110e-05MSEtr4.00e-05>92ssp3.1103e-05 F07train1e4+tr10000+T100+K2+N500+NC6+vt0.5+vm3:0+vr5.0+w0.1+online11m36.500s
N=500 D=5e4 100MSE1.635e-05MSEtr4.30e-05>56ssp1.2118e-05 F07train5e4+tr50000+T100+K2+N500+NC6+vt0.5+vm3:0+vr5.0+w0.1+online 57m2.070s

batch noise0
N=500 D=5e4 100MSE6.110e-06MSEtr5.37e-06>45ssp4.1359e-06 F07train5e4noise0+tr50000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch 11m31.560s 
N=500 D=1e4 100MSE7.185e-06MSEtr3.25e-06>88ssp5.6664e-06 F07train1e4noise0+tr10000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch 2m25.110s
N=500 D=5e3 100MSE2.546e-05MSEtr2.50e-06>53ssp2.2217e-05 F07train5e3noise0+tr5000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch  1m25.580s
N=500 D=2e3 100MSE1.259e-04MSEtr9.35e-07>39ssp1.2146e-04 F07train2e3noise0+tr2000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch/ 0m49.170s

N=500 D=1e3 100MSE4.348e-04MSEtr1.05e-05>19ssp3.7114e-04 F07train1e3noise0+tr1000+T100+K2+N500+NC6+vt0.2+vm3:0+vr5.0+w0.1+batch 0m38.140s
N=500 D=1e3 100MSE6.482e-04MSEtr9.12e-06>100ssp6.4818e-04F07train1e3noise0+tr1000+T100+K2+N500+NC6+vt0.2+vm2:0+vr5.0+w0.1+batch 0m36.640s
N=500 D=1e3 100MSE9.466e-04MSEtr5.73e-09>18ssp8.5702e-04 F07train1e3noise0+tr1000+T100+K2+N500+NC6+vt0.2+vm1:0+vr5.0+w0.1+batch 0m32.080s
N=500 D=1e3 100MSE3.651e-04MSEtr3.01e-05>14ssp2.8057e-04 F07train1e3noise0+tr1000+T100+K2+N500+NC6+vt0.2+vm4:0+vr5.0+w0.1+batch 0m39.210s
040308
can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10 0		 #channels                 
./data2s.dat  
980 1020       #Ttrain,Ttotal: points in time of training and total data 
-410 640 0 1       #y0min y0max y1min y1max for normalization
0 0            #r1 r2 
in               #
25		 #n_cells storing vectors          
6		#n_compare                
0.2 3 0         #v_thresh vmin vmin2   
2		#v_ratio
0.2		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params   
ex     
1 1e-3 0.90	#<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100		#iterations to execute    			  
100		#display                                          
nl
bestmsp.net
msp

040225
(1) 黒木です。INCNN04 の問題で多段予測を指定した時点からの1区間だけでなく、
20(sim.cの#define NT 20 で設定) 時点後の区間まで1時点ずつずらして行い、
そのMSEの平均をgivendata->ijcnn04data->MSEmeanにしまうようにしました。
プログラムは
http://terasu.cntl.kyutech.ac.jp/~kuro/sotu/2004/ueno/can2b040225.tgz
です。
例えば、ruby ./gtest.rb 930 0 0 をすると他のブロックの与えられたデータ
とこの区間の929までのデータを学習し、その学習結果を使って、
多段予測区間として
930〜949
931〜950
…
949〜968
の20個の各区間をそれぞれその前の時点の情報から多段予測し、それぞれの
MSEを求め平均したものが MSEmeanです。
これは、以前のように一区間のみでパラメタを最適化しても、そのとなりの区間
ではうまく予測できない現象が観測できたからです。0blockの最適化を行った
結果、FB1Sはかなり大きな値 548になったがうまくいくようである。

沢さん：他のブロックでも最適パラメタを求めてくれませんか(このブロックも
チェックして!)?
上野君：今、test->MSEに仮に入れて、abisort.rbでMSEmspをソートしているけれど、
MSEmeanでソートできるようにしてくれませんか?

以下、0block を最適化したパラメタである。
なお、GTEST_GNFLAGS=["-1"]はまずい性質が分った(いつか説明する)ので使わない。
###############################best params for block0 below
GTEST_GNFLAGS   = ["0"] #GTEST_GNFLAGS   = ["-1"]
#GTEST_DLASTS    = ["-60"]
GTEST_BLOCKS    = ["0"]
GTEST_NCOMPARES = ["6"]
GTEST_VTHRESHS  = ["0.2"]
GTEST_VMINS     = ["3"]
GTEST_VMIN2S    = ["0"]
GTEST_VRATIOS   = ["2"]
GTEST_WIDTHS    = ["0.2"]
GTEST_GAMMA0S   = ["0.001"]
GTEST_NCHANNELS = ["17"] #GTEST_NCHANNELS = ["14","15","16","17","18","19","20","21","22","23"]#GTEST_NCHANNELS = ["19"]#GTEST_NCHANNELS = ["19"] 
GTEST_NCELLS    = ["22"] #GTEST_NCELLS     = ["14","15","16","17","18","19","20","21","22","23"]#GTEST_NCELLS     = ["22"]#GTEST_NCELLS     = ["14"]#
#GTEST_DLASTS   = ["-10"]#GTEST_DLASTS    = ["-100","-90","-80","-70","-60","-50","-40","-30","-20","-10","0"]#GTEST_DLASTS    = ["-60"]#
GTEST_DLASTS    =["-7"]  #GTEST_DLASTS=["-5","-6","-7","-8","-9","-11","-12","-13","-14",]
GTEST_FB2S      = ["55"]#GTEST_FB2S      = ["50","51","52","53","54","55","56","57","58","59","60"]#GTEST_FB2S      = ["56"] #
GTEST_ITERTIMES = ["15"] #GTEST_ITERTIMES = ["50"] #
#GTEST_FB1S=["550"]#GTEST_FB1S=["450","460","470","480","490","500","510","520","530","540","550"]#GTEST_FB1S=["560","570","580","590","600","610","620","630","640","650"]
GTEST_FB1S=["548"] #GTEST_FB1S=["545","546","547","548","549","551","552","553","554","555"]
###############################best params for block0 above



040214
(1) can2 のコマンドに mspj (IJCNN04の予測結果出力)を追加。
(2) IJCNN04モードのときはデータファイルではなく
    data.txt, data.dat, smooth.dat, smooth_.dat があること
    があるパスを指定すること。
(3) dt[] (my_function.c)の計算間違いを修正。MSEdlはゼロになることがあ
るので sim.c を修正。
040213
exec_msp_test_IJCNN04_out() で predict.dat 出力するようにした。
(2)上野君より
> 黒木先生
> 先生に言われたメモリリークを起こすバグですが，発見しましたので
> バグフィックスして更新しました．ダウンロードして試してみて下さい．
> いつものように更新前のファイルは*.origという拡張子をうっています．
>  $ wget -v http://terasu.cntl.kyutech.ac.jp/~ueno/study/can2b040211ueno.tgz
>  $ wget -v http://terasu.cntl.kyutech.ac.jp/~ueno/study/ijcnn040211ueno.tgz
→これをもとに修正。
040212
(1) IJCNN04モードのとき連続した10組の多段予測テストを行うようにした。
(2) IJCNN04モードでの入力をfromのみにした(下のt_t2は読まず、
t_t2=t_t1+19とした)
例：
3                #0:time series,1:funciton approximation,<3:ijcnn04>
45 0		 #k1,k2  n_channels= k1+ k2			  
./smooth_.dat							  
0 960 980        #<test_block(0,1,2,3,4)>, t_t1,t_t2		  
-410 640 0 1       #y0min y0max y1min y1max for normalization	  
-410 640 0 1       #x0min x0max x1min x1max for normalization	  
0 0              # r1 r2						  
in               #						  
30		 #n_cells storing vectors          		  
6		#n_compare                				  
0.2 3 0	#v_thresh vmin vmin2               		  
2		#v_ratio						  
0.5 	        #width						  
ex		#execute 					  
1 1e-3 0.90	#<0:online,1:batch>, <gamma0>, <entropy_thresh>	  
100		#iterations to execute    			  
100		#display        

040210
(1) simdata_ability_display()を呼ぶたびににかなりの量のメモリが順次減っ
て行く。
sim.cの次の行を生かしてチェック。
  {int *p;p=(int *)malloc((sizeof(int)));printf("p0=%p\n",p);free(p);}//malloctest0
    上野君、解決を!(sim.dの1211行)

(2) IJCNN04では、従来の逐次的逆行列計算より、擬似逆行列を直接計算する
   GSLの方が良いことがある。以下の3手法を導入
   make clean; make "GSL=1"  #jacobi法 遅いが精度がよいはず
   make clean; make "GSL=2"  #従来法   中程度、戻ってこないことがある
   make clean; make "GSL=3"  #mod法    速い、戻ってこないことがある
  でコンパイル。
   GSLで計算された連想行列の要素の値は非常に大きくなることがあるので、
    if(net->cell[i].S>1e5) net->cell[i].S=1e5;//???for infinite err of GSL //040211
    を入れた。


040208e
(1) ARMA モデルを導入(まだIJCNN04にのみ有効)。
Goodd Params for Block#4
3                #0:time series,1:funciton approximation,<3:ijcnn04>
350 1		 #k1,k2  n_channels= k1+ k2
./data.dat
2 961 980        #<test_block(0,1,2,3,4)>, t_t1,t_t2
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
100		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin vmin2               
2		#v_ratio
0.2 	        #width
ex		#execute 
1 0.05 0.90	#<0:online,1:batch>, <gamma0>, <entropy_thresh>
10		#iterations to execute    
10		#display

Goodd Params for Block#3
3                #0:time series,1:funciton approximation,<3:ijcnn04>
350 1		 #k1,k2  n_channels= k1+ k2
./data.dat
2 961 980        #<test_block(0,1,2,3,4)>, t_t1,t_t2
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
100		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin vmin2               
2		#v_ratio
0.2 	        #width
ex		#execute 
1 0.05 0.90	#<0:online,1:batch>, <gamma0>, <entropy_thresh>
10		#iterations to execute    
10		#display
>>10ssp2.6358e+03(1.159992e+00)10msp3.3599e+03(1.4787e+00)10train3.6408e-11(3.6408e-11)N100k351w0.2vm5:0

Goodd Params for Block#2
3                #0:time series,1:funciton approximation,<3:ijcnn04>
350 1		 #k1,k2  n_channels= k1+ k2
./data.dat
2 961 980        #<test_block(0,1,2,3,4)>, t_t1,t_t2
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
100		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin vmin2               
2		#v_ratio
0.2 	        #width
ex		#execute 
1 0.05 0.90	#<0:online,1:batch>, <gamma0>, <entropy_thresh>
10		#iterations to execute    
10		#display
>>5ssp5.9145e+02(2.564346e+00)1msp4.5657e+02(1.9795e+00)10train3.9911e-11(3.9911e-11)N100k351Goodd./can2

Params for Block#1
Goodd Params for Block#1
./can2
3                #0:time series,1:funciton approximation,<3:ijcnn04>
350 0		 #k1,k2  n_channels= k1+ k2
./data.dat
1 961 980        #<test_block(0,1,2,3,4)>, t_t1,t_t2
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
100		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin vmin2               
2		#v_ratio
0.2 	        #width
ex		#execute 
1 0.05 0.90	#<0:online,1:batch>, <gamma0>, <entropy_thresh>
10		#iterations to execute    
10		#display
MSE>  4ssp2.99e+02(1.24e+00)msp3.13e+02(1.30e+00)MSEtr2.22e-10N100k350+0w0.2vm5:0

Goodd Params for Block#0
./can2
3                #0:time series,1:funciton approximation,<3:ijcnn04>
350 1		 #k1,k2  n_channels= k1+ k2
./data/data.dat
0 961 980        #<test_block(0,1,2,3,4)>, t_t1,t_t2
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
100		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin vmin2               
2		#v_ratio
0.2 	        #width
ex		#execute 
1 0.05 0.95	#<0:online,1:batch>, <gamma0>, <entropy_thresh>
10		#iterations to execute    
10		#display
MSE>  1ssp2.17e+02(5.36e-01)msp5.09e+01(1.26e-01)MSEtr2.87e-09N100k350+1w0.2vm5:0

(1)
040207
(1) IJCNN04 用
./can2
simdata_func_ssp_set  <<-変更//kuro040207
simdata_error_ssp_set  <<-変更//kuro040207
./can2
3                #0:time series,1:funciton approximation,3:ijcnn04
300 		 #channels
./data/data.dat
0 961 1000        #<test_block(0,1,2,3,4)>, <t_t1>,<t_t2>
0 0 0 0
in               #
90		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin vmin2               
2		#v_ratio
0.2		#width
ex		#execute 
1 0.05 0.95	#<0:online,1:batch>, <gamma0>, entropy_thresh
10		#iterations to execute    
10		#display
MSE>  1ssp1.12e+02(2.75e-01)msp1.13e+02(2.78e-01)MSEtr4.58e-15N90k300w0.2vm5:0
MSE> 10ssp7.09e+01(1.75e-01)msp7.47e+01(1.84e-01)MSEtr4.24e-17N90k300w0.2vm5:0→best_b0.net

MSE>  3ssp1.58e+02(6.59e-01)msp1.64e+02(6.81e-01)MSEtr3.69e-16N90k350w0.2vm5:0→best_b1.net
MSE>  2ssp1.84e+02(7.65e-01)msp1.90e+02(7.92e-01)MSEtr1.03e-15N90k330w0.2vm5:0
./can2
3                #0:time series,1:funciton approximation,3:ijcnn04
300 		 #channels
./data/data.dat
0                #test_block 0,1,2,3,4
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
90		 #n_cells storing vectors          
6		#n_compare                
0.2 5 0		#v_thresh vmin                
2		#v_ratio
0.2 0.05	#width, gamma0
ex		#execute 
1 0.05 0.95	#<0:online,1:batch>, <gamma0>, entropy_thresh
50		#iterations to execute    
50		#display

MSE>12ssp7.87e+01(1.94e-01)msp7.68e+01(1.89e-01)MSEtr4.35e-11N90k300w0.2vm5:0
MSE>7ssp7.87e+01(1.94e-01)msp7.69e+01(1.90e-01)MSEtr1.12e-10N100k300w0.2vm5:0
MSE>4ssp7.38e+01(1.82e-01)msp7.68e+01(1.89e-01)MSEtr4.45e-10N80k300w0.2vm5:0
MSE>5ssp9.04e+01(2.23e-01)msp1.12e+02(2.76e-01)MSEtr2.81e-10N80k300w0.2vm5:0
MSE>4ssp7.87e+01(1.94e-01)msp7.69e+01(1.90e-01)MSEtr3.25e-10N100k300w0.2vm5:0
MSE>6ssp1.60e+02(3.94e-01)msp1.60e+02(3.95e-01)MSEtr8.05e-11N300k300w0.2vm5:0  N
MSE>3ssp1.60e+02(3.94e-01)msp1.60e+02(3.95e-01)MSEtr2.49e-10N500k300w0.2vm5:0
MSE>3ssp1.60e+02(3.94e-01)msp1.60e+02(3.95e-01)MSEtr2.79e-10N400k300w0.2vm5:0
./can2
3                #0:time series,1:funciton approximation,3:ijcnn04
300 		 #channels
./data/data.dat
0                #test_block 0,1,2,3,4
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
500		 #n_cells storing vectors          
4		#n_compare                
0.2 4 0		#v_thresh vmin                
5		#v_ratio
0.2 0.05	#width, gamma0
ex		#execute 
1 0.01 0.5	#<0:online,1:batch>, <gamma0>, entropy_thresh
50		#iterations to execute    
50		#display
ssp0            #check the training ability
MSE> 20ssp1.63e+02(4.03e-01)msp1.73e+02(4.26e-01)MSEtr5.23e-12N500k300w0.2vm4:0
040206
(1)
ex のときgamma0,entropy_threshを読み込むようにした。次のようにする
---
ex		#execute 
1 0.05 0.4	#<0:online,1:batch>, <gamma0>, entropy_thresh
50		#iterations to execute    
50		#frequency of display 
---

(1)
simdata.c
simdata.h
wrapplot/plot.c

040204
(1) gamma0を読み込むようにした。
--from here 040203vt0.2_.log 
  net->gamma0         =0.05;
  vt=0.2   //see bench2b.sh
  Entro[c_times] =(1.-net->nentropy)*(MSEtrain[c_times]-net->sigma2_hat);
03train5e4 100MSE1.885e-06NMSE01.91e-04MSEtr3.14e-05>>10ssp1.3742e-06H6.191114e-07>>3ssp1.4036e-06H6.135318e-07N500k2w0.1vm3:0 14m4.400s
11train5e4 100MSE3.716e-06NMSE04.54e-05MSEtr3.25e-05>>36ssp3.3407e-06H7.102311e-07>>43ssp3.4344e-06H6.253926e-07N500k2w0.1vm3:0 14m18.990s
07train5e4 100MSE4.130e-06NMSE03.38e-05MSEtr3.43e-05>>92ssp4.0859e-06H6.837418e-07>>79ssp4.3245e-06H6.414648e-07N500k2w0.1vm3:0 13m23.290s
02train5e4 100MSE1.602e-02NMSE06.43e-02MSEtr3.83e-03>>75ssp1.3710e-02H2.099179e-03>>60ssp1.7213e-02H1.855987e-03N500k2w0.1vm3:0

03train5e4 100MSE2.437e-06NMSE02.47e-04MSEtr3.49e-05>>95ssp2.4156e-06H1.930361e-06>>84ssp2.5536e-06H1.749298e-06N100k2w0.1vm3:0
11train5e4 100MSE3.391e-05NMSE04.14e-04MSEtr6.37e-05>>96ssp3.3782e-05H6.170366e-06>>83ssp3.5414e-05H5.967447e-06N100k2w0.1vm3:0
07train5e4 100MSE2.784e-05NMSE02.28e-04MSEtr6.15e-05>>96ssp2.5735e-05H8.469813e-06>>93ssp2.6727e-05H8.341542e-06N100k2w0.1vm3:0
02train5e4 100MSE1.603e-02NMSE06.43e-02MSEtr8.23e-03>>72ssp1.2218e-02H5.719671e-03>>7ssp1.7421e-02H4.741870e-03N100k2w0.1vm3:0
--to here 040203vt0.2_.log 
040203
(1) store_vector_batch を以下のように変更し、my_plinn.cとsim.cを変更た。
      calc_Voronoi(net,x_train,y_train, n_train);
      modify_M_batch(net, x_train, y_train);
      net->ret1=calc_alpha(net, x_train, y_train,n_train);
    までがフェーズ0、
      ret2=reinit_cell_batch(net, x_train, y_train,n_train) ;
      modify_w_batch(net, x_train, y_train, n_train);
    までをフェーズ1とし、MSEの計算はフェーズ1が終わった後行う。
(2) Entroからnet->sigma2_hatを引いたバージョンを付加。

040202
(1)時刻GlobalTimeにおいてnet->nentropyとnet->Sは荷重変更前のもの、
   MSEは荷重変更後のものである。
   訓練誤差MSEtrain[c_times]と予測誤差MSEssp[c_times]を同じ荷重に対す
   るようにするため  sim.c で変更した。
    MSEtrain[c_times-1] = net->S[GlobalTime]/givendata->n_train;//Sは学習前のもの
    Entro[c_times-1] =(1.-net->nentropy)*MSEtrain[c_times-1];//nentropyは学習前のもの
   とした。
   ここでEntro[]は 訓練誤差 MSEtrain[t]が小さく、かつエントロピーが大
   きい時刻を求める→汎化誤差が小さい時刻を見つけることができた?
   →以下の結果のうち一番右の>>の後ろがMSEとそのときのH (= min Entro[t])

--from here 040202vt0.2.log 
  net->gamma0 =LA(net->n_cells,0.24,100,0.11,500); //see my_plinn.c 
  vt=0.2   //see bench2b.sh
03train5e4 100MSE1.820e-06NMSE01.84e-04MSEtr_3.16e-05>>17ssp1.3744e-06H6.375255e-07>>21ssp1.5999e-06H5.198208e-07N500k2w0.1vm3:0 12m37.380s
11train5e4 100MSE3.265e-06NMSE03.99e-05MSEtr_3.25e-05>>70ssp3.0292e-06H6.300738e-07>>90ssp3.1611e-06H5.594500e-07N500k2w0.1vm3:0 12m24.900s
07train5e4 100MSE5.139e-06NMSE04.20e-05MSEtr_3.44e-05>>58ssp4.3450e-06H6.388476e-07>>67ssp4.6355e-06H6.126711e-07N500k2w0.1vm3:0 11m41.350s
02train5e4 100MSE1.405e-02NMSE05.64e-02MSEtr_3.66e-03>>41ssp1.3357e-02H2.885501e-03>>77ssp1.4618e-02H1.850593e-03N500k2w0.1vm3:0 8m48.750s

03train5e4 100MSE1.822e-06NMSE01.84e-04MSEtr_3.42e-05>>87ssp1.7121e-06H1.242313e-06>>49ssp2.3326e-06H1.041464e-06N100k2w0.1vm3:0 2m44.000s
11train5e4 100MSE2.714e-05NMSE03.31e-04MSEtr_5.63e-05>>94ssp2.6545e-05H4.204073e-06>>92ssp2.7240e-05H4.148212e-06N100k2w0.1vm3:0 2m45.790s
07train5e4 100MSE5.445e-05NMSE04.45e-04MSEtr_8.20e-05>>90ssp2.7381e-05H9.609455e-06>>88ssp2.7723e-05H8.705538e-06N100k2w0.1vm3:0 2m5.880s
02train5e4 100MSE1.387e-02NMSE05.57e-02MSEtr_6.95e-03>>87ssp1.2807e-02H6.888662e-03>>97ssp1.3793e-02H3.631797e-03N100k2w0.1vm3:0 2m3.200s
--to here 040202vt0.2.log 

--from here 040202vt0.2_.log 
  net->gamma0         =2.6*pow(net->n_cells,-1./net->k); //see my_plinn.c
  vt=0.2   //see bench2b.sh
03train5e4 100MSE1.767e-06NMSE01.79e-04MSEtr_3.16e-05>>29ssp1.4300e-06H8.492398e-07>>47ssp1.6049e-06H5.939343e-07N500k2w0.1vm3:0 12m37.500s
11train5e4 100MSE3.028e-06NMSE03.70e-05MSEtr_3.23e-05>>55ssp2.9516e-06H7.103144e-07>>40ssp3.2476e-06H6.445074e-07N500k2w0.1vm3:0 12m48.270s
07train5e4 100MSE5.684e-06NMSE04.65e-05MSEtr_3.44e-05>>99ssp4.7698e-06H7.006412e-07>>60ssp5.4639e-06H5.706458e-07N500k2w0.1vm3:0 11m57.010s
02train5e4 100MSE1.699e-02NMSE06.82e-02MSEtr_3.48e-03>>58ssp1.3245e-02H2.359568e-03>>98ssp1.5514e-02H1.813462e-03N500k2w0.1vm3:0 9m35.590s

03train5e4 100MSE1.749e-05NMSE01.77e-03MSEtr_3.61e-05>>97ssp1.9896e-06H2.247844e-06>>90ssp2.2017e-06H1.687172e-06N100k2w0.1vm3:0 2m42.230s
11train5e4 100MSE2.796e-05NMSE03.41e-04MSEtr_5.65e-05>>99ssp2.6584e-05H3.751248e-06>>93ssp2.7055e-05H3.742487e-06N100k2w0.1vm3:0 2m48.090s
07train5e4 100MSE4.191e-05NMSE03.43e-04MSEtr_6.54e-05>>65ssp3.1050e-05H1.949707e-05>>85ssp3.9374e-05H9.151384e-06N100k2w0.1vm3:0 2m8.660s
02train5e4 100MSE1.564e-02NMSE06.28e-02MSEtr_7.41e-03>>75ssp1.3060e-02H5.204641e-03>>70ssp1.5565e-02H4.009494e-03N100k2w0.1vm3:0 2m1.140s
--to here 040202vt0.2_.log 

--from here 040202vt0.3.log 
  net->gamma0 =LA(net->n_cells,0.24,100,0.11,500); //see my_plinn.c 
  vt=0.3   //see bench2b.sh
03train5e4 100MSE1.820e-06NMSE01.84e-04MSEtr_3.16e-05>>17ssp1.3744e-06H6.803907e-07>>19ssp1.4441e-06H5.121504e-07N500k2w0.1vm3:0 12m47.160s
11train5e4 100MSE3.460e-06NMSE04.22e-05MSEtr_3.26e-05>>39ssp3.2742e-06H6.792700e-07>>31ssp3.5550e-06H6.140722e-07N500k2w0.1vm3:0 13m28.770s
07train5e4 100MSE5.118e-06NMSE04.19e-05MSEtr_3.56e-05>>83ssp4.5473e-06H6.192619e-07>>57ssp5.3445e-06H5.701437e-07N500k2w0.1vm3:0 12m20.280s
02train5e4 100MSE1.451e-02NMSE05.82e-02MSEtr_3.09e-03>>80ssp1.2607e-02H2.898277e-03>>47ssp1.7638e-02H2.520602e-04N500k2w0.1vm3:0  9m0.510s

03train5e4 100MSE1.724e-06NMSE01.74e-04MSEtr_3.43e-05>> 98ssp1.6749e-06H1.992528e-06>>94ssp1.7750e-06H1.726923e-06N100k2w0.1vm3:0 2m45.280s
11train5e4 100MSE2.580e-05NMSE03.15e-04MSEtr_5.92e-05>>100ssp2.5804e-05H4.231513e-06>>93ssp2.8489e-05H3.801207e-06N100k2w0.1vm3:0 2m48.790s
07train5e4 100MSE2.768e-05NMSE02.26e-04MSEtr_5.74e-05>> 88ssp1.9557e-05H5.966399e-06>>85ssp1.9756e-05H4.750332e-06N100k2w0.1vm3:0 2m13.220s
02train5e4 100MSE1.736e-02NMSE06.97e-02MSEtr_8.13e-03>> 96ssp1.4819e-02H9.094911e-03>>89ssp1.7716e-02H4.244457e-03N100k2w0.1vm3:0 2m4.780s
--to here 040201vt0.3.log 
--from here 040202vt0.3_.log 
  net->gamma0         =2.7*pow(net->n_cells,-1./net->k); //see my_plinn.c
  vt=0.3   //see bench2b.sh
03train5e4 100MSE1.730e-06NMSE01.75e-04MSEtr_3.16e-05>>34ssp1.4111e-06H7.088306e-07>>22ssp1.4973e-06H5.356269e-07N500k2w0.1vm3:0 12m32.490s
11train5e4 100MSE3.230e-06NMSE03.94e-05MSEtr_3.24e-05>>82ssp3.0616e-06H6.448023e-07>>45ssp3.1794e-06H5.249424e-07N500k2w0.1vm3:0 12m14.520s
07train5e4 100MSE4.645e-06NMSE03.80e-05MSEtr_3.39e-05>>94ssp4.4264e-06H8.591442e-07>>39ssp9.3832e-06H5.205725e-07N500k2w0.1vm3:0 11m51.620s
02train5e4 100MSE1.811e-02NMSE07.27e-02MSEtr_4.01e-03>>25ssp1.4042e-02H3.207108e-03>>88ssp1.6589e-02H1.062542e-04N500k2w0.1vm3:0  8m30.860s

03train5e4 100MSE2.146e-06NMSE02.17e-04MSEtr_3.49e-05>>96ssp1.9741e-06H2.374129e-06>>83ssp2.3518e-06H2.213097e-06N100k2w0.1vm3:0 2m38.960s
11train5e4 100MSE2.611e-05NMSE03.19e-04MSEtr_5.58e-05>>99ssp2.6044e-05H3.633253e-06>>72ssp2.7572e-05H3.306237e-06N100k2w0.1vm3:0 2m47.210s
07train5e4 100MSE2.654e-05NMSE02.17e-04MSEtr_5.77e-05>>94ssp1.9815e-05H9.453194e-06>>95ssp2.2158e-05H6.557589e-06N100k2w0.1vm3:0 2m14.100s
02train5e4 100MSE1.948e-02NMSE07.82e-02MSEtr_1.08e-02>>83ssp1.5702e-02H9.516260e-03>>81ssp1.5786e-02H2.370611e-03N100k2w0.1vm3:0 2m6.780s
--to here 040201vt0.3_.log 



040201
(1) 学習パラメタはユニット数に依存すべきとの考えからmy_plinn.cに以下の変数を導入。
 net->nentropy_thresh =LA(net->n_cells,0.80,100,0.95,500);//adhoc?
       //ユニット数 n_cells が大きいと大きなエントロピーを実現できる?
 net->N_reinit_max    =LA(net->n_cells,0.10,100,0.30,500)*net->n_cells;//adhoc?
 net->gamma0=LA(net->n_cells,0.24,100,0.11,500);
	// net->gamma0         =2.5*pow(net->n_cells,-1./net->k); 
       //ボロノイ領域の半径pow(net->n_cells,-1./net->k)に比例させる
 net->Tgamma          =5;//adhoc?
ただしLA()は線形近似関数：#define LA(x,y1,x1,y2,x2) ((y1)+((x)-(x1))*((y2)-(y1))/((x2)-(x1)))
(2) 再初期化ユニットの重みを
   net->cell[rho_i].w[k]+1.9*(x[xi_j][k]-net->cell[rho_i].w[k]);//good
   とした(以前は1.5)。

→(1) ◯ 学習誤差 MSEtr はbatchと online共に訓練回数に伴いほぼ単調に減
少。MSEtrの最小値はbatchの方が小さい。
→(2) ◯ 汎化誤差 MSE   はbatchとonline共に一旦下がって最小になりその
後徐々に上がる。MSEの最小値もbatchの方が小さい。
→(3) ◯ batch の方が onlineより速い(10倍(N500), 4倍(N100)；誤差計算表
示ルーティンを含む)
→(4) × bestな汎化誤差 MSEが達成される時刻は MSEtrをみただけでは分ら
ない。→今後の課題?→エントロピーは何かの目安にならないか?

--from here 040201.log net->gamma0=LA(net->n_cells,0.24,100,0.11,500);
03train5e4 50MSE1.543e-06NMSE01.56e-04MSEtr3.19e-05 100MSE1.768e-06NMSE01.79e-04MSEtr3.16e-05>35ssp1.3908e-06(3.2210e-05)N500k2w0.1vm3:0 14m8.530s
11train5e4 50MSE3.329e-06NMSE04.06e-05MSEtr3.31e-05 100MSE3.645e-06NMSE04.45e-05MSEtr3.25e-05>55ssp3.1364e-06(3.2938e-05)N500k2w0.1vm3:0 13m51.800s
07train5e4 50MSE5.743e-06NMSE04.70e-05MSEtr3.44e-05 100MSE3.748e-06NMSE03.06e-05MSEtr3.36e-05>96ssp3.6555e-06(3.3792e-05)N500k2w0.1vm3:0 14m8.990s
02train5e4 50MSE1.451e-02NMSE05.82e-02MSEtr2.79e-03 100MSE1.912e-02NMSE07.68e-02MSEtr1.88e-03>20ssp1.3121e-02(4.0101e-03)N500k2w0.1vm3:0 14m29.700s
						   
03train5e4 50MSE2.107e-06NMSE02.13e-04MSEtr3.47e-05 100MSE1.744e-06NMSE01.76e-04MSEtr3.40e-05> 93ssp1.5214e-06(3.4140e-05)N100k2w0.1vm3:0 2m54.390s
11train5e4 50MSE2.880e-05NMSE03.52e-04MSEtr5.99e-05 100MSE2.683e-05NMSE03.28e-04MSEtr5.47e-05>100ssp2.6833e-05(5.4715e-05)N100k2w0.1vm3:0 2m54.530s
07train5e4 50MSE6.712e-05NMSE05.49e-04MSEtr9.80e-05 100MSE2.574e-05NMSE02.10e-04MSEtr5.53e-05> 97ssp2.3648e-05(5.6810e-05)N100k2w0.1vm3:0 2m44.980s
02train5e4 50MSE1.703e-02NMSE06.84e-02MSEtr1.09e-02 100MSE2.047e-02NMSE08.22e-02MSEtr1.05e-02> 27ssp1.6019e-02(1.2973e-02)N100k2w0.1vm3:0 2m35.830s
---to here 040201.log
--- from here (in 040130.log) ---
online 
03train5e4 50MSE1.612e-06NMSE01.63e-04MSEtr3.25e-05 100MSE1.626e-06NMSE01.65e-04MSEtr3.24e-05> 2ssp1.5544e-06(3.2582e-05)N500k2w0.1vm3:0 user57m23.130s
11train5e4 50MSE4.596e-06NMSE05.61e-05MSEtr3.53e-05 100MSE4.472e-06NMSE05.46e-05MSEtr3.51e-05>86ssp4.4580e-06(3.5144e-05)N500k2w0.1vm3:0 user56m22.250s
07train5e4 50MSE1.250e-05NMSE01.02e-04MSEtr4.42e-05 100MSE1.635e-05NMSE01.34e-04MSEtr4.30e-05>56ssp1.2118e-05(4.3898e-05)N500k2w0.1vm3:0 user56m34.460s
02train5e4 50MSE1.712e-02NMSE06.87e-02MSEtr7.66e-03 100MSE1.910e-02NMSE07.67e-02MSEtr6.98e-03> 9ssp1.2564e-02(8.3905e-03)N500k2w0.1vm3:0 user56m12.360s

03train5e4 50MSE7.153e-06NMSE07.24e-04MSEtr3.92e-05 100MSE5.771e-06NMSE05.84e-04MSEtr3.82e-05>100ssp5.7709e-06(3.8202e-05)N100k2w0.1vm3:0user11m47.560s
11train5e4 50MSE5.231e-05NMSE06.39e-04MSEtr8.02e-05 100MSE4.714e-05NMSE05.75e-04MSEtr7.51e-05>100ssp4.7139e-05(7.5101e-05)N100k2w0.1vm3:0 user11m47.620s
07train5e4 50MSE3.657e-05NMSE02.99e-04MSEtr7.26e-05 100MSE3.378e-05NMSE02.76e-04MSEtr6.64e-05> 96ssp3.2184e-05(6.5579e-05)N100k2w0.1vm3:0 user11m47.760s
02train5e4 50MSE2.719e-02NMSE01.09e-01MSEtr1.75e-02 100MSE2.206e-02NMSE08.86e-02MSEtr1.87e-02> 21ssp1.7484e-02(1.8882e-02)N100k2w0.1vm3:0 user11m47.480s
--- to here (in 040130.log) ---
03train5e4  50MSE7.153e-06NMSE07.24e-04MSEtr3.92e-05N100k2w0.1vm3:0 100MSE5.771e-06NMSE05.84e-04MSEtr3.82e-05
11train5e4  50MSE012 5.231e-05 1.66e-05 5.09e-05NMSE06.39e-04MSEtr8.02e-05N100k2w0.1vm3:0 100MSE012 4.714e-05 115m15.245s  
07train5e4 100MSE012 3.378e-05 1.93e-04 1.61e-06NMSE02.76e-04MSEtr6.64e-05N100k2w0.1vm3:0 
02train5e4  50MSE012 2.719e-02 5.63e-02 6.40e-02NMSE01.09e-01MSEtr1.75e-02N100k2w0.1vm3:0 100MSE012 2.206e-02    
         can2online SVR         can2onlin  can2batch  
データ数 5e4        5e4         5e7        5e4        
N        500                    500        500
学習回数 5e5        max1e6		   50(*5e4)   
         				   w=0.1      
f03      1.830e-06  6.19287e-06 0.00000041 1.543e-06
f11      3.865e-06  1.113e-05   0.00000188 3.329e-06
f07      3.134e-05  1.92884e-05 0.00000529 5.743e-06
f02      1.665e-02  0.0149962   0.01811174 1.451e-02

         can2online SVR         can2onlin  can2batch  
データ数 5e4        5e4         5e7        5e4        
N        100                    500        500
学習回数 10(*5e4)   max1e6		   50(*5e4)   
f03      7.153e-06
f11      
f07      
f02      


03train5e4 50MSE012 2.392e-06 3.70e-06 3.35e-06NMSE02.42e-04MSEtr3.47e-05N100k2w0.1vm3:0 100MSE012 1.934e-06
11train5e4 50MSE012 3.191e-05 2.59e-05 3.00e-05NMSE03.90e-04MSEtr6.35e-05N100k2w0.1vm3:0 100MSE012 3.015e-05

03train5e4 50MSE012 1.944e-06 1.96e-06 2.46e-06NMSE01.97e-04MSEtr3.44e-05N100k2w0.1vm3:0
11train5e4 50MSE012 3.356e-05 3.36e-05 3.22e-05NMSE04.10e-04MSEtr6.22e-05N100k2w0.1vm3:0100MSE012 3.059e-05
07train5e4 50MSE012 3.029e-05 1.70e-04 3.00e-06NMSE02.48e-04MSEtr6.53e-05N100k2w0.1vm3:0100MSE012 2.547e-05
02train5e4 50MSE012 2.294e-02 4.17e-02 4.47e-02NMSE09.21e-02MSEtr1.22e-02N100k2w0.1vm3:0100MSE012 2.505e-02


reinit 1.9*, alpha=0.10 のとき

03train5e4 50MSE012 1.543e-06 1.36e-06 1.81e-06NMSE01.56e-04MSEtr3.19e-05N500k2w0.1vm3:0>35ssp1.3908e-06
11train5e4 50MSE012 3.329e-06 2.41e-06 3.15e-06NMSE04.06e-05MSEtr3.31e-05N500k2w0.1vm3:0>49ssp3.1653e-06
02train5e4 50MSE012 1.451e-02 3.66e-02 3.85e-02NMSE05.82e-02MSEtr2.79e-03N500k2w0.1vm3:0>20ssp1.3121e-02

reinit 1.9*, alpha=0.10 のとき
03train5e4 50MSE012 1.859e-06 1.86e-06 2.72e-06NMSE01.88e-04MSEtr3.46e-05N100k2w0.1vm3:0>50ssp1.8587e-06
11train5e4 
07train5e4 
02train5e4 

03train5e4 alpha=0.20 50MSE012 1.419e-06 1.32e-06 1.84e-06NMSE01.44e-04MSEtr3.24e-05N500k2w0.1vm3:0>38ssp1.3481e-06
11train5e4 alpha=0.20 50MSE012 3.586e-06 2.69e-06 3.43e-06NMSE04.38e-05MSEtr3.33e-05N500k2w0.1vm3:0>49ssp3.2338e-06
07train5e4 alpha=0.20 50MSE012 1.102e-05 6.56e-05 3.57e-06NMSE09.01e-05MSEtr3.67e-05N500k2w0.1vm3:0>49ssp6.6985e-06
02train5e4 alpha=0.20 50MSE012 1.654e-02 3.96e-02 4.84e-02NMSE06.64e-02MSEtr2.72e-03N500k2w0.1vm3:0>42ssp1.3243e-02


03train5e4 alpha=0.10 50MSE012 1.543e-06 1.36e-06 1.81e-06NMSE01.56e-04MSEtr3.19e-05N500k2w0.1vm3:0>24ssp3.2687e-06
03train5e4 alpha=0.05 50MSE012 1.749e-06 1.53e-06 2.12e-06NMSE01.77e-04MSEtr3.16e-05N500k2w0.1vm3:0>12ssp1.3338e-06
03train5e4 alpha=0.01 50MSE012 1.782e-06 1.86e-06 2.11e-06NMSE01.80e-04MSEtr3.18e-05N500k2w0.1vm3:0>1ssp1.5762e-06
→ 
reinit 1.5* のとき
03train5e4  50MSE012 1.749e-06 1.53e-06 2.12e-06NMSE01.77e-04MSEtr3.16e-05N500k2w0.1vm3:0
11train5e4  50MSE012 3.376e-06 2.56e-06 4.15e-06NMSE04.12e-05MSEtr3.30e-05N500k2w0.1vm3:0
07train5e4  50MSE012 8.234e-06 3.33e-05 2.47e-06NMSE06.73e-05MSEtr3.69e-05N500k2w0.1vm3:0
02train5e4  50MSE012 1.642e-02 5.41e-02 4.32e-02NMSE06.59e-02MSEtr2.37e-03N500k2w0.1vm3:0

03train5e4 100MSE012 1.962e-06 1.70e-06 2.27e-06NMSE01.98e-04MSEtr3.15e-05N500k2w0.1vm3:0
11train5e4 100MSE012 3.374e-06 2.80e-06 3.76e-06NMSE04.12e-05MSEtr3.26e-05N500k2w0.1vm3:0
07train5e4 100MSE012 5.308e-06 2.15e-05 1.75e-06NMSE04.34e-05MSEtr3.49e-05N500k2w0.1vm3:0
02train5e4 100MSE012 1.797e-02 5.82e-02 6.10e-02NMSE07.21e-02MSEtr1.78e-03N500k2w0.1vm3:0


03train5e4 100MSE012 2.185e-06 2.91e-06 2.09e-06NMSE02.21e-04MSEtr3.47e-05N100k2w0.1vm3:0
11train5e4 100MSE012 2.731e-05 1.91e-05 2.30e-05NMSE03.33e-04MSEtr5.76e-05N100k2w0.1vm3:0
07train5e4 100MSE012 2.892e-05 9.69e-05 3.49e-06NMSE02.37e-04MSEtr6.92e-05N100k2w0.1vm3:0
02train5e4 100MSE012 1.814e-02 3.42e-02 4.82e-02NMSE07.28e-02MSEtr1.11e-02N100k2w0.1vm3:0

03train5e4  50MSE012 2.212e-06 2.85e-06 3.10e-06NMSE02.24e-04MSEtr3.45e-05N100k2w0.1vm3:0

07train online 3.38e-5
alpha=0.15 net->n_cells*0.10
→100MSE012 2.892e-05 9.69e-05 3.49e-06NMSE02.37e-04MSEtr6.92e-05N100k2w0.1vm3:0
alpha=0.10 100MSE012 9.139e-05 5.39e-04 2.28e-05NMSE07.47e-04MSEtr1.38e-04N100k2w0.1vm3:0
alpha=0.15 *0.06 100MSE012 4.298e-05 2.30e-04 3.60e-05NMSE03.51e-04MSEtr7.29e-05N100k2w0.1vm3:0
0.05nentropy→100MSE012 5.570e-05 2.65e-04 2.09e-05NMSE04.56e-04MSEtr1.34e-04N100k2w0.1vm3:0


07train batch →100MSE012 3.415e-05 2.15e-04 5.18e-06NMSE02.79e-04MSEtr6.60e-05N100k2w0.1vm3:0

02train batch0.06→100MSE012 1.822e-02 5.46e-02 4.27e-02NMSE07.31e-02MSEtr2.60e-03N500k2w0.1vm3:0
02train ??       →100MSE012 1.723e-02 6.38e-02 3.60e-02NMSE06.92e-02MSEtr1.80e-03N500k2w0.1vm3:0

040128  r=0.20 C=1000 e=0.001
           MSE test     MSE train     M    time
07train5e4 2.40751e-05  5.4908614e-05 9218 410m28.628s***Noconvergence

040127
(1) ユニット数により 再初期化の基準を変える nentropy_thresh を導入した。
040126
(1)sim.cの表示ルーチンを簡素化した?

//online check
can2
1                #0:timeseries,1:chaos prepare_data() in my_function.c
10 		 #channels
./data/train10+10+20.dat     #training file
./data/test10+10+20.dat         #prediction file
-410 640 0 1       #y0min y0max y1min y1max for normalization
-410 640 0 1       #x0min x0max x1min x1max for normalization
0 0              # r1 r2
in               #
200		 #n_cells storing vectors          
20		#n_compare                
0.3 4 -1		#v_thresh vmin                
10		#v_ratio
0.8 0.01	#width, gamma0
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#0:online, 1:batch  
50		#iterations to execute    
50		#display

can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
6 3 0                   #v_thresh vmin vmin2
5                       #v_ratio
0.1                       #width   #window width
ex                        #execute learning, test and prediction
0			  #0:online,1:batch
500000                       #i_times # iterations to execute
100                       #d_times #display
07train5e4 500000MSE012 2.265e-05 1.33e-04 1.87e-05NMSE01.85e-04MSEtr5.35e-05N500k2w0.1vm3:0
02train5e4 500000MSE012 1.641e-02 4.70e-02 3.92e-02NMSE06.59e-02MSEtr7.80e-03N500k2w0.1vm3:0



040123
(1) sigma2hatの計算が間違っていたので訂正した。
(2) 正規化エントロピーnentropyの計算をして、再初期化のための閾値とした。
    nentropy=0.95が良いようだ。
    →まず再初期化により歪を均一化し、次に勾配法で微調整するという具合になる。
040122
(1)3つの分布のMSEの計算を入れた。
(2)訓練データのMSE(MSEtrまたはMSEtrain)を表示するようにした。
07train5e4 では未知のテストデータに対するMSEがMSEtrainより小さくなるが、
これは
・CAN2は雑音を除いた入出力関数fを学習により形成するするものであること、
・MSEtrainは雑音を含む訓練データに対するMSEであること、
・テストデータは雑音を含まないこと
から理解できる(?)。例えばCAN2が完全に関数を学習できたとすると
テストデータに対するMSEは0、訓練データに対するMSEは実際の誤差の分だけ
あるということである。
なお、雑音は-0.01〜-0.0-1の一様乱数でその MSEは3.334155e-05
であった。
can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 3 0                   #v_thresh vmin vmin2
5                       #v_ratio
0.1                       #width   #window width
ex                        #execute learning, test and prediction
1			  #0:online,1:batch
50                       #i_times # iterations to execute
50                       #d_times #display

02train5e4  50MSE012 1.46e-02 3.49e-02 3.36e-02NMSE05.86e-02MSEtr2.50e-03N500k2w0.1vm3:0
02train5e4 100MSE012 1.64e-02 4.35e-02 2.88e-02NMSE06.60e-02MSEtr2.01e-03N500k2w0.1vm3:0

07train5e4 100MSE012 6.25e-06 2.82e-05 1.19e-06NMSE05.11e-05MSEtr3.47e-05N500k2w0.1vm3:0
07train5e4  50MSE012 6.79e-06 2.99e-05 1.68e-06NMSE05.55e-05MSEtr3.63e-05N500k2w0.1vm3:0

03train5e4  50MSE012 1.73e-06 1.42e-06 2.01e-06NMSE01.75e-04MSEtr3.16e-05N500k2w0.1vm3:0
11train5e4  50MSE012 3.62e-06 2.98e-06 3.83e-06NMSE04.42e-05MSEtr3.29e-05N500k2w0.1vm3:0
07train5e4  50MSE012 5.65e-06 2.48e-05 1.53e-06NMSE04.62e-05MSEtr3.55e-05N500k2w0.1vm3:0
02train5e4  50MSE012 1.53e-02 3.95e-02 3.32e-02NMSE06.12e-02MSEtr2.41e-03N500k2w0.1vm3:0
02train5e4  50MSE012 1.49e-02 5.08e-02 3.00e-02NMSE05.97e-02MSEtr5.64e-03N500k2w0.8vm3:0

07train5e4 100MSE012 4.52e-06 2.00e-05 1.32e-06 NMSE03.70e-05MSEtr3.43e-05N500k2w0.1vm3:0
11train5e4 100MSE012 3.82e-06 2.97e-06 4.17e-06NMSE04.66e-05MSEtr3.27e-05N500k2w0.1vm3:0
雑音のMSE=3.334155e-05
         can2online SVR         can2onlin  can2batch  
データ数 5e4        5e4         5e7        5e4        
学習回数 5e5        max1e6		   50(*5e4)   
         				   w=0.1      
f03      1.830e-06  6.19287e-06 0.00000041 1.7736e-06   
f11      3.865e-06  1.113e-05   0.00000188 3.7047e-06 	
f07      3.134e-05  1.92884e-05 0.00000529 8.0602e-06 		
f02      1.665e-02  0.0149962   0.01811174 1.4668e-02 
02train5e4    50MSE012 1.46e-02 3.49e-02 3.36e-02NMSE05.86e-02MSEtr2.50e-03N500k2w0.1vm3:0
07train5e4    50MSE012 6.79e-06 2.99e-05 1.68e-06NMSE05.55e-05MSEtr3.63e-05N500k2w0.1vm3:0
11train5e4    50MSE012 3.38e-06 2.56e-06 4.15e-06NMSE04.12e-05MSEtr3.30e-05N500k2w0.1vm3:0
03train5e4    50MSE012 1.75e-06 1.53e-06 2.12e-06NMSE01.77e-04MSEtr3.16e-05N500k2w0.1vm3:0

03train5e4    50MSE012 1.73e-06 1.42e-06 2.01e-06 NMSE01.75e-04MSEtr3.16e-05N500k2w0.1vm3:0
11train5e4    50MSE012 3.70e-06 2.69e-06 3.59e-06 NMSE04.52e-05MSEtr3.32e-05N500k2w0.1vm3:0
07train5e4    50MSE012 6.19e-06 2.11e-05 4.68e-06 NMSE05.06e-05MSEtr3.65e-05N500k2w0.1vm3:0
02train5e4    50MSE012 1.88e-02 5.91e-02 4.23e-02 NMSE07.56e-02MSEtr2.97e-03N500k2w0.1vm3:0

02train5e4    50MSE012 1.47e-02 2.56e-02 4.38e-02 NMSE05.89e-02MSEtr2.56e-03N500k2w0.1vm3:-1
02train5e4    50MSE012 1.75e-02 6.74e-02 3.55e-02 NMSE07.03e-02MSEtr3.25e-03N500k2w0.1vm3:1
雑音のMSE=3.334155e-05
         can2online SVR         can2onlin  can2batch  
データ数 5e4        5e4         5e7        5e4        
学習回数 5e5        max1e6		   50(*5e4)   
         				   w=0.1      
f03      1.830e-06  6.19287e-06 0.00000041 1.7736e-06   
f11      3.865e-06  1.113e-05   0.00000188 3.7047e-06 	
f07      3.134e-05  1.92884e-05 0.00000529 8.0602e-06 		
f02      1.665e-02  0.0149962   0.01811174 1.4668e-02 

07train5e4   100MSE012 4.95e-06 1.61e-05 2.17e-06 NMSE04.05e-05MSEtr3.53e-05N500k2w0.1vm3:0
07train5e4b1 100MSE012 3.21e-02 6.03e-06 1.37e-02 NMSE02.62e-01MSEtr3.55e-05N500k2w0.1vm3:0
07train5e4b2 100MSE012 1.25e-01 6.07e-02 7.88e-06 NMSE01.02e+00MSEtr3.21e-05N500k2w0.1vm3:0

07train5e4   50MSE012 8.06e-06 3.00e-05 4.94e-06 NMSE06.59e-05 MSETr0.00e+00N500k2w0.1vm3:-1
07train5e4b1 50MSE012 1.30e-02 7.93e-06 5.65e-03 NMSE01.07e-01 MSETr0.00e+00N500k2w0.1vm3:-1
07train5e4b2 50MSE012 1.41e-01 6.42e-02 5.50e-06 NMSE01.15e+00S1.62e+00N500k2w0.1vm3:-1

03train5e4   >50ssp1.77e-06(1.43e-06,2.11e-06);1.79e-04N500k2w0.1vm3:-1
03train5e4b1 >50ssp1.45e-04(1.17e-06,4.14e-05);1.47e-02N500k2w0.1vm3:-1
03train5e4b2 >50ssp5.14e-05(2.99e-05,1.10e-06);5.20e-03N500k2w0.1vm3:-1

07train5e4  >50ssp8.06e-06(3.00e-05,4.94e-06);6.59e-05N500k2w0.1vm3:-1
07train5e4b1>50ssp1.30e-02(7.93e-06,5.65e-03);1.07e-01N500k2w0.1vm3:-1
07train5e4b2>50ssp1.41e-01(6.42e-02,5.50e-06);1.15e+00N500k2w0.1vm3:-1
07train5e4b2>100ssp1.11e-02(6.17e-06,5.77e-04);9.04e-02N500k2w0.1vm3:-1



040120
(1) bench2b.shを実行
040119
(1) 有限個のデータを使うcan2onlineと比較した。
width=0.8のcan2batchの結果はf11に対して良くなかった。
width=0.1とするとcan2onlineより良い結果が得られ、最終時刻でもまあまあ
の結果となった。
can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/11train5e4.dat     #training file
./data/11test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 3 -1                   #v_thresh vmin vmin2
5                       #v_ratio
0.1                       #width   #window width
ex                        #execute learning, test and prediction
1			  #0:online,1:batch
50                       #i_times # iterations to execute
50                       #d_times #display

040119 f03 50ssp1.7736e-06>9ssp1.3566e-06(1.3728e-04)N500k2w0.1vm3:-1
040119 f11 50ssp3.7047e-06>32ssp3.5536e-06(4.3379e-05)N500k2w0.1vm3:-1
040119 f07 50ssp8.0602e-06>44ssp7.0511e-06(5.7659e-05)N500k2w0.1vm3:-1
040120 f07100ssp4.9526e-06>100ssp4.9526e-06(4.0499e-05)N500k2w0.1vm3:0
040119 f02 50ssp1.4668e-02>49ssp1.4405e-02(5.7825e-02)N500k2w0.1vm3:-1
040119 f02 50ssp1.5255e-02>36ssp1.4145e-02(5.6783e-02)N1000k2w0.1vm3:0
040119 f02 50ssp2.8856e-06>8ssp1.8416e-06(1.8636e-04)N1000k2w0.1vm3:0
040119 f11 100ssp3.8879e-06>32ssp3.5536e-06(4.3379e-05)N500k2w0.1vm3:-1
if(GlobalTime<ReinitTime+5) return(0);のとき
040120 f07 50ssp5.4152e-06>50ssp5.4152e-06(4.4281e-05)N500k2w0.1vm3:0  
040120 f03 50ssp1.7329e-06>9ssp1.3566e-06(1.3728e-04)N500k2w0.1vm3:0

         can2batch  can2online SVR         can2online
データ数 5e4        5e4        5e4         5e7        
学習回数 50(*5e4)   5e5        max1e6
         w=0.1
f03      1.7736e-06 1.830e-06  6.19287e-06 0.00000041   
f11      3.7047e-06 3.865e-06  1.113e-05   0.00000188 	
f07      8.0602e-06 3.134e-05  1.92884e-05 0.00000529 		
f02      1.4668e-02 1.665e-02  0.0149962   0.01811174 

vmin2=0としてみた(f02が不満足)
040119 f03 50ssp1.7329e-06>9ssp1.3566e-06(1.3728e-04)N500k2w0.1vm3:0
040119 f11 50ssp3.7047e-06>32ssp3.5536e-06(4.3379e-05)N500k2w0.1vm3:0
040119 f07 50ssp6.1905e-06>50ssp6.1905e-06(5.0621e-05)N500k2w0.1vm3:0
040119 f02 50ssp1.8839e-02>17ssp1.4795e-02(5.9392e-02)N500k2w0.1vm3:0?NG
040119 f02 50ssp1.7824e-02>35ssp1.3843e-02(5.5572e-02)N500k2w0.1vm3:1

width=0.2でもやってみた(f02の結果が不満足)
040119 f03 50ssp1.6149e-06>7ssp1.3624e-06(1.3786e-04)N500k2w0.2vm3:-1 
040119 f11 50ssp3.7849e-06>39ssp3.6869e-06(4.5006e-05)N500k2w0.2vm3:-1 
040119 f07 50ssp6.9569e-06>45ssp6.2591e-06(5.1182e-05)N500k2w0.2vm3:-1
040119 f02 50ssp1.8785e-02>10ssp1.4537e-02(5.8355e-02)N500k2w0.2vm3:-1
040119 f02 50ssp1.8600e-02>10ssp1.4537e-02(5.8355e-02)N500k2w0.2vm3:0
040119 f02 50ssp1.7421e-02>10ssp1.4537e-02(5.8355e-02)N500k2w0.2vm3:1
040119 f02 50ssp1.7292e-02>37ssp1.3831e-02(5.5524e-02)N500k2w0.2vm3:2
040119 f02 50ssp1.6784e-02>10ssp1.4537e-02(5.8355e-02)N500k2w0.2vm3:5

         can2batch  can2online SVR         can2online
データ数 5e4        5e4        5e4         5e7        
学習回数 100(*5e4)    5e5        max1e6
         w=0.8
         BestResult
03train  1.3808e-06 1.830e-06  6.19287e-06 0.00000041   
11train  4.4272e-06 3.865e-06  1.113e-05   0.00000188 	
07train  1.1927e-05 3.134e-05  1.92884e-05 0.00000529 		
02train  1.2426e-02 1.665e-02  0.0149962   0.01811174 


040116
(1)net_save()とnet_load()の整合性をとった。
  GlobalTimeをセーブするようにした。

040115
(1) GSL(正確な最小２乗解法)によるmodify_M_batch のルーチンの誤りを訂正し、実験した。
    コンパイル方法は
    make "GSL=1"
040109
(1) vがvmin2 以下のユニットは削除。vmin2=-1のとき何もしない。

040108
(1)my_plinn.cで 荷重ベクトルの更新式と学習係数を説明しやすいように
以下のように変更した。
http://terasu.cntl.kyutech.ac.jp/~kuro/sotu/2004/ueno/docs/03ieice_kuro.tex
を参照。
(1-1) my_plinn.cで 荷重ベクトルの更新式を以下のような感じで変えた。

 delta_wic = 0.0;
 for(j=0; j<n_channels; j++)
   delta_wic += 
      (FLOAT)square(x[j]-net->cell[si].w[j]);
 delta_wic = (FLOAT)sqrt(delta_wic/2);
                                //↑/2に注意
(1-2)my_plinn.cで学習係数を以下のような感じで変えた。
    for(k=0;k<(n_channels);k++){
//      dwNorm+= square(net->cell[i].dw[k]);
      if(dwNorm<fabs(net->cell[i].dw[k])) 
     dwNorm=fabs(net->cell[i].dw[k]);
    }
//  dwNorm=sqrt(dwNorm);

040116 
(1) セーブとロードのチェック。
can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/03train5e4.dat     #training file
./data/03test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 3 -1                   #v_thresh vmin vmin2
5                       #v_ratio
0.1                       #width   #window width
ex                        #execute learning, test and prediction
1			  #0:online,1:batch
5                       #i_times # iterations to execute
5                       #d_times #display
ns
temp.net
###sw
qu

can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/03train5e4.dat     #training file
./data/03test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 3 -1                   #v_thresh vmin vmin2
5                       #v_ratio
0.1                       #width   #window width
nl
temp.net
5                      #GlobalTime
ex                        #execute learning, test and prediction
1			  #0:online,1:batch
15                       #i_times # iterations to execute
15                       #d_times #display
5:0>  3ssp1.4469e-06(1.4641e-04)N500k2w0.8vm3:-1
5:1>  7ssp1.4044e-06(1.4212e-04)N500k2w0.8vm3:-1
5:2>  8ssp1.4668e-06(1.4843e-04)N500k2w0.8vm3:-1
5:3> 10ssp1.3767e-06(1.3931e-04)N500k2w0.8vm3:-1
5:4> 13ssp1.4041e-06(1.4209e-04)N500k2w0.8vm3:-1
5:5> 14ssp1.3229e-06(1.3387e-04)N500k2w0.8vm3:-1
5:6> 14ssp1.3449e-06(1.3610e-04)N500k2w0.8vm3:-1
5:7> 11ssp1.3832e-06(1.3997e-04)N500k2w0.8vm3:-1
5:8> 12ssp1.3490e-06(1.3651e-04)N500k2w0.8vm3:-1
5:9> 13ssp1.3340e-06(1.3499e-04)N500k2w0.8vm3:-1
5:10>16ssp1.3096e-06(1.3253e-04)N500k2w0.8vm3:-1

When initialize net->cell[i].am.P[k][l]=1e4; 
5:0> 9ssp1.5109e-06(1.5289e-04)N500k2w0.8vm3:-1
5:1> 4ssp1.5744e-06(1.5932e-04)N500k2w0.8vm3:-1
5:2> 12ssp1.5910e-06(1.6100e-04)N500k2w0.8vm3:-1
5:3> 4ssp1.5842e-06(1.6031e-04)N500k2w0.8vm3:-1
5:5> 6ssp1.4380e-06(1.4551e-04)N500k2w0.8vm3:-1
5:7>14ssp1.4498e-06(1.4671e-04)N500k2w0.8vm3:-1
5:9> 6ssp1.4396e-06(1.4567e-04)N500k2w0.8vm3:-1
When initialize net->cell[i].am.P[k][l]=1e3; 
5:0> 14ssp1.4947e-06(1.5125e-04)N500k2w0.8vm3:-1
5:1> 6ssp1.5107e-06(1.5287e-04)N500k2w0.8vm3:-1
5:3> 6ssp1.5696e-06(1.5883e-04)N500k2w0.8vm3:-1
5:5>11ssp1.6103e-06(1.6295e-04)N500k2w0.8vm3:-1



031211
can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/03train5e4.dat     #training file
./data/03test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 3 -1                   #v_thresh vmin vmin2
5                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute learning, test and prediction
1			  #0:online,1:batch
100                       #i_times # iterations to execute
100                       #d_times #display
//040115 modify_M_batchでMのGSLで初期化をする。
040115 03train5e4>17ssp1.5097e-06(1.5277e-04)N500k2w0.8vm3:-1GSL
040115 03train5e4> 5ssp1.4595e-06(1.4769e-04)N500k2w0.8vm3:0 GSL
040115 03train5e4 >5ssp1.4595e-06(1.4769e-04)N500k2w0.8vm3:1 GSL
040115 03train5e4 >5ssp1.4595e-06(1.4769e-04)N500k2w0.8vm3:2 GSL
040115 03train5e4 >4ssp1.4410e-06(1.4582e-04)N500k2w0.8vm3:3 GSL
040115 03train5e4 >4ssp1.4410e-06(1.4582e-04)N500k2w0.8vm3:4 GSL
040115 03train5e4 >4ssp1.4410e-06(1.4582e-04)N500k2w0.8vm3:5 GSL

040115 11train5e4>10ssp5.2472e-06(6.4052e-05)N500k2w0.8vm3:-1GSL
040115 11train5e4>:0 GSL
040115 11train5e4>10ssp5.2472e-06(6.4052e-05)N500k2w0.8vm3:1 GSL
040115 11train5e4>:2 GSL
040115 11train5e4>10ssp5.2472e-06(6.4052e-05)N500k2w0.8vm3:3 GSL
040115 11train5e4>10ssp5.2472e-06(6.4052e-05)N500k2w0.8vm3:4 GSL
040115 11train5e4>10ssp5.3448e-06(6.5244e-05)N500k2w0.8vm3:5 GSL

>18ssp1.5833e-06(1.6022e-04)N500k2w0.8vm3
//040115 modify_M_batchでMの初期化をする。
040115 03train5e4>8ssp1.6430e-06(1.6626e-04)N500k2w0.8vm4:-1
040115 03train5e4>18ssp1.5833e-06(1.6022e-04)N500k2w0.8vm3:-1
040115 03train5e4>20ssp1.5693e-06(1.5880e-04)N500k2w0.8vm3:0
040115 03train5e4>20ssp1.5146e-06(1.5327e-04)N500k2w0.8vm3:1
040115 03train5e4>19ssp1.5320e-06(1.5503e-04)N500k2w0.8vm3:2
040115 03train5e4>19ssp1.5487e-06(1.5672e-04)N500k2w0.8vm3:3
//040110 vmin2によりユニットの削除
040115 03train5e4>14ssp1.3304e-06(1.3463e-04)N500k2w0.8vm5:-1
040115 03train5e4>14ssp1.3265e-06(1.3423e-04)N500k2w0.8vm4:-1
040109 03train5e4>14ssp1.3229e-06(1.3387e-04)N500k2w0.8vm3:-1
040109 03train5e4>14ssp1.3267e-06(1.3425e-04)N500k2w0.8vm2:-1
040109 03train5e4>14ssp1.3254e-06(1.3412e-04)N500k2w0.8vm3:0
040109 03train5e4>14ssp1.3149e-06(1.3305e-04)N500k2w0.8vm3:1<!!!!
040114 03train5e4>14ssp1.3542e-06(1.3703e-04)N500k2w0.8vm3:2
040114 03train5e4>11ssp1.3989e-06(1.4156e-04)N500k2w0.8vm3:3
040115 03train5e4>11ssp1.3989e-06(1.4156e-04)N500k2w0.8vm3:4
040115 03train5e4>20ssp1.4059e-06(1.4227e-04)N500k2w0.8vm3:5

040114 03train5e4>4ssp1.7361e-06(1.7568e-04)N1000k2w0.8vm3:-1
040114 03train5e4>7ssp1.7275e-06(1.7482e-04)N1000k2w0.8vm3:0
040114 03train5e4>7ssp1.7028e-06(1.7231e-04)N1000k2w0.8vm3:1
040114 03train5e4>7ssp1.7009e-06(1.7212e-04)N1000k2w0.8vm3:2
040114 03train5e4>9ssp1.7730e-06(1.7941e-04)N1000k2w0.8vm3:3

040109 11train5e4>33ssp4.2675e-06(5.2093e-05)N500k2w0.8vm3:-1
040109 11train5e4>33ssp4.2675e-06(5.2093e-05)N500k2w0.8vm3:0
040109 11train5e4>25ssp4.3813e-06(5.3482e-05)N500k2w0.8vm3:1
040115 11train5e4>35ssp4.1880e-06(5.1123e-05)N500k2w0.8vm3:2
040115 11train5e4>45ssp4.3234e-06(5.2776e-05)N500k2w0.8vm3:3

040109  07train5e4>93ssp1.2617e-05(1.0317e-04)N500k2w0.8vm3:-1
040109  07train5e4>99ssp1.1225e-05(9.1788e-05)N500k2w0.8vm3:0
040109  07train5e4>98ssp1.1585e-05(9.4736e-05)N500k2w0.8vm3:1

040109  02train5e4>12ssp1.2124e-02(4.8669e-02)N500k2w0.8vm3:-1
040109  02train5e4>12ssp1.2124e-02(4.8669e-02)N500k2w0.8vm3:0
040109  02train5e4>12ssp1.2124e-02(4.8669e-02)N500k2w0.8vm3:1

  int vmin2=2,ii;//040109 for remove Unit
040109  03train5e4>14ssp1.3104e-06(1.3260e-04)N500k2w0.8vm3
040109  11train5e4>35ssp4.3382e-06(5.2956e-05)N500k2w0.8vm3
040109  07train5e4>87ssp1.5499e-05(1.2674e-04)N500k2w0.8vm3
040109  02train5e4>12ssp1.2124e-02(4.8669e-02)N500k2w0.8vm3

040109  03train5e4>14ssp1.3229e-06(1.3387e-04)N500k2w0.8vm3
040109  11train5e4>33ssp4.2675e-06(5.2093e-05)N500k2w0.8vm3
040109  07train5e4>93ssp1.2617e-05(1.0317e-04)N500k2w0.8vm3
040109  02train5e4>12ssp1.2124e-02(4.8669e-02)N500k2w0.8vm3

040107  07train5e4>447ssp7.1086e-06(5.8129e-05)N500k2w0.8vm3

031211  03train5e4> 5ssp1.3808e-06(1.3973e-04)N500k2w0.8vm3
031211  11train5e4>35ssp4.4272e-06(5.4042e-05)N500k2w0.8vm3
031211  07train5e4>96ssp1.1927e-05(9.7528e-05)N500k2w0.8vm3
031211  02train5e4> 8ssp1.2426e-02(4.9881e-02)N500k2w0.8vm3

         can2batch  can2online SVR         can2online
データ数 5e4        5e4        5e4         5e7        
学習回数 100(*5e4)    5e5        max1e6
03train  1.3808e-06 1.830e-06  6.19287e-06 0.00000041   
11train  4.4272e-06 3.865e-06  1.113e-05   0.00000188 	
07train  1.1927e-05 3.134e-05  1.92884e-05 0.00000529 		
02train  1.2426e-02 1.665e-02  0.0149962   0.01811174 

031211  07train5e4>94ssp1.1179e-05(9.1417e-05)N500k2w0.8vm3 n1=net->vmin/(1.+GlobalTime/20.)+0.5;

030725m 02train5e4> 52ssp1.1347e-02(4.5550e-02)N500k2w0.1vm2
030714e 07train5e4>100 MSE1.895141e-05;4.550582e-01 NMSE1.549705e-04;3.721126e+00 N500

031110
svrの導入 sim.c
030726m
(1) D.Yu,et al. "Phase space prediction of Chaotic Time Series" の結果
との比較について。
(1-1)
santafe.datの1000-1100の予測誤差NMSE=0.0268は、Yu等の結果 NMSE=0.027よ
りもよい。1000-2000の結果は Yuの方が良いみたいだが、次のようなことが考
えられる；本手法でも訓練データの一段予測の誤差は学習回数3で0になってい
る。ここで訓練データは整数データあるので丸め誤差あること、実データなの
でノイズもあることに注意する。丸め誤差の処理理論はYuの方法にもないので、
未知データの多段予測の結果が良いかどうかは、ノイズの処理法(Yuでは主に
特異値分解(SVD)法?、本手法では逐次的最小二乗法)に依存するのだろうか?
(1-2)
Yu等の結果は Lyapunov時間の5倍から10倍の時間まで予測可能だったと報告し
ている。これは例えば初期時刻の誤差E(0)が時刻t=5T〜10TでEmaxまで大きくなる
とすると、E(0)/Emax = exp{-5T/T}     〜 exp{-10T/T}
                    =6.73794699909e-3〜4.53999297625e-5
程度の初期誤差があったことに相当するのであろうか?(実際の誤差は初期誤差
よりもネットが学習した力学系のシステム誤差であり、各時刻で誤差が発生す
るので、その各時刻のシステム誤差は上よりもっと小さいと考えられる?)


030716e
(1)母音の多段予測で以前より良い結果が得られた(下の a3000.datがある実行
例を参照)。この結果では、テストデータの多段予測時の誤差の最大値は±40
程度であり、信号の範囲(0-200)まで誤差は拡大しなかった(これは下にあるよ
うにmspを実行して確かめられる)。また学習誤差(訓練データの一段予測時の
誤差)は0になった。
ただし十分長い時間長では誤差がでてくる?
(例えば、msp0(訓練データの多段予測)を実行してみよ→t=1500程度まで
は±50以下の誤差、あるいは、1500までのデータを学習し、1501から3000を予
測させてみよ)。 

030713
(1) 一般に解析解が求まらないカオス時系列はRungeKutta法等で数値解を得る。
この数値解には
 (i)   RungeKuttaの刻み幅が大きいために生じる推定誤差
 (ii)  RungeKuttaの精度(浮動小数点桁数)による丸め誤差
 (iii) データをやり取りするときの丸め誤差(通常有効数字6桁の浮動小数点)
などが含まれ、生成された時系列は与えられた数式による真のカオス時系列で
はな。
この時系列にもカオス性はあり、それぞれ個々のカオス時系列と解釈してよい
のかもしれない。

ところで(i),(ii)はシステム誤差、(ii)は観測誤差と解釈できる。

ーーーーー
(1) 関数近似においては、バッチ型CAN2の能力はオンライン型CAN2より悪いよ
うだ。これは後者は無限のデータを使うからと考えれば理解できる。しかし同
じデータを使ったSVRの結果(ieice0302/mse_N.dat参照)より良くできなかった。
(→よくできた。030716)
これはバッチ型CAN2の能力の低さか?(しかし次項参照)
(3) しかしMackey-Glass 時系列予測においては、バッチ型CAN2の能力はオン
ライン型CAN2やSVR(jnns02?)よりも良い結果が得られた。 何故、関数近似の
ときと違うのか?????原因を追究すべき!!!
  1.MG時系列学習でmodify_w_batchを無効にして同様の実験をしても同じ位
まで誤差は減少(> 1000 MSE1.076172e-08;7.584495e-07)
→Mの学習が誤差を下げる?だがデータはほぼ同じなので理論的には何度学習し
ても同じはず?関数近似ではほぼ理論通りだが、chaos時系列のときどうして小
さくなるの???
  2.データを同じにするため n1=n_channels+1;としても同様の結果
    (> 1000 MSE6.702745e-09;2.628532e-06)
  3.am.cのq[0].Pの初期値の影響の可能性
→N==1のとき> 1000 MSE3.541228e-07;3.230648e-02(AM_VER==1)
> 100 MSE9.918831e-09;3.523091e-06if(i==j) q[0].P[i][j]=1.0e5;
> 100 MSE2.853353e-08;1.052221e-06if(i==j) q[0].P[i][j]=1.0e4;//original
> 100 MSE8.967174e-08;1.107123e-06if(i==j) q[0].P[i][j]=1.0e3;
→同じデータの学習を繰り返して誤差が小さくなるのはam.cのq[0].Pの初期値
の影響であると判明。大きい(1.0e05)と厳密解に近くなりtest誤差が小さくで
きるが、predict(汎化)が良くない。逆に小さすぎる(1.0e03)とtest誤差はあ
まり小さくないし、predict誤差もそんなに小さくならない。
4.厳密解を得るAM_VER==2では次元が7以下でしかうまく働かない?何故か?
AM_VER==2で次元が7のとき、test誤差は小さいがpredict誤差は大きい。
→厳密(理論的)な議論でpredict誤差を小さくはできないの???
4.x1とx2を[0.1,-.9]の範囲に限ったデータ07train5e4B5.datを学習近似する
とバッチCAN2(MSE6.878440e-04)は遂次的CAN2(MSE1.060333e-03)より良い成績
が得られた。→外挿(汎化)能力?→これと同じ原理?
//
--- 変更履歴まとめ(本当はもっと多く変更)--- history
030726m
(1) exec_sim()の途中で一段予測(ssp)と多段予測(msp)の最適なネットを保存
するようにした。
030725m
(1)n1が変だったので修正。
030723e
(1)解像度をより一般化した。
(2)正規化を導入：正規化した信号で学習と予測を行い、元にもどして誤差を
測るようにした。
元の信号はgivendata->X[t],givendata->Y[t], 
処理信号はgivendata->x[t],givendata->y[t]
とし、calc_output()も変更。
(3) 従来のpred は msp(多段予測), 従来のtest はssp(一段予測)の観点から
サブルーチン名や変数名などを変更した(結構大幅な変更)。

030717m
(1) exec_pred()とexec_test()をそれぞれexec_msp_test()とexec_ssp_test()
とした
(2) exec_msp_test()でデータの解像度が正整数などのとき、予測値は実数、
誤差はその解像度で評価するようにした。
そのため calc_output()に第3引数を追加し
NET *net, FLOAT *x, FLOAT *yr) とした。
030716e
(1)母音の解像度は1/15であり、かつ有効数字6桁まで(例えば0.066667⇔1/15)
のようだ。これに対応できるようにcalc_output()で特殊処理した。
030714e
(1) Santafe data (A.datA.cont)のためcalc_output()で整数型を導入→
exec_simの入力が1つ増えた。
(2) Santafe dataにはn1を別にしたほうが良いみたい。
   n1=(V->i2v[i]+3)*(1./GlobalTime-1./GlobalTimeMax);

030713
(1) lorenz や07train は学習回数が小さく、widthが小さい方が良いみたい?
(2) カオス時系列を発生させるRungeKutta法との検討を行った。
030710e
(1) 短期予測結果を学習して、より長期の予測を行う方法を導入.
    コマンドは po。使いかたは
     mackeypo.sh, rosslerpo.sh, lorenzpo.sh を参照。
030709e
(1) reinit_cell_batch()を検討した。
030708m
(1)大幅に変えた：
    (a)init_net_batch(net, train->x, n_train);の後、
    (b)store_vector_batch(net, train->x, train->y, n_train);を繰り返す。

  init_net_batch(net, train->x, n_train);は2つのルーチンで構成：
  (a-1)init_batch_wvector(net, x, n_train);と
  (a-2)init_Voronoi(net->V,net->n_cells,net->k,n_train);

  store_vector_batch(net, train->x, train->y, n_train)は次のルーチンで構成：
  (b-1)calc_Voronoi(net,x_train,y_train, n_train);
  (b-2)modify_M_batch(net, x_train, y_train);
  (b-3)calc_alpha(net, x_train, y_train,n_train);
  (b-4)reinit_cell_batch(net, x_train, y_train,n_train) ;
  (b-5)modify_w_batch(net, x_train, y_train, n_train);

030704m
(1)MSEでなくNMSE(MSEを信号の標準偏差で割ったもの)を出力するようにした。
030702e
(1)時系列データファイルは値のみとする。よって以下の結果を得るには
mackey-glass.datでなくmackey2200.datを使うこと。
030702m
(1) reinit_w_batchを修正。
030701e
(1)my_function.c で
   n1=bidata->m[i]+(n_channels+1.-bidata->m[i])*
      (1./GlobalTime-1./GlobalTimeMax); 
   を導入
030629e
(1) modify_w_batchで遠ざける処理を導入。
(2) modify_w_batchでerr_iの正規化処理を導入。
030629m
(1) modify_w_batch での荷重修正を一括して行うようにした。
(2) ReinitRandom のところを少しかえた。(ReinitRandomはあまり良くない)
030628e
(1)v_iは相対値v_i/v_maxとした→v_threshは0〜1の範囲にする。
(2)store_vector_batch (in my_plinn.c) のy_m の計算が間違ってた。
(3)store_vector_batch (in my_plinn.c) のソートが逆だった。
(4)init_batch_ivector (in my_function.c)をちょっと変えた。
(5)sigma2_hatの計算方法を変えた。
(6)net->ymin,ymaxを導入→calc_outputを変えた。
(6)net->xmin,xmaxを導入→modify_w_batchを変えた。
(7)関数近似もできるようにした。
....
030611
(1)can_20030611.tar.bz2 がオリジナル
--- 030722以降の実行例 ---examples
●関数近似 function approximation
can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/rossler5000_1e-3_100.dat #training file            
2000 4000       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
320		 #n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh v_min                
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#i=0:online,i=1:batch
100		#iterations to execute    
10		#display
nl
bestmsp.net
msp

030725e>100ssp2.8390e-05(1.0492e-06)88msp9.1745e-01(3.3904e-02)N320k10w0.9vm3
030725e>72ssp4.3884e-06(1.6217e-07)77msp2.2714e+00(8.3939e-02)N320k10w0.9
030725m>64ssp2.5341e-05(9.3646e-07)4msp1.8634e+00(6.8861e-02)N320k10w0.9
>100ssp2.5986e-05(9.6030e-07)88msp2.7531e+00(1.0174e-01)N320k10w0.9
>10ssp3.2406e-05(1.1976e-06)6msp3.1384e+00(1.1598e-01)N320k10w0.9
>50ssp5.2316e-05(1.9333e-06)3msp3.7621e+00(1.3903e-01)N500k10w0.9
can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
9		 #channels                 
./data/rossler10000_1e-3_400.dat #training file            
5000 5500       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
300		 #n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh  vmin
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#0:online,1:batch
100		#iterations to execute    
10		#display
nl
bestmsp.net
msp
>86ssp1.0633e-05(3.9526e-07)51msp1.2673e+00(4.7109e-02)N350k9w0.9vm3
>32ssp2.1494e-05(7.9901e-07)7msp1.3992e+00(5.2013e-02)N340k9w0.9vm3
>75ssp3.6781e-05(1.3673e-06)15msp5.7966e-01(2.1548e-02)N330k9w0.9vm3
>100ssp3.1966e-05(1.1883e-06)30msp1.3315e+00(4.9496e-02)N320k9w0.9vm3
>100ssp1.1277e-04(4.1919e-06)8msp1.9397e+00(7.2107e-02)N300k9w0.9vm3



0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/rossler10000_1e-3_400.dat #training file            
2000 4000       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
300		 #n_cells storing vectors          
20		#n_compare                
0.5 4		#v_thresh  vmin
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#0:online,1:batch
100		#iterations to execute    
10		#display
nl
bestmsp.net
msp
030725e>100ssp3.6684e-04(1.4258e-05)37msp4.4382e+00(1.7250e-01)N300k10w0.9vm4
>93ssp2.8408e-04(1.0820e-05)68msp5.0046e+00(1.9061e-01)N480k10w0.9
>90ssp3.6829e-04(1.4027e-05)61msp4.2901e+00(1.6340e-01)N490k10w0.9
>53ssp3.2631e-04(1.2429e-05)49msp5.6514e+00(2.1525e-01)N510k10w0.9
>52ssp5.6690e-04(2.1592e-05)91msp6.3061e+00(2.4019e-01)N600k10w0.9
>73ssp3.0289e-04(1.1536e-05)100msp6.0206e+00(2.2931e-01)N400k10w0.9
030723e>85ssp2.2592e-04(8.6049e-06)20msp5.8173e+00(2.2157e-01)N320k10w0.9
030723e>41ssp3.4879e-04(1.3285e-05)59msp4.5173e+00(1.7205e-01)N500k10w0.9
>  10 MSE2.848007e-04;9.813702e+00 NMSE1.084743e-05;3.737824e-01 N300k10
>  10 MSE2.770285e-04;7.177966e+00 NMSE1.055141e-05;2.733930e-01 N400k10
>  10 MSE2.484028e-04;9.377020e+00 NMSE9.461118e-06;3.571501e-01 N500k10
>  10 MSE1.748636e-04;1.564719e+01 NMSE6.660172e-06;5.959669e-01 N500k12
>  10 MSE5.049713e-04;9.782534e+00 NMSE1.923325e-05;3.725952e-01 N500k8
can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
0 0 0 0       #y0min y0max y1min y1max for normalization
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 3                      #v_thresh vmin
5                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute learning, test and prediction
1			  #0:online,1:batch
100                       #i_times # iterations to execute
100                       #d_times #display
nl
bestssp.net
ssp
040107>96ssp1.1927e-05(9.7528e-05)N500k2w0.8vm3
>94ssp1.1179e-05(9.1417e-05)N500k2w0.8vm3

031204100ssp7.6526e-06;6.2577e-05msp4.5490e-01;3.7198e+00ssp03.2510e-04N500k2w0.8vm3??/031204の変更をしたもの、02dataではよくない!

030725m> 71ssp1.1116e-05(9.0896e-05)N500k2w0.8vm3
030723e> 77ssp1.173389e-05 9.595103e-05 N500k2w0.8
030717e> 77 MSE1.173389e-05;4.550532e-01 NMSE9.595103e-05;3.721085e+00 N500k2
030714e>100 MSE1.895141e-05;4.550582e-01 NMSE1.549705e-04;3.721126e+00 N500
030708> 100 MSE3.191986e-05;4.550516e-01 NMSE2.610167e-04;3.721072e+00 N500
030708>        50 MSE2.636177e-05;4.550214e-01
NMSE2.155668e-04;3.720825e+00 N500

can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/02train5e4.dat     #training file
./data/02test.dat         #prediction file
0 0 0 0  #y0min y0max y1min y1max for normalization
in                        in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5 2                    #v_thresh vmin
5                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
1 		#0:online,1:batch
100                       #i_times # iterations to execute
100                       #d_times #display
nl
bestssp.net
ssp
030725m>  52ssp1.1347e-02(4.5550e-02)N500k2w0.1vm2
030723e>  83ssp1.185377e-02 4.758460e-02 N500k2w0.1
030718>  10 MSE1.297887e-02;4.689419e-01 NMSE5.210109e-02;1.882474e+00 N500k2w0.1
030714e>  54 MSE1.265124e-02;4.687315e-01 NMSE5.078589e-02;1.881629e+00 N500
030714e>  10 MSE1.297887e-02(width=0.1)
       Cf.bestSVR MSE1.4996e-02  =0.014996 #ofdata=2e3
       onlineCAN2 MSE1.990468e-02=0.01990468

●時系列 timeseries
can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
5		 #channels                 
./data/lorenz11000_1e-4_500.dat #training file            
10000 10300       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
400		 #n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 		#0:online,1:batch
100		#iterations to execute    
10		#display
nl
bestmsp.net
msp
>100ssp4.4000e-06(7.1368e-08)7msp2.7110e+01(4.3974e-01)N400k5w0.9vm3
>100ssp4.2920e-06(6.9617e-08)3msp3.2089e+01(5.2049e-01)N500k5w0.9vm3


can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz10000_1e-4.dat #training file            
4000 4500       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
500		 #n_cells storing vectors          
20		#n_compare                
0.5 3		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 		#0:online,1:batch
100		#iterations to execute    
10		#display
nl
bestmsp.net
msp
ld
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz10000_1e-4.dat #training file            
4000 5000       #Ttrain,Ttotal: points in time of training and total data 
0 0 0 0       #y0min y0max y1min y1max for normalization

030725m>>100ssp1.4081e-05(2.2362e-07)15msp3.8052e-01(6.0430e-03)N500k10w0.9vm3
100ssp2.0189e-05(3.2062e-07)4msp2.7902e+01(4.4310e-01)N800k10w0.9vm4
>100ssp1.1517e-06(1.8291e-08)79msp4.6041e+01(7.3117e-01)N300k10w0.9vm4
>100ssp5.1793e-06(8.2252e-08)msp3.689957e+01(5.8600e-01)N400k10w0.9vm4
>53ssp7.1028e-06(1.1280e-07)45msp5.5793e+01(8.8605e-01)N400k10w0.9vm3
>100ssp1.6170e-05(2.5679e-07)20msp2.9930e+01(4.7531e-01)N500k10w0.9vm4
>100ssp1.9434e-05(3.0863e-07)64msp2.4456e+01(3.8838e-01)N600k10w0.9vm3
>70ssp1.9020e-05(3.0206e-07)10msp3.3998e+01(5.3992e-01)N700k10w0.9vm3


030723e>88ssp1.2917e-04(2.0513e-06)50msp2.3147e+00(3.6760e-02)N800k10w0.9
030717>  47 MSE1.336571e-04;2.357905e+01 NMSE2.122590e-06;3.744558e-01N800k10
↑この誤差はsigma=1e-5〜1e-6のシステム誤差が加わった応答とほぼ等しい。
(../gmp/examples.kuro/でgnuplotを実行し、
plot [2000:5000] "mackey10000_1e-3_p128.dat" using 0:1,"mackey5000_1e-3_p128_2000+1e-5.dat" using 0:1 
をして確かめよ。
)
030717>12 MSE1.712460e-04;3.371515e+01 NMSE2.719536e-06;5.354259e-01 N800k10
030712e>10 MSE1.268072e-05;1.588170e+01 NMSE2.013809e-07;2.522153e-01N800W0.1
030712e>10 MSE7.867260e-06;5.820007e+01 NMSE1.249389e-07;9.242678e-01N500
RungeKutta刻み幅1e-4で生成した時系列./data/lorenz10000_1e-4.datのCAN2
での予測は RungeKutta刻み幅1e-5で生成した時系列よりも良い。
Cf. plot [4000:4500] "lorenz10000_1e-4.dat" using 5:1, "lorenz5000_1e-4_1e-5.dat" using 5:1
学習
#define SLMODE 1 で chaosgmp 1002 10000 1e-4 250  > lorenz10000_1e-4.dat
#define SLMODE -1 で chaosgmp 1002 10000 1e-3 25  > lorenz10000_1e-4_1e-3.dat
#define SLMODE -1 で chaosgmp 1002 5000 1e-5 2500  > lorenz5000_1e-4_1e-5.dat
plot [4000:4500] "lorenz10000_1e-4.dat" using 5:1, "lorenz10000_1e-4_1e-3.dat" using 5:1
plot [4000:4500] "lorenz10000_1e-4.dat" using 5:1, "lorenz5000_1e-4_1e-5.dat" using 5:1
can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
40 0 		 #channels                 
./data/mackey10000_1e-3_p128.dat #training file            
2000 4000	 #number of training data get_data_parms in my_function.c 
0 0 0 0       #y0min y0max y1min y1max for normalization
in               #
200		 #n_cells storing vectors          
20		#n_compare                
0.5 4		#v_thresh vmin                
10		#v_ratio
0.2		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#0:online, 1:batch  
100		#iterations to execute    
100		#display
****最適多段予測結果を示すネットの読込み
nl
bestmsp.net
msp
****より長期予測
ld
0                #0:timeseries,1:chaos prepare_data() in my_function.c
40 0 		 #channels                 
./data/mackey10000_1e-3_p128.dat #training file            
2000 8000	 #number of training data get_data_parms in my_function.c 
0 0 0 0       #y0min y0max y1min y1max for normalization
msp
****
Minimum MSE(NMSE) for ssp and msp:
030725m>>100ssp5.2378e-08(1.0196e-06)84msp1.3808e-05(2.6880e-04)N200k40w0.2
030725m>50ssp1.5615e-06(3.0397e-05)28msp1.1989e-04(2.3338e-03)N500k40w0.2
030723e> 50ssp1.6840e-06(3.2782e-05)28msp1.3052e-04(2.5409e-03)N500k40w0.2
030717 >  28 MSE1.734424e-06;1.305244e-04 NMSE3.376386e-05;2.540906e-03N500k40
030718e>  14 MSE3.193041e-06;1.208829e-02NMSE1.318319e-05;4.990925e-02 N500k40w0.2
can2
0              #0:timeseries,1:chaos prepare_data() in my_function.c
50 		 #channels j k
./data/santafe.dat #training file            
1000 1100       #Ttrain,Ttotal: points in time of training and totaldata 
0 255 0 1       #y0min y0max y1min y1max for normalization
1 1             #integers r1 r2 for the resolution r1/r2
in               # init net
320		 #n_cells storing vectors          
10		#n_compare                
0.5 4		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
50		#iterations to execute    
10		#display
nl
bestmsp.net
msp
030725m>25ssp9.8380e+01(3.1959e-02)2msp8.2610e+01(2.6836e-02)N320k50w0.9vm4
030723e>3ssp9.6810e+01(3.1449e-02)69msp8.4820e+01(2.7554e-02)N320k50w0.9
030723e>3ssp9.6810e+01(3.1449e-02)32msp8.5000e+01(2.7612e-02)N320k50w0.9
030722e>  50 MSE9.802000e+01;8.500000e+01 NMSE3.184178e-02;2.761223e-02 N320k50w0.9
best online CAN2 pr3.44e-02N300p51q2
best Sauer 0.080
best Wo    0.028
030717m>10 MSE9.783000e+01;9.441000e+01 NMSE3.178005e-02;3.066907e-02 N320k50
030716e>10 MSE9.783000e+01;9.494000e+01 NMSE3.178005e-02;3.084124e-02 N320k50
030714e>10 MSE9.662000e+01;9.757000e+01 NMSE3.138699e-02;3.169559e-02 N320
030714e>100 MSE8.641000e+01;1.369540e+03 NMSE2.807027e-02;4.448948e-01 N320
can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
80 			#channels                 
./data/a3000.dat	#training file            
2001 3000	#number of training data get_data_parms in my_function.c 
0 255 0 255       #y0min y0max y1min y1max for normalization
1 15             #integers r1 r2 for the resolution r1/r2
in
300			#n_cells storing vectors          
20			#n_compare                
0.5 4		  #v_thresh                 
10			#v_ratio
0.1			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute
1			#0:online,1:batch
50			#iterations to execute    
100			#display 
nl
bestmsp.net
msp

msp                     #multi-step prediction of test data
msp0                    #multi-step prediction of training data
ssp0                    #single-step prediction of training data
030726m>1ssp2.8643e+01(2.7002e-02)5msp1.3356e+02(1.2590e-01)N300k80w0.1vm4255
030725m>1ssp2.7978e+01(2.6375e-02)2msp1.3687e+02(1.2903e-01)N300k80w0.1vm4
030723e>1ssp2.7651e+01(2.6067e-02)1msp1.3373e+02(1.2607e-01)N300k80w0.1
030722e>32 MSE2.861706e+01;1.364132e+02 NMSE2.697767e-02;1.285984e-01 N300k80w0.1
030717> 3 MSE2.914907e+01;1.356753e+02 NMSE2.747921e-02;1.279029e-01 N300k80
030716e>3 MSE2.914907e+01;1.356175e+02 NMSE2.747921e-02;1.278484e-01 N300k80
030714e>  44 MSE4.057070e+00;4.472216e+02 NMSE3.824653e-03;4.216015e-01 N2
030714e>  38 MSE1.168617e+01;5.058930e+02 NMSE1.101670e-02;4.769118e-01 N8
030714e>  36 MSE1.626241e+01;6.992439e+02 NMSE1.533078e-02;6.591862e-01 N12
030714e>   9 MSE1.591293e+01;8.132485e+02 NMSE1.500132e-02;7.666599e-01 N12
030714e>   9 MSE7.013160e+00;1.087398e+02 NMSE6.611396e-03;1.025104e-01 N10
030714e>   6 MSE6.992606e+00;9.966561e+01 NMSE6.592020e-03;9.395606e-02 N10
--- 030709以降の実行例 ---
●関数近似
can2
1                         #0:timeseries,1:chaos
2 0                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5                         #v_thresh
5                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute learning, test and prediction
1 0 1			  #i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
100                       #i_times # iterations to execute
100                       #d_times #display
ns                        #net_save
07net.dat
qu

can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
nl
07net.dat
ex                        #execute learning, test and prediction
1                         #0:online, 1:batch //init_net
100                       #i_times # iterations to execute
100                       #d_times #display
qu
030714e> 100 MSE1.895141e-05;4.550582e-01 NMSE1.549705e-04;3.721126e+00 N500
030708> 100 MSE3.191986e-05;4.550516e-01 NMSE2.610167e-04;3.721072e+00 N500
030708>        50 MSE2.636177e-05;4.550214e-01 NMSE2.155668e-04;3.720825e+00 N500
030702m       >50 MSE3.669258e-05
Cf.           SVR MSE1.92884e-05 
030702m>       50 MSE3.225098e-05(width=0.9)
030702m       >50 MSE3.528878e-05
030702m       >50 MSE3.669258e-05
遂次CAN2 f07 LM05 MSE4.987910e-05
after030701e> 100 MSE6.853463e-05 コマンドは下

./data/07train5e4B5.dat     #training file
> 100 MSE8.061614e-04;1.844380e-01 NMSE6.592186e-03;1.508196e+00 N500width0.8
> 100 MSE8.055997e-04;1.883815e-01 NMSE6.587593e-03;1.540443e+00 N500 width0.1
onlineCAN2>>f07 LM05 MSE012:1.060333e-03,1.330766e-06,4.390513e-03 MaxAbs0.38677 MeanAbs0.00761 Noise0.010 N500 AV1 b5

can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/02train5e4.dat     #training file
./data/02test.dat         #prediction file
in                        in                        #init_net
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5                         #v_thresh
5                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
1 0 1		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
54                       #i_times # iterations to execute
100                       #d_times #display
030718>  10 MSE1.297887e-02;4.689419e-01 NMSE5.210109e-02;1.882474e+00 N500k2w0.1
030717e>  87 MSE1.191414e-02;4.687109e-01 NMSE4.782696e-02;1.881547e+00 N500k2
030714e>  54 MSE1.265124e-02;4.687315e-01 NMSE5.078589e-02;1.881629e+00 N500
030714e>  10 MSE1.297887e-02(width=0.1)
       Cf.bestSVR MSE1.4996e-02  =0.014996 #ofdata=2e3
       onlineCAN2 MSE1.990468e-02=0.01990468
030713:
030710m>  10 MSE1.300175e-02 (width=0.1)
030709e>  50 MSE1.388465e-02; 不安定
030708e>  50 MSE1.325553e-02; 不安定
030702m>      100 MSE1.428304e-02
030702m>    >  50 MSE1.417297e-02
after030701e> 100 MSE1.303592e-02
after030629e> 100 MSE1.311778e-02; alpha=0.02*(1.-GlobalTime/GlobalTimeMax);//
after030629e> 100 MSE1.354559e-02
before030629e> 100 MSE1.335028e-02
●時系列
can2
0              #0:timeseries,1:chaos prepare_data() in my_function.c
50 1 1		 #channels j k:  j/kは分解能(resolution)               
./data/santafe.dat #training file            
1000 1100       #Ttrain,Ttotal: points in time of training and total data 
in               #
320		 #n_cells storing vectors          
10		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 1 1		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
10		#iterations to execute    
10		#display
best online CAN2 pr3.44e-02N300p51q2
best Sauer 0.080
best Wo    0.028
030717m>10 MSE9.783000e+01;9.441000e+01 NMSE3.178005e-02;3.066907e-02 N320k50
030716e>10 MSE9.783000e+01;9.494000e+01 NMSE3.178005e-02;3.084124e-02 N320k50
030714e>10 MSE9.662000e+01;9.757000e+01 NMSE3.138699e-02;3.169559e-02 N320
030714e>100 MSE8.641000e+01;1.369540e+03 NMSE2.807027e-02;4.448948e-01 N320
can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
80 1 15			#channels                 
./data/a3000.dat	#training file            
2001 3000	#number of training data get_data_parms in my_function.c 
in
300			#n_cells storing vectors          
20			#n_compare                
0.5		  #v_thresh                 
10			#v_ratio
0.1			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute
1 1 15		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
3			#iterations to execute    
100			#display 
msp                     #multi-step prediction of test data
msp0                    #multi-step prediction of training data
ssp0                    #single-step prediction of training data
030717> 3 MSE2.914907e+01;1.356753e+02 NMSE2.747921e-02;1.279029e-01 N300k80
030716e>3 MSE2.914907e+01;1.356175e+02 NMSE2.747921e-02;1.278484e-01 N300k80
030714e>  44 MSE4.057070e+00;4.472216e+02 NMSE3.824653e-03;4.216015e-01 N2
030714e>  38 MSE1.168617e+01;5.058930e+02 NMSE1.101670e-02;4.769118e-01 N8
030714e>  36 MSE1.626241e+01;6.992439e+02 NMSE1.533078e-02;6.591862e-01 N12
030714e>   9 MSE1.591293e+01;8.132485e+02 NMSE1.500132e-02;7.666599e-01 N12
030714e>   9 MSE7.013160e+00;1.087398e+02 NMSE6.611396e-03;1.025104e-01 N10
030714e>   6 MSE6.992606e+00;9.966561e+01 NMSE6.592020e-03;9.395606e-02 N10
can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz10000_1e-4.dat #training file            
4000 4500       #Ttrain,Ttotal: points in time of training and total data 
in               #
800		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0 1		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
47		#iterations to execute    
10		#display

030717>  47 MSE1.336571e-04;2.357905e+01 NMSE2.122590e-06;3.744558e-01N800k10
↑この誤差はsigma=1e-5〜1e-6のシステム誤差が加わった応答とほぼ等しい。
(../gmp/examples.kuro/でgnuplotを実行し、
plot [2000:5000] "mackey10000_1e-3_p128.dat" using 0:1,"mackey5000_1e-3_p128_2000+1e-5.dat" using 0:1 
をして確かめよ。
)
030717>12 MSE1.712460e-04;3.371515e+01 NMSE2.719536e-06;5.354259e-01 N800k10
030712e>10 MSE1.268072e-05;1.588170e+01 NMSE2.013809e-07;2.522153e-01N800W0.1
030712e>10 MSE7.867260e-06;5.820007e+01 NMSE1.249389e-07;9.242678e-01N500
RungeKutta刻み幅1e-4で生成した時系列./data/lorenz10000_1e-4.datのCAN2
での予測は RungeKutta刻み幅1e-5で生成した時系列よりも良い。
Cf. plot [4000:4500] "lorenz10000_1e-4.dat" using 5:1, "lorenz5000_1e-4_1e-5.dat" using 5:1
学習
#define SLMODE 1 で chaosgmp 1002 10000 1e-4 250  > lorenz10000_1e-4.dat
#define SLMODE -1 で chaosgmp 1002 10000 1e-3 25  > lorenz10000_1e-4_1e-3.dat
#define SLMODE -1 で chaosgmp 1002 5000 1e-5 2500  > lorenz5000_1e-4_1e-5.dat
plot [4000:4500] "lorenz10000_1e-4.dat" using 5:1, "lorenz10000_1e-4_1e-3.dat" using 5:1
plot [4000:4500] "lorenz10000_1e-4.dat" using 5:1, "lorenz5000_1e-4_1e-5.dat" using 5:1

can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz10000_1e-4_p128.dat #training file            
9000 10000       #Ttrain,Ttotal: points in time of training and total data 
in               #
300		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.8		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0 1		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
10		#iterations to execute    
10		#display

030716m>10 MSE1.061265e-06;1.027629e+02 NMSE1.672778e-08;1.619761e+00 N300
set data style lines
plot [9000:10000] "lorenz9000_10000_1e-3_p128.dat" using 0:1,"lorenz10000_1e-4_p128.dat" using 0:1



can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz10000_1e-4_p64.dat #training file            
1500 2000       #Ttrain,Ttotal: points in time of training and total data 
in               #
300		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.1		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0 1		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
100		#iterations to execute    
10		#display
030715> 100 MSE2.509255e-04;8.770646e+01 NMSE3.983612e-06;1.392399e+00 N300
030715> 100 MSE1.427048e-04;1.253523e+02 NMSE2.265535e-06;1.990052e+00 N300

can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/rossler4000.dat #training file            
2000 4000       #Ttrain,Ttotal: points in time of training and total data 
in               #
500		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0 1		#i j k :i=0:online,i=1:batch, j/kは分解能(resolution)
10		#iterations to execute    
10		#display
>  10 MSE2.848007e-04;9.813702e+00 NMSE1.084743e-05;3.737824e-01 N300k10
>  10 MSE2.770285e-04;7.177966e+00 NMSE1.055141e-05;2.733930e-01 N400k10
>  10 MSE2.484028e-04;9.377020e+00 NMSE9.461118e-06;3.571501e-01 N500k10
>  10 MSE1.748636e-04;1.564719e+01 NMSE6.660172e-06;5.959669e-01 N500k12
>  10 MSE5.049713e-04;9.782534e+00 NMSE1.923325e-05;3.725952e-01 N500k8
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz500_1e-7.dat #training file            
499 500       #Ttrain,Ttotal: points in time of training and total data 
in               #
500		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.9		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1		#0:online, 1:batch        init_net()      in my_plinn.c
10		#iterations to execute    
10		#display
----------------



can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
10		 #channels                 
./data/lorenz5500.dat #training file            
5000 5500 #number of training data get_data_parms in my_function.c 
in               #
500		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.8		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0		#0:online, 1:batch        init_net()      in my_plinn.c
10		#iterations to execute    
10		#display  
030710>  10 MSE1.873005e-05;5.502901e+01 NMSE3.361462e-07;9.875994e-01 N500k10w0.9
030710>  10 MSE1.961903e-05;5.311001e+01 NMSE3.521006e-07;9.531593e-01 N500k10w0.8
030710>  10 MSE1.369495e-05;1.202579e+02 NMSE2.457817e-07;2.158255e+00 N500k12

can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
40 0 		 #channels                 
./data/mackey5000_1e-3.dat #training file            
2000 4000	 #number of training data get_data_parms in my_function.c 
in               #
500		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.2		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0 1		#0:online, 1:batch        init_net()      in my_plinn.c
28		#iterations to execute    
100		#display
030717 >  28 MSE1.734424e-06;1.305244e-04 NMSE3.376386e-05;2.540906e-03N500k40
030718e>  14 MSE3.193041e-06;1.208829e-02 NMSE1.318319e-05;4.990925e-02 N500k40w0.2

このあと
ld
0                #0:timeseries,1:chaos prepare_data() in my_function.c
40		 #channels                 
./data/mackey5000_1e-3.dat #training file            
2000 5000	 #number of training data get_data_parms in my_function.c 
msp
>  28 MSE1.734424e-06;1.305244e-04 NMSE3.376386e-05;2.540906e-03 N500k40w0.2
↑この誤差はsigma=1e-5〜1e-6のシステム誤差が加わった応答とほぼ等しい。
(../gmp/examples.kuro/でgnuplotを実行し、
plot [4000:4500] "lorenz10000_1e-4_p128.dat" using 0:1,"lorenz5000_1e-4_p128_4000+1e-3.dat" using 0:1
をして確かめよ。)
または、↑で
po
temp.dat
をしたあと、shellで
../gmp/examples.kuro/yyhat2mse ./data/mackey5000_1e-3.dat ./temp.dat 2001 5000 > mse.dat
gnuplot
set data style lines
plot [2001:5000] "mse.dat" using 6:1 t "rmse", "mse.dat" using 6:3 t "e"
を行い、
../gmp/examples.kuro/で
yyhat2mse mackey10000_1e-3_p128.dat mackey5000_1e-3_p128_2000+1e-5.dat 2001 5000 > mse.dat
をし、
gnuplot
set data style lines
plot [2001:5000] "mse.dat" using 6:1 t "rmse", "mse.dat" using 6:3 t "e"
として比較。

030717>  56 MSE1.260689e-08;2.381440e-03 NMSE2.454171e-07;4.635927e-02 N100k40
> 8 MSE4.173779e-08;3.928764e-03 NMSE8.125056e-07;7.648088e-02N100k40


can2
0                #0:timeseries,1:chaos prepare_data() in my_function.c
20		 #channels                 
./data/mackey4000.dat #training file            
2000 4000  #number of training data get_data_parms in my_function.c 
in               #
100		 #n_cells storing vectors          
20		#n_compare                
0.5		#v_thresh                 
10		#v_ratio
0.2		#width   window width             
sr		#show training data show_data_parms(train);     
n		#no                       
sn		#show network params      
sb		#show batch params        
ex		#execute 
1 0 1		#0:online, 1:batch
10		#iterations to execute    
10		#display  
po              #pred_out
./mackey4000_2000_2200.dat #filename
200                        #steps
qu                         #finish
030709e>10 MSE1.459719e-07;2.295136e-02 NMSE2.837617e-06;4.461625e-01 N100
030709e>10 MSE1.148912e-07;8.871068e-03 NMSE2.233425e-06;1.724490e-01 N100
030709e>10 MSE1.165091e-07;8.446379e-03 NMSE2.264877e-06;1.641932e-01 N100
> 100 MSE4.455066e-08;9.641944e-02 NMSE8.660418e-07;1.874344e+00 N100

030709e>       1000 MSE6.932338e-09;3.994570e-07 
030708e>       1000 MSE1.027852e-08;5.133564e-06
030707      >  1000 MSE9.272000e-09;2.553664e-06(width=0.2)
after030701e>  1000 MSE7.481811e-09;9.824534e-06(width=0.3)
after030701e>  1000 MSE1.320137e-08;8.406145e-07 (width=0.1)
after030701e > 1000 MSE1.009213e-08;5.891452e-07(predのMSEを尊重?width=0.2)
after030629m > 1000 MSE6.783600e-09;7.154643e-06 noReinitRandom v_thresh0.5
after030629m > 1000 MSE6.727869e-09;2.394590e-06 noReinitRandom v_thresh0.9***
before030629m> 1000 MSE5.282576e-09;3.824018e-06 noReinitRandom
v_thresh0.9

can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
50			#channels                 
./data/a.dat	#training file            
2001			#number of training data get_data_parms in my_function.c 
in
10			#n_cells storing vectors          
20			#n_compare                
0.5		  #v_thresh                 
10			#v_ratio
0.2			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute
1			#0:online, 1:batch        init_net()      in my_plinn.c
100			#iterations to execute    
100			#display                  
030704m> 100 NMSE3.788421e-03;3.119250e-01(k90N1)
030704m> 100 NMSE4.016951e-03;2.835835e-01(k90N2)
030704m> 100 NMSE3.751651e-03;9.901982e-01(k90N3)
030704m> 100 NMSE4.031632e-03;8.618851e-01(k90N4)
030704m> 100 NMSE4.291529e-03;1.910695e+00(k90N5)
030704m> 100 NMSE6.118483e-03;1.561021e+00(k50N10)


--- 030702m以前の実行例 ---
●関数近似
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch //init_net
50                       #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5                         #v_thresh
5                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute
030708>  50 MSE2.636177e-05;4.550214e-01 NMSE2.155668e-04;3.720825e+00 N500
030702m       >50 MSE3.669258e-05
Cf.           SVR MSE1.92884e-05 
030702m>       50 MSE3.225098e-05(width=0.9)
030702m       >50 MSE3.528878e-05
030702m       >50 MSE3.669258e-05
遂次CAN2 f07 LM05 MSE4.987910e-05
after030701e> 100 MSE6.853463e-05 コマンドは下
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/02train5e4.dat     #training file
./data/02test.dat         #prediction file
1                         #0:online, 1:batch
100                       #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5                         #v_thresh
5                       #v_ratio
0.2                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
       Cf.bestSVR MSE1.4996e-02  =0.014996
       onlineCAN2 MSE1.990468e-02=0.01990468
030709e>  50 MSE1.388465e-02; 不安定
030708e>  50 MSE1.325553e-02; 不安定
030702m>      100 MSE1.428304e-02
030702m>    >  50 MSE1.417297e-02
after030701e> 100 MSE1.303592e-02
after030629e> 100 MSE1.311778e-02; alpha=0.02*(1.-GlobalTime/GlobalTimeMax);//
after030629e> 100 MSE1.354559e-02
before030629e> 100 MSE1.335028e-02

●時系列
can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
50			#channels                 
./data/a.dat	#training file            
2001			#number of training data get_data_parms in my_function.c 
1			#0:online, 1:batch        init_net()      in my_plinn.c
100			#iterations to execute    
100			#display                  
10			#n_cells storing vectors          
20			#n_compare                
0.5		  #v_thresh                 
10			#v_ratio
0.2			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute
030704m> 100 NMSE3.788421e-03;3.119250e-01(k90N1)
030704m> 100 NMSE4.016951e-03;2.835835e-01(k90N2)
030704m> 100 NMSE3.751651e-03;9.901982e-01(k90N3)
030704m> 100 NMSE4.031632e-03;8.618851e-01(k90N4)
030704m> 100 NMSE4.291529e-03;1.910695e+00(k90N5)
030704m> 100 NMSE6.118483e-03;1.561021e+00(k50N10)

can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
50                       #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5                         #v_thresh
5                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
030709e>       50 MSE1.745168e-05
Cf.           SVR MSE1.92884e-05 
030702m>       50 MSE3.225098e-05(width=0.9)
030702m       >50 MSE3.528878e-05
030702m       >50 MSE3.669258e-05
遂次CAN2 f07 LM05 MSE4.987910e-05
after030701e> 100 MSE6.853463e-05 コマンドは下

--- 030701e以前の実行例 ---
(1)時系列
can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
20			#channels                 
./data/mackey2200.dat	#training file            
2001			#number of training data get_data_parms in my_function.c 
1			#0:online, 1:batch        init_net()      in my_plinn.c
1000			#iterations to execute    
100			#display                  
100			#n_cells storing vectors          
20			#n_compare                
0.5		  #v_thresh                 
10			#v_ratio
0.2			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute 
030709e>       1000 MSE6.932338e-09;3.994570e-07 
030708e>       1000 MSE1.027852e-08;5.133564e-06
030707      >  1000 MSE9.272000e-09;2.553664e-06(width=0.2)
after030701e>  1000 MSE7.481811e-09;9.824534e-06(width=0.3)
after030701e>  1000 MSE1.320137e-08;8.406145e-07 (width=0.1)
after030701e > 1000 MSE1.009213e-08;5.891452e-07(predのMSEを尊重?width=0.2)
after030629m > 1000 MSE6.783600e-09;7.154643e-06 noReinitRandom v_thresh0.5
after030629m > 1000 MSE6.727869e-09;2.394590e-06 noReinitRandom v_thresh0.9***
before030629m> 1000 MSE5.282576e-09;3.824018e-06 noReinitRandom v_thresh0.9
--- 030701e以前の実行例 ---
(1)時系列
can2
0                       #0:timeseries,1:chaos prepare_data() in my_function.c
20			#channels                 
./data/mackey-glass.dat	#training file            
2001			#number of training data get_data_parms in my_function.c 
1			#0:online, 1:batch        init_net()      in my_plinn.c
1000			#iterations to execute    
100			#display                  
100			#n_cells storing vectors          
20			#n_compare                
0.5		  #v_thresh                 
10			#v_ratio
0.2			#width   window width             
sr			#show training data show_data_parms(train);     
n			#no                       
sn			#show network params      
sb			#show batch params        
ex			#execute 
after030701e>  1000 MSE7.481811e-09;9.824534e-06(width=0.3)
after030701e>  1000 MSE1.320137e-08;8.406145e-07 (width=0.1)
after030701e > 1000 MSE1.009213e-08;5.891452e-07(predのMSEを尊重?width=0.2)
after030629m > 1000 MSE6.783600e-09;7.154643e-06 noReinitRandom v_thresh0.5
after030629m > 1000 MSE6.727869e-09;2.394590e-06 noReinitRandom v_thresh0.9***
before030629m> 1000 MSE5.282576e-09;3.824018e-06 noReinitRandom v_thresh0.9

--- 030701e以前の実行例 ---
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
100                       #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
0.5                         #v_thresh
10                       #v_ratio
0.2                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute
Cf.           SVR MSE1.92884e-05 
遂次CAN2 f07 LM05 MSE4.987910e-05
after030701e> 100 MSE6.853463e-05
after030629m> 100 MSE6.576219e-05 noReinitRandom v_thresh0.5 r_ratio2.0 0.02(1/t-1/T)
after030629m> 100 MSE7.141649e-05 noReinitRandom v_thresh0.5 r_ratio2.0
after030629m> 100 MSE6.893930e-05 noReinitRandom v_thresh0.5 r_ratio10
after030629m> 100 MSE7.170729e-05   ReinitRandom v_thresh0.9
after030629m> 100 MSE6.988329e-05 noReinitRandom v_thresh0.9
before030629m>100 MSE6.402973e-05 noReinitRandom v_thresh0.9
→→→→→→→
->07train5e4B5.dat
batchCAN2 >>after030701e>    100 MSE6.878440e-04
onlineCAN2>>              500000 MSE:1.060333e-03
f07 LM05 MSE012:1.060333e-03,1.330766e-06,4.390513e-03 MaxAbs0.38677 MeanAbs0.00761 Noise0.010 N500 AV1 b5
←←←←←←←
->07train5e4B4.dat
batchCAN2 >>after030701e> 100 MSE5.437833e-05
onlineCAN2>> f07 LM05 MSE012:3.784548e-05,4.633074e-08,2.903709e-02MaxAbs0.05917 MeanAbs0.00204 Noise0.010 N500 AV1 b4
mysvm>  1.79312e-05


030701e
(1)my_function.c で
   n1=bidata->m[i]+(n_channels+1.-bidata->m[i])*
      (1./GlobalTime-1./GlobalTimeMax); 
   を導入
030629e
(1) modify_w_batchで遠ざける処理を導入。
(2) modify_w_batchでerr_iの正規化処理を導入。
030629m
(1) modify_w_batch での荷重修正を一括して行うようにした。
(2) ReinitRandomのところを少しかえた。
030628e
(1)v_iは相対値v_i/v_maxとした→v_threshは0〜1の範囲にする。
(2)store_vector_batch (in my_plinn.c) のy_m の計算が間違ってた。
(3)store_vector_batch (in my_plinn.c) のソートが逆だった。
(4)init_batch_ivector (in my_function.c)をちょっと変えた。
(5)sigma2_hatの計算方法を変えた。
(6)net->ymin,ymaxを導入→calc_outputを変えた。
(6)net->xmin,xmaxを導入→modify_w_batchを変えた。
time can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
100                       #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
0.9                         #v_thresh
10                       #v_ratio
0.2                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
> 100 MSE6.402973e-05 noReinitRandom

time can2
0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch        init_net()      in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
0.9		  #v_thresh                 
10			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute 
qu
> 1000 MSE5.282576e-09;3.824018e-06 noReinitRandom

> 1000 MSE6.596191e-09;1.085559e-06
> 1000 MSE5.197762e-09;1.649058e-05
> 1000 MSE6.546861e-09;4.543019e-06

030628
(1)../can2b_030628mはpretty good .
(2)wの次元をn_channels にした。→../can2b_030628n 結果が違うのはなぜ????
030627
(1) 組み込み関数rand()を使うと、異なる計算機で異なる結果がでる可能性が
あるので myrandom()も導入した。ただしLinuxなら同じ結果になるようだ。
./share/random.h の #define MYRANDOM を生かして(殺して)
  make clean
  make
を行うこと。

030625e  (sh backup.sh ../can2b_030625e)
(1) time-series
time can2
0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch        init_net()      in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
0.9		  #v_thresh                 
10			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute 
qu
> 1000 MSE6.546861e-09;4.543019e-06

(2) function approximation
time can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
100                        #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
10                         #v_thresh
2                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
qu          
> 100 MSE3.772715e-05; funciton no.07
> 100 MSE1.651665e-02; function no.02
030625
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/02train2e3.dat     #training file
./data/02test.dat         #prediction file
1                         #0:online, 1:batch
100                        #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
10                         #v_thresh
2                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
> 100 MSE2.33e-02<<
> 100 MSE2.35e-02 <<.v=n0_ivectors
> 100 MSE2.33e-02<<.v=n_ivectors
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train5e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
100                        #i_times # iterations to execute
100                       #d_times #display
500                       #n_cells #storing vectors 
6                         #n_compare 
10                         #v_thresh
2                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 
> 100 MSE6.84e-05;4.55e-01 <<n2=n1*2-n0&& use bidata->m0 myrandom
>  90 MSE6.75e-05;4.55e-01<<n2=n1*2-n0&& use bidata->m0
> 100 MSE6.76e-05;4.55e-01 
can2
 0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch        init_net()      in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
1000.0			  #v_thresh                 
1000.0			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute 
> 1000 MSE6.21e-09;5.30e-05 <<n2=n1*2-n0&& use bidata->m0
> 1000 MSE6.80e-09;2.98e-05 <<n2=n1-n0
> 1000 MSE7.56e-09;2.58e-05 <<n2=n1*2-n0
030624
(1) new modify_w_batch
can2
 0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch        init_net()      in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
1000.0			  #v_thresh                 
1000.0			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute 
!!>1000 MSE6.52e-09;8.71e-06
     <<if(GlobalTime<=2) n=(n_channels+1)+10; in my_function.c

!!>1000MSE5.44e-09;1.25e-05
     <<alphasum=0.9/(GlobalTime*50+1);if(alphasum<1e-5)alphasum=1e-5;
     <<after modified calc_output and
     <<n=(n_channels+1)+50./(GlobalTime+1);//kuro: in my_function.c
!!> 1000 MSE6.62e-09;8.22e-06<<< if(alphasum<1e-5) alphasum=1e-5;//
!!> 1000 MSE6.62e-09;8.22e-06<<< if(alphasum<1e-6) alphasum=1e-6;//
!!> 1000 MSE1.62e-08;8.69e-06<<< if(alphasum<1e-4) alphasum=1e-4;
can2
 0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch        init_net()      in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
20.0			  #v_thresh                 
1000.0			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute    
030623
(1)for time series
can2
0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch      init_net()  in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
20.0			  #v_thresh                 
100.0			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute    
#v_ratio5.0  > 1000 MSE1.23e-08;1.15e-05 c -1 α(min 59 NG0) T_RI0.0e+00 tau_E8.0e+04
#v_ratio100.0> 1000 MSE8.28e-09;7.67e-05 c -1 α(min 81 NG0) T_RI0.0e+00 tau_E8.0e+04
#can2_20030611>1000 MSE1.23e-08;1.15e-05 c-1,α(min59, NG0),T_RI0.0e+00,tau_E8.0e+04
> 960 MSE6.30e-09;3.61e-06 c -1 α(min 82 NG0) T_RI0.0e+00 tau_E8.0e+04

(2)function approximation
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train1e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
10                        #i_times # iterations to execute
100                       #d_times #display
100                       #n_cells #storing vectors 
6                         #n_compare 
5                         #v_thresh
1000.0                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 

can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/02train2e3.dat     #training file
./data/02test.dat         #prediction file
1                         #0:online, 1:batch
1                        #i_times # iterations to execute
100                       #d_times #display
4                       #n_cells #storing vectors 
6                         #n_compare 
5                         #v_thresh
2.0                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute    

030622
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train1e4.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
10                        #i_times # iterations to execute
100                       #d_times #display
100                       #n_cells #storing vectors 
6                         #n_compare 
5                         #v_thresh
1000.0                       #v_ratio
0.1                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute 

can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/02train2e3.dat     #training file
./data/02test.dat         #prediction file
1                         #0:online, 1:batch
50                        #i_times # iterations to execute
100                       #d_times #display
4                       #n_cells #storing vectors 
6                         #n_compare 
5                         #v_thresh
2.0                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute                  

030620
(2)for function approximation
can2
1                         #0:timeseries,1:chaos
2                         #channels
./data/07train2e3.dat     #training file
./data/07test.dat         #prediction file
1                         #0:online, 1:batch
50                        #i_times # iterations to execute
100                       #d_times #display
100                       #n_cells #storing vectors 
6                         #n_compare 
5                         #v_thresh
2.0                       #v_ratio
0.8                       #width   #window width
sr                        #show training data
n                         #no
sn                        #show network params
sb                        #show batch params
ex                        #execute                  

(1)for time series
can2
0                         #0:timeseries,1:chaos     prepare_data() in my_function.c
20			  #channels                 
./data/mackey-glass.dat	  #training file            
2001			  #number of training data  get_data_parms()in my_function.c 
1			  #0:online, 1:batch        init_net()      in my_plinn.c   
1000			  #iterations to execute    
100			  #display                  
100			  #n_cells storing vectors          
20			  #n_compare                
20.0			  #v_thresh                 
5.0			  #v_ratio
0.2			  #width   window width             
sr			  #show training data show_data_parms(train);     
n			  #no                       
sn			  #show network params      
sb			  #show batch params        
ex			  #execute                  

--- test_batch.dat
#(1) get_function_id(&fid, fname);                                                    in my_function.c
1000                      # fid 
./chaos/mackey-glass.dat  # data file name
#(2) init_time_data(fid, fname);                                                      in my_function.c for chaos?
#(3) get_data_parms(&n_channels, &train_steps, &pred_steps, total_steps);             in my_function.c
2001  #n_train
20    #n_channels 
#(4) train =init_data(tdata->x, TRAIN, fid, n_channels, train_steps, total_steps);    in my_function.c
#(5) test  =init_data(tdata->x, TEST, fid, n_channels, train_steps, total_steps);    in my_function.c
#(6) pred  =init_data(tdata->x, PRED, fid, n_channels, train_steps,total_steps);     in my_function.c
#(7) remove_time_data(tdata);                                                         in my_function.c
#(8) net = init_net(&mode, n_channels);                                               in my_plinn.c
1        #Learning Mode 0:online,1:batch
1009     #Iteration Times?
100      #Display Times In Learning?
100      #Number Of Storing Vectors?
20       #Number Of Compare Cells?
20.0     #Value Threshold?
5.0      #Value Ratio? 
0.2      #Window Width? 
#(9) show_data_parms(train);                                                          in my_function.c
sr           
n
#(10) show_net_parms(net);                                                            in my_plinn.c
sn
#(11) show_batch_data_parms(bdata);                                                   in none
sb
#(12) exec_sim(net, train, aprx, test, pred);                                         in sim.c
ex
qu

-----------
Subject: Re: needs data
From: Takamasa UENO <ueno@terasu.cntl.kyutech.ac.jp>
To: S.Kurogi <kuro@cntl.kyutech.ac.jp>
Cc: sawa@terasu.cntl.kyutech.ac.jp
Date: Wed, 18 Jun 2003 15:35:06 +0900
X-Mailer: Sylpheed version 0.8.11 (GTK+ 1.2.10; i386-debian-linux-gnu)
Organization: Kyushu Inst. of Tech.

上野です．

On Tue, 17 Jun 2003 16:33:28 +0900
S.Kurogi <kuro@cntl.kyutech.ac.jp> wrote:

> 沢さんと上野君に以下のデータをお願いします。
> 

  SKIP,,,

> 
> （２）上野君
> 前からお願いしてますが、batchのCAN2のprogram：
> （ソースと使用例だけでいいです。readmeは特に要りません）
> 
> 以上、よろしくお願いします。



> 

ソースをここに用意して起きました．
http://terasu.cntl.kyutech.ac.jp/~ueno/study/

can_20030611.tar.bz2をダウンロードし，

$ tar jxfvp can_20030611.tar.bz2
$ cd can_20030611/
$ make
$ ./test_batch.sh

で，プログラムが実行されます．

各パラメータは ./test_batch.sh で調整するようになっているので
そちらを変更してください．
予測する時系列は今のところ，Mackey-Glassにしか対応していません．

また， ./test_online.sh でオンライン学習での時系列予測を行いますが，
こちらの方はあまりソースをいじっておらず，
まだ未完成ですのでご了承ください．

ソース自体もまだまだやっつけ仕事で書いてますので
読みにくいと思いますが，よろしくお願いいたします．


------------------------------------------------------------------------
上野貴雅 （Takamasa UENO）
九州工業大学 大学院工学研究科 機械知能工学専攻
修士課程２年 制御分野・黒木研究室
E-Mail： ueno@terasu.cntl.kyutech.ac.jp
------------------------------------------------------------------------
scp -r * kuro@terasu.cntl.kyutech.ac.jp:/home/kuro/public_html/sotu/2004/ueno/can2b
scp can2b.tgz kuro@terasu.cntl.kyutech.ac.jp:/home/kuro/public_html/sotu/2004/ueno/
